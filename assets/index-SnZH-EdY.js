var QB=Object.defineProperty;var XB=(e,t,n)=>t in e?QB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Kh=(e,t,n)=>(XB(e,typeof t!="symbol"?t+"":t,n),n);function $I(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var CI={exports:{}},qv={},RI={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=Symbol.for("react.element"),ZB=Symbol.for("react.portal"),e8=Symbol.for("react.fragment"),t8=Symbol.for("react.strict_mode"),n8=Symbol.for("react.profiler"),r8=Symbol.for("react.provider"),i8=Symbol.for("react.context"),o8=Symbol.for("react.forward_ref"),a8=Symbol.for("react.suspense"),s8=Symbol.for("react.memo"),l8=Symbol.for("react.lazy"),fO=Symbol.iterator;function u8(e){return e===null||typeof e!="object"?null:(e=fO&&e[fO]||e["@@iterator"],typeof e=="function"?e:null)}var kI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TI=Object.assign,AI={};function Fu(e,t,n){this.props=e,this.context=t,this.refs=AI,this.updater=n||kI}Fu.prototype.isReactComponent={};Fu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function II(){}II.prototype=Fu.prototype;function nx(e,t,n){this.props=e,this.context=t,this.refs=AI,this.updater=n||kI}var rx=nx.prototype=new II;rx.constructor=nx;TI(rx,Fu.prototype);rx.isPureReactComponent=!0;var dO=Array.isArray,DI=Object.prototype.hasOwnProperty,ix={current:null},MI={key:!0,ref:!0,__self:!0,__source:!0};function jI(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)DI.call(t,r)&&!MI.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Sd,type:e,key:o,ref:a,props:i,_owner:ix.current}}function c8(e,t){return{$$typeof:Sd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ox(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sd}function f8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hO=/\/+/g;function o0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?f8(""+e.key):t.toString(36)}function Vp(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Sd:case ZB:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+o0(a,0):r,dO(i)?(n="",e!=null&&(n=e.replace(hO,"$&/")+"/"),Vp(i,t,n,"",function(u){return u})):i!=null&&(ox(i)&&(i=c8(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(hO,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",dO(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+o0(o,s);a+=Vp(o,t,n,l,i)}else if(l=u8(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+o0(o,s++),a+=Vp(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Hh(e,t,n){if(e==null)return e;var r=[],i=0;return Vp(e,r,"","",function(o){return t.call(n,o,i++)}),r}function d8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tn={current:null},Wp={transition:null},h8={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:Wp,ReactCurrentOwner:ix};Te.Children={map:Hh,forEach:function(e,t,n){Hh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hh(e,function(){t++}),t},toArray:function(e){return Hh(e,function(t){return t})||[]},only:function(e){if(!ox(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=Fu;Te.Fragment=e8;Te.Profiler=n8;Te.PureComponent=nx;Te.StrictMode=t8;Te.Suspense=a8;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h8;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=TI({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=ix.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)DI.call(t,l)&&!MI.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Sd,type:e.type,key:i,ref:o,props:r,_owner:a}};Te.createContext=function(e){return e={$$typeof:i8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:r8,_context:e},e.Consumer=e};Te.createElement=jI;Te.createFactory=function(e){var t=jI.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:o8,render:e}};Te.isValidElement=ox;Te.lazy=function(e){return{$$typeof:l8,_payload:{_status:-1,_result:e},_init:d8}};Te.memo=function(e,t){return{$$typeof:s8,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Wp.transition;Wp.transition={};try{e()}finally{Wp.transition=t}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(e,t){return Tn.current.useCallback(e,t)};Te.useContext=function(e){return Tn.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Tn.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Tn.current.useEffect(e,t)};Te.useId=function(){return Tn.current.useId()};Te.useImperativeHandle=function(e,t,n){return Tn.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return Tn.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Tn.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Tn.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return Tn.current.useReducer(e,t,n)};Te.useRef=function(e){return Tn.current.useRef(e)};Te.useState=function(e){return Tn.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return Tn.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return Tn.current.useTransition()};Te.version="18.2.0";RI.exports=Te;var p=RI.exports;const G=_d(p),ax=$I({__proto__:null,default:G},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p8=p,m8=Symbol.for("react.element"),v8=Symbol.for("react.fragment"),g8=Object.prototype.hasOwnProperty,y8=p8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b8={key:!0,ref:!0,__self:!0,__source:!0};function NI(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)g8.call(t,r)&&!b8.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:m8,type:e,key:o,ref:a,props:i,_owner:y8.current}}qv.Fragment=v8;qv.jsx=NI;qv.jsxs=NI;CI.exports=qv;var x=CI.exports,n1={},LI={exports:{}},fr={},FI={exports:{}},BI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,R){var j=A.length;A.push(R);e:for(;0<j;){var U=j-1>>>1,z=A[U];if(0<i(z,R))A[U]=R,A[j]=z,j=U;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var R=A[0],j=A.pop();if(j!==R){A[0]=j;e:for(var U=0,z=A.length,K=z>>>1;U<K;){var J=2*(U+1)-1,Ce=A[J],q=J+1,Y=A[q];if(0>i(Ce,j))q<z&&0>i(Y,Ce)?(A[U]=Y,A[q]=j,U=q):(A[U]=Ce,A[J]=j,U=J);else if(q<z&&0>i(Y,j))A[U]=Y,A[q]=j,U=q;else break e}}return R}function i(A,R){var j=A.sortIndex-R.sortIndex;return j!==0?j:A.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,v=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=A)r(u),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(u)}}function _(A){if(m=!1,w(A),!v)if(n(l)!==null)v=!0,k(S);else{var R=n(u);R!==null&&F(_,R.startTime-A)}}function S(A,R){v=!1,m&&(m=!1,g(O),O=-1),h=!0;var j=d;try{for(w(R),f=n(l);f!==null&&(!(f.expirationTime>R)||A&&!N());){var U=f.callback;if(typeof U=="function"){f.callback=null,d=f.priorityLevel;var z=U(f.expirationTime<=R);R=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),w(R)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var J=n(u);J!==null&&F(_,J.startTime-R),K=!1}return K}finally{f=null,d=j,h=!1}}var E=!1,P=null,O=-1,C=5,I=-1;function N(){return!(e.unstable_now()-I<C)}function M(){if(P!==null){var A=e.unstable_now();I=A;var R=!0;try{R=P(!0,A)}finally{R?V():(E=!1,P=null)}}else E=!1}var V;if(typeof y=="function")V=function(){y(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=M,V=function(){$.postMessage(null)}}else V=function(){b(M,0)};function k(A){P=A,E||(E=!0,V())}function F(A,R){O=b(function(){A(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,k(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var j=d;d=R;try{return A()}finally{d=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,R){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var j=d;d=A;try{return R()}finally{d=j}},e.unstable_scheduleCallback=function(A,R,j){var U=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?U+j:U):j=U,A){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=j+z,A={id:c++,callback:R,priorityLevel:A,startTime:j,expirationTime:z,sortIndex:-1},j>U?(A.sortIndex=j,t(u,A),n(l)===null&&A===n(u)&&(m?(g(O),O=-1):m=!0,F(_,j-U))):(A.sortIndex=z,t(l,A),v||h||(v=!0,k(S))),A},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(A){var R=d;return function(){var j=d;d=R;try{return A.apply(this,arguments)}finally{d=j}}}})(BI);FI.exports=BI;var w8=FI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI=p,or=w8;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VI=new Set,Of={};function Bs(e,t){lu(e,t),lu(e+"Capture",t)}function lu(e,t){for(Of[e]=t,e=0;e<t.length;e++)VI.add(t[e])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r1=Object.prototype.hasOwnProperty,_8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pO={},mO={};function S8(e){return r1.call(mO,e)?!0:r1.call(pO,e)?!1:_8.test(e)?mO[e]=!0:(pO[e]=!0,!1)}function x8(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E8(e,t,n,r){if(t===null||typeof t>"u"||x8(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function An(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sn[e]=new An(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sn[t]=new An(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sn[e]=new An(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sn[e]=new An(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sn[e]=new An(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sn[e]=new An(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sn[e]=new An(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sn[e]=new An(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sn[e]=new An(e,5,!1,e.toLowerCase(),null,!1,!1)});var sx=/[\-:]([a-z])/g;function lx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sx,lx);sn[t]=new An(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sx,lx);sn[t]=new An(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sx,lx);sn[t]=new An(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sn[e]=new An(e,1,!1,e.toLowerCase(),null,!1,!1)});sn.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sn[e]=new An(e,1,!1,e.toLowerCase(),null,!0,!0)});function ux(e,t,n,r){var i=sn.hasOwnProperty(t)?sn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E8(t,n,i,r)&&(n=null),r||i===null?S8(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var po=UI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qh=Symbol.for("react.element"),Ol=Symbol.for("react.portal"),$l=Symbol.for("react.fragment"),cx=Symbol.for("react.strict_mode"),i1=Symbol.for("react.profiler"),WI=Symbol.for("react.provider"),zI=Symbol.for("react.context"),fx=Symbol.for("react.forward_ref"),o1=Symbol.for("react.suspense"),a1=Symbol.for("react.suspense_list"),dx=Symbol.for("react.memo"),To=Symbol.for("react.lazy"),KI=Symbol.for("react.offscreen"),vO=Symbol.iterator;function mc(e){return e===null||typeof e!="object"?null:(e=vO&&e[vO]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,a0;function Fc(e){if(a0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);a0=t&&t[1]||""}return`
`+a0+e}var s0=!1;function l0(e,t){if(!e||s0)return"";s0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{s0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fc(e):""}function P8(e){switch(e.tag){case 5:return Fc(e.type);case 16:return Fc("Lazy");case 13:return Fc("Suspense");case 19:return Fc("SuspenseList");case 0:case 2:case 15:return e=l0(e.type,!1),e;case 11:return e=l0(e.type.render,!1),e;case 1:return e=l0(e.type,!0),e;default:return""}}function s1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $l:return"Fragment";case Ol:return"Portal";case i1:return"Profiler";case cx:return"StrictMode";case o1:return"Suspense";case a1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zI:return(e.displayName||"Context")+".Consumer";case WI:return(e._context.displayName||"Context")+".Provider";case fx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dx:return t=e.displayName||null,t!==null?t:s1(e.type)||"Memo";case To:t=e._payload,e=e._init;try{return s1(e(t))}catch{}}return null}function O8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s1(t);case 8:return t===cx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ia(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $8(e){var t=HI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gh(e){e._valueTracker||(e._valueTracker=$8(e))}function qI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=HI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function l1(e,t){var n=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gO(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ia(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GI(e,t){t=t.checked,t!=null&&ux(e,"checked",t,!1)}function u1(e,t){GI(e,t);var n=ia(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?c1(e,t.type,n):t.hasOwnProperty("defaultValue")&&c1(e,t.type,ia(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yO(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function c1(e,t,n){(t!=="number"||Pm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bc=Array.isArray;function ql(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ia(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function f1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bO(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Bc(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ia(n)}}function YI(e,t){var n=ia(t.value),r=ia(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function QI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?QI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yh,XI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yh=Yh||document.createElement("div"),Yh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $f(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C8=["Webkit","ms","Moz","O"];Object.keys(Hc).forEach(function(e){C8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hc[t]=Hc[e]})});function JI(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hc.hasOwnProperty(e)&&Hc[e]?(""+t).trim():t+"px"}function ZI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JI(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var R8=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h1(e,t){if(t){if(R8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function p1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m1=null;function hx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v1=null,Gl=null,Yl=null;function _O(e){if(e=Pd(e)){if(typeof v1!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Jv(t),v1(e.stateNode,e.type,t))}}function eD(e){Gl?Yl?Yl.push(e):Yl=[e]:Gl=e}function tD(){if(Gl){var e=Gl,t=Yl;if(Yl=Gl=null,_O(e),t)for(e=0;e<t.length;e++)_O(t[e])}}function nD(e,t){return e(t)}function rD(){}var u0=!1;function iD(e,t,n){if(u0)return e(t,n);u0=!0;try{return nD(e,t,n)}finally{u0=!1,(Gl!==null||Yl!==null)&&(rD(),tD())}}function Cf(e,t){var n=e.stateNode;if(n===null)return null;var r=Jv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var g1=!1;if(Qi)try{var vc={};Object.defineProperty(vc,"passive",{get:function(){g1=!0}}),window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{g1=!1}function k8(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var qc=!1,Om=null,$m=!1,y1=null,T8={onError:function(e){qc=!0,Om=e}};function A8(e,t,n,r,i,o,a,s,l){qc=!1,Om=null,k8.apply(T8,arguments)}function I8(e,t,n,r,i,o,a,s,l){if(A8.apply(this,arguments),qc){if(qc){var u=Om;qc=!1,Om=null}else throw Error(H(198));$m||($m=!0,y1=u)}}function Us(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function SO(e){if(Us(e)!==e)throw Error(H(188))}function D8(e){var t=e.alternate;if(!t){if(t=Us(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return SO(i),e;if(o===r)return SO(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function aD(e){return e=D8(e),e!==null?sD(e):null}function sD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sD(e);if(t!==null)return t;e=e.sibling}return null}var lD=or.unstable_scheduleCallback,xO=or.unstable_cancelCallback,M8=or.unstable_shouldYield,j8=or.unstable_requestPaint,Et=or.unstable_now,N8=or.unstable_getCurrentPriorityLevel,px=or.unstable_ImmediatePriority,uD=or.unstable_UserBlockingPriority,Cm=or.unstable_NormalPriority,L8=or.unstable_LowPriority,cD=or.unstable_IdlePriority,Gv=null,pi=null;function F8(e){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(Gv,e,void 0,(e.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:V8,B8=Math.log,U8=Math.LN2;function V8(e){return e>>>=0,e===0?32:31-(B8(e)/U8|0)|0}var Qh=64,Xh=4194304;function Uc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Uc(s):(o&=a,o!==0&&(r=Uc(o)))}else a=n&~i,a!==0?r=Uc(a):o!==0&&(r=Uc(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Br(t),i=1<<n,r|=e[n],t&=~i;return r}function W8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Br(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=W8(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function b1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fD(){var e=Qh;return Qh<<=1,!(Qh&4194240)&&(Qh=64),e}function c0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Br(t),e[t]=n}function K8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Br(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function mx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Br(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var He=0;function dD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hD,vx,pD,mD,vD,w1=!1,Jh=[],Ko=null,Ho=null,qo=null,Rf=new Map,kf=new Map,No=[],H8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EO(e,t){switch(e){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":Rf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(t.pointerId)}}function gc(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Pd(t),t!==null&&vx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function q8(e,t,n,r,i){switch(t){case"focusin":return Ko=gc(Ko,e,t,n,r,i),!0;case"dragenter":return Ho=gc(Ho,e,t,n,r,i),!0;case"mouseover":return qo=gc(qo,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rf.set(o,gc(Rf.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kf.set(o,gc(kf.get(o)||null,e,t,n,r,i)),!0}return!1}function gD(e){var t=Qa(e.target);if(t!==null){var n=Us(t);if(n!==null){if(t=n.tag,t===13){if(t=oD(n),t!==null){e.blockedOn=t,vD(e.priority,function(){pD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);m1=r,n.target.dispatchEvent(r),m1=null}else return t=Pd(n),t!==null&&vx(t),e.blockedOn=n,!1;t.shift()}return!0}function PO(e,t,n){zp(e)&&n.delete(t)}function G8(){w1=!1,Ko!==null&&zp(Ko)&&(Ko=null),Ho!==null&&zp(Ho)&&(Ho=null),qo!==null&&zp(qo)&&(qo=null),Rf.forEach(PO),kf.forEach(PO)}function yc(e,t){e.blockedOn===t&&(e.blockedOn=null,w1||(w1=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,G8)))}function Tf(e){function t(i){return yc(i,e)}if(0<Jh.length){yc(Jh[0],e);for(var n=1;n<Jh.length;n++){var r=Jh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ko!==null&&yc(Ko,e),Ho!==null&&yc(Ho,e),qo!==null&&yc(qo,e),Rf.forEach(t),kf.forEach(t),n=0;n<No.length;n++)r=No[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<No.length&&(n=No[0],n.blockedOn===null);)gD(n),n.blockedOn===null&&No.shift()}var Ql=po.ReactCurrentBatchConfig,km=!0;function Y8(e,t,n,r){var i=He,o=Ql.transition;Ql.transition=null;try{He=1,gx(e,t,n,r)}finally{He=i,Ql.transition=o}}function Q8(e,t,n,r){var i=He,o=Ql.transition;Ql.transition=null;try{He=4,gx(e,t,n,r)}finally{He=i,Ql.transition=o}}function gx(e,t,n,r){if(km){var i=_1(e,t,n,r);if(i===null)w0(e,t,r,Tm,n),EO(e,r);else if(q8(i,e,t,n,r))r.stopPropagation();else if(EO(e,r),t&4&&-1<H8.indexOf(e)){for(;i!==null;){var o=Pd(i);if(o!==null&&hD(o),o=_1(e,t,n,r),o===null&&w0(e,t,r,Tm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else w0(e,t,r,null,n)}}var Tm=null;function _1(e,t,n,r){if(Tm=null,e=hx(r),e=Qa(e),e!==null)if(t=Us(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tm=e,null}function yD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N8()){case px:return 1;case uD:return 4;case Cm:case L8:return 16;case cD:return 536870912;default:return 16}default:return 16}}var Uo=null,yx=null,Kp=null;function bD(){if(Kp)return Kp;var e,t=yx,n=t.length,r,i="value"in Uo?Uo.value:Uo.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Kp=i.slice(e,1<r?1-r:void 0)}function Hp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zh(){return!0}function OO(){return!1}function dr(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zh:OO,this.isPropagationStopped=OO,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zh)},persist:function(){},isPersistent:Zh}),t}var Bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bx=dr(Bu),Ed=gt({},Bu,{view:0,detail:0}),X8=dr(Ed),f0,d0,bc,Yv=gt({},Ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bc&&(bc&&e.type==="mousemove"?(f0=e.screenX-bc.screenX,d0=e.screenY-bc.screenY):d0=f0=0,bc=e),f0)},movementY:function(e){return"movementY"in e?e.movementY:d0}}),$O=dr(Yv),J8=gt({},Yv,{dataTransfer:0}),Z8=dr(J8),e7=gt({},Ed,{relatedTarget:0}),h0=dr(e7),t7=gt({},Bu,{animationName:0,elapsedTime:0,pseudoElement:0}),n7=dr(t7),r7=gt({},Bu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),i7=dr(r7),o7=gt({},Bu,{data:0}),CO=dr(o7),a7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=l7[e])?!!t[e]:!1}function wx(){return u7}var c7=gt({},Ed,{key:function(e){if(e.key){var t=a7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wx,charCode:function(e){return e.type==="keypress"?Hp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f7=dr(c7),d7=gt({},Yv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RO=dr(d7),h7=gt({},Ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wx}),p7=dr(h7),m7=gt({},Bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),v7=dr(m7),g7=gt({},Yv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),y7=dr(g7),b7=[9,13,27,32],_x=Qi&&"CompositionEvent"in window,Gc=null;Qi&&"documentMode"in document&&(Gc=document.documentMode);var w7=Qi&&"TextEvent"in window&&!Gc,wD=Qi&&(!_x||Gc&&8<Gc&&11>=Gc),kO=" ",TO=!1;function _D(e,t){switch(e){case"keyup":return b7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cl=!1;function _7(e,t){switch(e){case"compositionend":return SD(t);case"keypress":return t.which!==32?null:(TO=!0,kO);case"textInput":return e=t.data,e===kO&&TO?null:e;default:return null}}function S7(e,t){if(Cl)return e==="compositionend"||!_x&&_D(e,t)?(e=bD(),Kp=yx=Uo=null,Cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wD&&t.locale!=="ko"?null:t.data;default:return null}}var x7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x7[e.type]:t==="textarea"}function xD(e,t,n,r){eD(r),t=Am(t,"onChange"),0<t.length&&(n=new bx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yc=null,Af=null;function E7(e){DD(e,0)}function Qv(e){var t=Tl(e);if(qI(t))return e}function P7(e,t){if(e==="change")return t}var ED=!1;if(Qi){var p0;if(Qi){var m0="oninput"in document;if(!m0){var IO=document.createElement("div");IO.setAttribute("oninput","return;"),m0=typeof IO.oninput=="function"}p0=m0}else p0=!1;ED=p0&&(!document.documentMode||9<document.documentMode)}function DO(){Yc&&(Yc.detachEvent("onpropertychange",PD),Af=Yc=null)}function PD(e){if(e.propertyName==="value"&&Qv(Af)){var t=[];xD(t,Af,e,hx(e)),iD(E7,t)}}function O7(e,t,n){e==="focusin"?(DO(),Yc=t,Af=n,Yc.attachEvent("onpropertychange",PD)):e==="focusout"&&DO()}function $7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qv(Af)}function C7(e,t){if(e==="click")return Qv(t)}function R7(e,t){if(e==="input"||e==="change")return Qv(t)}function k7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zr=typeof Object.is=="function"?Object.is:k7;function If(e,t){if(zr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!r1.call(t,i)||!zr(e[i],t[i]))return!1}return!0}function MO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jO(e,t){var n=MO(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=MO(n)}}function OD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?OD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $D(){for(var e=window,t=Pm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pm(e.document)}return t}function Sx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T7(e){var t=$D(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&OD(n.ownerDocument.documentElement,n)){if(r!==null&&Sx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=jO(n,o);var a=jO(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var A7=Qi&&"documentMode"in document&&11>=document.documentMode,Rl=null,S1=null,Qc=null,x1=!1;function NO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;x1||Rl==null||Rl!==Pm(r)||(r=Rl,"selectionStart"in r&&Sx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qc&&If(Qc,r)||(Qc=r,r=Am(S1,"onSelect"),0<r.length&&(t=new bx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rl)))}function ep(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kl={animationend:ep("Animation","AnimationEnd"),animationiteration:ep("Animation","AnimationIteration"),animationstart:ep("Animation","AnimationStart"),transitionend:ep("Transition","TransitionEnd")},v0={},CD={};Qi&&(CD=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function Xv(e){if(v0[e])return v0[e];if(!kl[e])return e;var t=kl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in CD)return v0[e]=t[n];return e}var RD=Xv("animationend"),kD=Xv("animationiteration"),TD=Xv("animationstart"),AD=Xv("transitionend"),ID=new Map,LO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(e,t){ID.set(e,t),Bs(t,[e])}for(var g0=0;g0<LO.length;g0++){var y0=LO[g0],I7=y0.toLowerCase(),D7=y0[0].toUpperCase()+y0.slice(1);Sa(I7,"on"+D7)}Sa(RD,"onAnimationEnd");Sa(kD,"onAnimationIteration");Sa(TD,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(AD,"onTransitionEnd");lu("onMouseEnter",["mouseout","mouseover"]);lu("onMouseLeave",["mouseout","mouseover"]);lu("onPointerEnter",["pointerout","pointerover"]);lu("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vc));function FO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,I8(r,t,void 0,e),e.currentTarget=null}function DD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;FO(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;FO(i,s,u),o=l}}}if($m)throw e=y1,$m=!1,y1=null,e}function rt(e,t){var n=t[C1];n===void 0&&(n=t[C1]=new Set);var r=e+"__bubble";n.has(r)||(MD(t,e,2,!1),n.add(r))}function b0(e,t,n){var r=0;t&&(r|=4),MD(n,e,r,t)}var tp="_reactListening"+Math.random().toString(36).slice(2);function Df(e){if(!e[tp]){e[tp]=!0,VI.forEach(function(n){n!=="selectionchange"&&(M7.has(n)||b0(n,!1,e),b0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tp]||(t[tp]=!0,b0("selectionchange",!1,t))}}function MD(e,t,n,r){switch(yD(t)){case 1:var i=Y8;break;case 4:i=Q8;break;default:i=gx}n=i.bind(null,t,n,e),i=void 0,!g1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function w0(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Qa(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}iD(function(){var u=o,c=hx(n),f=[];e:{var d=ID.get(e);if(d!==void 0){var h=bx,v=e;switch(e){case"keypress":if(Hp(n)===0)break e;case"keydown":case"keyup":h=f7;break;case"focusin":v="focus",h=h0;break;case"focusout":v="blur",h=h0;break;case"beforeblur":case"afterblur":h=h0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$O;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Z8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=p7;break;case RD:case kD:case TD:h=n7;break;case AD:h=v7;break;case"scroll":h=X8;break;case"wheel":h=y7;break;case"copy":case"cut":case"paste":h=i7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=RO}var m=(t&4)!==0,b=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,g!==null&&(_=Cf(y,g),_!=null&&m.push(Mf(y,_,w)))),b)break;y=y.return}0<m.length&&(d=new h(d,v,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==m1&&(v=n.relatedTarget||n.fromElement)&&(Qa(v)||v[Xi]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?Qa(v):null,v!==null&&(b=Us(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(m=$O,_="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=RO,_="onPointerLeave",g="onPointerEnter",y="pointer"),b=h==null?d:Tl(h),w=v==null?d:Tl(v),d=new m(_,y+"leave",h,n,c),d.target=b,d.relatedTarget=w,_=null,Qa(c)===u&&(m=new m(g,y+"enter",v,n,c),m.target=w,m.relatedTarget=b,_=m),b=_,h&&v)t:{for(m=h,g=v,y=0,w=m;w;w=dl(w))y++;for(w=0,_=g;_;_=dl(_))w++;for(;0<y-w;)m=dl(m),y--;for(;0<w-y;)g=dl(g),w--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=dl(m),g=dl(g)}m=null}else m=null;h!==null&&BO(f,d,h,m,!1),v!==null&&b!==null&&BO(f,b,v,m,!0)}}e:{if(d=u?Tl(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=P7;else if(AO(d))if(ED)S=R7;else{S=$7;var E=O7}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=C7);if(S&&(S=S(e,u))){xD(f,S,n,c);break e}E&&E(e,d,u),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&c1(d,"number",d.value)}switch(E=u?Tl(u):window,e){case"focusin":(AO(E)||E.contentEditable==="true")&&(Rl=E,S1=u,Qc=null);break;case"focusout":Qc=S1=Rl=null;break;case"mousedown":x1=!0;break;case"contextmenu":case"mouseup":case"dragend":x1=!1,NO(f,n,c);break;case"selectionchange":if(A7)break;case"keydown":case"keyup":NO(f,n,c)}var P;if(_x)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Cl?_D(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(wD&&n.locale!=="ko"&&(Cl||O!=="onCompositionStart"?O==="onCompositionEnd"&&Cl&&(P=bD()):(Uo=c,yx="value"in Uo?Uo.value:Uo.textContent,Cl=!0)),E=Am(u,O),0<E.length&&(O=new CO(O,e,null,n,c),f.push({event:O,listeners:E}),P?O.data=P:(P=SD(n),P!==null&&(O.data=P)))),(P=w7?_7(e,n):S7(e,n))&&(u=Am(u,"onBeforeInput"),0<u.length&&(c=new CO("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=P))}DD(f,t)})}function Mf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Am(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Cf(e,n),o!=null&&r.unshift(Mf(e,o,i)),o=Cf(e,t),o!=null&&r.push(Mf(e,o,i))),e=e.return}return r}function dl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function BO(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Cf(n,o),l!=null&&a.unshift(Mf(n,l,s))):i||(l=Cf(n,o),l!=null&&a.push(Mf(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var j7=/\r\n?/g,N7=/\u0000|\uFFFD/g;function UO(e){return(typeof e=="string"?e:""+e).replace(j7,`
`).replace(N7,"")}function np(e,t,n){if(t=UO(t),UO(e)!==t&&n)throw Error(H(425))}function Im(){}var E1=null,P1=null;function O1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $1=typeof setTimeout=="function"?setTimeout:void 0,L7=typeof clearTimeout=="function"?clearTimeout:void 0,VO=typeof Promise=="function"?Promise:void 0,F7=typeof queueMicrotask=="function"?queueMicrotask:typeof VO<"u"?function(e){return VO.resolve(null).then(e).catch(B7)}:$1;function B7(e){setTimeout(function(){throw e})}function _0(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Tf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tf(t)}function Go(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function WO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Uu=Math.random().toString(36).slice(2),ui="__reactFiber$"+Uu,jf="__reactProps$"+Uu,Xi="__reactContainer$"+Uu,C1="__reactEvents$"+Uu,U7="__reactListeners$"+Uu,V7="__reactHandles$"+Uu;function Qa(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xi]||n[ui]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=WO(e);e!==null;){if(n=e[ui])return n;e=WO(e)}return t}e=n,n=e.parentNode}return null}function Pd(e){return e=e[ui]||e[Xi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Jv(e){return e[jf]||null}var R1=[],Al=-1;function xa(e){return{current:e}}function lt(e){0>Al||(e.current=R1[Al],R1[Al]=null,Al--)}function et(e,t){Al++,R1[Al]=e.current,e.current=t}var oa={},wn=xa(oa),Vn=xa(!1),vs=oa;function uu(e,t){var n=e.type.contextTypes;if(!n)return oa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wn(e){return e=e.childContextTypes,e!=null}function Dm(){lt(Vn),lt(wn)}function zO(e,t,n){if(wn.current!==oa)throw Error(H(168));et(wn,t),et(Vn,n)}function jD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,O8(e)||"Unknown",i));return gt({},n,r)}function Mm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oa,vs=wn.current,et(wn,e),et(Vn,Vn.current),!0}function KO(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=jD(e,t,vs),r.__reactInternalMemoizedMergedChildContext=e,lt(Vn),lt(wn),et(wn,e)):lt(Vn),et(Vn,n)}var Ai=null,Zv=!1,S0=!1;function ND(e){Ai===null?Ai=[e]:Ai.push(e)}function W7(e){Zv=!0,ND(e)}function Ea(){if(!S0&&Ai!==null){S0=!0;var e=0,t=He;try{var n=Ai;for(He=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ai=null,Zv=!1}catch(i){throw Ai!==null&&(Ai=Ai.slice(e+1)),lD(px,Ea),i}finally{He=t,S0=!1}}return null}var Il=[],Dl=0,jm=null,Nm=0,_r=[],Sr=0,gs=null,Ni=1,Li="";function za(e,t){Il[Dl++]=Nm,Il[Dl++]=jm,jm=e,Nm=t}function LD(e,t,n){_r[Sr++]=Ni,_r[Sr++]=Li,_r[Sr++]=gs,gs=e;var r=Ni;e=Li;var i=32-Br(r)-1;r&=~(1<<i),n+=1;var o=32-Br(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ni=1<<32-Br(t)+i|n<<i|r,Li=o+e}else Ni=1<<o|n<<i|r,Li=e}function xx(e){e.return!==null&&(za(e,1),LD(e,1,0))}function Ex(e){for(;e===jm;)jm=Il[--Dl],Il[Dl]=null,Nm=Il[--Dl],Il[Dl]=null;for(;e===gs;)gs=_r[--Sr],_r[Sr]=null,Li=_r[--Sr],_r[Sr]=null,Ni=_r[--Sr],_r[Sr]=null}var rr=null,tr=null,dt=!1,Fr=null;function FD(e,t){var n=xr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function HO(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rr=e,tr=Go(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rr=e,tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gs!==null?{id:Ni,overflow:Li}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rr=e,tr=null,!0):!1;default:return!1}}function k1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function T1(e){if(dt){var t=tr;if(t){var n=t;if(!HO(e,t)){if(k1(e))throw Error(H(418));t=Go(n.nextSibling);var r=rr;t&&HO(e,t)?FD(r,n):(e.flags=e.flags&-4097|2,dt=!1,rr=e)}}else{if(k1(e))throw Error(H(418));e.flags=e.flags&-4097|2,dt=!1,rr=e}}}function qO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rr=e}function rp(e){if(e!==rr)return!1;if(!dt)return qO(e),dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!O1(e.type,e.memoizedProps)),t&&(t=tr)){if(k1(e))throw BD(),Error(H(418));for(;t;)FD(e,t),t=Go(t.nextSibling)}if(qO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tr=Go(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tr=null}}else tr=rr?Go(e.stateNode.nextSibling):null;return!0}function BD(){for(var e=tr;e;)e=Go(e.nextSibling)}function cu(){tr=rr=null,dt=!1}function Px(e){Fr===null?Fr=[e]:Fr.push(e)}var z7=po.ReactCurrentBatchConfig;function jr(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Lm=xa(null),Fm=null,Ml=null,Ox=null;function $x(){Ox=Ml=Fm=null}function Cx(e){var t=Lm.current;lt(Lm),e._currentValue=t}function A1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xl(e,t){Fm=e,Ox=Ml=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Un=!0),e.firstContext=null)}function Or(e){var t=e._currentValue;if(Ox!==e)if(e={context:e,memoizedValue:t,next:null},Ml===null){if(Fm===null)throw Error(H(308));Ml=e,Fm.dependencies={lanes:0,firstContext:e}}else Ml=Ml.next=e;return t}var Xa=null;function Rx(e){Xa===null?Xa=[e]:Xa.push(e)}function UD(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Rx(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ji(e,r)}function Ji(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ao=!1;function kx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ji(e,n)}return i=r.interleaved,i===null?(t.next=t,Rx(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ji(e,n)}function qp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mx(e,n)}}function GO(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bm(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,m=s;switch(d=t,h=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=gt({},f,d);break e;case 2:Ao=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);bs|=a,e.lanes=a,e.memoizedState=f}}function YO(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var WD=new UI.Component().refs;function I1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eg={isMounted:function(e){return(e=e._reactInternals)?Us(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rn(),i=Xo(e),o=Ui(r,i);o.payload=t,n!=null&&(o.callback=n),t=Yo(e,o,i),t!==null&&(Ur(t,e,i,r),qp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rn(),i=Xo(e),o=Ui(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Yo(e,o,i),t!==null&&(Ur(t,e,i,r),qp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rn(),r=Xo(e),i=Ui(n,r);i.tag=2,t!=null&&(i.callback=t),t=Yo(e,i,r),t!==null&&(Ur(t,e,r,n),qp(t,e,r))}};function QO(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!If(n,r)||!If(i,o):!0}function zD(e,t,n){var r=!1,i=oa,o=t.contextType;return typeof o=="object"&&o!==null?o=Or(o):(i=Wn(t)?vs:wn.current,r=t.contextTypes,o=(r=r!=null)?uu(e,i):oa),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function XO(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&eg.enqueueReplaceState(t,t.state,null)}function D1(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=WD,kx(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Or(o):(o=Wn(t)?vs:wn.current,i.context=uu(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(I1(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&eg.enqueueReplaceState(i,i.state,null),Bm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function wc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===WD&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function ip(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function JO(e){var t=e._init;return t(e._payload)}function KD(e){function t(g,y){if(e){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Jo(g,y),g.index=0,g.sibling=null,g}function o(g,y,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,y,w,_){return y===null||y.tag!==6?(y=R0(w,g.mode,_),y.return=g,y):(y=i(y,w),y.return=g,y)}function l(g,y,w,_){var S=w.type;return S===$l?c(g,y,w.props.children,_,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===To&&JO(S)===y.type)?(_=i(y,w.props),_.ref=wc(g,y,w),_.return=g,_):(_=Zp(w.type,w.key,w.props,null,g.mode,_),_.ref=wc(g,y,w),_.return=g,_)}function u(g,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=k0(w,g.mode,_),y.return=g,y):(y=i(y,w.children||[]),y.return=g,y)}function c(g,y,w,_,S){return y===null||y.tag!==7?(y=as(w,g.mode,_,S),y.return=g,y):(y=i(y,w),y.return=g,y)}function f(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=R0(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qh:return w=Zp(y.type,y.key,y.props,null,g.mode,w),w.ref=wc(g,null,y),w.return=g,w;case Ol:return y=k0(y,g.mode,w),y.return=g,y;case To:var _=y._init;return f(g,_(y._payload),w)}if(Bc(y)||mc(y))return y=as(y,g.mode,w,null),y.return=g,y;ip(g,y)}return null}function d(g,y,w,_){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(g,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qh:return w.key===S?l(g,y,w,_):null;case Ol:return w.key===S?u(g,y,w,_):null;case To:return S=w._init,d(g,y,S(w._payload),_)}if(Bc(w)||mc(w))return S!==null?null:c(g,y,w,_,null);ip(g,w)}return null}function h(g,y,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(w)||null,s(y,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qh:return g=g.get(_.key===null?w:_.key)||null,l(y,g,_,S);case Ol:return g=g.get(_.key===null?w:_.key)||null,u(y,g,_,S);case To:var E=_._init;return h(g,y,w,E(_._payload),S)}if(Bc(_)||mc(_))return g=g.get(w)||null,c(y,g,_,S,null);ip(y,_)}return null}function v(g,y,w,_){for(var S=null,E=null,P=y,O=y=0,C=null;P!==null&&O<w.length;O++){P.index>O?(C=P,P=null):C=P.sibling;var I=d(g,P,w[O],_);if(I===null){P===null&&(P=C);break}e&&P&&I.alternate===null&&t(g,P),y=o(I,y,O),E===null?S=I:E.sibling=I,E=I,P=C}if(O===w.length)return n(g,P),dt&&za(g,O),S;if(P===null){for(;O<w.length;O++)P=f(g,w[O],_),P!==null&&(y=o(P,y,O),E===null?S=P:E.sibling=P,E=P);return dt&&za(g,O),S}for(P=r(g,P);O<w.length;O++)C=h(P,g,O,w[O],_),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?O:C.key),y=o(C,y,O),E===null?S=C:E.sibling=C,E=C);return e&&P.forEach(function(N){return t(g,N)}),dt&&za(g,O),S}function m(g,y,w,_){var S=mc(w);if(typeof S!="function")throw Error(H(150));if(w=S.call(w),w==null)throw Error(H(151));for(var E=S=null,P=y,O=y=0,C=null,I=w.next();P!==null&&!I.done;O++,I=w.next()){P.index>O?(C=P,P=null):C=P.sibling;var N=d(g,P,I.value,_);if(N===null){P===null&&(P=C);break}e&&P&&N.alternate===null&&t(g,P),y=o(N,y,O),E===null?S=N:E.sibling=N,E=N,P=C}if(I.done)return n(g,P),dt&&za(g,O),S;if(P===null){for(;!I.done;O++,I=w.next())I=f(g,I.value,_),I!==null&&(y=o(I,y,O),E===null?S=I:E.sibling=I,E=I);return dt&&za(g,O),S}for(P=r(g,P);!I.done;O++,I=w.next())I=h(P,g,O,I.value,_),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?O:I.key),y=o(I,y,O),E===null?S=I:E.sibling=I,E=I);return e&&P.forEach(function(M){return t(g,M)}),dt&&za(g,O),S}function b(g,y,w,_){if(typeof w=="object"&&w!==null&&w.type===$l&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qh:e:{for(var S=w.key,E=y;E!==null;){if(E.key===S){if(S=w.type,S===$l){if(E.tag===7){n(g,E.sibling),y=i(E,w.props.children),y.return=g,g=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===To&&JO(S)===E.type){n(g,E.sibling),y=i(E,w.props),y.ref=wc(g,E,w),y.return=g,g=y;break e}n(g,E);break}else t(g,E);E=E.sibling}w.type===$l?(y=as(w.props.children,g.mode,_,w.key),y.return=g,g=y):(_=Zp(w.type,w.key,w.props,null,g.mode,_),_.ref=wc(g,y,w),_.return=g,g=_)}return a(g);case Ol:e:{for(E=w.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),y=i(y,w.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=k0(w,g.mode,_),y.return=g,g=y}return a(g);case To:return E=w._init,b(g,y,E(w._payload),_)}if(Bc(w))return v(g,y,w,_);if(mc(w))return m(g,y,w,_);ip(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,w),y.return=g,g=y):(n(g,y),y=R0(w,g.mode,_),y.return=g,g=y),a(g)):n(g,y)}return b}var fu=KD(!0),HD=KD(!1),Od={},mi=xa(Od),Nf=xa(Od),Lf=xa(Od);function Ja(e){if(e===Od)throw Error(H(174));return e}function Tx(e,t){switch(et(Lf,t),et(Nf,e),et(mi,Od),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:d1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=d1(t,e)}lt(mi),et(mi,t)}function du(){lt(mi),lt(Nf),lt(Lf)}function qD(e){Ja(Lf.current);var t=Ja(mi.current),n=d1(t,e.type);t!==n&&(et(Nf,e),et(mi,n))}function Ax(e){Nf.current===e&&(lt(mi),lt(Nf))}var pt=xa(0);function Um(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var x0=[];function Ix(){for(var e=0;e<x0.length;e++)x0[e]._workInProgressVersionPrimary=null;x0.length=0}var Gp=po.ReactCurrentDispatcher,E0=po.ReactCurrentBatchConfig,ys=0,vt=null,Nt=null,qt=null,Vm=!1,Xc=!1,Ff=0,K7=0;function ln(){throw Error(H(321))}function Dx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zr(e[n],t[n]))return!1;return!0}function Mx(e,t,n,r,i,o){if(ys=o,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gp.current=e===null||e.memoizedState===null?Y7:Q7,e=n(r,i),Xc){o=0;do{if(Xc=!1,Ff=0,25<=o)throw Error(H(301));o+=1,qt=Nt=null,t.updateQueue=null,Gp.current=X7,e=n(r,i)}while(Xc)}if(Gp.current=Wm,t=Nt!==null&&Nt.next!==null,ys=0,qt=Nt=vt=null,Vm=!1,t)throw Error(H(300));return e}function jx(){var e=Ff!==0;return Ff=0,e}function ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?vt.memoizedState=qt=e:qt=qt.next=e,qt}function $r(){if(Nt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var t=qt===null?vt.memoizedState:qt.next;if(t!==null)qt=t,Nt=e;else{if(e===null)throw Error(H(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},qt===null?vt.memoizedState=qt=e:qt=qt.next=e}return qt}function Bf(e,t){return typeof t=="function"?t(e):t}function P0(e){var t=$r(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ys&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,vt.lanes|=c,bs|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,zr(r,t.memoizedState)||(Un=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,vt.lanes|=o,bs|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function O0(e){var t=$r(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);zr(o,t.memoizedState)||(Un=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function GD(){}function YD(e,t){var n=vt,r=$r(),i=t(),o=!zr(r.memoizedState,i);if(o&&(r.memoizedState=i,Un=!0),r=r.queue,Nx(JD.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,Uf(9,XD.bind(null,n,r,i,t),void 0,null),Yt===null)throw Error(H(349));ys&30||QD(n,t,i)}return i}function QD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function XD(e,t,n,r){t.value=n,t.getSnapshot=r,ZD(t)&&eM(e)}function JD(e,t,n){return n(function(){ZD(t)&&eM(e)})}function ZD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zr(e,n)}catch{return!0}}function eM(e){var t=Ji(e,1);t!==null&&Ur(t,e,1,-1)}function ZO(e){var t=ai();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bf,lastRenderedState:e},t.queue=e,e=e.dispatch=G7.bind(null,vt,e),[t.memoizedState,e]}function Uf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tM(){return $r().memoizedState}function Yp(e,t,n,r){var i=ai();vt.flags|=e,i.memoizedState=Uf(1|t,n,void 0,r===void 0?null:r)}function tg(e,t,n,r){var i=$r();r=r===void 0?null:r;var o=void 0;if(Nt!==null){var a=Nt.memoizedState;if(o=a.destroy,r!==null&&Dx(r,a.deps)){i.memoizedState=Uf(t,n,o,r);return}}vt.flags|=e,i.memoizedState=Uf(1|t,n,o,r)}function e$(e,t){return Yp(8390656,8,e,t)}function Nx(e,t){return tg(2048,8,e,t)}function nM(e,t){return tg(4,2,e,t)}function rM(e,t){return tg(4,4,e,t)}function iM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oM(e,t,n){return n=n!=null?n.concat([e]):null,tg(4,4,iM.bind(null,t,e),n)}function Lx(){}function aM(e,t){var n=$r();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sM(e,t){var n=$r();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lM(e,t,n){return ys&21?(zr(n,t)||(n=fD(),vt.lanes|=n,bs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Un=!0),e.memoizedState=n)}function H7(e,t){var n=He;He=n!==0&&4>n?n:4,e(!0);var r=E0.transition;E0.transition={};try{e(!1),t()}finally{He=n,E0.transition=r}}function uM(){return $r().memoizedState}function q7(e,t,n){var r=Xo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cM(e))fM(t,n);else if(n=UD(e,t,n,r),n!==null){var i=Rn();Ur(n,e,r,i),dM(n,t,r)}}function G7(e,t,n){var r=Xo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cM(e))fM(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,zr(s,a)){var l=t.interleaved;l===null?(i.next=i,Rx(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=UD(e,t,i,r),n!==null&&(i=Rn(),Ur(n,e,r,i),dM(n,t,r))}}function cM(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function fM(e,t){Xc=Vm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mx(e,n)}}var Wm={readContext:Or,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},Y7={readContext:Or,useCallback:function(e,t){return ai().memoizedState=[e,t===void 0?null:t],e},useContext:Or,useEffect:e$,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yp(4194308,4,iM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yp(4,2,e,t)},useMemo:function(e,t){var n=ai();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ai();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=q7.bind(null,vt,e),[r.memoizedState,e]},useRef:function(e){var t=ai();return e={current:e},t.memoizedState=e},useState:ZO,useDebugValue:Lx,useDeferredValue:function(e){return ai().memoizedState=e},useTransition:function(){var e=ZO(!1),t=e[0];return e=H7.bind(null,e[1]),ai().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vt,i=ai();if(dt){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Yt===null)throw Error(H(349));ys&30||QD(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,e$(JD.bind(null,r,o,e),[e]),r.flags|=2048,Uf(9,XD.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ai(),t=Yt.identifierPrefix;if(dt){var n=Li,r=Ni;n=(r&~(1<<32-Br(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ff++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=K7++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q7={readContext:Or,useCallback:aM,useContext:Or,useEffect:Nx,useImperativeHandle:oM,useInsertionEffect:nM,useLayoutEffect:rM,useMemo:sM,useReducer:P0,useRef:tM,useState:function(){return P0(Bf)},useDebugValue:Lx,useDeferredValue:function(e){var t=$r();return lM(t,Nt.memoizedState,e)},useTransition:function(){var e=P0(Bf)[0],t=$r().memoizedState;return[e,t]},useMutableSource:GD,useSyncExternalStore:YD,useId:uM,unstable_isNewReconciler:!1},X7={readContext:Or,useCallback:aM,useContext:Or,useEffect:Nx,useImperativeHandle:oM,useInsertionEffect:nM,useLayoutEffect:rM,useMemo:sM,useReducer:O0,useRef:tM,useState:function(){return O0(Bf)},useDebugValue:Lx,useDeferredValue:function(e){var t=$r();return Nt===null?t.memoizedState=e:lM(t,Nt.memoizedState,e)},useTransition:function(){var e=O0(Bf)[0],t=$r().memoizedState;return[e,t]},useMutableSource:GD,useSyncExternalStore:YD,useId:uM,unstable_isNewReconciler:!1};function hu(e,t){try{var n="",r=t;do n+=P8(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function $0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function M1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var J7=typeof WeakMap=="function"?WeakMap:Map;function hM(e,t,n){n=Ui(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Km||(Km=!0,K1=r),M1(e,t)},n}function pM(e,t,n){n=Ui(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){M1(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){M1(e,t),typeof r!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function t$(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new J7;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=dU.bind(null,e,t,n),t.then(e,e))}function n$(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function r$(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ui(-1,1),t.tag=2,Yo(n,t,1))),n.lanes|=1),e)}var Z7=po.ReactCurrentOwner,Un=!1;function $n(e,t,n,r){t.child=e===null?HD(t,null,n,r):fu(t,e.child,n,r)}function i$(e,t,n,r,i){n=n.render;var o=t.ref;return Xl(t,i),r=Mx(e,t,n,r,o,i),n=jx(),e!==null&&!Un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zi(e,t,i)):(dt&&n&&xx(t),t.flags|=1,$n(e,t,r,i),t.child)}function o$(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Hx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,mM(e,t,o,r,i)):(e=Zp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:If,n(a,r)&&e.ref===t.ref)return Zi(e,t,i)}return t.flags|=1,e=Jo(o,r),e.ref=t.ref,e.return=t,t.child=e}function mM(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(If(o,r)&&e.ref===t.ref)if(Un=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Un=!0);else return t.lanes=e.lanes,Zi(e,t,i)}return j1(e,t,n,r,i)}function vM(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Nl,Zn),Zn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(Nl,Zn),Zn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(Nl,Zn),Zn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,et(Nl,Zn),Zn|=r;return $n(e,t,i,n),t.child}function gM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function j1(e,t,n,r,i){var o=Wn(n)?vs:wn.current;return o=uu(t,o),Xl(t,i),n=Mx(e,t,n,r,o,i),r=jx(),e!==null&&!Un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zi(e,t,i)):(dt&&r&&xx(t),t.flags|=1,$n(e,t,n,i),t.child)}function a$(e,t,n,r,i){if(Wn(n)){var o=!0;Mm(t)}else o=!1;if(Xl(t,i),t.stateNode===null)Qp(e,t),zD(t,n,r),D1(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Or(u):(u=Wn(n)?vs:wn.current,u=uu(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&XO(t,a,r,u),Ao=!1;var d=t.memoizedState;a.state=d,Bm(t,r,a,i),l=t.memoizedState,s!==r||d!==l||Vn.current||Ao?(typeof c=="function"&&(I1(t,n,c,r),l=t.memoizedState),(s=Ao||QO(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,VD(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:jr(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Or(l):(l=Wn(n)?vs:wn.current,l=uu(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&XO(t,a,r,l),Ao=!1,d=t.memoizedState,a.state=d,Bm(t,r,a,i);var v=t.memoizedState;s!==f||d!==v||Vn.current||Ao?(typeof h=="function"&&(I1(t,n,h,r),v=t.memoizedState),(u=Ao||QO(t,n,u,r,d,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return N1(e,t,n,r,o,i)}function N1(e,t,n,r,i,o){gM(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&KO(t,n,!1),Zi(e,t,o);r=t.stateNode,Z7.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=fu(t,e.child,null,o),t.child=fu(t,null,s,o)):$n(e,t,s,o),t.memoizedState=r.state,i&&KO(t,n,!0),t.child}function yM(e){var t=e.stateNode;t.pendingContext?zO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zO(e,t.context,!1),Tx(e,t.containerInfo)}function s$(e,t,n,r,i){return cu(),Px(i),t.flags|=256,$n(e,t,n,r),t.child}var L1={dehydrated:null,treeContext:null,retryLane:0};function F1(e){return{baseLanes:e,cachePool:null,transitions:null}}function bM(e,t,n){var r=t.pendingProps,i=pt.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),et(pt,i&1),e===null)return T1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=ig(a,r,0,null),e=as(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=F1(n),t.memoizedState=L1,e):Fx(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return eU(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Jo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Jo(s,o):(o=as(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?F1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=L1,r}return o=e.child,e=o.sibling,r=Jo(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fx(e,t){return t=ig({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function op(e,t,n,r){return r!==null&&Px(r),fu(t,e.child,null,n),e=Fx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eU(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=$0(Error(H(422))),op(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ig({mode:"visible",children:r.children},i,0,null),o=as(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&fu(t,e.child,null,a),t.child.memoizedState=F1(a),t.memoizedState=L1,o);if(!(t.mode&1))return op(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(H(419)),r=$0(o,r,void 0),op(e,t,a,r)}if(s=(a&e.childLanes)!==0,Un||s){if(r=Yt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ji(e,i),Ur(r,e,i,-1))}return Kx(),r=$0(Error(H(421))),op(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=hU.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,tr=Go(i.nextSibling),rr=t,dt=!0,Fr=null,e!==null&&(_r[Sr++]=Ni,_r[Sr++]=Li,_r[Sr++]=gs,Ni=e.id,Li=e.overflow,gs=t),t=Fx(t,r.children),t.flags|=4096,t)}function l$(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),A1(e.return,t,n)}function C0(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function wM(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if($n(e,t,r.children,n),r=pt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&l$(e,n,t);else if(e.tag===19)l$(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(et(pt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Um(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),C0(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Um(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}C0(t,!0,n,null,o);break;case"together":C0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Jo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tU(e,t,n){switch(t.tag){case 3:yM(t),cu();break;case 5:qD(t);break;case 1:Wn(t.type)&&Mm(t);break;case 4:Tx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;et(Lm,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(et(pt,pt.current&1),t.flags|=128,null):n&t.child.childLanes?bM(e,t,n):(et(pt,pt.current&1),e=Zi(e,t,n),e!==null?e.sibling:null);et(pt,pt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(pt,pt.current),r)break;return null;case 22:case 23:return t.lanes=0,vM(e,t,n)}return Zi(e,t,n)}var _M,B1,SM,xM;_M=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};B1=function(){};SM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(mi.current);var o=null;switch(n){case"input":i=l1(e,i),r=l1(e,r),o=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),o=[];break;case"textarea":i=f1(e,i),r=f1(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Im)}h1(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Of.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Of.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};xM=function(e,t,n,r){n!==r&&(t.flags|=4)};function _c(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function un(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nU(e,t,n){var r=t.pendingProps;switch(Ex(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(t),null;case 1:return Wn(t.type)&&Dm(),un(t),null;case 3:return r=t.stateNode,du(),lt(Vn),lt(wn),Ix(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fr!==null&&(G1(Fr),Fr=null))),B1(e,t),un(t),null;case 5:Ax(t);var i=Ja(Lf.current);if(n=t.type,e!==null&&t.stateNode!=null)SM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return un(t),null}if(e=Ja(mi.current),rp(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ui]=t,r[jf]=o,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Vc.length;i++)rt(Vc[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":gO(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":bO(r,o),rt("invalid",r)}h1(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&np(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&np(r.textContent,s,e),i=["children",""+s]):Of.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":Gh(r),yO(r,o,!0);break;case"textarea":Gh(r),wO(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Im)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=QI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ui]=t,e[jf]=r,_M(e,t,!1,!1),t.stateNode=e;e:{switch(a=p1(n,r),n){case"dialog":rt("cancel",e),rt("close",e),i=r;break;case"iframe":case"object":case"embed":rt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vc.length;i++)rt(Vc[i],e);i=r;break;case"source":rt("error",e),i=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),i=r;break;case"details":rt("toggle",e),i=r;break;case"input":gO(e,r),i=l1(e,r),rt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),rt("invalid",e);break;case"textarea":bO(e,r),i=f1(e,r),rt("invalid",e);break;default:i=r}h1(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?ZI(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XI(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$f(e,l):typeof l=="number"&&$f(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Of.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",e):l!=null&&ux(e,o,l,a))}switch(n){case"input":Gh(e),yO(e,r,!1);break;case"textarea":Gh(e),wO(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ia(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ql(e,!!r.multiple,o,!1):r.defaultValue!=null&&ql(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Im)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return un(t),null;case 6:if(e&&t.stateNode!=null)xM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Ja(Lf.current),Ja(mi.current),rp(t)){if(r=t.stateNode,n=t.memoizedProps,r[ui]=t,(o=r.nodeValue!==n)&&(e=rr,e!==null))switch(e.tag){case 3:np(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&np(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ui]=t,t.stateNode=r}return un(t),null;case 13:if(lt(pt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&tr!==null&&t.mode&1&&!(t.flags&128))BD(),cu(),t.flags|=98560,o=!1;else if(o=rp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[ui]=t}else cu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;un(t),o=!1}else Fr!==null&&(G1(Fr),Fr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?Lt===0&&(Lt=3):Kx())),t.updateQueue!==null&&(t.flags|=4),un(t),null);case 4:return du(),B1(e,t),e===null&&Df(t.stateNode.containerInfo),un(t),null;case 10:return Cx(t.type._context),un(t),null;case 17:return Wn(t.type)&&Dm(),un(t),null;case 19:if(lt(pt),o=t.memoizedState,o===null)return un(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)_c(o,!1);else{if(Lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Um(e),a!==null){for(t.flags|=128,_c(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return et(pt,pt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Et()>pu&&(t.flags|=128,r=!0,_c(o,!1),t.lanes=4194304)}else{if(!r)if(e=Um(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_c(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!dt)return un(t),null}else 2*Et()-o.renderingStartTime>pu&&n!==1073741824&&(t.flags|=128,r=!0,_c(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Et(),t.sibling=null,n=pt.current,et(pt,r?n&1|2:n&1),t):(un(t),null);case 22:case 23:return zx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Zn&1073741824&&(un(t),t.subtreeFlags&6&&(t.flags|=8192)):un(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function rU(e,t){switch(Ex(t),t.tag){case 1:return Wn(t.type)&&Dm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return du(),lt(Vn),lt(wn),Ix(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ax(t),null;case 13:if(lt(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));cu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(pt),null;case 4:return du(),null;case 10:return Cx(t.type._context),null;case 22:case 23:return zx(),null;case 24:return null;default:return null}}var ap=!1,hn=!1,iU=typeof WeakSet=="function"?WeakSet:Set,te=null;function jl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function U1(e,t,n){try{n()}catch(r){yt(e,t,r)}}var u$=!1;function oU(e,t){if(E1=km,e=$D(),Sx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P1={focusedElem:e,selectionRange:n},km=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,b=v.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:jr(t.type,m),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(_){yt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return v=u$,u$=!1,v}function Jc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&U1(t,n,o)}i=i.next}while(i!==r)}}function ng(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function V1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function EM(e){var t=e.alternate;t!==null&&(e.alternate=null,EM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ui],delete t[jf],delete t[C1],delete t[U7],delete t[V7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PM(e){return e.tag===5||e.tag===3||e.tag===4}function c$(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function W1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Im));else if(r!==4&&(e=e.child,e!==null))for(W1(e,t,n),e=e.sibling;e!==null;)W1(e,t,n),e=e.sibling}function z1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(z1(e,t,n),e=e.sibling;e!==null;)z1(e,t,n),e=e.sibling}var rn=null,Nr=!1;function Eo(e,t,n){for(n=n.child;n!==null;)OM(e,t,n),n=n.sibling}function OM(e,t,n){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(Gv,n)}catch{}switch(n.tag){case 5:hn||jl(n,t);case 6:var r=rn,i=Nr;rn=null,Eo(e,t,n),rn=r,Nr=i,rn!==null&&(Nr?(e=rn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(Nr?(e=rn,n=n.stateNode,e.nodeType===8?_0(e.parentNode,n):e.nodeType===1&&_0(e,n),Tf(e)):_0(rn,n.stateNode));break;case 4:r=rn,i=Nr,rn=n.stateNode.containerInfo,Nr=!0,Eo(e,t,n),rn=r,Nr=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&U1(n,t,a),i=i.next}while(i!==r)}Eo(e,t,n);break;case 1:if(!hn&&(jl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){yt(n,t,s)}Eo(e,t,n);break;case 21:Eo(e,t,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,Eo(e,t,n),hn=r):Eo(e,t,n);break;default:Eo(e,t,n)}}function f$(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new iU),t.forEach(function(r){var i=pU.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ir(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:rn=s.stateNode,Nr=!1;break e;case 3:rn=s.stateNode.containerInfo,Nr=!0;break e;case 4:rn=s.stateNode.containerInfo,Nr=!0;break e}s=s.return}if(rn===null)throw Error(H(160));OM(o,a,i),rn=null,Nr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$M(t,e),t=t.sibling}function $M(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ir(t,e),oi(e),r&4){try{Jc(3,e,e.return),ng(3,e)}catch(m){yt(e,e.return,m)}try{Jc(5,e,e.return)}catch(m){yt(e,e.return,m)}}break;case 1:Ir(t,e),oi(e),r&512&&n!==null&&jl(n,n.return);break;case 5:if(Ir(t,e),oi(e),r&512&&n!==null&&jl(n,n.return),e.flags&32){var i=e.stateNode;try{$f(i,"")}catch(m){yt(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&GI(i,o),p1(s,a);var u=p1(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?ZI(i,f):c==="dangerouslySetInnerHTML"?XI(i,f):c==="children"?$f(i,f):ux(i,c,f,u)}switch(s){case"input":u1(i,o);break;case"textarea":YI(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ql(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?ql(i,!!o.multiple,o.defaultValue,!0):ql(i,!!o.multiple,o.multiple?[]:"",!1))}i[jf]=o}catch(m){yt(e,e.return,m)}}break;case 6:if(Ir(t,e),oi(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){yt(e,e.return,m)}}break;case 3:if(Ir(t,e),oi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tf(t.containerInfo)}catch(m){yt(e,e.return,m)}break;case 4:Ir(t,e),oi(e);break;case 13:Ir(t,e),oi(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Vx=Et())),r&4&&f$(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(hn=(u=hn)||c,Ir(t,e),hn=u):Ir(t,e),oi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(te=e,c=e.child;c!==null;){for(f=te=c;te!==null;){switch(d=te,h=d.child,d.tag){case 0:case 11:case 14:case 15:Jc(4,d,d.return);break;case 1:jl(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){yt(r,n,m)}}break;case 5:jl(d,d.return);break;case 22:if(d.memoizedState!==null){h$(f);continue}}h!==null?(h.return=d,te=h):h$(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=JI("display",a))}catch(m){yt(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){yt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(t,e),oi(e),r&4&&f$(e);break;case 21:break;default:Ir(t,e),oi(e)}}function oi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(PM(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($f(i,""),r.flags&=-33);var o=c$(e);z1(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=c$(e);W1(e,s,a);break;default:throw Error(H(161))}}catch(l){yt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aU(e,t,n){te=e,CM(e)}function CM(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var i=te,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ap;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||hn;s=ap;var u=hn;if(ap=a,(hn=l)&&!u)for(te=i;te!==null;)a=te,l=a.child,a.tag===22&&a.memoizedState!==null?p$(i):l!==null?(l.return=a,te=l):p$(i);for(;o!==null;)te=o,CM(o),o=o.sibling;te=i,ap=s,hn=u}d$(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,te=o):d$(e)}}function d$(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hn||ng(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:jr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&YO(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}YO(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Tf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}hn||t.flags&512&&V1(t)}catch(d){yt(t,t.return,d)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function h$(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function p$(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ng(4,t)}catch(l){yt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){yt(t,i,l)}}var o=t.return;try{V1(t)}catch(l){yt(t,o,l)}break;case 5:var a=t.return;try{V1(t)}catch(l){yt(t,a,l)}}}catch(l){yt(t,t.return,l)}if(t===e){te=null;break}var s=t.sibling;if(s!==null){s.return=t.return,te=s;break}te=t.return}}var sU=Math.ceil,zm=po.ReactCurrentDispatcher,Bx=po.ReactCurrentOwner,Er=po.ReactCurrentBatchConfig,De=0,Yt=null,At=null,an=0,Zn=0,Nl=xa(0),Lt=0,Vf=null,bs=0,rg=0,Ux=0,Zc=null,Fn=null,Vx=0,pu=1/0,ki=null,Km=!1,K1=null,Qo=null,sp=!1,Vo=null,Hm=0,ef=0,H1=null,Xp=-1,Jp=0;function Rn(){return De&6?Et():Xp!==-1?Xp:Xp=Et()}function Xo(e){return e.mode&1?De&2&&an!==0?an&-an:z7.transition!==null?(Jp===0&&(Jp=fD()),Jp):(e=He,e!==0||(e=window.event,e=e===void 0?16:yD(e.type)),e):1}function Ur(e,t,n,r){if(50<ef)throw ef=0,H1=null,Error(H(185));xd(e,n,r),(!(De&2)||e!==Yt)&&(e===Yt&&(!(De&2)&&(rg|=n),Lt===4&&Lo(e,an)),zn(e,r),n===1&&De===0&&!(t.mode&1)&&(pu=Et()+500,Zv&&Ea()))}function zn(e,t){var n=e.callbackNode;z8(e,t);var r=Rm(e,e===Yt?an:0);if(r===0)n!==null&&xO(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xO(n),t===1)e.tag===0?W7(m$.bind(null,e)):ND(m$.bind(null,e)),F7(function(){!(De&6)&&Ea()}),n=null;else{switch(dD(r)){case 1:n=px;break;case 4:n=uD;break;case 16:n=Cm;break;case 536870912:n=cD;break;default:n=Cm}n=jM(n,RM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function RM(e,t){if(Xp=-1,Jp=0,De&6)throw Error(H(327));var n=e.callbackNode;if(Jl()&&e.callbackNode!==n)return null;var r=Rm(e,e===Yt?an:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qm(e,r);else{t=r;var i=De;De|=2;var o=TM();(Yt!==e||an!==t)&&(ki=null,pu=Et()+500,os(e,t));do try{cU();break}catch(s){kM(e,s)}while(!0);$x(),zm.current=o,De=i,At!==null?t=0:(Yt=null,an=0,t=Lt)}if(t!==0){if(t===2&&(i=b1(e),i!==0&&(r=i,t=q1(e,i))),t===1)throw n=Vf,os(e,0),Lo(e,r),zn(e,Et()),n;if(t===6)Lo(e,r);else{if(i=e.current.alternate,!(r&30)&&!lU(i)&&(t=qm(e,r),t===2&&(o=b1(e),o!==0&&(r=o,t=q1(e,o))),t===1))throw n=Vf,os(e,0),Lo(e,r),zn(e,Et()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Ka(e,Fn,ki);break;case 3:if(Lo(e,r),(r&130023424)===r&&(t=Vx+500-Et(),10<t)){if(Rm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Rn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$1(Ka.bind(null,e,Fn,ki),t);break}Ka(e,Fn,ki);break;case 4:if(Lo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Br(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sU(r/1960))-r,10<r){e.timeoutHandle=$1(Ka.bind(null,e,Fn,ki),r);break}Ka(e,Fn,ki);break;case 5:Ka(e,Fn,ki);break;default:throw Error(H(329))}}}return zn(e,Et()),e.callbackNode===n?RM.bind(null,e):null}function q1(e,t){var n=Zc;return e.current.memoizedState.isDehydrated&&(os(e,t).flags|=256),e=qm(e,t),e!==2&&(t=Fn,Fn=n,t!==null&&G1(t)),e}function G1(e){Fn===null?Fn=e:Fn.push.apply(Fn,e)}function lU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!zr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lo(e,t){for(t&=~Ux,t&=~rg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Br(t),r=1<<n;e[n]=-1,t&=~r}}function m$(e){if(De&6)throw Error(H(327));Jl();var t=Rm(e,0);if(!(t&1))return zn(e,Et()),null;var n=qm(e,t);if(e.tag!==0&&n===2){var r=b1(e);r!==0&&(t=r,n=q1(e,r))}if(n===1)throw n=Vf,os(e,0),Lo(e,t),zn(e,Et()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ka(e,Fn,ki),zn(e,Et()),null}function Wx(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(pu=Et()+500,Zv&&Ea())}}function ws(e){Vo!==null&&Vo.tag===0&&!(De&6)&&Jl();var t=De;De|=1;var n=Er.transition,r=He;try{if(Er.transition=null,He=1,e)return e()}finally{He=r,Er.transition=n,De=t,!(De&6)&&Ea()}}function zx(){Zn=Nl.current,lt(Nl)}function os(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,L7(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(Ex(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dm();break;case 3:du(),lt(Vn),lt(wn),Ix();break;case 5:Ax(r);break;case 4:du();break;case 13:lt(pt);break;case 19:lt(pt);break;case 10:Cx(r.type._context);break;case 22:case 23:zx()}n=n.return}if(Yt=e,At=e=Jo(e.current,null),an=Zn=t,Lt=0,Vf=null,Ux=rg=bs=0,Fn=Zc=null,Xa!==null){for(t=0;t<Xa.length;t++)if(n=Xa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Xa=null}return e}function kM(e,t){do{var n=At;try{if($x(),Gp.current=Wm,Vm){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vm=!1}if(ys=0,qt=Nt=vt=null,Xc=!1,Ff=0,Bx.current=null,n===null||n.return===null){Lt=1,Vf=t,At=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=an,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=n$(a);if(h!==null){h.flags&=-257,r$(h,a,s,o,t),h.mode&1&&t$(o,u,t),t=h,l=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}else{if(!(t&1)){t$(o,u,t),Kx();break e}l=Error(H(426))}}else if(dt&&s.mode&1){var b=n$(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),r$(b,a,s,o,t),Px(hu(l,s));break e}}o=l=hu(l,s),Lt!==4&&(Lt=2),Zc===null?Zc=[o]:Zc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=hM(o,l,t);GO(o,g);break e;case 1:s=l;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qo===null||!Qo.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=pM(o,s,t);GO(o,_);break e}}o=o.return}while(o!==null)}IM(n)}catch(S){t=S,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function TM(){var e=zm.current;return zm.current=Wm,e===null?Wm:e}function Kx(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Yt===null||!(bs&268435455)&&!(rg&268435455)||Lo(Yt,an)}function qm(e,t){var n=De;De|=2;var r=TM();(Yt!==e||an!==t)&&(ki=null,os(e,t));do try{uU();break}catch(i){kM(e,i)}while(!0);if($x(),De=n,zm.current=r,At!==null)throw Error(H(261));return Yt=null,an=0,Lt}function uU(){for(;At!==null;)AM(At)}function cU(){for(;At!==null&&!M8();)AM(At)}function AM(e){var t=MM(e.alternate,e,Zn);e.memoizedProps=e.pendingProps,t===null?IM(e):At=t,Bx.current=null}function IM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rU(n,t),n!==null){n.flags&=32767,At=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lt=6,At=null;return}}else if(n=nU(n,t,Zn),n!==null){At=n;return}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);Lt===0&&(Lt=5)}function Ka(e,t,n){var r=He,i=Er.transition;try{Er.transition=null,He=1,fU(e,t,n,r)}finally{Er.transition=i,He=r}return null}function fU(e,t,n,r){do Jl();while(Vo!==null);if(De&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(K8(e,o),e===Yt&&(At=Yt=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sp||(sp=!0,jM(Cm,function(){return Jl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Er.transition,Er.transition=null;var a=He;He=1;var s=De;De|=4,Bx.current=null,oU(e,n),$M(n,e),T7(P1),km=!!E1,P1=E1=null,e.current=n,aU(n),j8(),De=s,He=a,Er.transition=o}else e.current=n;if(sp&&(sp=!1,Vo=e,Hm=i),o=e.pendingLanes,o===0&&(Qo=null),F8(n.stateNode),zn(e,Et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Km)throw Km=!1,e=K1,K1=null,e;return Hm&1&&e.tag!==0&&Jl(),o=e.pendingLanes,o&1?e===H1?ef++:(ef=0,H1=e):ef=0,Ea(),null}function Jl(){if(Vo!==null){var e=dD(Hm),t=Er.transition,n=He;try{if(Er.transition=null,He=16>e?16:e,Vo===null)var r=!1;else{if(e=Vo,Vo=null,Hm=0,De&6)throw Error(H(331));var i=De;for(De|=4,te=e.current;te!==null;){var o=te,a=o.child;if(te.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:Jc(8,c,o)}var f=c.child;if(f!==null)f.return=c,te=f;else for(;te!==null;){c=te;var d=c.sibling,h=c.return;if(EM(c),c===u){te=null;break}if(d!==null){d.return=h,te=d;break}te=h}}}var v=o.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}te=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,te=a;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jc(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,te=g;break e}te=o.return}}var y=e.current;for(te=y;te!==null;){a=te;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,te=w;else e:for(a=y;te!==null;){if(s=te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ng(9,s)}}catch(S){yt(s,s.return,S)}if(s===a){te=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,te=_;break e}te=s.return}}if(De=i,Ea(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(Gv,e)}catch{}r=!0}return r}finally{He=n,Er.transition=t}}return!1}function v$(e,t,n){t=hu(n,t),t=hM(e,t,1),e=Yo(e,t,1),t=Rn(),e!==null&&(xd(e,1,t),zn(e,t))}function yt(e,t,n){if(e.tag===3)v$(e,e,n);else for(;t!==null;){if(t.tag===3){v$(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qo===null||!Qo.has(r))){e=hu(n,e),e=pM(t,e,1),t=Yo(t,e,1),e=Rn(),t!==null&&(xd(t,1,e),zn(t,e));break}}t=t.return}}function dU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rn(),e.pingedLanes|=e.suspendedLanes&n,Yt===e&&(an&n)===n&&(Lt===4||Lt===3&&(an&130023424)===an&&500>Et()-Vx?os(e,0):Ux|=n),zn(e,t)}function DM(e,t){t===0&&(e.mode&1?(t=Xh,Xh<<=1,!(Xh&130023424)&&(Xh=4194304)):t=1);var n=Rn();e=Ji(e,t),e!==null&&(xd(e,t,n),zn(e,n))}function hU(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),DM(e,n)}function pU(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),DM(e,n)}var MM;MM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vn.current)Un=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Un=!1,tU(e,t,n);Un=!!(e.flags&131072)}else Un=!1,dt&&t.flags&1048576&&LD(t,Nm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qp(e,t),e=t.pendingProps;var i=uu(t,wn.current);Xl(t,n),i=Mx(null,t,r,e,i,n);var o=jx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wn(r)?(o=!0,Mm(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kx(t),i.updater=eg,t.stateNode=i,i._reactInternals=t,D1(t,r,e,n),t=N1(null,t,r,!0,o,n)):(t.tag=0,dt&&o&&xx(t),$n(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=vU(r),e=jr(r,e),i){case 0:t=j1(null,t,r,e,n);break e;case 1:t=a$(null,t,r,e,n);break e;case 11:t=i$(null,t,r,e,n);break e;case 14:t=o$(null,t,r,jr(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),j1(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),a$(e,t,r,i,n);case 3:e:{if(yM(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,VD(e,t),Bm(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=hu(Error(H(423)),t),t=s$(e,t,r,n,i);break e}else if(r!==i){i=hu(Error(H(424)),t),t=s$(e,t,r,n,i);break e}else for(tr=Go(t.stateNode.containerInfo.firstChild),rr=t,dt=!0,Fr=null,n=HD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cu(),r===i){t=Zi(e,t,n);break e}$n(e,t,r,n)}t=t.child}return t;case 5:return qD(t),e===null&&T1(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,O1(r,i)?a=null:o!==null&&O1(r,o)&&(t.flags|=32),gM(e,t),$n(e,t,a,n),t.child;case 6:return e===null&&T1(t),null;case 13:return bM(e,t,n);case 4:return Tx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fu(t,null,r,n):$n(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),i$(e,t,r,i,n);case 7:return $n(e,t,t.pendingProps,n),t.child;case 8:return $n(e,t,t.pendingProps.children,n),t.child;case 12:return $n(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,et(Lm,r._currentValue),r._currentValue=a,o!==null)if(zr(o.value,a)){if(o.children===i.children&&!Vn.current){t=Zi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ui(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),A1(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(H(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),A1(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}$n(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xl(t,n),i=Or(i),r=r(i),t.flags|=1,$n(e,t,r,n),t.child;case 14:return r=t.type,i=jr(r,t.pendingProps),i=jr(r.type,i),o$(e,t,r,i,n);case 15:return mM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),Qp(e,t),t.tag=1,Wn(r)?(e=!0,Mm(t)):e=!1,Xl(t,n),zD(t,r,i),D1(t,r,i,n),N1(null,t,r,!0,e,n);case 19:return wM(e,t,n);case 22:return vM(e,t,n)}throw Error(H(156,t.tag))};function jM(e,t){return lD(e,t)}function mU(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(e,t,n,r){return new mU(e,t,n,r)}function Hx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vU(e){if(typeof e=="function")return Hx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fx)return 11;if(e===dx)return 14}return 2}function Jo(e,t){var n=e.alternate;return n===null?(n=xr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zp(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Hx(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case $l:return as(n.children,i,o,t);case cx:a=8,i|=8;break;case i1:return e=xr(12,n,t,i|2),e.elementType=i1,e.lanes=o,e;case o1:return e=xr(13,n,t,i),e.elementType=o1,e.lanes=o,e;case a1:return e=xr(19,n,t,i),e.elementType=a1,e.lanes=o,e;case KI:return ig(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case WI:a=10;break e;case zI:a=9;break e;case fx:a=11;break e;case dx:a=14;break e;case To:a=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=xr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function as(e,t,n,r){return e=xr(7,e,r,t),e.lanes=n,e}function ig(e,t,n,r){return e=xr(22,e,r,t),e.elementType=KI,e.lanes=n,e.stateNode={isHidden:!1},e}function R0(e,t,n){return e=xr(6,e,null,t),e.lanes=n,e}function k0(e,t,n){return t=xr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gU(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=c0(0),this.expirationTimes=c0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qx(e,t,n,r,i,o,a,s,l){return e=new gU(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=xr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kx(o),e}function yU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ol,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function NM(e){if(!e)return oa;e=e._reactInternals;e:{if(Us(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Wn(n))return jD(e,n,t)}return t}function LM(e,t,n,r,i,o,a,s,l){return e=qx(n,r,!0,e,i,o,a,s,l),e.context=NM(null),n=e.current,r=Rn(),i=Xo(n),o=Ui(r,i),o.callback=t??null,Yo(n,o,i),e.current.lanes=i,xd(e,i,r),zn(e,r),e}function og(e,t,n,r){var i=t.current,o=Rn(),a=Xo(i);return n=NM(n),t.context===null?t.context=n:t.pendingContext=n,t=Ui(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yo(i,t,a),e!==null&&(Ur(e,i,a,o),qp(e,i,a)),a}function Gm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function g$(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gx(e,t){g$(e,t),(e=e.alternate)&&g$(e,t)}function bU(){return null}var FM=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yx(e){this._internalRoot=e}ag.prototype.render=Yx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));og(e,t,null,null)};ag.prototype.unmount=Yx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ws(function(){og(null,e,null,null)}),t[Xi]=null}};function ag(e){this._internalRoot=e}ag.prototype.unstable_scheduleHydration=function(e){if(e){var t=mD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<No.length&&t!==0&&t<No[n].priority;n++);No.splice(n,0,e),n===0&&gD(e)}};function Qx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function y$(){}function wU(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Gm(a);o.call(u)}}var a=LM(t,r,e,0,null,!1,!1,"",y$);return e._reactRootContainer=a,e[Xi]=a.current,Df(e.nodeType===8?e.parentNode:e),ws(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Gm(l);s.call(u)}}var l=qx(e,0,!1,null,null,!1,!1,"",y$);return e._reactRootContainer=l,e[Xi]=l.current,Df(e.nodeType===8?e.parentNode:e),ws(function(){og(t,l,n,r)}),l}function lg(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Gm(a);s.call(l)}}og(t,a,e,i)}else a=wU(n,t,e,i,r);return Gm(a)}hD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Uc(t.pendingLanes);n!==0&&(mx(t,n|1),zn(t,Et()),!(De&6)&&(pu=Et()+500,Ea()))}break;case 13:ws(function(){var r=Ji(e,1);if(r!==null){var i=Rn();Ur(r,e,1,i)}}),Gx(e,1)}};vx=function(e){if(e.tag===13){var t=Ji(e,134217728);if(t!==null){var n=Rn();Ur(t,e,134217728,n)}Gx(e,134217728)}};pD=function(e){if(e.tag===13){var t=Xo(e),n=Ji(e,t);if(n!==null){var r=Rn();Ur(n,e,t,r)}Gx(e,t)}};mD=function(){return He};vD=function(e,t){var n=He;try{return He=e,t()}finally{He=n}};v1=function(e,t,n){switch(t){case"input":if(u1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Jv(r);if(!i)throw Error(H(90));qI(r),u1(r,i)}}}break;case"textarea":YI(e,n);break;case"select":t=n.value,t!=null&&ql(e,!!n.multiple,t,!1)}};nD=Wx;rD=ws;var _U={usingClientEntryPoint:!1,Events:[Pd,Tl,Jv,eD,tD,Wx]},Sc={findFiberByHostInstance:Qa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},SU={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:po.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aD(e),e===null?null:e.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||bU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lp.isDisabled&&lp.supportsFiber)try{Gv=lp.inject(SU),pi=lp}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_U;fr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qx(t))throw Error(H(200));return yU(e,t,null,n)};fr.createRoot=function(e,t){if(!Qx(e))throw Error(H(299));var n=!1,r="",i=FM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qx(e,1,!1,null,null,n,!1,r,i),e[Xi]=t.current,Df(e.nodeType===8?e.parentNode:e),new Yx(t)};fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=aD(t),e=e===null?null:e.stateNode,e};fr.flushSync=function(e){return ws(e)};fr.hydrate=function(e,t,n){if(!sg(t))throw Error(H(200));return lg(null,e,t,!0,n)};fr.hydrateRoot=function(e,t,n){if(!Qx(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=FM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=LM(t,null,e,1,n??null,i,!1,o,a),e[Xi]=t.current,Df(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ag(t)};fr.render=function(e,t,n){if(!sg(t))throw Error(H(200));return lg(null,e,t,!1,n)};fr.unmountComponentAtNode=function(e){if(!sg(e))throw Error(H(40));return e._reactRootContainer?(ws(function(){lg(null,null,e,!1,function(){e._reactRootContainer=null,e[Xi]=null})}),!0):!1};fr.unstable_batchedUpdates=Wx;fr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sg(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return lg(e,t,n,!1,r)};fr.version="18.2.0-next-9e3b772b8-20220608";function BM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BM)}catch(e){console.error(e)}}BM(),LI.exports=fr;var pn=LI.exports;const UM=_d(pn);var b$=pn;n1.createRoot=b$.createRoot,n1.hydrateRoot=b$.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}var St;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(St||(St={}));const w$="popstate";function xU(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return Wf("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ss(i)}return PU(t,n,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _s(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EU(){return Math.random().toString(36).substr(2,8)}function _$(e,t){return{usr:e.state,key:e.key,idx:t}}function Wf(e,t,n,r){return n===void 0&&(n=null),ht({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mo(t):t,{state:n,key:t&&t.key||r||EU()})}function Ss(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function PU(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=St.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(ht({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=St.Pop;let b=c(),g=b==null?null:b-u;u=b,l&&l({action:s,location:m.location,delta:g})}function d(b,g){s=St.Push;let y=Wf(m.location,b,g);n&&n(y,b),u=c()+1;let w=_$(y,u),_=m.createHref(y);try{a.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}o&&l&&l({action:s,location:m.location,delta:1})}function h(b,g){s=St.Replace;let y=Wf(m.location,b,g);n&&n(y,b),u=c();let w=_$(y,u),_=m.createHref(y);a.replaceState(w,"",_),o&&l&&l({action:s,location:m.location,delta:0})}function v(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:Ss(b);return Ee(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return s},get location(){return e(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(w$,f),l=b,()=>{i.removeEventListener(w$,f),l=null}},createHref(b){return t(i,b)},createURL:v,encodeLocation(b){let g=v(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(b){return a.go(b)}};return m}var xt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xt||(xt={}));const OU=new Set(["lazy","caseSensitive","path","id","index","children"]);function $U(e){return e.index===!0}function Y1(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let a=[...n,o],s=typeof i.id=="string"?i.id:a.join("-");if(Ee(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ee(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),$U(i)){let l=ht({},i,t(i),{id:s});return r[s]=l,l}else{let l=ht({},i,t(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=Y1(i.children,t,a,r)),l}})}function Ll(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?mo(t):t,i=aa(r.pathname||"/",n);if(i==null)return null;let o=VM(e);RU(o);let a=null;for(let s=0;a==null&&s<o.length;++s)a=LU(o[s],BU(i));return a}function CU(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function VM(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Vi([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ee(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),VM(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:jU(u,o.index),routesMeta:c})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of WM(o.path))i(o,a,l)}),t}function WM(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=WM(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function RU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:NU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kU=/^:\w+$/,TU=3,AU=2,IU=1,DU=10,MU=-2,S$=e=>e==="*";function jU(e,t){let n=e.split("/"),r=n.length;return n.some(S$)&&(r+=MU),t&&(r+=AU),n.filter(i=>!S$(i)).reduce((i,o)=>i+(kU.test(o)?TU:o===""?IU:DU),r)}function NU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function LU(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let s=n[a],l=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=Q1({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=s.route;o.push({params:r,pathname:Vi([i,c.pathname]),pathnameBase:zU(Vi([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Vi([i,c.pathnameBase]))}return o}function Q1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=FU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let d=s[f]||"";a=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=UU(s[f]||"",c),u},{}),pathname:o,pathnameBase:a,pattern:e}}function FU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_s(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function BU(e){try{return decodeURI(e)}catch(t){return _s(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function UU(e,t){try{return decodeURIComponent(e)}catch(n){return _s(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function aa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function VU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mo(e):e;return{pathname:n?n.startsWith("/")?n:WU(n,t):t,search:KU(r),hash:HU(i)}}function WU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function T0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ug(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Xx(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=mo(e):(i=ht({},e),Ee(!i.pathname||!i.pathname.includes("?"),T0("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),T0("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),T0("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(r||a==null)s=n;else{let f=t.length-1;if(a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?t[f]:"/"}let l=VU(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Vi=e=>e.join("/").replace(/\/\/+/g,"/"),zU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Jx{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function zM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KM=["post","put","patch","delete"],qU=new Set(KM),GU=["get",...KM],YU=new Set(GU),QU=new Set([301,302,303,307,308]),XU=new Set([307,308]),A0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},JU={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},HM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZU=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),qM="remix-router-transitions";function eV(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Ee(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let L=e.detectErrorBoundary;i=B=>({hasErrorBoundary:L(B)})}else i=ZU;let o={},a=Y1(e.routes,i,void 0,o),s,l=e.basename||"/",u=ht({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,f=new Set,d=null,h=null,v=null,m=e.hydrationData!=null,b=Ll(a,e.history.location,l),g=null;if(b==null){let L=br(404,{pathname:e.history.location.pathname}),{matches:B,route:W}=k$(a);b=B,g={[W.id]:L}}let y=!b.some(L=>L.route.lazy)&&(!b.some(L=>L.route.loader)||e.hydrationData!=null),w,_={historyAction:e.history.action,location:e.history.location,matches:b,initialized:y,navigation:A0,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||g,fetchers:new Map,blockers:new Map},S=St.Pop,E=!1,P,O=!1,C=new Map,I=null,N=!1,M=!1,V=[],D=[],$=new Map,k=0,F=-1,A=new Map,R=new Set,j=new Map,U=new Map,z=new Map,K=!1;function J(){if(c=e.history.listen(L=>{let{action:B,location:W,delta:Q}=L;if(K){K=!1;return}_s(z.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=ce({currentLocation:_.location,nextLocation:W,historyAction:B});if(ee&&Q!=null){K=!0,e.history.go(Q*-1),jn(ee,{state:"blocked",location:W,proceed(){jn(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),e.history.go(Q)},reset(){let ie=new Map(_.blockers);ie.set(ee,xc),Y({blockers:ie})}});return}return le(B,W)}),n){fV(t,C);let L=()=>dV(t,C);t.addEventListener("pagehide",L),I=()=>t.removeEventListener("pagehide",L)}return _.initialized||le(St.Pop,_.location),w}function Ce(){c&&c(),I&&I(),f.clear(),P&&P.abort(),_.fetchers.forEach((L,B)=>mr(B)),_.blockers.forEach((L,B)=>Qn(B))}function q(L){return f.add(L),()=>f.delete(L)}function Y(L,B){_=ht({},_,L),f.forEach(W=>W(_,{unstable_viewTransitionOpts:B}))}function _e(L,B){var W,Q;let ee=_.actionData!=null&&_.navigation.formMethod!=null&&Lr(_.navigation.formMethod)&&_.navigation.state==="loading"&&((W=L.state)==null?void 0:W._isRedirect)!==!0,ie;B.actionData?Object.keys(B.actionData).length>0?ie=B.actionData:ie=null:ee?ie=_.actionData:ie=null;let se=B.loaderData?R$(_.loaderData,B.loaderData,B.matches||[],B.errors):_.loaderData,oe=_.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((Re,we)=>oe.set(we,xc)));let Z=E===!0||_.navigation.formMethod!=null&&Lr(_.navigation.formMethod)&&((Q=L.state)==null?void 0:Q._isRedirect)!==!0;s&&(a=s,s=void 0),N||S===St.Pop||(S===St.Push?e.history.push(L,L.state):S===St.Replace&&e.history.replace(L,L.state));let Se;if(S===St.Pop){let Re=C.get(_.location.pathname);Re&&Re.has(L.pathname)?Se={currentLocation:_.location,nextLocation:L}:C.has(L.pathname)&&(Se={currentLocation:L,nextLocation:_.location})}else if(O){let Re=C.get(_.location.pathname);Re?Re.add(L.pathname):(Re=new Set([L.pathname]),C.set(_.location.pathname,Re)),Se={currentLocation:_.location,nextLocation:L}}Y(ht({},B,{actionData:ie,loaderData:se,historyAction:S,location:L,initialized:!0,navigation:A0,revalidation:"idle",restoreScrollPosition:qe(L,B.matches||_.matches),preventScrollReset:Z,blockers:oe}),Se),S=St.Pop,E=!1,O=!1,N=!1,M=!1,V=[],D=[]}async function Ne(L,B){if(typeof L=="number"){e.history.go(L);return}let W=X1(_.location,_.matches,l,u.v7_prependBasename,L,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:Q,submission:ee,error:ie}=x$(u.v7_normalizeFormMethod,!1,W,B),se=_.location,oe=Wf(_.location,Q,B&&B.state);oe=ht({},oe,e.history.encodeLocation(oe));let Z=B&&B.replace!=null?B.replace:void 0,Se=St.Push;Z===!0?Se=St.Replace:Z===!1||ee!=null&&Lr(ee.formMethod)&&ee.formAction===_.location.pathname+_.location.search&&(Se=St.Replace);let Re=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,we=ce({currentLocation:se,nextLocation:oe,historyAction:Se});if(we){jn(we,{state:"blocked",location:oe,proceed(){jn(we,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),Ne(L,B)},reset(){let xe=new Map(_.blockers);xe.set(we,xc),Y({blockers:xe})}});return}return await le(Se,oe,{submission:ee,pendingError:ie,preventScrollReset:Re,replace:B&&B.replace,enableViewTransition:B&&B.unstable_viewTransition})}function me(){if(Ht(),Y({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){le(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}le(S||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function le(L,B,W){P&&P.abort(),P=null,S=L,N=(W&&W.startUninterruptedRevalidation)===!0,We(_.location,_.matches),E=(W&&W.preventScrollReset)===!0,O=(W&&W.enableViewTransition)===!0;let Q=s||a,ee=W&&W.overrideNavigation,ie=Ll(Q,B,l);if(!ie){let xe=br(404,{pathname:B.pathname}),{matches:ze,route:Pn}=k$(Q);de(),_e(B,{matches:ze,loaderData:{},errors:{[Pn.id]:xe}});return}if(_.initialized&&!M&&oV(_.location,B)&&!(W&&W.submission&&Lr(W.submission.formMethod))){_e(B,{matches:ie});return}P=new AbortController;let se=Pc(e.history,B,P.signal,W&&W.submission),oe,Z;if(W&&W.pendingError)Z={[Fl(ie).route.id]:W.pendingError};else if(W&&W.submission&&Lr(W.submission.formMethod)){let xe=await ye(se,B,W.submission,ie,{replace:W.replace});if(xe.shortCircuited)return;oe=xe.pendingActionData,Z=xe.pendingActionError,ee=I0(B,W.submission),se=new Request(se.url,{signal:se.signal})}let{shortCircuited:Se,loaderData:Re,errors:we}=await tt(se,B,ie,ee,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,oe,Z);Se||(P=null,_e(B,ht({matches:ie},oe?{actionData:oe}:{},{loaderData:Re,errors:we})))}async function ye(L,B,W,Q,ee){ee===void 0&&(ee={}),Ht();let ie=uV(B,W);Y({navigation:ie});let se,oe=Z1(Q,B);if(!oe.route.action&&!oe.route.lazy)se={type:xt.error,error:br(405,{method:L.method,pathname:B.pathname,routeId:oe.route.id})};else if(se=await Ec("action",L,oe,Q,o,i,l),L.signal.aborted)return{shortCircuited:!0};if(Zl(se)){let Z;return ee&&ee.replace!=null?Z=ee.replace:Z=se.location===_.location.pathname+_.location.search,await Mn(_,se,{submission:W,replace:Z}),{shortCircuited:!0}}if(tf(se)){let Z=Fl(Q,oe.route.id);return(ee&&ee.replace)!==!0&&(S=St.Push),{pendingActionData:{},pendingActionError:{[Z.route.id]:se.error}}}if(Za(se))throw br(400,{type:"defer-action"});return{pendingActionData:{[oe.route.id]:se.data}}}async function tt(L,B,W,Q,ee,ie,se,oe,Z){let Se=Q||I0(B,ee),Re=ee||ie||I$(Se),we=s||a,[xe,ze]=E$(e.history,_,W,Re,B,M,V,D,j,R,we,l,oe,Z);if(de(Ue=>!(W&&W.some(Xn=>Xn.route.id===Ue))||xe&&xe.some(Xn=>Xn.route.id===Ue)),F=++k,xe.length===0&&ze.length===0){let Ue=So();return _e(B,ht({matches:W,loaderData:{},errors:Z||null},oe?{actionData:oe}:{},Ue?{fetchers:new Map(_.fetchers)}:{})),{shortCircuited:!0}}if(!N){ze.forEach(Xn=>{let ii=_.fetchers.get(Xn.key),pc=Oc(void 0,ii?ii.data:void 0);_.fetchers.set(Xn.key,pc)});let Ue=oe||_.actionData;Y(ht({navigation:Se},Ue?Object.keys(Ue).length===0?{actionData:null}:{actionData:Ue}:{},ze.length>0?{fetchers:new Map(_.fetchers)}:{}))}ze.forEach(Ue=>{$.has(Ue.key)&&Ct(Ue.key),Ue.controller&&$.set(Ue.key,Ue.controller)});let Pn=()=>ze.forEach(Ue=>Ct(Ue.key));P&&P.signal.addEventListener("abort",Pn);let{results:Nn,loaderResults:gr,fetcherResults:xo}=await Zt(_.matches,W,xe,ze,L);if(L.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Pn),ze.forEach(Ue=>$.delete(Ue.key));let en=T$(Nn);if(en){if(en.idx>=xe.length){let Ue=ze[en.idx-xe.length].key;R.add(Ue)}return await Mn(_,en.result,{replace:se}),{shortCircuited:!0}}let{loaderData:tn,errors:ri}=C$(_,W,xe,gr,Z,ze,xo,U);U.forEach((Ue,Xn)=>{Ue.subscribe(ii=>{(ii||Ue.done)&&U.delete(Xn)})});let fc=So(),dc=Ar(F),hc=fc||dc||ze.length>0;return ht({loaderData:tn,errors:ri},hc?{fetchers:new Map(_.fetchers)}:{})}function Le(L){return _.fetchers.get(L)||JU}function Ot(L,B,W,Q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(L)&&Ct(L);let ee=s||a,ie=X1(_.location,_.matches,l,u.v7_prependBasename,W,B,Q==null?void 0:Q.relative),se=Ll(ee,ie,l);if(!se){jt(L,B,br(404,{pathname:ie}));return}let{path:oe,submission:Z,error:Se}=x$(u.v7_normalizeFormMethod,!0,ie,Q);if(Se){jt(L,B,Se);return}let Re=Z1(se,oe);if(E=(Q&&Q.preventScrollReset)===!0,Z&&Lr(Z.formMethod)){$t(L,B,oe,Re,se,Z);return}j.set(L,{routeId:B,path:oe}),Dn(L,B,oe,Re,se,Z)}async function $t(L,B,W,Q,ee,ie){if(Ht(),j.delete(L),!Q.route.action&&!Q.route.lazy){let _t=br(405,{method:ie.formMethod,pathname:W,routeId:B});jt(L,B,_t);return}let se=_.fetchers.get(L),oe=cV(ie,se);_.fetchers.set(L,oe),Y({fetchers:new Map(_.fetchers)});let Z=new AbortController,Se=Pc(e.history,W,Z.signal,ie);$.set(L,Z);let Re=k,we=await Ec("action",Se,Q,ee,o,i,l);if(Se.signal.aborted){$.get(L)===Z&&$.delete(L);return}if(Zl(we))if($.delete(L),F>Re){let _t=Sl(void 0);_.fetchers.set(L,_t),Y({fetchers:new Map(_.fetchers)});return}else{R.add(L);let _t=Oc(ie);return _.fetchers.set(L,_t),Y({fetchers:new Map(_.fetchers)}),Mn(_,we,{fetcherSubmission:ie})}if(tf(we)){jt(L,B,we.error);return}if(Za(we))throw br(400,{type:"defer-action"});let xe=_.navigation.location||_.location,ze=Pc(e.history,xe,Z.signal),Pn=s||a,Nn=_.navigation.state!=="idle"?Ll(Pn,_.navigation.location,l):_.matches;Ee(Nn,"Didn't find any matches after fetcher action");let gr=++k;A.set(L,gr);let xo=Oc(ie,we.data);_.fetchers.set(L,xo);let[en,tn]=E$(e.history,_,Nn,ie,xe,M,V,D,j,R,Pn,l,{[Q.route.id]:we.data},void 0);tn.filter(_t=>_t.key!==L).forEach(_t=>{let ja=_t.key,zh=_.fetchers.get(ja),i0=Oc(void 0,zh?zh.data:void 0);_.fetchers.set(ja,i0),$.has(ja)&&Ct(ja),_t.controller&&$.set(ja,_t.controller)}),Y({fetchers:new Map(_.fetchers)});let ri=()=>tn.forEach(_t=>Ct(_t.key));Z.signal.addEventListener("abort",ri);let{results:fc,loaderResults:dc,fetcherResults:hc}=await Zt(_.matches,Nn,en,tn,ze);if(Z.signal.aborted)return;Z.signal.removeEventListener("abort",ri),A.delete(L),$.delete(L),tn.forEach(_t=>$.delete(_t.key));let Ue=T$(fc);if(Ue){if(Ue.idx>=en.length){let _t=tn[Ue.idx-en.length].key;R.add(_t)}return Mn(_,Ue.result)}let{loaderData:Xn,errors:ii}=C$(_,_.matches,en,dc,void 0,tn,hc,U);if(_.fetchers.has(L)){let _t=Sl(we.data);_.fetchers.set(L,_t)}let pc=Ar(gr);_.navigation.state==="loading"&&gr>F?(Ee(S,"Expected pending action"),P&&P.abort(),_e(_.navigation.location,{matches:Nn,loaderData:Xn,errors:ii,fetchers:new Map(_.fetchers)})):(Y(ht({errors:ii,loaderData:R$(_.loaderData,Xn,Nn,ii)},pc||tn.length>0?{fetchers:new Map(_.fetchers)}:{})),M=!1)}async function Dn(L,B,W,Q,ee,ie){let se=_.fetchers.get(L),oe=Oc(ie,se?se.data:void 0);_.fetchers.set(L,oe),Y({fetchers:new Map(_.fetchers)});let Z=new AbortController,Se=Pc(e.history,W,Z.signal);$.set(L,Z);let Re=k,we=await Ec("loader",Se,Q,ee,o,i,l);if(Za(we)&&(we=await QM(we,Se.signal,!0)||we),$.get(L)===Z&&$.delete(L),Se.signal.aborted)return;if(Zl(we))if(F>Re){let ze=Sl(void 0);_.fetchers.set(L,ze),Y({fetchers:new Map(_.fetchers)});return}else{R.add(L),await Mn(_,we);return}if(tf(we)){let ze=Fl(_.matches,B);_.fetchers.delete(L),Y({fetchers:new Map(_.fetchers),errors:{[ze.route.id]:we.error}});return}Ee(!Za(we),"Unhandled fetcher deferred data");let xe=Sl(we.data);_.fetchers.set(L,xe),Y({fetchers:new Map(_.fetchers)})}async function Mn(L,B,W){let{submission:Q,fetcherSubmission:ee,replace:ie}=W===void 0?{}:W;B.revalidate&&(M=!0);let se=Wf(L.location,B.location,{_isRedirect:!0});if(Ee(se,"Expected a location on the redirect navigation"),n){let xe=!1;if(B.reloadDocument)xe=!0;else if(HM.test(B.location)){const ze=e.history.createURL(B.location);xe=ze.origin!==t.location.origin||aa(ze.pathname,l)==null}if(xe){ie?t.location.replace(B.location):t.location.assign(B.location);return}}P=null;let oe=ie===!0?St.Replace:St.Push,{formMethod:Z,formAction:Se,formEncType:Re}=L.navigation;!Q&&!ee&&Z&&Se&&Re&&(Q=I$(L.navigation));let we=Q||ee;if(XU.has(B.status)&&we&&Lr(we.formMethod))await le(oe,se,{submission:ht({},we,{formAction:B.location}),preventScrollReset:E});else{let xe=I0(se,Q);await le(oe,se,{overrideNavigation:xe,fetcherSubmission:ee,preventScrollReset:E})}}async function Zt(L,B,W,Q,ee){let ie=await Promise.all([...W.map(Z=>Ec("loader",ee,Z,B,o,i,l)),...Q.map(Z=>Z.matches&&Z.match&&Z.controller?Ec("loader",Pc(e.history,Z.path,Z.controller.signal),Z.match,Z.matches,o,i,l):{type:xt.error,error:br(404,{pathname:Z.path})})]),se=ie.slice(0,W.length),oe=ie.slice(W.length);return await Promise.all([A$(L,W,se,se.map(()=>ee.signal),!1,_.loaderData),A$(L,Q.map(Z=>Z.match),oe,Q.map(Z=>Z.controller?Z.controller.signal:null),!0)]),{results:ie,loaderResults:se,fetcherResults:oe}}function Ht(){M=!0,V.push(...de()),j.forEach((L,B)=>{$.has(B)&&(D.push(B),Ct(B))})}function jt(L,B,W){let Q=Fl(_.matches,B);mr(L),Y({errors:{[Q.route.id]:W},fetchers:new Map(_.fetchers)})}function mr(L){let B=_.fetchers.get(L);$.has(L)&&!(B&&B.state==="loading"&&A.has(L))&&Ct(L),j.delete(L),A.delete(L),R.delete(L),_.fetchers.delete(L)}function Ct(L){let B=$.get(L);Ee(B,"Expected fetch controller: "+L),B.abort(),$.delete(L)}function ni(L){for(let B of L){let W=Le(B),Q=Sl(W.data);_.fetchers.set(B,Q)}}function So(){let L=[],B=!1;for(let W of R){let Q=_.fetchers.get(W);Ee(Q,"Expected fetcher: "+W),Q.state==="loading"&&(R.delete(W),L.push(W),B=!0)}return ni(L),B}function Ar(L){let B=[];for(let[W,Q]of A)if(Q<L){let ee=_.fetchers.get(W);Ee(ee,"Expected fetcher: "+W),ee.state==="loading"&&(Ct(W),A.delete(W),B.push(W))}return ni(B),B.length>0}function vr(L,B){let W=_.blockers.get(L)||xc;return z.get(L)!==B&&z.set(L,B),W}function Qn(L){_.blockers.delete(L),z.delete(L)}function jn(L,B){let W=_.blockers.get(L)||xc;Ee(W.state==="unblocked"&&B.state==="blocked"||W.state==="blocked"&&B.state==="blocked"||W.state==="blocked"&&B.state==="proceeding"||W.state==="blocked"&&B.state==="unblocked"||W.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+W.state+" -> "+B.state);let Q=new Map(_.blockers);Q.set(L,B),Y({blockers:Q})}function ce(L){let{currentLocation:B,nextLocation:W,historyAction:Q}=L;if(z.size===0)return;z.size>1&&_s(!1,"A router only supports one blocker at a time");let ee=Array.from(z.entries()),[ie,se]=ee[ee.length-1],oe=_.blockers.get(ie);if(!(oe&&oe.state==="proceeding")&&se({currentLocation:B,nextLocation:W,historyAction:Q}))return ie}function de(L){let B=[];return U.forEach((W,Q)=>{(!L||L(Q))&&(W.cancel(),B.push(Q),U.delete(Q))}),B}function Ie(L,B,W){if(d=L,v=B,h=W||null,!m&&_.navigation===A0){m=!0;let Q=qe(_.location,_.matches);Q!=null&&Y({restoreScrollPosition:Q})}return()=>{d=null,v=null,h=null}}function $e(L,B){return h&&h(L,B.map(Q=>CU(Q,_.loaderData)))||L.key}function We(L,B){if(d&&v){let W=$e(L,B);d[W]=v()}}function qe(L,B){if(d){let W=$e(L,B),Q=d[W];if(typeof Q=="number")return Q}return null}function wt(L){o={},s=Y1(L,i,void 0,o)}return w={get basename(){return l},get state(){return _},get routes(){return a},get window(){return t},initialize:J,subscribe:q,enableScrollRestoration:Ie,navigate:Ne,fetch:Ot,revalidate:me,createHref:L=>e.history.createHref(L),encodeLocation:L=>e.history.encodeLocation(L),getFetcher:Le,deleteFetcher:mr,dispose:Ce,getBlocker:vr,deleteBlocker:Qn,_internalFetchControllers:$,_internalActiveDeferreds:U,_internalSetRoutes:wt},w}function tV(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function X1(e,t,n,r,i,o,a){let s,l;if(o!=null&&a!=="path"){s=[];for(let c of t)if(s.push(c),c.route.id===o){l=c;break}}else s=t,l=t[t.length-1];let u=Xx(i||".",ug(s).map(c=>c.pathnameBase),aa(e.pathname,n)||e.pathname,a==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Zx(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Vi([n,u.pathname])),Ss(u)}function x$(e,t,n,r){if(!r||!tV(r))return{path:n};if(r.formMethod&&!lV(r.formMethod))return{path:n,error:br(405,{method:r.formMethod})};let i=()=>({path:n,error:br(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=e?o.toUpperCase():o.toLowerCase(),s=YM(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Lr(a))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,v)=>{let[m,b]=v;return""+h+m+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Lr(a))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}Ee(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=J1(r.formData),u=r.formData;else if(r.body instanceof FormData)l=J1(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=$$(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=$$(l)}catch{return i()}let c={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Lr(c.formMethod))return{path:n,submission:c};let f=mo(n);return t&&f.search&&Zx(f.search)&&l.append("index",""),f.search="?"+l,{path:Ss(f),submission:c}}function nV(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function E$(e,t,n,r,i,o,a,s,l,u,c,f,d,h){let v=h?Object.values(h)[0]:d?Object.values(d)[0]:void 0,m=e.createURL(t.location),b=e.createURL(i),g=h?Object.keys(h)[0]:void 0,w=nV(n,g).filter((S,E)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(rV(t.loaderData,t.matches[E],S)||a.some(C=>C===S.route.id))return!0;let P=t.matches[E],O=S;return P$(S,ht({currentUrl:m,currentParams:P.params,nextUrl:b,nextParams:O.params},r,{actionResult:v,defaultShouldRevalidate:o||m.pathname+m.search===b.pathname+b.search||m.search!==b.search||GM(P,O)}))}),_=[];return l.forEach((S,E)=>{if(!n.some(N=>N.route.id===S.routeId))return;let P=Ll(c,S.path,f);if(!P){_.push({key:E,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let O=t.fetchers.get(E),C=Z1(P,S.path),I=!1;u.has(E)?I=!1:s.includes(E)?I=!0:O&&O.state!=="idle"&&O.data===void 0?I=o:I=P$(C,ht({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:o})),I&&_.push({key:E,routeId:S.routeId,path:S.path,matches:P,match:C,controller:new AbortController})}),[w,_]}function rV(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function GM(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function P$(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function O$(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Ee(i,"No route found in manifest");let o={};for(let a in r){let l=i[a]!==void 0&&a!=="hasErrorBoundary";_s(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!OU.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,ht({},t(i),{lazy:void 0}))}async function Ec(e,t,n,r,i,o,a,s){s===void 0&&(s={});let l,u,c,f=v=>{let m,b=new Promise((g,y)=>m=y);return c=()=>m(),t.signal.addEventListener("abort",c),Promise.race([v({request:t,params:n.params,context:s.requestContext}),b])};try{let v=n.route[e];if(n.route.lazy)if(v){let m,b=await Promise.all([f(v).catch(g=>{m=g}),O$(n.route,o,i)]);if(m)throw m;u=b[0]}else if(await O$(n.route,o,i),v=n.route[e],v)u=await f(v);else if(e==="action"){let m=new URL(t.url),b=m.pathname+m.search;throw br(405,{method:t.method,pathname:b,routeId:n.route.id})}else return{type:xt.data,data:void 0};else if(v)u=await f(v);else{let m=new URL(t.url),b=m.pathname+m.search;throw br(404,{pathname:b})}Ee(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(v){l=xt.error,u=v}finally{c&&t.signal.removeEventListener("abort",c)}if(sV(u)){let v=u.status;if(QU.has(v)){let g=u.headers.get("Location");if(Ee(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!HM.test(g))g=X1(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,g);else if(!s.isStaticRequest){let y=new URL(t.url),w=g.startsWith("//")?new URL(y.protocol+g):new URL(g),_=aa(w.pathname,a)!=null;w.origin===y.origin&&_&&(g=w.pathname+w.search+w.hash)}if(s.isStaticRequest)throw u.headers.set("Location",g),u;return{type:xt.redirect,status:v,location:g,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(s.isRouteRequest)throw{type:l===xt.error?xt.error:xt.data,response:u};let m,b=u.headers.get("Content-Type");return b&&/\bapplication\/json\b/.test(b)?m=await u.json():m=await u.text(),l===xt.error?{type:l,error:new Jx(v,u.statusText,m),headers:u.headers}:{type:xt.data,data:m,statusCode:u.status,headers:u.headers}}if(l===xt.error)return{type:l,error:u};if(aV(u)){var d,h;return{type:xt.deferred,deferredData:u,statusCode:(d=u.init)==null?void 0:d.status,headers:((h=u.init)==null?void 0:h.headers)&&new Headers(u.init.headers)}}return{type:xt.data,data:u}}function Pc(e,t,n,r){let i=e.createURL(YM(t)).toString(),o={signal:n};if(r&&Lr(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=J1(r.formData):o.body=r.formData}return new Request(i,o)}function J1(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function $$(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function iV(e,t,n,r,i){let o={},a=null,s,l=!1,u={};return n.forEach((c,f)=>{let d=t[f].route.id;if(Ee(!Zl(c),"Cannot handle redirect results in processLoaderData"),tf(c)){let h=Fl(e,d),v=c.error;r&&(v=Object.values(r)[0],r=void 0),a=a||{},a[h.route.id]==null&&(a[h.route.id]=v),o[d]=void 0,l||(l=!0,s=zM(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else Za(c)?(i.set(d,c.deferredData),o[d]=c.deferredData.data):o[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(s=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:u}}function C$(e,t,n,r,i,o,a,s){let{loaderData:l,errors:u}=iV(t,n,r,i,s);for(let c=0;c<o.length;c++){let{key:f,match:d,controller:h}=o[c];Ee(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let v=a[c];if(!(h&&h.signal.aborted))if(tf(v)){let m=Fl(e.matches,d==null?void 0:d.route.id);u&&u[m.route.id]||(u=ht({},u,{[m.route.id]:v.error})),e.fetchers.delete(f)}else if(Zl(v))Ee(!1,"Unhandled fetcher revalidation redirect");else if(Za(v))Ee(!1,"Unhandled fetcher deferred data");else{let m=Sl(v.data);e.fetchers.set(f,m)}}return{loaderData:l,errors:u}}function R$(e,t,n,r){let i=ht({},t);for(let o of n){let a=o.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(i[a]=t[a]):e[a]!==void 0&&o.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function Fl(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function k$(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function br(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):e===403?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",s='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new Jx(e||500,a,new Error(s),!0)}function T$(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Zl(n))return{result:n,idx:t}}}function YM(e){let t=typeof e=="string"?mo(e):e;return Ss(ht({},t,{hash:""}))}function oV(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Za(e){return e.type===xt.deferred}function tf(e){return e.type===xt.error}function Zl(e){return(e&&e.type)===xt.redirect}function aV(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function sV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function lV(e){return YU.has(e.toLowerCase())}function Lr(e){return qU.has(e.toLowerCase())}async function A$(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=t[a];if(!l)continue;let u=e.find(f=>f.route.id===l.route.id),c=u!=null&&!GM(u,l)&&(o&&o[l.route.id])!==void 0;if(Za(s)&&(i||c)){let f=r[a];Ee(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await QM(s,f,i).then(d=>{d&&(n[a]=d||n[a])})}}}async function QM(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:xt.data,data:e.deferredData.unwrappedData}}catch(i){return{type:xt.error,error:i}}return{type:xt.data,data:e.deferredData.data}}}function Zx(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Z1(e,t){let n=typeof t=="string"?mo(t).search:t.search;if(e[e.length-1].route.index&&Zx(n||""))return e[e.length-1];let r=ug(e);return r[r.length-1]}function I$(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function I0(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function uV(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Oc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function cV(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Sl(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fV(e,t){try{let n=e.sessionStorage.getItem(qM);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function dV(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(qM,JSON.stringify(n))}catch(r){_s(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ym.apply(this,arguments)}const $d=p.createContext(null),eE=p.createContext(null),Vs=p.createContext(null),cg=p.createContext(null),Pa=p.createContext({outlet:null,matches:[],isDataRoute:!1}),XM=p.createContext(null);function hV(e,t){let{relative:n}=t===void 0?{}:t;Cd()||Ee(!1);let{basename:r,navigator:i}=p.useContext(Vs),{hash:o,pathname:a,search:s}=fg(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Vi([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Cd(){return p.useContext(cg)!=null}function vo(){return Cd()||Ee(!1),p.useContext(cg).location}function JM(e){p.useContext(Vs).static||p.useLayoutEffect(e)}function Xt(){let{isDataRoute:e}=p.useContext(Pa);return e?$V():pV()}function pV(){Cd()||Ee(!1);let e=p.useContext($d),{basename:t,navigator:n}=p.useContext(Vs),{matches:r}=p.useContext(Pa),{pathname:i}=vo(),o=JSON.stringify(ug(r).map(l=>l.pathnameBase)),a=p.useRef(!1);return JM(()=>{a.current=!0}),p.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let c=Xx(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Vi([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}const mV=p.createContext(null);function vV(e){let t=p.useContext(Pa).outlet;return t&&p.createElement(mV.Provider,{value:e},t)}function fg(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=p.useContext(Pa),{pathname:i}=vo(),o=JSON.stringify(ug(r).map(a=>a.pathnameBase));return p.useMemo(()=>Xx(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function gV(e,t,n){Cd()||Ee(!1);let{navigator:r}=p.useContext(Vs),{matches:i}=p.useContext(Pa),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let l=vo(),u;if(t){var c;let m=typeof t=="string"?mo(t):t;s==="/"||(c=m.pathname)!=null&&c.startsWith(s)||Ee(!1),u=m}else u=l;let f=u.pathname||"/",d=s==="/"?f:f.slice(s.length)||"/",h=Ll(e,{pathname:d}),v=SV(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:Vi([s,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?s:Vi([s,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n);return t&&v?p.createElement(cg.Provider,{value:{location:Ym({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:St.Pop}},v):v}function yV(){let e=OV(),t=zM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:i},n):null,o)}const bV=p.createElement(yV,null);class wV extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?p.createElement(Pa.Provider,{value:this.props.routeContext},p.createElement(XM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _V(e){let{routeContext:t,match:n,children:r}=e,i=p.useContext($d);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Pa.Provider,{value:t},r)}function SV(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let s=o.findIndex(l=>l.route.id&&(a==null?void 0:a[l.route.id]));s>=0||Ee(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((s,l,u)=>{let c=l.route.id?a==null?void 0:a[l.route.id]:null,f=null;n&&(f=l.route.errorElement||bV);let d=t.concat(o.slice(0,u+1)),h=()=>{let v;return c?v=f:l.route.Component?v=p.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=s,p.createElement(_V,{match:l,routeContext:{outlet:s,matches:d,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?p.createElement(wV,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:h(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):h()},null)}var ZM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ZM||{}),Qm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qm||{});function xV(e){let t=p.useContext($d);return t||Ee(!1),t}function EV(e){let t=p.useContext(eE);return t||Ee(!1),t}function PV(e){let t=p.useContext(Pa);return t||Ee(!1),t}function ej(e){let t=PV(),n=t.matches[t.matches.length-1];return n.route.id||Ee(!1),n.route.id}function OV(){var e;let t=p.useContext(XM),n=EV(Qm.UseRouteError),r=ej(Qm.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function $V(){let{router:e}=xV(ZM.UseNavigateStable),t=ej(Qm.UseNavigateStable),n=p.useRef(!1);return JM(()=>{n.current=!0}),p.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ym({fromRouteId:t},o)))},[e,t])}function tE(e){return vV(e.context)}function CV(e){let{basename:t="/",children:n=null,location:r,navigationType:i=St.Pop,navigator:o,static:a=!1}=e;Cd()&&Ee(!1);let s=t.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:s,navigator:o,static:a}),[s,o,a]);typeof r=="string"&&(r=mo(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,v=p.useMemo(()=>{let m=aa(u,s);return m==null?null:{location:{pathname:m,search:c,hash:f,state:d,key:h},navigationType:i}},[s,u,c,f,d,h,i]);return v==null?null:p.createElement(Vs.Provider,{value:l},p.createElement(cg.Provider,{children:n,value:v}))}new Promise(()=>{});function RV(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:p.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:p.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(this,arguments)}function tj(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TV(e,t){return e.button===0&&(!t||t==="_self")&&!kV(e)}function e_(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function AV(e,t){let n=e_(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const IV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],DV=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];function MV(e,t){return eV({basename:t==null?void 0:t.basename,future:mu({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:xU({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||jV(),routes:e,mapRouteProperties:RV,window:t==null?void 0:t.window}).initialize()}function jV(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=mu({},t,{errors:NV(t.errors)})),t}function NV(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Jx(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const nj=p.createContext({isTransitioning:!1}),LV="startTransition",D$=ax[LV];function FV(e){D$?D$(e):e()}class BV{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function UV(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=p.useState(n.state),[a,s]=p.useState(),[l,u]=p.useState({isTransitioning:!1}),[c,f]=p.useState(),[d,h]=p.useState(),[v,m]=p.useState(),{v7_startTransition:b}=r||{},g=p.useCallback(E=>{b?FV(E):E()},[b]),y=p.useCallback((E,P)=>{let{unstable_viewTransitionOpts:O}=P;!O||n.window==null||typeof n.window.document.startViewTransition!="function"?g(()=>o(E)):d&&c?(c.resolve(),d.skipTransition(),m({state:E,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(s(E),u({isTransitioning:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[g,d,c,n.window]);p.useLayoutEffect(()=>n.subscribe(y),[n,y]),p.useEffect(()=>{l.isTransitioning&&f(new BV)},[l.isTransitioning]),p.useEffect(()=>{if(c&&a&&n.window){let E=a,P=c.promise,O=n.window.document.startViewTransition(async()=>{g(()=>o(E)),await P});O.finished.finally(()=>{f(void 0),h(void 0),s(void 0),u({isTransitioning:!1})}),h(O)}},[g,a,c,n.window]),p.useEffect(()=>{c&&a&&i.location.key===a.location.key&&c.resolve()},[c,d,i.location,a]),p.useEffect(()=>{!l.isTransitioning&&v&&(s(v.state),u({isTransitioning:!0,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),m(void 0))},[l.isTransitioning,v]);let w=p.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,P,O)=>n.navigate(E,{state:P,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(E,P,O)=>n.navigate(E,{replace:!0,state:P,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),_=n.basename||"/",S=p.useMemo(()=>({router:n,navigator:w,static:!1,basename:_}),[n,w,_]);return p.createElement(p.Fragment,null,p.createElement($d.Provider,{value:S},p.createElement(eE.Provider,{value:i},p.createElement(nj.Provider,{value:l},p.createElement(CV,{basename:_,location:i.location,navigationType:i.historyAction,navigator:w},i.initialized?p.createElement(VV,{routes:n.routes,state:i}):t)))),null)}function VV(e){let{routes:t,state:n}=e;return gV(t,void 0,n)}const WV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=p.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=t,d=tj(t,IV),{basename:h}=p.useContext(Vs),v,m=!1;if(typeof u=="string"&&zV.test(u)&&(v=u,WV))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=aa(_.pathname,h);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let b=hV(u,{relative:i}),g=qV(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function y(w){r&&r(w),w.defaultPrevented||g(w)}return p.createElement("a",mu({},d,{href:v||b,onClick:m||o?r:y,ref:n,target:l}))}),KV=p.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:l,unstable_viewTransition:u,children:c}=t,f=tj(t,DV),d=fg(l,{relative:f.relative}),h=vo(),v=p.useContext(eE),{navigator:m}=p.useContext(Vs),b=v!=null&&GV(d)&&u===!0,g=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,y=h.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(y=y.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase());let _=y===g||!a&&y.startsWith(g)&&y.charAt(g.length)==="/",S=w!=null&&(w===g||!a&&w.startsWith(g)&&w.charAt(g.length)==="/"),E={isActive:_,isPending:S,isTransitioning:b},P=_?r:void 0,O;typeof o=="function"?O=o(E):O=[o,_?"active":null,S?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let C=typeof s=="function"?s(E):s;return p.createElement(Qe,mu({},f,{"aria-current":P,className:O,ref:n,style:C,to:l,unstable_viewTransition:u}),typeof c=="function"?c(E):c)});var t_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(t_||(t_={}));var M$;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M$||(M$={}));function HV(e){let t=p.useContext($d);return t||Ee(!1),t}function qV(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s}=t===void 0?{}:t,l=Xt(),u=vo(),c=fg(e,{relative:a});return p.useCallback(f=>{if(TV(f,n)){f.preventDefault();let d=r!==void 0?r:Ss(u)===Ss(c);l(e,{replace:d,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s})}},[u,l,c,r,i,n,e,o,a,s])}function nE(e){let t=p.useRef(e_(e)),n=p.useRef(!1),r=vo(),i=p.useMemo(()=>AV(r.search,n.current?null:t.current),[r.search]),o=Xt(),a=p.useCallback((s,l)=>{const u=e_(typeof s=="function"?s(i):s);n.current=!0,o("?"+u,l)},[o,i]);return[i,a]}function GV(e,t){t===void 0&&(t={});let n=p.useContext(nj);n==null&&Ee(!1);let{basename:r}=HV(t_.useViewTransitionState),i=fg(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=aa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=aa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Q1(i.pathname,a)!=null||Q1(i.pathname,o)!=null}function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}function Pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function YV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function rj(...e){return t=>e.forEach(n=>YV(n,t))}function Je(...e){return p.useCallback(rj(...e),e)}function Oa(e,t=[]){let n=[];function r(o,a){const s=p.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:d,children:h,...v}=f,m=(d==null?void 0:d[e][l])||s,b=p.useMemo(()=>v,Object.values(v));return p.createElement(m.Provider,{value:b},h)}function c(f,d){const h=(d==null?void 0:d[e][l])||s,v=p.useContext(h);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(a=>p.createContext(a));return function(s){const l=(s==null?void 0:s[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,QV(i,...t)]}function QV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...s,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}const sa=p.forwardRef((e,t)=>{const{children:n,...r}=e,i=p.Children.toArray(n),o=i.find(JV);if(o){const a=o.props.children,s=i.map(l=>l===o?p.Children.count(a)>1?p.Children.only(null):p.isValidElement(a)?a.props.children:null:l);return p.createElement(n_,Oe({},r,{ref:t}),p.isValidElement(a)?p.cloneElement(a,void 0,s):null)}return p.createElement(n_,Oe({},r,{ref:t}),n)});sa.displayName="Slot";const n_=p.forwardRef((e,t)=>{const{children:n,...r}=e;return p.isValidElement(n)?p.cloneElement(n,{...ZV(r,n.props),ref:t?rj(t,n.ref):n.ref}):p.Children.count(n)>1?p.Children.only(null):null});n_.displayName="SlotClone";const XV=({children:e})=>p.createElement(p.Fragment,null,e);function JV(e){return p.isValidElement(e)&&e.type===XV}function ZV(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{o(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function ij(e){const t=e+"CollectionProvider",[n,r]=Oa(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:v,children:m}=h,b=G.useRef(null),g=G.useRef(new Map).current;return G.createElement(i,{scope:v,itemMap:g,collectionRef:b},m)},s=e+"CollectionSlot",l=G.forwardRef((h,v)=>{const{scope:m,children:b}=h,g=o(s,m),y=Je(v,g.collectionRef);return G.createElement(sa,{ref:y},b)}),u=e+"CollectionItemSlot",c="data-radix-collection-item",f=G.forwardRef((h,v)=>{const{scope:m,children:b,...g}=h,y=G.useRef(null),w=Je(v,y),_=o(u,m);return G.useEffect(()=>(_.itemMap.set(y,{ref:y,...g}),()=>void _.itemMap.delete(y))),G.createElement(sa,{[c]:"",ref:w},b)});function d(h){const v=o(e+"CollectionConsumer",h);return G.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const g=Array.from(b.querySelectorAll(`[${c}]`));return Array.from(v.itemMap.values()).sort((_,S)=>g.indexOf(_.ref.current)-g.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},d,r]}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(this,arguments)}const e9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ae=e9.reduce((e,t)=>{const n=p.forwardRef((r,i)=>{const{asChild:o,...a}=r,s=o?sa:t;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(s,Kr({},a,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function oj(e,t){e&&pn.flushSync(()=>e.dispatchEvent(t))}function ar(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function t9(e,t=globalThis==null?void 0:globalThis.document){const n=ar(e);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const r_="dismissableLayer.update",n9="dismissableLayer.pointerDownOutside",r9="dismissableLayer.focusOutside";let j$;const aj=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dg=p.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...u}=e,c=p.useContext(aj),[f,d]=p.useState(null),h=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,v]=p.useState({}),m=Je(t,O=>d(O)),b=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(g),w=f?b.indexOf(f):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,E=o9(O=>{const C=O.target,I=[...c.branches].some(N=>N.contains(C));!S||I||(o==null||o(O),s==null||s(O),O.defaultPrevented||l==null||l())},h),P=a9(O=>{const C=O.target;[...c.branches].some(N=>N.contains(C))||(a==null||a(O),s==null||s(O),O.defaultPrevented||l==null||l())},h);return t9(O=>{w===c.layers.size-1&&(i==null||i(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},h),p.useEffect(()=>{if(f)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(j$=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),N$(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=j$)}},[f,h,r,c]),p.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),N$())},[f,c]),p.useEffect(()=>{const O=()=>v({});return document.addEventListener(r_,O),()=>document.removeEventListener(r_,O)},[]),p.createElement(Ae.div,Me({},u,{ref:m,style:{pointerEvents:_?S?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,E.onPointerDownCapture)}))}),i9=p.forwardRef((e,t)=>{const n=p.useContext(aj),r=p.useRef(null),i=Je(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),p.createElement(Ae.div,Me({},e,{ref:i}))});function o9(e,t=globalThis==null?void 0:globalThis.document){const n=ar(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let c=function(){sj(n9,n,u,{discrete:!0})};var l=c;const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function a9(e,t=globalThis==null?void 0:globalThis.document){const n=ar(e),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&sj(r9,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function N$(){const e=new CustomEvent(r_);document.dispatchEvent(e)}function sj(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?oj(i,o):i.dispatchEvent(o)}const s9=dg,l9=i9,hg=p.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?UM.createPortal(p.createElement(Ae.div,Me({},i,{ref:t})),r):null}),_n=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{};function u9(e,t){return p.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const $a=e=>{const{present:t,children:n}=e,r=c9(t),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Je(r.ref,i.ref);return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:o}):null};$a.displayName="Presence";function c9(e){const[t,n]=p.useState(),r=p.useRef({}),i=p.useRef(e),o=p.useRef("none"),a=e?"mounted":"unmounted",[s,l]=u9(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=up(r.current);o.current=s==="mounted"?u:"none"},[s]),_n(()=>{const u=r.current,c=i.current;if(c!==e){const d=o.current,h=up(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),_n(()=>{if(t){const u=f=>{const h=up(r.current).includes(f.animationName);f.target===t&&h&&pn.flushSync(()=>l("ANIMATION_END"))},c=f=>{f.target===t&&(o.current=up(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function up(e){return(e==null?void 0:e.animationName)||"none"}function xs({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=f9({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,s=ar(n),l=p.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&s(f)}else i(u)},[o,e,i,s]);return[a,l]}function f9({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,i=p.useRef(r),o=ar(t);return p.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const rE=p.forwardRef((e,t)=>p.createElement(Ae.span,Kr({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),lj="ToastProvider",[iE,d9,h9]=ij("Toast"),[uj,dEe]=Oa("Toast",[h9]),[p9,pg]=uj(lj),cj=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=e,[s,l]=p.useState(null),[u,c]=p.useState(0),f=p.useRef(!1),d=p.useRef(!1);return p.createElement(iE.Provider,{scope:t},p.createElement(p9,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:s,onViewportChange:l,onToastAdd:p.useCallback(()=>c(h=>h+1),[]),onToastRemove:p.useCallback(()=>c(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d},a))};cj.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${lj}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const m9="ToastViewport",v9=["F8"],i_="toast.viewportPause",o_="toast.viewportResume",g9=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=v9,label:i="Notifications ({hotkey})",...o}=e,a=pg(m9,n),s=d9(n),l=p.useRef(null),u=p.useRef(null),c=p.useRef(null),f=p.useRef(null),d=Je(t,f,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;p.useEffect(()=>{const b=g=>{var y;r.every(_=>g[_]||g.code===_)&&((y=f.current)===null||y===void 0||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),p.useEffect(()=>{const b=l.current,g=f.current;if(v&&b&&g){const y=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(i_);g.dispatchEvent(E),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(o_);g.dispatchEvent(E),a.isClosePausedRef.current=!1}},_=E=>{!b.contains(E.relatedTarget)&&w()},S=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",_),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,a.isClosePausedRef]);const m=p.useCallback(({tabbingDirection:b})=>{const y=s().map(w=>{const _=w.ref.current,S=[_,...I9(_)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?y.reverse():y).flat()},[s]);return p.useEffect(()=>{const b=f.current;if(b){const g=y=>{const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const O=document.activeElement,C=y.shiftKey;if(y.target===b&&C){var S;(S=u.current)===null||S===void 0||S.focus();return}const M=m({tabbingDirection:C?"backwards":"forwards"}),V=M.findIndex(D=>D===O);if(D0(M.slice(V+1)))y.preventDefault();else{var E,P;C?(E=u.current)===null||E===void 0||E.focus():(P=c.current)===null||P===void 0||P.focus()}}};return b.addEventListener("keydown",g),()=>b.removeEventListener("keydown",g)}},[s,m]),p.createElement(l9,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"}},v&&p.createElement(L$,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});D0(b)}}),p.createElement(iE.Slot,{scope:n},p.createElement(Ae.ol,Oe({tabIndex:-1},o,{ref:d}))),v&&p.createElement(L$,{ref:c,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});D0(b)}}))}),y9="ToastFocusProxy",L$=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=pg(y9,n);return p.createElement(rE,Oe({"aria-hidden":!0,tabIndex:0},i,{ref:t,style:{position:"fixed"},onFocus:a=>{var s;const l=a.relatedTarget;!((s=o.viewport)!==null&&s!==void 0&&s.contains(l))&&r()}}))}),mg="Toast",b9="toast.swipeStart",w9="toast.swipeMove",_9="toast.swipeCancel",S9="toast.swipeEnd",x9=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=e,[s=!0,l]=xs({prop:r,defaultProp:i,onChange:o});return p.createElement($a,{present:n||s},p.createElement(fj,Oe({open:s},a,{ref:t,onClose:()=>l(!1),onPause:ar(e.onPause),onResume:ar(e.onResume),onSwipeStart:Pe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(e.onSwipeMove,u=>{const{x:c,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Pe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(e.onSwipeEnd,u=>{const{x:c,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})))}),[E9,P9]=uj(mg,{onClose(){}}),fj=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...v}=e,m=pg(mg,n),[b,g]=p.useState(null),y=Je(t,D=>g(D)),w=p.useRef(null),_=p.useRef(null),S=i||m.duration,E=p.useRef(0),P=p.useRef(S),O=p.useRef(0),{onToastAdd:C,onToastRemove:I}=m,N=ar(()=>{var D;(b==null?void 0:b.contains(document.activeElement))&&((D=m.viewport)===null||D===void 0||D.focus()),a()}),M=p.useCallback(D=>{!D||D===1/0||(window.clearTimeout(O.current),E.current=new Date().getTime(),O.current=window.setTimeout(N,D))},[N]);p.useEffect(()=>{const D=m.viewport;if(D){const $=()=>{M(P.current),u==null||u()},k=()=>{const F=new Date().getTime()-E.current;P.current=P.current-F,window.clearTimeout(O.current),l==null||l()};return D.addEventListener(i_,k),D.addEventListener(o_,$),()=>{D.removeEventListener(i_,k),D.removeEventListener(o_,$)}}},[m.viewport,S,l,u,M]),p.useEffect(()=>{o&&!m.isClosePausedRef.current&&M(S)},[o,S,m.isClosePausedRef,M]),p.useEffect(()=>(C(),()=>I()),[C,I]);const V=p.useMemo(()=>b?mj(b):null,[b]);return m.viewport?p.createElement(p.Fragment,null,V&&p.createElement(O9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},V),p.createElement(E9,{scope:n,onClose:N},pn.createPortal(p.createElement(iE.ItemSlot,{scope:n},p.createElement(s9,{asChild:!0,onEscapeKeyDown:Pe(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1})},p.createElement(Ae.li,Oe({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection},v,{ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pe(e.onKeyDown,D=>{D.key==="Escape"&&(s==null||s(D.nativeEvent),D.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Pe(e.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:Pe(e.onPointerMove,D=>{if(!w.current)return;const $=D.clientX-w.current.x,k=D.clientY-w.current.y,F=!!_.current,A=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,j=A?R(0,$):0,U=A?0:R(0,k),z=D.pointerType==="touch"?10:2,K={x:j,y:U},J={originalEvent:D,delta:K};F?(_.current=K,cp(w9,f,J,{discrete:!1})):F$(K,m.swipeDirection,z)?(_.current=K,cp(b9,c,J,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs($)>z||Math.abs(k)>z)&&(w.current=null)}),onPointerUp:Pe(e.onPointerUp,D=>{const $=_.current,k=D.target;if(k.hasPointerCapture(D.pointerId)&&k.releasePointerCapture(D.pointerId),_.current=null,w.current=null,$){const F=D.currentTarget,A={originalEvent:D,delta:$};F$($,m.swipeDirection,m.swipeThreshold)?cp(S9,h,A,{discrete:!0}):cp(_9,d,A,{discrete:!0}),F.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})))),m.viewport))):null});fj.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${mg}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const O9=e=>{const{__scopeToast:t,children:n,...r}=e,i=pg(mg,t),[o,a]=p.useState(!1),[s,l]=p.useState(!1);return T9(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:p.createElement(hg,{asChild:!0},p.createElement(rE,r,o&&p.createElement(p.Fragment,null,i.label," ",n)))},$9=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.createElement(Ae.div,Oe({},r,{ref:t}))}),C9=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.createElement(Ae.div,Oe({},r,{ref:t}))}),R9="ToastAction",dj=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n?p.createElement(pj,{altText:n,asChild:!0},p.createElement(hj,Oe({},r,{ref:t}))):null});dj.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${R9}\``)}};const k9="ToastClose",hj=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=P9(k9,n);return p.createElement(pj,{asChild:!0},p.createElement(Ae.button,Oe({type:"button"},r,{ref:t,onClick:Pe(e.onClick,i.onClose)})))}),pj=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return p.createElement(Ae.div,Oe({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},i,{ref:t}))});function mj(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),A9(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...mj(r))}}),t}function cp(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?oj(i,o):i.dispatchEvent(o)}const F$=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function T9(e=()=>{}){const t=ar(e);_n(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function A9(e){return e.nodeType===e.ELEMENT_NODE}function I9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function D0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const D9=cj,vj=g9,gj=x9,yj=$9,bj=C9,wj=dj,_j=hj;function Sj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Sj(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ut(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Sj(e))&&(r&&(r+=" "),r+=t);return r}const B$=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,U$=ut,oE=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return U$(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],f=o==null?void 0:o[u];if(c===null)return null;const d=B$(c)||B$(f);return i[u][d]}),s=n&&Object.entries(n).reduce((u,c)=>{let[f,d]=c;return d===void 0||(u[f]=d),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:f,className:d,...h}=c;return Object.entries(h).every(v=>{let[m,b]=v;return Array.isArray(b)?b.includes({...o,...s}[m]):{...o,...s}[m]===b})?[...u,f,d]:u},[]);return U$(e,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};var M9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const j9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ws=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:s,...l},u)=>p.createElement("svg",{ref:u,...M9,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:`lucide lucide-${j9(e)}`,...l},[...t.map(([c,f])=>p.createElement(c,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},xj=Ws("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Ej=Ws("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),N9=Ws("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),L9=Ws("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),F9=Ws("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),B9=Ws("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),U9=Ws("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function V9(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Pj(t))&&(r&&(r+=" "),r+=n);return r}function Pj(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Pj(e[r]))&&(n&&(n+=" "),n+=t);return n}var aE="-";function W9(e){var t=K9(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(s){var l=s.split(aE);return l[0]===""&&l.length!==1&&l.shift(),Oj(l,t)||z9(s)}function a(s,l){var u=n[s]||[];return l&&i[s]?[].concat(u,i[s]):u}return{getClassGroupId:o,getConflictingClassGroupIds:a}}function Oj(e,t){var a;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?Oj(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var o=e.join(aE);return(a=t.validators.find(function(s){var l=s.validator;return l(o)}))==null?void 0:a.classGroupId}}var V$=/^\[(.+)\]$/;function z9(e){if(V$.test(e)){var t=V$.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function K9(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=q9(Object.entries(e.classGroups),n);return i.forEach(function(o){var a=o[0],s=o[1];a_(s,r,a,t)}),r}function a_(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var o=i===""?t:W$(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(H9(i)){a_(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(a){var s=a[0],l=a[1];a_(l,W$(t,s),n,r)})})}function W$(e,t){var n=e;return t.split(aE).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function H9(e){return e.isThemeGetter}function q9(e,t){return t?e.map(function(n){var r=n[0],i=n[1],o=i.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(s){var l=s[0],u=s[1];return[t+l,u]})):a});return[r,o]}):e}function G9(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(o,a){n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(a){var s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set:function(a,s){n.has(a)?n.set(a,s):i(a,s)}}}var $j="!";function Y9(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(a){for(var s=[],l=0,u=0,c,f=0;f<a.length;f++){var d=a[f];if(l===0){if(d===r&&(n||a.slice(f,f+i)===t)){s.push(a.slice(u,f)),u=f+i;continue}if(d==="/"){c=f;continue}}d==="["?l++:d==="]"&&l--}var h=s.length===0?a:a.substring(u),v=h.startsWith($j),m=v?h.substring(1):h,b=c&&c>u?c-u:void 0;return{modifiers:s,hasImportantModifier:v,baseClassName:m,maybePostfixModifierPosition:b}}}function Q9(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function X9(e){return{cache:G9(e.cacheSize),splitModifiers:Y9(e),...W9(e)}}var J9=/\s+/;function Z9(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(J9).map(function(a){var s=n(a),l=s.modifiers,u=s.hasImportantModifier,c=s.baseClassName,f=s.maybePostfixModifierPosition,d=r(f?c.substring(0,f):c),h=!!f;if(!d){if(!f)return{isTailwindClass:!1,originalClassName:a};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:a};h=!1}var v=Q9(l).join(":"),m=u?v+$j:v;return{isTailwindClass:!0,modifierId:m,classGroupId:d,originalClassName:a,hasPostfixModifier:h}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var s=a.modifierId,l=a.classGroupId,u=a.hasPostfixModifier,c=s+l;return o.has(c)?!1:(o.add(c),i(l,u).forEach(function(f){return o.add(s+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function eW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o,a=s;function s(u){var c=t[0],f=t.slice(1),d=f.reduce(function(h,v){return v(h)},c());return r=X9(d),i=r.cache.get,o=r.cache.set,a=l,l(u)}function l(u){var c=i(u);if(c)return c;var f=Z9(u,r);return o(u,f),f}return function(){return a(V9.apply(null,arguments))}}function nt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Cj=/^\[(?:([a-z-]+):)?(.+)\]$/i,tW=/^\d+\/\d+$/,nW=new Set(["px","full","screen"]),rW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oW=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Dr(e){return es(e)||nW.has(e)||tW.test(e)||s_(e)}function s_(e){return zs(e,"length",fW)}function aW(e){return zs(e,"size",Rj)}function sW(e){return zs(e,"position",Rj)}function lW(e){return zs(e,"url",dW)}function fp(e){return zs(e,"number",es)}function es(e){return!Number.isNaN(Number(e))}function uW(e){return e.endsWith("%")&&es(e.slice(0,-1))}function $c(e){return z$(e)||zs(e,"number",z$)}function ke(e){return Cj.test(e)}function Cc(){return!0}function Po(e){return rW.test(e)}function cW(e){return zs(e,"",hW)}function zs(e,t,n){var r=Cj.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function fW(e){return iW.test(e)}function Rj(){return!1}function dW(e){return e.startsWith("url(")}function z$(e){return Number.isInteger(Number(e))}function hW(e){return oW.test(e)}function pW(){var e=nt("colors"),t=nt("spacing"),n=nt("blur"),r=nt("brightness"),i=nt("borderColor"),o=nt("borderRadius"),a=nt("borderSpacing"),s=nt("borderWidth"),l=nt("contrast"),u=nt("grayscale"),c=nt("hueRotate"),f=nt("invert"),d=nt("gap"),h=nt("gradientColorStops"),v=nt("gradientColorStopPositions"),m=nt("inset"),b=nt("margin"),g=nt("opacity"),y=nt("padding"),w=nt("saturate"),_=nt("scale"),S=nt("sepia"),E=nt("skew"),P=nt("space"),O=nt("translate"),C=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},N=function(){return["auto",ke,t]},M=function(){return[ke,t]},V=function(){return["",Dr]},D=function(){return["auto",es,ke]},$=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},k=function(){return["solid","dashed","dotted","double","none"]},F=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},A=function(){return["start","end","center","between","around","evenly","stretch"]},R=function(){return["","0",ke]},j=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},U=function(){return[es,fp]},z=function(){return[es,ke]};return{cacheSize:500,theme:{colors:[Cc],spacing:[Dr],blur:["none","",Po,ke],brightness:U(),borderColor:[e],borderRadius:["none","","full",Po,ke],borderSpacing:M(),borderWidth:V(),contrast:U(),grayscale:R(),hueRotate:z(),invert:R(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[uW,s_],inset:N(),margin:N(),opacity:U(),padding:M(),saturate:U(),scale:U(),sepia:R(),skew:z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[Po]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat($(),[ke])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$c]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",$c]}],"grid-cols":[{"grid-cols":[Cc]}],"col-start-end":[{col:["auto",{span:["full",$c]},ke]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Cc]}],"row-start-end":[{row:["auto",{span:[$c]},ke]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal"].concat(A())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(A(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(A(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ke,t]}],"min-w":[{"min-w":["min","max","fit",ke,Dr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Po]},Po,ke]}],h:[{h:[ke,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ke,Dr]}],"max-h":[{"max-h":[ke,t,"min","max","fit"]}],"font-size":[{text:["base",Po,s_]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fp]}],"font-family":[{font:[Cc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",es,fp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ke,Dr]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(k(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Dr]}],"underline-offset":[{"underline-offset":["auto",ke,Dr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat($(),[sW])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lW]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(k(),["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:k()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(k())}],"outline-offset":[{"outline-offset":[ke,Dr]}],"outline-w":[{outline:[Dr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Dr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Po,cW]}],"shadow-color":[{shadow:[Cc]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":F()}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Po,ke]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[$c,ke]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dr,fp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var mW=eW(pW);function be(...e){return mW(ut(e))}const vW=D9,kj=p.forwardRef(({className:e,...t},n)=>x.jsx(vj,{ref:n,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));kj.displayName=vj.displayName;const gW=oE("data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none",{variants:{variant:{default:"bg-background text-foreground border",destructive:"destructive border-destructive bg-destructive text-destructive-foreground group"}},defaultVariants:{variant:"default"}}),Tj=p.forwardRef(({className:e,variant:t,...n},r)=>x.jsx(gj,{ref:r,className:be(gW({variant:t}),e),...n}));Tj.displayName=gj.displayName;const yW=p.forwardRef(({className:e,...t},n)=>x.jsx(wj,{ref:n,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yW.displayName=wj.displayName;const Aj=p.forwardRef(({className:e,...t},n)=>x.jsx(_j,{ref:n,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:x.jsx(U9,{className:"h-4 w-4"})}));Aj.displayName=_j.displayName;const Ij=p.forwardRef(({className:e,...t},n)=>x.jsx(yj,{ref:n,className:be("text-sm font-semibold",e),...t}));Ij.displayName=yj.displayName;const Dj=p.forwardRef(({className:e,...t},n)=>x.jsx(bj,{ref:n,className:be("text-sm opacity-90",e),...t}));Dj.displayName=bj.displayName;const bW=1,wW=1e6;let M0=0;function _W(){return M0=(M0+1)%Number.MAX_SAFE_INTEGER,M0.toString()}const j0=new Map,K$=e=>{if(j0.has(e))return;const t=setTimeout(()=>{j0.delete(e),nf({type:"REMOVE_TOAST",toastId:e})},wW);j0.set(e,t)},SW=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,bW)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?K$(n):e.toasts.forEach(r=>{K$(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},em=[];let tm={toasts:[]};function nf(e){tm=SW(tm,e),em.forEach(t=>{t(tm)})}function xW({...e}){const t=_W(),n=i=>nf({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>nf({type:"DISMISS_TOAST",toastId:t});return nf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Tr(){const[e,t]=p.useState(tm);return p.useEffect(()=>(em.push(t),()=>{const n=em.indexOf(t);n>-1&&em.splice(n,1)}),[e]),{...e,toast:xW,dismiss:n=>nf({type:"DISMISS_TOAST",toastId:n})}}function EW(){const{toasts:e}=Tr();return x.jsxs(vW,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return x.jsxs(Tj,{...o,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(Ij,{children:n}),r&&x.jsx(Dj,{children:r})]}),i,x.jsx(Aj,{})]},t)}),x.jsx(kj,{})]})}function PW(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const H$={};function l_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&H$[t[0]]||(typeof t[0]=="string"&&(H$[t[0]]=new Date),PW(...t))}const Mj=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function q$(e,t,n){e.loadNamespaces(t,Mj(e,n))}function G$(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,Mj(e,r))}function OW(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const u=t.services.backendConnector.state[`${s}|${l}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(r,e)&&(!i||a(o,e)))}function $W(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(l_("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}):OW(e,t,n)}const CW=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,RW={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},kW=e=>RW[e],TW=e=>e.replace(CW,kW);let u_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:TW};function AW(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u_={...u_,...e}}function IW(){return u_}let jj;function DW(e){jj=e}function MW(){return jj}const jW={type:"3rdParty",init(e){AW(e.options.react),DW(e)}},NW=p.createContext();class LW{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const FW=(e,t)=>{const n=p.useRef();return p.useEffect(()=>{n.current=t?n.current:e},[e,t]),n.current};function Nj(e,t,n,r){return e.getFixedT(t,n,r)}function BW(e,t,n,r){return p.useCallback(Nj(e,t,n,r),[e,t,n,r])}function je(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=p.useContext(NW)||{},o=n||r||MW();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new LW),!o){l_("You will need to pass in an i18next instance by using initReactI18next");const _=(E,P)=>typeof P=="string"?P:P&&typeof P=="object"&&typeof P.defaultValue=="string"?P.defaultValue:Array.isArray(E)?E[E.length-1]:E,S=[_,{},!1];return S.t=_,S.i18n={},S.ready=!1,S}o.options.react&&o.options.react.wait!==void 0&&l_("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...IW(),...o.options.react,...t},{useSuspense:s,keyPrefix:l}=a;let u=e||i||o.options&&o.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const c=(o.isInitialized||o.initializedStoreOnce)&&u.every(_=>$W(_,o,a)),f=BW(o,t.lng||null,a.nsMode==="fallback"?u:u[0],l),d=()=>f,h=()=>Nj(o,t.lng||null,a.nsMode==="fallback"?u:u[0],l),[v,m]=p.useState(d);let b=u.join();t.lng&&(b=`${t.lng}${b}`);const g=FW(b),y=p.useRef(!0);p.useEffect(()=>{const{bindI18n:_,bindI18nStore:S}=a;y.current=!0,!c&&!s&&(t.lng?G$(o,t.lng,u,()=>{y.current&&m(h)}):q$(o,u,()=>{y.current&&m(h)})),c&&g&&g!==b&&y.current&&m(h);function E(){y.current&&m(h)}return _&&o&&o.on(_,E),S&&o&&o.store.on(S,E),()=>{y.current=!1,_&&o&&_.split(" ").forEach(P=>o.off(P,E)),S&&o&&S.split(" ").forEach(P=>o.store.off(P,E))}},[o,b]),p.useEffect(()=>{y.current&&c&&m(d)},[o,l,c]);const w=[v,o,c];if(w.t=v,w.i18n=o,w.ready=c,c||!c&&!s)return w;throw new Promise(_=>{t.lng?G$(o,t.lng,u,()=>_()):q$(o,u,()=>_())})}const UW={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Xm{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||UW,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Xm(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Xm(this.logger,t)}}var fi=new Xm;class vg{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(a=>{let[s,l]=a;for(let u=0;u<l;u++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[s,l]=a;for(let u=0;u<l;u++)s.apply(s,[t,...r])})}}function Rc(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function Y$(e){return e==null?"":""+e}function VW(e,t,n){e.forEach(r=>{t[r]&&(n[r]=t[r])})}const WW=/###/g;function rf(e,t,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(WW,"."):s}function i(){return!e||typeof e=="string"}const o=typeof t!="string"?t:t.split(".");let a=0;for(;a<o.length-1;){if(i())return{};const s=r(o[a]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return i()?{}:{obj:e,k:r(o[a])}}function Q$(e,t,n){const{obj:r,k:i}=rf(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let o=t[t.length-1],a=t.slice(0,t.length-1),s=rf(e,a,Object);for(;s.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=rf(e,a,Object),s&&s.obj&&typeof s.obj[`${s.k}.${o}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n}function zW(e,t,n,r){const{obj:i,k:o}=rf(e,t,Object);i[o]=i[o]||[],r&&(i[o]=i[o].concat(n)),r||i[o].push(n)}function Jm(e,t){const{obj:n,k:r}=rf(e,t);if(n)return n[r]}function KW(e,t,n){const r=Jm(e,n);return r!==void 0?r:Jm(t,n)}function Lj(e,t,n){for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):Lj(e[r],t[r],n):e[r]=t[r]);return e}function hl(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var HW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function qW(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>HW[t]):e}class GW{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const YW=[" ",",","?","!",";"],QW=new GW(20);function XW(e,t,n){t=t||"",n=n||"";const r=YW.filter(a=>t.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=QW.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!i.test(e);if(!o){const a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}function c_(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let a,s="";for(let l=o;l<r.length;++l)if(l!==o&&(s+=n),s+=r[l],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;o+=l-o+1;break}i=a}return i}function Zm(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class X$ extends vg{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;t.indexOf(".")>-1?s=t.split("."):(s=[t,n],r&&(Array.isArray(r)?s.push(...r):typeof r=="string"&&o?s.push(...r.split(o)):s.push(r)));const l=Jm(this.data,s);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=s[0],n=s[1],r=s.slice(2).join(".")),l||!a||typeof r!="string"?l:c_(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[t,n];r&&(s=s.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(s=t.split("."),i=n,n=s[1]),this.addNamespaces(n),Q$(this.data,s,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Object.prototype.toString.apply(r[o])==="[object Array]")&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[t,n];t.indexOf(".")>-1&&(s=t.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let l=Jm(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Lj(l,r,o):l={...l,...r},Q$(this.data,s,l),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Fj={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const J$={};class ev extends vg{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),VW(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=fi.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!XW(t,r,i);if(a&&!s){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:o};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(i)}return typeof o=="string"&&(o=[o]),{key:t,namespaces:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(t[t.length-1],n),l=s[s.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const _=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${_}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${_}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:a}const f=this.resolve(t,n);let d=f&&f.res;const h=f&&f.usedKey||a,v=f&&f.exactUsedKey||a,m=Object.prototype.toString.apply(d),b=["[object Number]","[object Function]","[object RegExp]"],g=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&b.indexOf(m)<0&&!(typeof g=="string"&&m==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...n,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(f.res=_,f.usedParams=this.getUsedParamsDetails(n),f):_}if(o){const _=m==="[object Array]",S=_?[]:{},E=_?v:h;for(const P in d)if(Object.prototype.hasOwnProperty.call(d,P)){const O=`${E}${o}${P}`;S[P]=this.translate(O,{...n,joinArrays:!1,ns:s}),S[P]===O&&(S[P]=d[P])}d=S}}else if(y&&typeof g=="string"&&m==="[object Array]")d=d.join(g),d&&(d=this.extendTranslation(d,t,n,r));else{let _=!1,S=!1;const E=n.count!==void 0&&typeof n.count!="string",P=ev.hasDefaultValue(n),O=E?this.pluralResolver.getSuffix(u,n.count,n):"",C=n.ordinal&&E?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",I=E&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),N=I&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${O}`]||n[`defaultValue${C}`]||n.defaultValue;!this.isValidLookup(d)&&P&&(_=!0,d=N),this.isValidLookup(d)||(S=!0,d=a);const V=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:d,D=P&&N!==d&&this.options.updateMissing;if(S||_||D){if(this.logger.log(D?"updateKey":"missingKey",u,l,a,D?N:d),o){const A=this.resolve(a,{...n,keySeparator:!1});A&&A.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const k=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&k&&k[0])for(let A=0;A<k.length;A++)$.push(k[A]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(n.lng||this.language):$.push(n.lng||this.language);const F=(A,R,j)=>{const U=P&&j!==d?j:V;this.options.missingKeyHandler?this.options.missingKeyHandler(A,l,R,U,D,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(A,l,R,U,D,n),this.emit("missingKey",A,l,R,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?$.forEach(A=>{const R=this.pluralResolver.getSuffixes(A,n);I&&n[`defaultValue${this.options.pluralSeparator}zero`]&&R.indexOf(`${this.options.pluralSeparator}zero`)<0&&R.push(`${this.options.pluralSeparator}zero`),R.forEach(j=>{F([A],a+j,n[`defaultValue${j}`]||N)})}):F($,a,N))}d=this.extendTranslation(d,t,n,f,r),S&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${a}`),(S||_)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,_?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(t,n,r,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=t.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language,r),u){const d=t.match(this.interpolator.nestingRegexp),h=d&&d.length;c<h&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var d=arguments.length,h=new Array(d),v=0;v<d;v++)h[v]=arguments[v];return o&&o[0]===h[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):a.translate(...h,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=typeof s=="string"?[s]:s;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=Fj.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,a,s;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&typeof n.count!="string",h=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),v=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(b=>{this.isValidLookup(r)||(s=b,!J$[`${m[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(J$[`${m[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(g=>{if(this.isValidLookup(r))return;a=g;const y=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,c,g,b,n);else{let _;d&&(_=this.pluralResolver.getSuffix(g,n.count,n));const S=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(y.push(c+_),n.ordinal&&_.indexOf(E)===0&&y.push(c+_.replace(E,this.options.pluralSeparator)),h&&y.push(c+S)),v){const P=`${c}${this.options.contextSeparator}${n.context}`;y.push(P),d&&(y.push(P+_),n.ordinal&&_.indexOf(E)===0&&y.push(P+_.replace(E,this.options.pluralSeparator)),h&&y.push(P+S))}}let w;for(;w=y.pop();)this.isValidLookup(r)||(o=w,r=this.getResource(g,b,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:s}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}function N0(e){return e.charAt(0).toUpperCase()+e.slice(1)}class Z${constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=fi.create("languageUtils")}getScriptPartFromCode(t){if(t=Zm(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Zm(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=N0(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=N0(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=N0(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),r.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}}let JW=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ZW={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const ez=["v1","v2","v3"],tz=["v4"],eC={zero:0,one:1,two:2,few:3,many:4,other:5};function nz(){const e={};return JW.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:ZW[t.fc]}})}),e}class rz{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=fi.create("pluralResolver"),(!this.options.compatibilityJSON||tz.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=nz()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Zm(t==="dev"?"en":t),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>eC[i]-eC[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!ez.includes(this.options.compatibilityJSON)}}function tC(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=KW(e,t,n);return!o&&i&&typeof n=="string"&&(o=c_(e,n,r),o===void 0&&(o=c_(t,n,r))),o}class iz{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=fi.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const n=t.interpolation;this.escape=n.escape!==void 0?n.escape:qW,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?hl(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?hl(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?hl(n.nestingPrefix):n.nestingPrefixEscaped||hl("$t("),this.nestingSuffix=n.nestingSuffix?hl(n.nestingSuffix):n.nestingSuffixEscaped||hl(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,a,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(v){return v.replace(/\$/g,"$$$$")}const c=v=>{if(v.indexOf(this.formatSeparator)<0){const y=tC(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:v}):y}const m=v.split(this.formatSeparator),b=m.shift().trim(),g=m.join(this.formatSeparator).trim();return this.format(tC(n,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...i,...n,interpolationkey:b})};this.resetRegExp();const f=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>u(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?u(this.escape(v)):u(v)}].forEach(v=>{for(s=0;o=v.regex.exec(t);){const m=o[1].trim();if(a=c(m),a===void 0)if(typeof f=="function"){const g=f(t,o,i);a=typeof g=="string"?g:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))a="";else if(d){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${t}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=Y$(a));const b=v.safeValue(a);if(t=t.replace(o[0],b),d?(v.regex.lastIndex+=a.length,v.regex.lastIndex-=o[0].length):v.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,a;function s(l,u){const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let d=`{${f[1]}`;l=f[0],d=this.interpolate(d,a);const h=d.match(/'/g),v=d.match(/"/g);(h&&h.length%2===0&&!v||v.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),u&&(a={...u,...a})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${c}${d}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l}for(;i=this.nestingRegexp.exec(t);){let l=[];a={...r},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(o=n(s.call(this,i[1].trim(),a),a),o&&i[0]===t&&typeof o!="string")return o;typeof o!="string"&&(o=Y$(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),u&&(o=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}function oz(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(!a)return;const[s,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");n[s.trim()]||(n[s.trim()]=u),u==="false"&&(n[s.trim()]=!1),u==="true"&&(n[s.trim()]=!0),isNaN(u)||(n[s.trim()]=parseInt(u,10))})}return{formatName:t,formatOptions:n}}function pl(e){const t={};return function(r,i,o){const a=i+JSON.stringify(o);let s=t[a];return s||(s=e(Zm(i),o),t[a]=s),s(r)}}class az{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=fi.create("formatter"),this.options=t,this.formats={number:pl((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:pl((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:pl((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:pl((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:pl((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=pl(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((s,l)=>{const{formatName:u,formatOptions:c}=oz(l);if(this.formats[u]){let f=s;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=d.locale||d.lng||i.locale||i.lng||r;f=this.formats[u](s,h,{...c,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${u}`);return s},t)}}function sz(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}class lz extends vg{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=fi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},a={},s={},l={};return t.forEach(u=>{let c=!0;n.forEach(f=>{const d=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,c=!1,a[d]===void 0&&(a[d]=!0),o[d]===void 0&&(o[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(s[u]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),o=i[0],a=i[1];n&&this.emit("failedLoading",o,a,n),r&&this.store.addResourceBundle(o,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2;const s={};this.queue.forEach(l=>{zW(l.loaded,[o],a),sz(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{s[u][f]===void 0&&(s[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:a});return}this.readingCalls++;const s=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,a)},o);return}a(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(c=>s(null,c)).catch(s):s(null,u)}catch(u){s(u)}return}return l(t,n,s)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,a),!a&&s&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,s),this.loaded(t,a,s)})}saveMissing(t,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(t,n,r,i,l):c=u(t,n,r,i),c&&typeof c.then=="function"?c.then(f=>s(null,f)).catch(s):s(null,c)}catch(c){s(c)}else u(t,n,r,i,s,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}function nC(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let n={};if(typeof t[1]=="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function rC(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function dp(){}function uz(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}class zf extends vg{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=rC(t),this.services={},this.logger=fi,this.modules={external:[]},uz(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=nC();this.options={...i,...this.options,...rC(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function o(c){return c?typeof c=="function"?new c:c:null}if(!this.options.isClone){this.modules.logger?fi.init(o(this.modules.logger),this.options):fi.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=az);const f=new Z$(this.options);this.store=new X$(this.options.resources,this.options);const d=this.services;d.logger=fi,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new rz(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=o(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new iz(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new lz(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(h){for(var v=arguments.length,m=new Array(v>1?v-1:0),b=1;b<v;b++)m[b-1]=arguments[b];t.emit(h,...m)}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new ev(this.services,this.options),this.translator.on("*",function(h){for(var v=arguments.length,m=new Array(v>1?v-1:0),b=1;b<v;b++)m[b-1]=arguments[b];t.emit(h,...m)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=dp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});const l=Rc(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dp;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],a=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(s=>a(s)),this.services.backendConnector.load(o,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(t,n,r){const i=Rc();return t||(t=this.languages),n||(n=this.options.ns),r||(r=dp),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Fj.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=Rc();this.emit("languageChanging",t);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{a(c,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t),i}getFixedT(t,n,r){var i=this;const o=function(a,s){let l;if(typeof s!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([a,s].concat(c))}else l={...s};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix=l.keyPrefix||r||o.keyPrefix;const d=i.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(a)?h=a.map(v=>`${l.keyPrefix}${d}${v}`):h=l.keyPrefix?`${l.keyPrefix}${d}${a}`:a,i.t(h,l)};return typeof t=="string"?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const u=this.services.backendConnector.state[`${s}|${l}`];return u===-1||u===2};if(n.precheck){const s=n.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!i||a(o,t)))}loadNamespaces(t,n){const r=Rc();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Rc();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],o=t.filter(a=>i.indexOf(a)<0);return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Z$(nC());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new zf(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dp;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new zf(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new X$(this.store.data,i),o.services.resourceStore=o.store),o.translator=new ev(o.services,i),o.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];o.emit(s,...u)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const En=zf.createInstance();En.createInstance=zf.createInstance;En.createInstance;En.dir;En.init;En.loadResources;En.reloadResources;En.use;En.changeLanguage;En.getFixedT;En.t;En.exists;En.setDefaultNamespace;En.hasLoadedNamespace;En.loadNamespaces;En.loadLanguages;function gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function cz(e,t){if(Kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bj(e){var t=cz(e,"string");return Kf(t)=="symbol"?t:String(t)}function iC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bj(r.key),r)}}function yg(e,t,n){return t&&iC(e.prototype,t),n&&iC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Uj=[],fz=Uj.forEach,dz=Uj.slice;function hz(e){return fz.call(dz.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var oC=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,pz=function(t,n,r){var i=r||{};i.path=i.path||"/";var o=encodeURIComponent(n),a="".concat(t,"=").concat(o);if(i.maxAge>0){var s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(s))}if(i.domain){if(!oC.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!oC.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},aC={create:function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+r*60*1e3)),i&&(o.domain=i),document.cookie=pz(t,encodeURIComponent(n),o)},read:function(t){for(var n="".concat(t,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var o=r[i];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(n)===0)return o.substring(n.length,o.length)}return null},remove:function(t){this.create(t,"",-1)}},mz={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var r=aC.read(t.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&aC.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},vz={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),o=i.split("&"),a=0;a<o.length;a++){var s=o[a].indexOf("=");if(s>0){var l=o[a].substring(0,s);l===t.lookupQuerystring&&(n=o[a].substring(s+1))}}}return n}},kc=null,sC=function(){if(kc!==null)return kc;try{kc=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{kc=!1}return kc},gz={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&sC()){var r=window.localStorage.getItem(t.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&sC()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},Tc=null,lC=function(){if(Tc!==null)return Tc;try{Tc=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Tc=!1}return Tc},yz={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&lC()){var r=window.sessionStorage.getItem(t.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&lC()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},bz={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},wz={name:"htmlTag",lookup:function(t){var n,r=t.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},_z={name:"path",lookup:function(t){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof r[t.lookupFromPathIndex]!="string")return;n=r[t.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},Sz={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function xz(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var Vj=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gg(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return yg(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=hz(r,this.options||{},xz()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(o){return o.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(mz),this.addDetector(vz),this.addDetector(gz),this.addDetector(yz),this.addDetector(bz),this.addDetector(wz),this.addDetector(_z),this.addDetector(Sz)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(o){if(r.detectors[o]){var a=r.detectors[o].lookup(r.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.map(function(o){return r.options.convertDetectedLanguage(o)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(o){i.detectors[o]&&i.detectors[o].cacheUserLanguage(n,i.options)}))}}]),e}();Vj.type="languageDetector";var Wj=[],Ez=Wj.forEach,Pz=Wj.slice;function Oz(e){return Ez.call(Pz.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}function $z(e){return e?typeof e=="function"?new e:e:null}function Cz(){return{handleEmptyResourcesAsFailed:!0,cacheHitMode:"none"}}function uC(e,t,n,r){var i=e.read.bind(e);if(i.length===2){try{var o=i(t,n);o&&typeof o.then=="function"?o.then(function(a){return r(null,a)}).catch(r):r(null,o)}catch(a){r(a)}return}i(t,n,r)}var zj=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};gg(this,e),this.backends=[],this.type="backend",this.allOptions=r,this.init(t,n)}return yg(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=Oz(i,this.options||{},Cz()),this.allOptions=o,this.options.backends&&this.options.backends.forEach(function(a,s){r.backends[s]=r.backends[s]||$z(a),r.backends[s].init(n,r.options.backendOptions&&r.options.backendOptions[s]||{},o)}),this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"read",value:function(n,r,i){var o=this,a=this.backends.length,s=function u(c){if(c>=a)return i(new Error("non of the backend loaded data",!0));var f=c===a-1,d=o.options.handleEmptyResourcesAsFailed&&!f?0:-1,h=o.backends[c];h.read?uC(h,n,r,function(v,m,b){if(!v&&m&&Object.keys(m).length>d){if(i(null,m,c),l(c-1,m),h.save&&o.options.cacheHitMode&&["refresh","refreshAndUpdateStore"].indexOf(o.options.cacheHitMode)>-1){if(b&&o.options.refreshExpirationTime&&b+o.options.refreshExpirationTime>Date.now())return;var g=o.backends[c+1];g&&g.read&&uC(g,n,r,function(y,w){y||w&&(Object.keys(w).length<=d||(l(c,w),o.options.cacheHitMode==="refreshAndUpdateStore"&&o.services&&o.services.resourceStore&&o.services.resourceStore.addResourceBundle(n,r,w)))})}}else u(c+1)}):u(c+1)},l=function u(c,f){if(!(c<0)){var d=o.backends[c];d.save&&d.save(n,r,f),u(c-1,f)}};s(0)}},{key:"create",value:function(n,r,i,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){},s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.backends.forEach(function(l){if(l.create){var u=l.create.bind(l);if(u.length<6){try{var c;u.length===5?c=u(n,r,i,o,s):c=u(n,r,i,o),c&&typeof c.then=="function"?c.then(function(f){return a(null,f)}).catch(a):a(null,c)}catch(f){a(f)}return}u(n,r,i,o,a,s)}})}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,o=r.languageUtils,a=r.logger,s=i.language;if(!(s&&s.toLowerCase()==="cimode")){var l=[],u=function(f){var d=o.toResolveHierarchy(f);d.forEach(function(h){l.indexOf(h)<0&&l.push(h)})};u(s),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){n.allOptions.ns.forEach(function(f){i.read(c,f,"read",null,null,function(d,h){d&&a.warn("loading namespace ".concat(f," for language ").concat(c," failed"),d),!d&&h&&a.log("loaded namespace ".concat(f," for language ").concat(c),h),i.loaded("".concat(c,"|").concat(f),d,h)})})})}}}]),e}();zj.type="backend";function f_(e){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f_(e)}function Kj(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":f_(XMLHttpRequest))==="object"}function Rz(e){return!!e&&typeof e.then=="function"}function kz(e){return Rz(e)?e:Promise.resolve(e)}function Tz(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var d_={exports:{}},hp={exports:{}},cC;function Az(){return cC||(cC=1,function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof T<"u"&&T,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(a){var s=typeof o<"u"&&o||typeof self<"u"&&self||typeof s<"u"&&s,l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u($){return $&&DataView.prototype.isPrototypeOf($)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function($){return $&&c.indexOf(Object.prototype.toString.call($))>-1};function d($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test($)||$==="")throw new TypeError('Invalid character in header field name: "'+$+'"');return $.toLowerCase()}function h($){return typeof $!="string"&&($=String($)),$}function v($){var k={next:function(){var F=$.shift();return{done:F===void 0,value:F}}};return l.iterable&&(k[Symbol.iterator]=function(){return k}),k}function m($){this.map={},$ instanceof m?$.forEach(function(k,F){this.append(F,k)},this):Array.isArray($)?$.forEach(function(k){this.append(k[0],k[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(k){this.append(k,$[k])},this)}m.prototype.append=function($,k){$=d($),k=h(k);var F=this.map[$];this.map[$]=F?F+", "+k:k},m.prototype.delete=function($){delete this.map[d($)]},m.prototype.get=function($){return $=d($),this.has($)?this.map[$]:null},m.prototype.has=function($){return this.map.hasOwnProperty(d($))},m.prototype.set=function($,k){this.map[d($)]=h(k)},m.prototype.forEach=function($,k){for(var F in this.map)this.map.hasOwnProperty(F)&&$.call(k,this.map[F],F,this)},m.prototype.keys=function(){var $=[];return this.forEach(function(k,F){$.push(F)}),v($)},m.prototype.values=function(){var $=[];return this.forEach(function(k){$.push(k)}),v($)},m.prototype.entries=function(){var $=[];return this.forEach(function(k,F){$.push([F,k])}),v($)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function b($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function g($){return new Promise(function(k,F){$.onload=function(){k($.result)},$.onerror=function(){F($.error)}})}function y($){var k=new FileReader,F=g(k);return k.readAsArrayBuffer($),F}function w($){var k=new FileReader,F=g(k);return k.readAsText($),F}function _($){for(var k=new Uint8Array($),F=new Array(k.length),A=0;A<k.length;A++)F[A]=String.fromCharCode(k[A]);return F.join("")}function S($){if($.slice)return $.slice(0);var k=new Uint8Array($.byteLength);return k.set(new Uint8Array($)),k.buffer}function E(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:l.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:l.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:l.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():l.arrayBuffer&&l.blob&&u($)?(this._bodyArrayBuffer=S($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||f($))?this._bodyArrayBuffer=S($):this._bodyText=$=Object.prototype.toString.call($):this._bodyText="",this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var $=b(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var $=b(this);return $||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(y)}),this.text=function(){var $=b(this);if($)return $;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O($){var k=$.toUpperCase();return P.indexOf(k)>-1?k:$}function C($,k){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');k=k||{};var F=k.body;if($ instanceof C){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,k.headers||(this.headers=new m($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!F&&$._bodyInit!=null&&(F=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=k.credentials||this.credentials||"same-origin",(k.headers||!this.headers)&&(this.headers=new m(k.headers)),this.method=O(k.method||this.method||"GET"),this.mode=k.mode||this.mode||null,this.signal=k.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(F),(this.method==="GET"||this.method==="HEAD")&&(k.cache==="no-store"||k.cache==="no-cache")){var A=/([?&])_=[^&]*/;if(A.test(this.url))this.url=this.url.replace(A,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function I($){var k=new FormData;return $.trim().split("&").forEach(function(F){if(F){var A=F.split("="),R=A.shift().replace(/\+/g," "),j=A.join("=").replace(/\+/g," ");k.append(decodeURIComponent(R),decodeURIComponent(j))}}),k}function N($){var k=new m,F=$.replace(/\r?\n[\t ]+/g," ");return F.split("\r").map(function(A){return A.indexOf(`
`)===0?A.substr(1,A.length):A}).forEach(function(A){var R=A.split(":"),j=R.shift().trim();if(j){var U=R.join(":").trim();k.append(j,U)}}),k}E.call(C.prototype);function M($,k){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');k||(k={}),this.type="default",this.status=k.status===void 0?200:k.status,this.ok=this.status>=200&&this.status<300,this.statusText=k.statusText===void 0?"":""+k.statusText,this.headers=new m(k.headers),this.url=k.url||"",this._initBody($)}E.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},M.error=function(){var $=new M(null,{status:0,statusText:""});return $.type="error",$};var V=[301,302,303,307,308];M.redirect=function($,k){if(V.indexOf(k)===-1)throw new RangeError("Invalid status code");return new M(null,{status:k,headers:{location:$}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(k,F){this.message=k,this.name=F;var A=Error(k);this.stack=A.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function D($,k){return new Promise(function(F,A){var R=new C($,k);if(R.signal&&R.signal.aborted)return A(new a.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function U(){j.abort()}j.onload=function(){var K={status:j.status,statusText:j.statusText,headers:N(j.getAllResponseHeaders()||"")};K.url="responseURL"in j?j.responseURL:K.headers.get("X-Request-URL");var J="response"in j?j.response:j.responseText;setTimeout(function(){F(new M(J,K))},0)},j.onerror=function(){setTimeout(function(){A(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){A(new TypeError("Network request failed"))},0)},j.onabort=function(){setTimeout(function(){A(new a.DOMException("Aborted","AbortError"))},0)};function z(K){try{return K===""&&s.location.href?s.location.href:K}catch{return K}}j.open(R.method,z(R.url),!0),R.credentials==="include"?j.withCredentials=!0:R.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(l.blob?j.responseType="blob":l.arrayBuffer&&R.headers.get("Content-Type")&&R.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(j.responseType="arraybuffer")),k&&typeof k.headers=="object"&&!(k.headers instanceof m)?Object.getOwnPropertyNames(k.headers).forEach(function(K){j.setRequestHeader(K,h(k.headers[K]))}):R.headers.forEach(function(K,J){j.setRequestHeader(J,K)}),R.signal&&(R.signal.addEventListener("abort",U),j.onreadystatechange=function(){j.readyState===4&&R.signal.removeEventListener("abort",U)}),j.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return D.polyfill=!0,s.fetch||(s.fetch=D,s.Headers=m,s.Request=C,s.Response=M),a.Headers=m,a.Request=C,a.Response=M,a.fetch=D,a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(hp,hp.exports)),hp.exports}(function(e,t){var n;if(typeof fetch=="function"&&(typeof T<"u"&&T.fetch?n=T.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof Tz<"u"&&typeof window>"u"){var r=n||Az();r.default&&(r=r.default),t.default=r,e.exports=t.default}})(d_,d_.exports);var Hj=d_.exports;const qj=_d(Hj),fC=$I({__proto__:null,default:qj},[Hj]);function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(r){Iz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iz(e,t,n){return t=Dz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dz(e){var t=Mz(e,"string");return Es(t)=="symbol"?t:String(t)}function Mz(e,t){if(Es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}var Wi;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Wi=global.fetch:typeof window<"u"&&window.fetch?Wi=window.fetch:Wi=fetch);var Hf;Kj()&&(typeof global<"u"&&global.XMLHttpRequest?Hf=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Hf=window.XMLHttpRequest));var tv;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?tv=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(tv=window.ActiveXObject));!Wi&&fC&&!Hf&&!tv&&(Wi=qj||fC);typeof Wi!="function"&&(Wi=void 0);var h_=function(t,n){if(n&&Es(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},pC=function(t,n,r,i){var o=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(u){r(null,{status:l.status,data:u})}).catch(r)};if(i){var a=i(t,n);if(a instanceof Promise){a.then(o).catch(r);return}}typeof fetch=="function"?fetch(t,n).then(o).catch(r):Wi(t,n).then(o).catch(r)},mC=!1,jz=function(t,n,r,i){t.queryStringParams&&(n=h_(n,t.queryStringParams));var o=hC({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var a=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,s=hC({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:o},mC?{}:a),l=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{pC(n,s,i,l)}catch(u){if(!a||Object.keys(a).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(a).forEach(function(c){delete s[c]}),pC(n,s,i,l),mC=!0}catch(c){i(c)}}},Nz=function(t,n,r,i){r&&Es(r)==="object"&&(r=h_("",r).slice(1)),t.queryStringParams&&(n=h_(n,t.queryStringParams));try{var o;Hf?o=new Hf:o=new tv("MSXML2.XMLHTTP.3.0"),o.open(r?"POST":"GET",n,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var a=t.customHeaders;if(a=typeof a=="function"?a():a,a)for(var s in a)o.setRequestHeader(s,a[s]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(l){console&&console.log(l)}},Lz=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Wi&&n.indexOf("file:")!==0)return jz(t,n,r,i);if(Kj()||typeof ActiveXObject=="function")return Nz(t,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){Gj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yj(r.key),r)}}function Bz(e,t,n){return t&&gC(e.prototype,t),n&&gC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gj(e,t,n){return t=Yj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yj(e){var t=Uz(e,"string");return qf(t)=="symbol"?t:String(t)}function Uz(e,t){if(qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vz=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return Gj({},r,i||"")},parseLoadPayload:function(n,r){},request:Lz,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Qj=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Fz(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return Bz(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=L0(L0(L0({},Vz()),this.options||{}),i),this.allOptions=o,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,o,a){var s=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=kz(l),l.then(function(u){if(!u)return a(null,{});var c=s.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});s.loadUrl(c,a,r,o)})}},{key:"loadUrl",value:function(n,r,i,o){var a=this,s=typeof i=="string"?[i]:i,l=typeof o=="string"?[o]:o,u=this.options.parseLoadPayload(s,l);this.options.request(this.options,n,u,function(c,f){if(f&&(f.status>=500&&f.status<600||!f.status))return r("failed loading "+n+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return r("failed loading "+n+"; status code: "+f.status,!1);if(!f&&c&&c.message&&c.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+c.message,!0);if(c)return r(c,!1);var d,h;try{typeof f.data=="string"?d=a.options.parse(f.data,i,o):d=f.data}catch{h="failed parsing "+n+" to json"}if(h)return r(h,!1);r(null,d)})}},{key:"create",value:function(n,r,i,o,a){var s=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,o),u=0,c=[],f=[];n.forEach(function(d){var h=s.options.addPath;typeof s.options.addPath=="function"&&(h=s.options.addPath(d,r));var v=s.services.interpolator.interpolate(h,{lng:d,ns:r});s.options.request(s.options,v,l,function(m,b){u+=1,c.push(m),f.push(b),u===n.length&&typeof a=="function"&&a(c,f)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,o=r.languageUtils,a=r.logger,s=i.language;if(!(s&&s.toLowerCase()==="cimode")){var l=[],u=function(f){var d=o.toResolveHierarchy(f);d.forEach(function(h){l.indexOf(h)<0&&l.push(h)})};u(s),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){n.allOptions.ns.forEach(function(f){i.read(c,f,"read",null,null,function(d,h){d&&a.warn("loading namespace ".concat(f," for language ").concat(c," failed"),d),!d&&h&&a.log("loaded namespace ".concat(f," for language ").concat(c),h),i.loaded("".concat(c,"|").concat(f),d,h)})})})}}}]),e}();Qj.type="backend";function Wz(e,t,n){return t=Bj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(n),!0).forEach(function(r){Wz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zz=function(){function e(t){gg(this,e),this.store=t.store}return yg(e,[{key:"setItem",value:function(n,r){if(this.store)try{this.store.setItem(n,r)}catch{}}},{key:"getItem",value:function(n,r){if(this.store)try{return this.store.getItem(n,r)}catch{}}}]),e}();function Kz(){var e=null;try{e=window.localStorage}catch(t){typeof window<"u"&&console.log("Failed to load local storage.",t)}return{prefix:"i18next_res_",expirationTime:7*24*60*60*1e3,defaultVersion:void 0,versions:{},store:e}}var Xj=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gg(this,e),this.init(t,n),this.type="backend"}return yg(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.services=n,this.options=F0(F0(F0({},Kz()),this.options),r),this.storage=new zz(this.options)}},{key:"read",value:function(n,r,i){var o=Date.now();if(!this.storage.store)return i(null,null);var a=this.storage.getItem("".concat(this.options.prefix).concat(n,"-").concat(r));if(a){a=JSON.parse(a);var s=this.getVersion(n);if(a.i18nStamp&&a.i18nStamp+this.options.expirationTime>o&&s===a.i18nVersion){var l=a.i18nStamp;return delete a.i18nVersion,delete a.i18nStamp,i(null,a,l)}}return i(null,null)}},{key:"save",value:function(n,r,i){if(this.storage.store){i.i18nStamp=Date.now();var o=this.getVersion(n);o&&(i.i18nVersion=o),this.storage.setItem("".concat(this.options.prefix).concat(n,"-").concat(r),JSON.stringify(i))}}},{key:"getVersion",value:function(n){return this.options.versions[n]||this.options.defaultVersion}}]),e}();Xj.type="backend";const Jj=e=>e.split("-")[0],Hz=(e,t)=>`/locales/${e.map(Jj).join("-")}/${t.join("-")}.json`;En.use(zj).use(Vj).use(jW).init({fallbackLng:"en",debug:!1,backend:{backends:[Xj,Qj],backendOptions:[{expirationTime:10*365*24*60*60*1e3,versions:{de:"6",en:"6",ru:"7",tr:"6",uk:"7"}},{loadPath:Hz}]}});const Zj=p.createContext(void 0),eN=()=>p.useContext(Zj),qz=({children:e})=>{const[t,n]=p.useState(null);return p.useEffect(()=>{window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),n(r)})},[]),x.jsx(Zj.Provider,{value:{beforeInstallPromptEvent:t,reset:()=>n(null)},children:e})};var Hr={},vu={};Object.defineProperty(vu,"__esModule",{value:!0});var Gz=p,Yz=(0,Gz.createContext)(null);vu.default=Yz;var nv={},Qz=T&&T.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Xz=T&&T.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jz=T&&T.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Qz(t,e,n);return Xz(t,e),t},Zz=T&&T.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nv,"__esModule",{value:!0});var bC=Jz(p),eK=Zz(vu),tK=function(e){var t=e.db,n=e.children,r=(0,bC.useMemo)(function(){return{db:t}},[t]);return bC.default.createElement(eK.default.Provider,{value:r},n)};nv.default=tK;var Gf={},Yf={},nK=T&&T.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yf,"__esModule",{value:!0});var rK=p,iK=nK(vu);function oK(){var e=(0,rK.useContext)(iK.default).db;return e}Yf.default=oK;var aK=T&&T.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gf,"__esModule",{value:!0});var wC=p,sK=aK(Yf);function lK(e){var t=(0,wC.useState)(null),n=t[0],r=t[1],i=(0,sK.default)();return(0,wC.useEffect)(function(){if(i){var o=i[e];if(o&&r(o),i.newCollections$){var a=i.newCollections$.subscribe(function(s){s[e]&&r(s[e])});return function(){a.unsubscribe()}}}},[i,e]),n}Gf.default=lK;var rv={},Qf={},tN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isRxQuery=e.isObject=e.getCancelablePromise=void 0;var t=function(i){var o=!1,a=new Promise(function(s,l){i.then(function(u){o||s(u)},function(u){o||l(u)})});return[a,function(){o=!0}]};e.getCancelablePromise=t;var n=function(i){return typeof i=="object"&&i!==null};e.isObject=n;var r=function(i){return(0,e.isObject)(i)&&"skip"in i&&"limit"in i&&"$"in i&&(0,e.isObject)(i.$)&&"subscribe"in i.$&&typeof i.$.subscribe=="function"};e.isRxQuery=r})(tN);var Ln=T&&T.__assign||function(){return Ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ln.apply(this,arguments)};Object.defineProperty(Qf,"__esModule",{value:!0});var La=p,_C=tN,Bn;(function(e){e[e.Reset=0]="Reset",e[e.FetchMore=1]="FetchMore",e[e.FetchPage=2]="FetchPage",e[e.FetchSuccess=3]="FetchSuccess",e[e.CountPages=4]="CountPages",e[e.QueryChanged=5]="QueryChanged"})(Bn||(Bn={}));var uK=function(e,t){switch(t.type){case Bn.Reset:return Ln(Ln({},e),{result:[],isFetching:!0,page:1});case Bn.FetchMore:return Ln(Ln({},e),{isFetching:!0,page:e.page+1});case Bn.FetchPage:return Ln(Ln({},e),{isFetching:!0,page:t.page});case Bn.CountPages:return Ln(Ln({},e),{pageCount:t.pageCount});case Bn.FetchSuccess:return Ln(Ln({},e),{result:t.docs,isFetching:!1,isExhausted:t.pageSize?t.pagination==="Infinite"?t.docs.length<e.page*t.pageSize:!1:!0});case Bn.QueryChanged:return Ln(Ln({},e),{isFetching:!0});default:return e}},cK=function(e,t){if(!e)return[];if(e instanceof Map)return Array.from(e,function(r){var i=r[1];return t?i.toJSON():i});var n=Array.isArray(e)?e:[e];return t?n.map(function(r){return r.toJSON()}):n},fK=function(e){var t=Array.isArray(e)?e:[e];return t.length};function dK(e,t){t===void 0&&(t={});var n=t.pageSize,r=t.pagination,i=r===void 0?"Infinite":r,o=t.json,a={result:[],page:n?1:void 0,isFetching:!0,isExhausted:!1,pageCount:0},s=(0,La.useReducer)(uK,a),l=s[0],u=s[1],c=(0,La.useCallback)(function(v){!n||i!=="Traditional"||v<1||v>l.pageCount||u({type:Bn.FetchPage,page:v})},[n,i,l.pageCount]),f=(0,La.useCallback)(function(){!n||i!=="Infinite"||l.isFetching||l.isExhausted||u({type:Bn.FetchMore})},[n,i,l.isFetching,l.isExhausted]),d=(0,La.useCallback)(function(){n&&l.page!==1&&u({type:Bn.Reset})},[n,l.page]),h=(0,La.useCallback)(function(v){var m=v;n&&i==="Traditional"&&(m=m.skip((l.page-1)*n).limit(n)),n&&i==="Infinite"&&(m=m.limit(l.page*n)),u({type:Bn.QueryChanged});var b=m.$.subscribe(function(g){var y=cK(g,o);u({type:Bn.FetchSuccess,docs:y,pagination:i,pageSize:n})});return function(){b.unsubscribe()}},[o,n,i,l.page]);return(0,La.useEffect)(function(){if(e&&(0,_C.isRxQuery)(e))return h(e)},[e,h]),(0,La.useEffect)(function(){if(!(!e||!n||i!=="Traditional"||"then"in e)&&(0,_C.isRxQuery)(e)){var v=e.$.subscribe(function(m){var b=fK(m);u({type:Bn.CountPages,pageCount:Math.ceil(b/n)})});return function(){v.unsubscribe()}}},[e,n,i]),{result:l.result,isFetching:l.isFetching,isExhausted:l.isExhausted,pageCount:l.pageCount,currentPage:l.page,fetchPage:c,fetchMore:f,resetList:d}}Qf.default=dK;var Bl=T&&T.__assign||function(){return Bl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Bl.apply(this,arguments)},nN=T&&T.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rv,"__esModule",{value:!0});var hK=p,pK=nN(Gf),SC=nN(Qf);function mK(e,t,n){n===void 0&&(n={});var r=(0,pK.default)(e),i=(0,hK.useMemo)(function(){return!r||typeof t!="function"?null:t(r)},[r,t]);return n.json?(0,SC.default)(i,Bl(Bl({},n),{json:!0})):(0,SC.default)(i,Bl(Bl({},n),{json:!1}))}rv.default=mK;var bg={},rN={},Ve={},Vu={},Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.isFunction=void 0;function vK(e){return typeof e=="function"}Be.isFunction=vK;var Bt={},Rd={},wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.createErrorClass=void 0;function gK(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}wi.createErrorClass=gK;Object.defineProperty(Rd,"__esModule",{value:!0});Rd.UnsubscriptionError=void 0;var yK=wi;Rd.UnsubscriptionError=yK.createErrorClass(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.arrRemove=void 0;function bK(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}Xr.arrRemove=bK;var xC=T&&T.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},EC=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},PC=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.isSubscription=Bt.EMPTY_SUBSCRIPTION=Bt.Subscription=void 0;var of=Be,B0=Rd,OC=Xr,sE=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=xC(a),l=s.next();!l.done;l=s.next()){var u=l.value;u.remove(this)}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(of.isFunction(c))try{c()}catch(m){o=m instanceof B0.UnsubscriptionError?m.errors:[m]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=xC(f),h=d.next();!h.done;h=d.next()){var v=h.value;try{$C(v)}catch(m){o=o??[],m instanceof B0.UnsubscriptionError?o=PC(PC([],EC(o)),EC(m.errors)):o.push(m)}}}catch(m){r={error:m}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(o)throw new B0.UnsubscriptionError(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)$C(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&OC.arrRemove(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&OC.arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();Bt.Subscription=sE;Bt.EMPTY_SUBSCRIPTION=sE.EMPTY;function wK(e){return e instanceof sE||e&&"closed"in e&&of.isFunction(e.remove)&&of.isFunction(e.add)&&of.isFunction(e.unsubscribe)}Bt.isSubscription=wK;function $C(e){of.isFunction(e)?e():e.unsubscribe()}var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.config=void 0;Ca.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var kd={},lE={};(function(e){var t=T&&T.__read||function(r,i){var o=typeof Symbol=="function"&&r[Symbol.iterator];if(!o)return r;var a=o.call(r),s,l=[],u;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(c){u={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(u)throw u.error}}return l},n=T&&T.__spreadArray||function(r,i){for(var o=0,a=i.length,s=r.length;o<a;o++,s++)r[s]=i[o];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=e.timeoutProvider.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,n([r,i],t(o))):setTimeout.apply(void 0,n([r,i],t(o)))},clearTimeout:function(r){var i=e.timeoutProvider.delegate;return((i==null?void 0:i.clearTimeout)||clearTimeout)(r)},delegate:void 0}})(lE);Object.defineProperty(kd,"__esModule",{value:!0});kd.reportUnhandledError=void 0;var _K=Ca,SK=lE;function xK(e){SK.timeoutProvider.setTimeout(function(){var t=_K.config.onUnhandledError;if(t)t(e);else throw e})}kd.reportUnhandledError=xK;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.noop=void 0;function EK(){}zt.noop=EK;var di={};Object.defineProperty(di,"__esModule",{value:!0});di.createNotification=di.nextNotification=di.errorNotification=di.COMPLETE_NOTIFICATION=void 0;di.COMPLETE_NOTIFICATION=function(){return wg("C",void 0,void 0)}();function PK(e){return wg("E",void 0,e)}di.errorNotification=PK;function OK(e){return wg("N",e,void 0)}di.nextNotification=OK;function wg(e,t,n){return{kind:e,value:t,error:n}}di.createNotification=wg;var la={};Object.defineProperty(la,"__esModule",{value:!0});la.captureError=la.errorContext=void 0;var iN=Ca,ts=null;function $K(e){if(iN.config.useDeprecatedSynchronousErrorHandling){var t=!ts;if(t&&(ts={errorThrown:!1,error:null}),e(),t){var n=ts,r=n.errorThrown,i=n.error;if(ts=null,r)throw i}}else e()}la.errorContext=$K;function CK(e){iN.config.useDeprecatedSynchronousErrorHandling&&ts&&(ts.errorThrown=!0,ts.error=e)}la.captureError=CK;(function(e){var t=T&&T.__extends||function(){var y=function(w,_){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(S[P]=E[P])},y(w,_)};return function(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");y(w,_);function S(){this.constructor=w}w.prototype=_===null?Object.create(_):(S.prototype=_.prototype,new S)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var n=Be,r=Bt,i=Ca,o=kd,a=zt,s=di,l=lE,u=la,c=function(y){t(w,y);function w(_){var S=y.call(this)||this;return S.isStopped=!1,_?(S.destination=_,r.isSubscription(_)&&_.add(S)):S.destination=e.EMPTY_OBSERVER,S}return w.create=function(_,S,E){return new v(_,S,E)},w.prototype.next=function(_){this.isStopped?g(s.nextNotification(_),this):this._next(_)},w.prototype.error=function(_){this.isStopped?g(s.errorNotification(_),this):(this.isStopped=!0,this._error(_))},w.prototype.complete=function(){this.isStopped?g(s.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},w.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,y.prototype.unsubscribe.call(this),this.destination=null)},w.prototype._next=function(_){this.destination.next(_)},w.prototype._error=function(_){try{this.destination.error(_)}finally{this.unsubscribe()}},w.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},w}(r.Subscription);e.Subscriber=c;var f=Function.prototype.bind;function d(y,w){return f.call(y,w)}var h=function(){function y(w){this.partialObserver=w}return y.prototype.next=function(w){var _=this.partialObserver;if(_.next)try{_.next(w)}catch(S){m(S)}},y.prototype.error=function(w){var _=this.partialObserver;if(_.error)try{_.error(w)}catch(S){m(S)}else m(w)},y.prototype.complete=function(){var w=this.partialObserver;if(w.complete)try{w.complete()}catch(_){m(_)}},y}(),v=function(y){t(w,y);function w(_,S,E){var P=y.call(this)||this,O;if(n.isFunction(_)||!_)O={next:_??void 0,error:S??void 0,complete:E??void 0};else{var C;P&&i.config.useDeprecatedNextContext?(C=Object.create(_),C.unsubscribe=function(){return P.unsubscribe()},O={next:_.next&&d(_.next,C),error:_.error&&d(_.error,C),complete:_.complete&&d(_.complete,C)}):O=_}return P.destination=new h(O),P}return w}(c);e.SafeSubscriber=v;function m(y){i.config.useDeprecatedSynchronousErrorHandling?u.captureError(y):o.reportUnhandledError(y)}function b(y){throw y}function g(y,w){var _=i.config.onStoppedNotification;_&&l.timeoutProvider.setTimeout(function(){return _(y,w)})}e.EMPTY_OBSERVER={closed:!0,next:a.noop,error:b,complete:a.noop}})(Vu);var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.observable=void 0;Ks.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var eo={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.identity=void 0;function RK(e){return e}Kt.identity=RK;Object.defineProperty(eo,"__esModule",{value:!0});eo.pipeFromArray=eo.pipe=void 0;var kK=Kt;function TK(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return oN(e)}eo.pipe=TK;function oN(e){return e.length===0?kK.identity:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}eo.pipeFromArray=oN;Object.defineProperty(Ve,"__esModule",{value:!0});Ve.Observable=void 0;var p_=Vu,AK=Bt,IK=Ks,DK=eo,MK=Ca,U0=Be,jK=la,NK=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=FK(t)?t:new p_.SafeSubscriber(t,n,r);return jK.errorContext(function(){var a=i,s=a.operator,l=a.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=CC(n),new n(function(i,o){var a=new p_.SafeSubscriber({next:function(s){try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[IK.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return DK.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=CC(t),new t(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();Ve.Observable=NK;function CC(e){var t;return(t=e??MK.config.Promise)!==null&&t!==void 0?t:Promise}function LK(e){return e&&U0.isFunction(e.next)&&U0.isFunction(e.error)&&U0.isFunction(e.complete)}function FK(e){return e&&e instanceof p_.Subscriber||LK(e)&&AK.isSubscription(e)}var Hs={},Td={},X={};Object.defineProperty(X,"__esModule",{value:!0});X.operate=X.hasLift=void 0;var BK=Be;function aN(e){return BK.isFunction(e==null?void 0:e.lift)}X.hasLift=aN;function UK(e){return function(t){if(aN(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}X.operate=UK;var re={},VK=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(re,"__esModule",{value:!0});re.OperatorSubscriber=re.createOperatorSubscriber=void 0;var WK=Vu;function zK(e,t,n,r,i){return new sN(e,t,n,r,i)}re.createOperatorSubscriber=zK;var sN=function(e){VK(t,e);function t(n,r,i,o,a,s){var l=e.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:e.prototype._next,l._error=o?function(u){try{o(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(WK.Subscriber);re.OperatorSubscriber=sN;Object.defineProperty(Td,"__esModule",{value:!0});Td.refCount=void 0;var KK=X,HK=re;function qK(){return KK.operate(function(e,t){var n=null;e._refCount++;var r=HK.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}Td.refCount=qK;var GK=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Hs,"__esModule",{value:!0});Hs.ConnectableObservable=void 0;var YK=Ve,RC=Bt,QK=Td,XK=re,JK=X,ZK=function(e){GK(t,e);function t(n,r){var i=e.call(this)||this;return i.source=n,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,JK.hasLift(n)&&(i.lift=n.lift),i}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new RC.Subscription;var i=this.getSubject();r.add(this.source.subscribe(XK.createOperatorSubscriber(i,void 0,function(){n._teardown(),i.complete()},function(o){n._teardown(),i.error(o)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=RC.Subscription.EMPTY)}return r},t.prototype.refCount=function(){return QK.refCount()(this)},t}(YK.Observable);Hs.ConnectableObservable=ZK;var _g={},lN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}})(lN);var uE={};(function(e){var t=T&&T.__read||function(i,o){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var s=a.call(i),l,u=[],c;try{for(;(o===void 0||o-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(f){c={error:f}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(c)throw c.error}}return u},n=T&&T.__spreadArray||function(i,o){for(var a=0,s=o.length,l=i.length;a<s;a++,l++)i[l]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var r=Bt;e.animationFrameProvider={schedule:function(i){var o=requestAnimationFrame,a=cancelAnimationFrame,s=e.animationFrameProvider.delegate;s&&(o=s.requestAnimationFrame,a=s.cancelAnimationFrame);var l=o(function(u){a=void 0,i(u)});return new r.Subscription(function(){return a==null?void 0:a(l)})},requestAnimationFrame:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=e.animationFrameProvider.delegate;return((a==null?void 0:a.requestAnimationFrame)||requestAnimationFrame).apply(void 0,n([],t(i)))},cancelAnimationFrame:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=e.animationFrameProvider.delegate;return((a==null?void 0:a.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,n([],t(i)))},delegate:void 0}})(uE);Object.defineProperty(_g,"__esModule",{value:!0});_g.animationFrames=void 0;var eH=Ve,tH=lN,kC=uE;function nH(e){return e?uN(e):rH}_g.animationFrames=nH;function uN(e){return new eH.Observable(function(t){var n=e||tH.performanceTimestampProvider,r=n.now(),i=0,o=function(){t.closed||(i=kC.animationFrameProvider.requestAnimationFrame(function(a){i=0;var s=n.now();t.next({timestamp:e?s:a,elapsed:s-r}),o()}))};return o(),function(){i&&kC.animationFrameProvider.cancelAnimationFrame(i)}})}var rH=uN(),Pt={},Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});Ad.ObjectUnsubscribedError=void 0;var iH=wi;Ad.ObjectUnsubscribedError=iH.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var cN=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oH=T&&T.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.AnonymousSubject=Pt.Subject=void 0;var TC=Ve,m_=Bt,aH=Ad,sH=Xr,V0=la,fN=function(e){cN(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new v_(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new aH.ObjectUnsubscribedError},t.prototype.next=function(n){var r=this;V0.errorContext(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=oH(r.currentObservers),s=a.next();!s.done;s=a.next()){var l=s.value;l.next(n)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;V0.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;V0.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?m_.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(n),new m_.Subscription(function(){r.currentObservers=null,sH.arrRemove(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,a=r.isStopped;i?n.error(o):a&&n.complete()},t.prototype.asObservable=function(){var n=new TC.Observable;return n.source=this,n},t.create=function(n,r){return new v_(n,r)},t}(TC.Observable);Pt.Subject=fN;var v_=function(e){cN(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:m_.EMPTY_SUBSCRIPTION},t}(fN);Pt.AnonymousSubject=v_;var Id={},lH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Id,"__esModule",{value:!0});Id.BehaviorSubject=void 0;var uH=Pt,cH=function(e){lH(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(uH.Subject);Id.BehaviorSubject=cH;var Wu={},Sg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}})(Sg);var fH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.ReplaySubject=void 0;var dH=Pt,hH=Sg,pH=function(e){fH(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=hH.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return t.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,a=r._infiniteTimeWindow,s=r._timestampProvider,l=r._windowTime;i||(o.push(n),!a&&o.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),l=0;l<s.length&&!n.closed;l+=o?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,a=n._infiniteTimeWindow,s=(a?1:2)*r;if(r<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var l=i.now(),u=0,c=1;c<o.length&&o[c]<=l;c+=2)u=c;u&&o.splice(0,u+1)}},t}(dH.Subject);Wu.ReplaySubject=pH;var zu={},mH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(zu,"__esModule",{value:!0});zu.AsyncSubject=void 0;var vH=Pt,gH=function(e){mH(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._value=null,n._hasValue=!1,n._isComplete=!1,n}return t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r._hasValue,a=r._value,s=r.thrownError,l=r.isStopped,u=r._isComplete;i?n.error(s):(l||u)&&(o&&n.next(a),n.complete())},t.prototype.next=function(n){this.isStopped||(this._value=n,this._hasValue=!0)},t.prototype.complete=function(){var n=this,r=n._hasValue,i=n._value,o=n._isComplete;o||(this._isComplete=!0,r&&e.prototype.next.call(this,i),e.prototype.complete.call(this))},t}(vH.Subject);zu.AsyncSubject=gH;var dN={},xg={},Ra={},Eg={},yH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Eg,"__esModule",{value:!0});Eg.Action=void 0;var bH=Bt,wH=function(e){yH(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(bH.Subscription);Eg.Action=wH;var hN={};(function(e){var t=T&&T.__read||function(r,i){var o=typeof Symbol=="function"&&r[Symbol.iterator];if(!o)return r;var a=o.call(r),s,l=[],u;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(c){u={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(u)throw u.error}}return l},n=T&&T.__spreadArray||function(r,i){for(var o=0,a=i.length,s=r.length;o<a;o++,s++)r[s]=i[o];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=e.intervalProvider.delegate;return s!=null&&s.setInterval?s.setInterval.apply(s,n([r,i],t(o))):setInterval.apply(void 0,n([r,i],t(o)))},clearInterval:function(r){var i=e.intervalProvider.delegate;return((i==null?void 0:i.clearInterval)||clearInterval)(r)},delegate:void 0}})(hN);var _H=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ra,"__esModule",{value:!0});Ra.AsyncAction=void 0;var SH=Eg,AC=hN,xH=Xr,EH=function(e){_H(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,a=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(a,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),AC.intervalProvider.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&AC.intervalProvider.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,xH.arrRemove(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(SH.Action);Ra.AsyncAction=EH;var pN={},gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.TestTools=gu.Immediate=void 0;var PH=1,W0,iv={};function IC(e){return e in iv?(delete iv[e],!0):!1}gu.Immediate={setImmediate:function(e){var t=PH++;return iv[t]=!0,W0||(W0=Promise.resolve()),W0.then(function(){return IC(t)&&e()}),t},clearImmediate:function(e){IC(e)}};gu.TestTools={pending:function(){return Object.keys(iv).length}};(function(e){var t=T&&T.__read||function(a,s){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var u=l.call(a),c,f=[],d;try{for(;(s===void 0||s-- >0)&&!(c=u.next()).done;)f.push(c.value)}catch(h){d={error:h}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(d)throw d.error}}return f},n=T&&T.__spreadArray||function(a,s){for(var l=0,u=s.length,c=a.length;l<u;l++,c++)a[c]=s[l];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var r=gu,i=r.Immediate.setImmediate,o=r.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var l=e.immediateProvider.delegate;return((l==null?void 0:l.setImmediate)||i).apply(void 0,n([],t(a)))},clearImmediate:function(a){var s=e.immediateProvider.delegate;return((s==null?void 0:s.clearImmediate)||o)(a)},delegate:void 0}})(pN);var OH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(xg,"__esModule",{value:!0});xg.AsapAction=void 0;var $H=Ra,DC=pN,CH=function(e){OH(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=DC.immediateProvider.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var a=n.actions;r!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==r&&(DC.immediateProvider.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}($H.AsyncAction);xg.AsapAction=CH;var Pg={},ka={},Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});Dd.Scheduler=void 0;var RH=Sg,kH=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=RH.dateTimestampProvider.now,e}();Dd.Scheduler=kH;var TH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ka,"__esModule",{value:!0});ka.AsyncScheduler=void 0;var MC=Dd,AH=function(e){TH(t,e);function t(n,r){r===void 0&&(r=MC.Scheduler.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(MC.Scheduler);ka.AsyncScheduler=AH;var IH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Pg,"__esModule",{value:!0});Pg.AsapScheduler=void 0;var DH=ka,MH=function(e){IH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,o;n=n||i.shift();do if(o=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw o}},t}(DH.AsyncScheduler);Pg.AsapScheduler=MH;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var t=xg,n=Pg;e.asapScheduler=new n.AsapScheduler(t.AsapAction),e.asap=e.asapScheduler})(dN);var qn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var t=Ra,n=ka;e.asyncScheduler=new n.AsyncScheduler(t.AsyncAction),e.async=e.asyncScheduler})(qn);var mN={},Og={},jH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Og,"__esModule",{value:!0});Og.QueueAction=void 0;var NH=Ra,LH=function(e){jH(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?e.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},t.prototype.execute=function(n,r){return r>0||this.closed?e.prototype.execute.call(this,n,r):this._execute(n,r)},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.flush(this),0)},t}(NH.AsyncAction);Og.QueueAction=LH;var $g={},FH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty($g,"__esModule",{value:!0});$g.QueueScheduler=void 0;var BH=ka,UH=function(e){FH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(BH.AsyncScheduler);$g.QueueScheduler=UH;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var t=Og,n=$g;e.queueScheduler=new n.QueueScheduler(t.QueueAction),e.queue=e.queueScheduler})(mN);var vN={},Cg={},VH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Cg,"__esModule",{value:!0});Cg.AnimationFrameAction=void 0;var WH=Ra,jC=uE,zH=function(e){VH(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=jC.animationFrameProvider.requestAnimationFrame(function(){return n.flush(void 0)})))},t.prototype.recycleAsyncId=function(n,r,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var a=n.actions;r!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==r&&(jC.animationFrameProvider.cancelAnimationFrame(r),n._scheduled=void 0)},t}(WH.AsyncAction);Cg.AnimationFrameAction=zH;var Rg={},KH=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.AnimationFrameScheduler=void 0;var HH=ka,qH=function(e){KH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,o;n=n||i.shift();do if(o=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw o}},t}(HH.AsyncScheduler);Rg.AnimationFrameScheduler=qH;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var t=Cg,n=Rg;e.animationFrameScheduler=new n.AnimationFrameScheduler(t.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler})(vN);var yu={},gN=T&&T.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(yu,"__esModule",{value:!0});yu.VirtualAction=yu.VirtualTimeScheduler=void 0;var GH=Ra,YH=Bt,QH=ka,XH=function(e){gN(t,e);function t(n,r){n===void 0&&(n=yN),r===void 0&&(r=1/0);var i=e.call(this,n,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return t.prototype.flush=function(){for(var n=this,r=n.actions,i=n.maxFrames,o,a;(a=r[0])&&a.delay<=i&&(r.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=r.shift();)a.unsubscribe();throw o}},t.frameTimeFactor=10,t}(QH.AsyncScheduler);yu.VirtualTimeScheduler=XH;var yN=function(e){gN(t,e);function t(n,r,i){i===void 0&&(i=n.index+=1);var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.index=i,o.active=!0,o.index=n.index=i,o}return t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)}else return YH.Subscription.EMPTY},t.prototype.requestAsyncId=function(n,r,i){i===void 0&&(i=0),this.delay=n.frame+i;var o=n.actions;return o.push(this),o.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(n,r,i){},t.prototype._execute=function(n,r){if(this.active===!0)return e.prototype._execute.call(this,n,r)},t.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},t}(GH.AsyncAction);yu.VirtualAction=yN;var kg={},qr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var t=Ve;e.EMPTY=new t.Observable(function(i){return i.complete()});function n(i){return i?r(i):e.EMPTY}e.empty=n;function r(i){return new t.Observable(function(o){return i.schedule(function(){return o.complete()})})}})(qr);var Ku={},It={},qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.isScheduler=void 0;var JH=Be;function ZH(e){return e&&JH.isFunction(e.schedule)}qs.isScheduler=ZH;Object.defineProperty(It,"__esModule",{value:!0});It.popNumber=It.popScheduler=It.popResultSelector=void 0;var eq=Be,tq=qs;function cE(e){return e[e.length-1]}function nq(e){return eq.isFunction(cE(e))?e.pop():void 0}It.popResultSelector=nq;function rq(e){return tq.isScheduler(cE(e))?e.pop():void 0}It.popScheduler=rq;function iq(e,t){return typeof cE(e)=="number"?e.pop():t}It.popNumber=iq;var Jr={},Md={},Tg={},ue={},Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.isArrayLike=void 0;Hu.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};var jd={};Object.defineProperty(jd,"__esModule",{value:!0});jd.isPromise=void 0;var oq=Be;function aq(e){return oq.isFunction(e==null?void 0:e.then)}jd.isPromise=aq;var Nd={};Object.defineProperty(Nd,"__esModule",{value:!0});Nd.isInteropObservable=void 0;var sq=Ks,lq=Be;function uq(e){return lq.isFunction(e[sq.observable])}Nd.isInteropObservable=uq;var Ld={};Object.defineProperty(Ld,"__esModule",{value:!0});Ld.isAsyncIterable=void 0;var cq=Be;function fq(e){return Symbol.asyncIterator&&cq.isFunction(e==null?void 0:e[Symbol.asyncIterator])}Ld.isAsyncIterable=fq;var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});Fd.createInvalidObservableTypeError=void 0;function dq(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Fd.createInvalidObservableTypeError=dq;var Bd={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.iterator=Ps.getSymbolIterator=void 0;function bN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Ps.getSymbolIterator=bN;Ps.iterator=bN();Object.defineProperty(Bd,"__esModule",{value:!0});Bd.isIterable=void 0;var hq=Ps,pq=Be;function mq(e){return pq.isFunction(e==null?void 0:e[hq.iterator])}Bd.isIterable=mq;var ua={},vq=T&&T.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},eu=T&&T.__await||function(e){return this instanceof eu?(this.v=e,this):new eu(e)},gq=T&&T.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(h){return new Promise(function(v,m){o.push([d,h,v,m])>1||s(d,h)})})}function s(d,h){try{l(r[d](h))}catch(v){f(o[0][3],v)}}function l(d){d.value instanceof eu?Promise.resolve(d.value.v).then(u,c):f(o[0][2],d)}function u(d){s("next",d)}function c(d){s("throw",d)}function f(d,h){d(h),o.shift(),o.length&&s(o[0][0],o[0][1])}};Object.defineProperty(ua,"__esModule",{value:!0});ua.isReadableStreamLike=ua.readableStreamLikeToAsyncGenerator=void 0;var yq=Be;function bq(e){return gq(this,arguments,function(){var n,r,i,o;return vq(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,eu(n.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,eu(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,eu(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}ua.readableStreamLikeToAsyncGenerator=bq;function wq(e){return yq.isFunction(e==null?void 0:e.getReader)}ua.isReadableStreamLike=wq;var _q=T&&T.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})},Sq=T&&T.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},xq=T&&T.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof g_=="function"?g_(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}},g_=T&&T.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ue,"__esModule",{value:!0});ue.fromReadableStreamLike=ue.fromAsyncIterable=ue.fromIterable=ue.fromPromise=ue.fromArrayLike=ue.fromInteropObservable=ue.innerFrom=void 0;var Eq=Hu,Pq=jd,qu=Ve,Oq=Nd,$q=Ld,Cq=Fd,Rq=Bd,wN=ua,kq=Be,Tq=kd,Aq=Ks;function Iq(e){if(e instanceof qu.Observable)return e;if(e!=null){if(Oq.isInteropObservable(e))return _N(e);if(Eq.isArrayLike(e))return SN(e);if(Pq.isPromise(e))return xN(e);if($q.isAsyncIterable(e))return fE(e);if(Rq.isIterable(e))return EN(e);if(wN.isReadableStreamLike(e))return PN(e)}throw Cq.createInvalidObservableTypeError(e)}ue.innerFrom=Iq;function _N(e){return new qu.Observable(function(t){var n=e[Aq.observable]();if(kq.isFunction(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}ue.fromInteropObservable=_N;function SN(e){return new qu.Observable(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}ue.fromArrayLike=SN;function xN(e){return new qu.Observable(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Tq.reportUnhandledError)})}ue.fromPromise=xN;function EN(e){return new qu.Observable(function(t){var n,r;try{for(var i=g_(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}ue.fromIterable=EN;function fE(e){return new qu.Observable(function(t){Dq(e,t).catch(function(n){return t.error(n)})})}ue.fromAsyncIterable=fE;function PN(e){return fE(wN.readableStreamLikeToAsyncGenerator(e))}ue.fromReadableStreamLike=PN;function Dq(e,t){var n,r,i,o;return _q(this,void 0,void 0,function(){var a,s;return Sq(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=xq(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}var Gs={},Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.executeSchedule=void 0;function Mq(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}Zr.executeSchedule=Mq;Object.defineProperty(Gs,"__esModule",{value:!0});Gs.observeOn=void 0;var z0=Zr,jq=X,Nq=re;function Lq(e,t){return t===void 0&&(t=0),jq.operate(function(n,r){n.subscribe(Nq.createOperatorSubscriber(r,function(i){return z0.executeSchedule(r,e,function(){return r.next(i)},t)},function(){return z0.executeSchedule(r,e,function(){return r.complete()},t)},function(i){return z0.executeSchedule(r,e,function(){return r.error(i)},t)}))})}Gs.observeOn=Lq;var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.subscribeOn=void 0;var Fq=X;function Bq(e,t){return t===void 0&&(t=0),Fq.operate(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}Ys.subscribeOn=Bq;Object.defineProperty(Tg,"__esModule",{value:!0});Tg.scheduleObservable=void 0;var Uq=ue,Vq=Gs,Wq=Ys;function zq(e,t){return Uq.innerFrom(e).pipe(Wq.subscribeOn(t),Vq.observeOn(t))}Tg.scheduleObservable=zq;var Ag={};Object.defineProperty(Ag,"__esModule",{value:!0});Ag.schedulePromise=void 0;var Kq=ue,Hq=Gs,qq=Ys;function Gq(e,t){return Kq.innerFrom(e).pipe(qq.subscribeOn(t),Hq.observeOn(t))}Ag.schedulePromise=Gq;var Ig={};Object.defineProperty(Ig,"__esModule",{value:!0});Ig.scheduleArray=void 0;var Yq=Ve;function Qq(e,t){return new Yq.Observable(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}Ig.scheduleArray=Qq;var Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});Ud.scheduleIterable=void 0;var Xq=Ve,Jq=Ps,Zq=Be,NC=Zr;function eG(e,t){return new Xq.Observable(function(n){var r;return NC.executeSchedule(n,t,function(){r=e[Jq.iterator](),NC.executeSchedule(n,t,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(s){n.error(s);return}a?n.complete():n.next(o)},0,!0)}),function(){return Zq.isFunction(r==null?void 0:r.return)&&r.return()}})}Ud.scheduleIterable=eG;var Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.scheduleAsyncIterable=void 0;var tG=Ve,LC=Zr;function nG(e,t){if(!e)throw new Error("Iterable cannot be null");return new tG.Observable(function(n){LC.executeSchedule(n,t,function(){var r=e[Symbol.asyncIterator]();LC.executeSchedule(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}Vd.scheduleAsyncIterable=nG;var Dg={};Object.defineProperty(Dg,"__esModule",{value:!0});Dg.scheduleReadableStreamLike=void 0;var rG=Vd,iG=ua;function oG(e,t){return rG.scheduleAsyncIterable(iG.readableStreamLikeToAsyncGenerator(e),t)}Dg.scheduleReadableStreamLike=oG;Object.defineProperty(Md,"__esModule",{value:!0});Md.scheduled=void 0;var aG=Tg,sG=Ag,lG=Ig,uG=Ud,cG=Vd,fG=Nd,dG=jd,hG=Hu,pG=Bd,mG=Ld,vG=Fd,gG=ua,yG=Dg;function bG(e,t){if(e!=null){if(fG.isInteropObservable(e))return aG.scheduleObservable(e,t);if(hG.isArrayLike(e))return lG.scheduleArray(e,t);if(dG.isPromise(e))return sG.schedulePromise(e,t);if(mG.isAsyncIterable(e))return cG.scheduleAsyncIterable(e,t);if(pG.isIterable(e))return uG.scheduleIterable(e,t);if(gG.isReadableStreamLike(e))return yG.scheduleReadableStreamLike(e,t)}throw vG.createInvalidObservableTypeError(e)}Md.scheduled=bG;Object.defineProperty(Jr,"__esModule",{value:!0});Jr.from=void 0;var wG=Md,_G=ue;function SG(e,t){return t?wG.scheduled(e,t):_G.innerFrom(e)}Jr.from=SG;Object.defineProperty(Ku,"__esModule",{value:!0});Ku.of=void 0;var xG=It,EG=Jr;function PG(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xG.popScheduler(e);return EG.from(e,n)}Ku.of=PG;var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.throwError=void 0;var OG=Ve,$G=Be;function CG(e,t){var n=$G.isFunction(e)?e:function(){return e},r=function(i){return i.error(n())};return new OG.Observable(t?function(i){return t.schedule(r,0,i)}:r)}Wd.throwError=CG;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var t=qr,n=Ku,r=Wd,i=Be;(function(s){s.NEXT="N",s.ERROR="E",s.COMPLETE="C"})(e.NotificationKind||(e.NotificationKind={}));var o=function(){function s(l,u,c){this.kind=l,this.value=u,this.error=c,this.hasValue=l==="N"}return s.prototype.observe=function(l){return a(this,l)},s.prototype.do=function(l,u,c){var f=this,d=f.kind,h=f.value,v=f.error;return d==="N"?l==null?void 0:l(h):d==="E"?u==null?void 0:u(v):c==null?void 0:c()},s.prototype.accept=function(l,u,c){var f;return i.isFunction((f=l)===null||f===void 0?void 0:f.next)?this.observe(l):this.do(l,u,c)},s.prototype.toObservable=function(){var l=this,u=l.kind,c=l.value,f=l.error,d=u==="N"?n.of(c):u==="E"?r.throwError(function(){return f}):u==="C"?t.EMPTY:0;if(!d)throw new TypeError("Unexpected notification kind "+u);return d},s.createNext=function(l){return new s("N",l)},s.createError=function(l){return new s("E",void 0,l)},s.createComplete=function(){return s.completeNotification},s.completeNotification=new s("C"),s}();e.Notification=o;function a(s,l){var u,c,f,d=s,h=d.kind,v=d.value,m=d.error;if(typeof h!="string")throw new TypeError('Invalid notification, missing "kind"');h==="N"?(u=l.next)===null||u===void 0||u.call(l,v):h==="E"?(c=l.error)===null||c===void 0||c.call(l,m):(f=l.complete)===null||f===void 0||f.call(l)}e.observeNotification=a})(kg);var Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.isObservable=void 0;var RG=Ve,FC=Be;function kG(e){return!!e&&(e instanceof RG.Observable||FC.isFunction(e.lift)&&FC.isFunction(e.subscribe))}Mg.isObservable=kG;var jg={},_i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.EmptyError=void 0;var TG=wi;_i.EmptyError=TG.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});Object.defineProperty(jg,"__esModule",{value:!0});jg.lastValueFrom=void 0;var AG=_i;function IG(e,t){var n=typeof t=="object";return new Promise(function(r,i){var o=!1,a;e.subscribe({next:function(s){a=s,o=!0},error:i,complete:function(){o?r(a):n?r(t.defaultValue):i(new AG.EmptyError)}})})}jg.lastValueFrom=IG;var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});Ng.firstValueFrom=void 0;var DG=_i,MG=Vu;function jG(e,t){var n=typeof t=="object";return new Promise(function(r,i){var o=new MG.SafeSubscriber({next:function(a){r(a),o.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new DG.EmptyError)}});e.subscribe(o)})}Ng.firstValueFrom=jG;var zd={};Object.defineProperty(zd,"__esModule",{value:!0});zd.ArgumentOutOfRangeError=void 0;var NG=wi;zd.ArgumentOutOfRangeError=NG.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});Kd.NotFoundError=void 0;var LG=wi;Kd.NotFoundError=LG.createErrorClass(function(e){return function(n){e(this),this.name="NotFoundError",this.message=n}});var Hd={};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.SequenceError=void 0;var FG=wi;Hd.SequenceError=FG.createErrorClass(function(e){return function(n){e(this),this.name="SequenceError",this.message=n}});var ov={},Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.isValidDate=void 0;function BG(e){return e instanceof Date&&!isNaN(e)}Gu.isValidDate=BG;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var t=qn,n=Gu,r=X,i=ue,o=wi,a=re,s=Zr;e.TimeoutError=o.createErrorClass(function(c){return function(d){d===void 0&&(d=null),c(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=d}});function l(c,f){var d=n.isValidDate(c)?{first:c}:typeof c=="number"?{each:c}:c,h=d.first,v=d.each,m=d.with,b=m===void 0?u:m,g=d.scheduler,y=g===void 0?f??t.asyncScheduler:g,w=d.meta,_=w===void 0?null:w;if(h==null&&v==null)throw new TypeError("No timeout provided.");return r.operate(function(S,E){var P,O,C=null,I=0,N=function(M){O=s.executeSchedule(E,y,function(){try{P.unsubscribe(),i.innerFrom(b({meta:_,lastValue:C,seen:I})).subscribe(E)}catch(V){E.error(V)}},M)};P=S.subscribe(a.createOperatorSubscriber(E,function(M){O==null||O.unsubscribe(),I++,E.next(C=M),v>0&&N(v)},void 0,void 0,function(){O!=null&&O.closed||O==null||O.unsubscribe(),C=null})),!I&&N(h!=null?typeof h=="number"?h:+h-y.now():v)})}e.timeout=l;function u(c){throw new e.TimeoutError(c)}})(ov);var Lg={},qd={},Si={},xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.map=void 0;var UG=X,VG=re;function WG(e,t){return UG.operate(function(n,r){var i=0;n.subscribe(VG.createOperatorSubscriber(r,function(o){r.next(e.call(t,o,i++))}))})}xi.map=WG;var zG=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},KG=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(Si,"__esModule",{value:!0});Si.mapOneOrManyArgs=void 0;var HG=xi,qG=Array.isArray;function GG(e,t){return qG(t)?e.apply(void 0,KG([],zG(t))):e(t)}function YG(e){return HG.map(function(t){return GG(e,t)})}Si.mapOneOrManyArgs=YG;var QG=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},BC=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(qd,"__esModule",{value:!0});qd.bindCallbackInternals=void 0;var XG=qs,JG=Ve,ZG=Ys,eY=Si,tY=Gs,nY=zu;function y_(e,t,n,r){if(n)if(XG.isScheduler(n))r=n;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return y_(e,t,r).apply(this,i).pipe(eY.mapOneOrManyArgs(n))};return r?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return y_(e,t).apply(this,i).pipe(ZG.subscribeOn(r),tY.observeOn(r))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=new nY.AsyncSubject,l=!0;return new JG.Observable(function(u){var c=s.subscribe(u);if(l){l=!1;var f=!1,d=!1;t.apply(i,BC(BC([],QG(o)),[function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];if(e){var m=h.shift();if(m!=null){s.error(m);return}}s.next(1<h.length?h:h[0]),d=!0,f&&s.complete()}])),d&&s.complete(),f=!0}return c})}}qd.bindCallbackInternals=y_;Object.defineProperty(Lg,"__esModule",{value:!0});Lg.bindCallback=void 0;var rY=qd;function iY(e,t,n){return rY.bindCallbackInternals(!1,e,t,n)}Lg.bindCallback=iY;var Fg={};Object.defineProperty(Fg,"__esModule",{value:!0});Fg.bindNodeCallback=void 0;var oY=qd;function aY(e,t,n){return oY.bindCallbackInternals(!0,e,t,n)}Fg.bindNodeCallback=aY;var ca={},Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.argsArgArrayOrObject=void 0;var sY=Array.isArray,lY=Object.getPrototypeOf,uY=Object.prototype,cY=Object.keys;function fY(e){if(e.length===1){var t=e[0];if(sY(t))return{args:t,keys:null};if(dY(t)){var n=cY(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}Gd.argsArgArrayOrObject=fY;function dY(e){return e&&typeof e=="object"&&lY(e)===uY}var Yd={};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.createObject=void 0;function hY(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}Yd.createObject=hY;Object.defineProperty(ca,"__esModule",{value:!0});ca.combineLatestInit=ca.combineLatest=void 0;var pY=Ve,mY=Gd,ON=Jr,$N=Kt,vY=Si,UC=It,gY=Yd,yY=re,bY=Zr;function wY(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=UC.popScheduler(e),r=UC.popResultSelector(e),i=mY.argsArgArrayOrObject(e),o=i.args,a=i.keys;if(o.length===0)return ON.from([],n);var s=new pY.Observable(CN(o,n,a?function(l){return gY.createObject(a,l)}:$N.identity));return r?s.pipe(vY.mapOneOrManyArgs(r)):s}ca.combineLatest=wY;function CN(e,t,n){return n===void 0&&(n=$N.identity),function(r){VC(t,function(){for(var i=e.length,o=new Array(i),a=i,s=i,l=function(c){VC(t,function(){var f=ON.from(e[c],t),d=!1;f.subscribe(yY.createOperatorSubscriber(r,function(h){o[c]=h,d||(d=!0,s--),s||r.next(n(o.slice()))},function(){--a||r.complete()}))},r)},u=0;u<i;u++)l(u)},r)}}ca.combineLatestInit=CN;function VC(e,t,n){e?bY.executeSchedule(n,e,t):t()}var Qs={},Yu={},Xs={},ei={},Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.mergeInternals=void 0;var _Y=ue,SY=Zr,WC=re;function xY(e,t,n,r,i,o,a,s){var l=[],u=0,c=0,f=!1,d=function(){f&&!l.length&&!u&&t.complete()},h=function(m){return u<r?v(m):l.push(m)},v=function(m){o&&t.next(m),u++;var b=!1;_Y.innerFrom(n(m,c++)).subscribe(WC.createOperatorSubscriber(t,function(g){i==null||i(g),o?h(g):t.next(g)},function(){b=!0},void 0,function(){if(b)try{u--;for(var g=function(){var y=l.shift();a?SY.executeSchedule(t,a,function(){return v(y)}):v(y)};l.length&&u<r;)g();d()}catch(y){t.error(y)}}))};return e.subscribe(WC.createOperatorSubscriber(t,h,function(){f=!0,d()})),function(){s==null||s()}}Qu.mergeInternals=xY;Object.defineProperty(ei,"__esModule",{value:!0});ei.mergeMap=void 0;var EY=xi,PY=ue,OY=X,$Y=Qu,CY=Be;function RN(e,t,n){return n===void 0&&(n=1/0),CY.isFunction(t)?RN(function(r,i){return EY.map(function(o,a){return t(r,o,i,a)})(PY.innerFrom(e(r,i)))},n):(typeof t=="number"&&(n=t),OY.operate(function(r,i){return $Y.mergeInternals(r,i,e,n)}))}ei.mergeMap=RN;Object.defineProperty(Xs,"__esModule",{value:!0});Xs.mergeAll=void 0;var RY=ei,kY=Kt;function TY(e){return e===void 0&&(e=1/0),RY.mergeMap(kY.identity,e)}Xs.mergeAll=TY;Object.defineProperty(Yu,"__esModule",{value:!0});Yu.concatAll=void 0;var AY=Xs;function IY(){return AY.mergeAll(1)}Yu.concatAll=IY;Object.defineProperty(Qs,"__esModule",{value:!0});Qs.concat=void 0;var DY=Yu,MY=It,jY=Jr;function NY(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return DY.concatAll()(jY.from(e,MY.popScheduler(e)))}Qs.concat=NY;var Bg={},Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.defer=void 0;var LY=Ve,FY=ue;function BY(e){return new LY.Observable(function(t){FY.innerFrom(e()).subscribe(t)})}Js.defer=BY;Object.defineProperty(Bg,"__esModule",{value:!0});Bg.connectable=void 0;var UY=Pt,VY=Ve,WY=Js,zY={connector:function(){return new UY.Subject},resetOnDisconnect:!0};function KY(e,t){t===void 0&&(t=zY);var n=null,r=t.connector,i=t.resetOnDisconnect,o=i===void 0?!0:i,a=r(),s=new VY.Observable(function(l){return a.subscribe(l)});return s.connect=function(){return(!n||n.closed)&&(n=WY.defer(function(){return e}).subscribe(a),o&&n.add(function(){return a=r()})),n},s}Bg.connectable=KY;var Ug={};Object.defineProperty(Ug,"__esModule",{value:!0});Ug.forkJoin=void 0;var HY=Ve,qY=Gd,GY=ue,YY=It,QY=re,XY=Si,JY=Yd;function ZY(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=YY.popResultSelector(e),r=qY.argsArgArrayOrObject(e),i=r.args,o=r.keys,a=new HY.Observable(function(s){var l=i.length;if(!l){s.complete();return}for(var u=new Array(l),c=l,f=l,d=function(v){var m=!1;GY.innerFrom(i[v]).subscribe(QY.createOperatorSubscriber(s,function(b){m||(m=!0,f--),u[v]=b},function(){return c--},void 0,function(){(!c||!m)&&(f||s.next(o?JY.createObject(o,u):u),s.complete())}))},h=0;h<l;h++)d(h)});return n?a.pipe(XY.mapOneOrManyArgs(n)):a}Ug.forkJoin=ZY;var Vg={},eQ=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};Object.defineProperty(Vg,"__esModule",{value:!0});Vg.fromEvent=void 0;var tQ=ue,nQ=Ve,rQ=ei,iQ=Hu,Os=Be,oQ=Si,aQ=["addListener","removeListener"],sQ=["addEventListener","removeEventListener"],lQ=["on","off"];function b_(e,t,n,r){if(Os.isFunction(n)&&(r=n,n=void 0),r)return b_(e,t,n).pipe(oQ.mapOneOrManyArgs(r));var i=eQ(fQ(e)?sQ.map(function(s){return function(l){return e[s](t,l,n)}}):uQ(e)?aQ.map(zC(e,t)):cQ(e)?lQ.map(zC(e,t)):[],2),o=i[0],a=i[1];if(!o&&iQ.isArrayLike(e))return rQ.mergeMap(function(s){return b_(s,t,n)})(tQ.innerFrom(e));if(!o)throw new TypeError("Invalid event target");return new nQ.Observable(function(s){var l=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return s.next(1<u.length?u:u[0])};return o(l),function(){return a(l)}})}Vg.fromEvent=b_;function zC(e,t){return function(n){return function(r){return e[n](t,r)}}}function uQ(e){return Os.isFunction(e.addListener)&&Os.isFunction(e.removeListener)}function cQ(e){return Os.isFunction(e.on)&&Os.isFunction(e.off)}function fQ(e){return Os.isFunction(e.addEventListener)&&Os.isFunction(e.removeEventListener)}var Wg={};Object.defineProperty(Wg,"__esModule",{value:!0});Wg.fromEventPattern=void 0;var dQ=Ve,hQ=Be,pQ=Si;function kN(e,t,n){return n?kN(e,t).pipe(pQ.mapOneOrManyArgs(n)):new dQ.Observable(function(r){var i=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return r.next(a.length===1?a[0]:a)},o=e(i);return hQ.isFunction(t)?function(){return t(i,o)}:void 0})}Wg.fromEventPattern=kN;var zg={},mQ=T&&T.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(zg,"__esModule",{value:!0});zg.generate=void 0;var KC=Kt,vQ=qs,gQ=Js,yQ=Ud;function bQ(e,t,n,r,i){var o,a,s,l;arguments.length===1?(o=e,l=o.initialState,t=o.condition,n=o.iterate,a=o.resultSelector,s=a===void 0?KC.identity:a,i=o.scheduler):(l=e,!r||vQ.isScheduler(r)?(s=KC.identity,i=r):s=r);function u(){var c;return mQ(this,function(f){switch(f.label){case 0:c=l,f.label=1;case 1:return!t||t(c)?[4,s(c)]:[3,4];case 2:f.sent(),f.label=3;case 3:return c=n(c),[3,1];case 4:return[2]}})}return gQ.defer(i?function(){return yQ.scheduleIterable(u(),i)}:u)}zg.generate=bQ;var Kg={};Object.defineProperty(Kg,"__esModule",{value:!0});Kg.iif=void 0;var wQ=Js;function _Q(e,t,n){return wQ.defer(function(){return e()?t:n})}Kg.iif=_Q;var Qd={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.timer=void 0;var SQ=Ve,xQ=qn,EQ=qs,PQ=Gu;function OQ(e,t,n){e===void 0&&(e=0),n===void 0&&(n=xQ.async);var r=-1;return t!=null&&(EQ.isScheduler(t)?n=t:r=t),new SQ.Observable(function(i){var o=PQ.isValidDate(e)?+e-n.now():e;o<0&&(o=0);var a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}Ei.timer=OQ;Object.defineProperty(Qd,"__esModule",{value:!0});Qd.interval=void 0;var $Q=qn,CQ=Ei;function RQ(e,t){return e===void 0&&(e=0),t===void 0&&(t=$Q.asyncScheduler),e<0&&(e=0),CQ.timer(e,e,t)}Qd.interval=RQ;var Hg={};Object.defineProperty(Hg,"__esModule",{value:!0});Hg.merge=void 0;var kQ=Xs,TQ=ue,AQ=qr,HC=It,IQ=Jr;function DQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=HC.popScheduler(e),r=HC.popNumber(e,1/0),i=e;return i.length?i.length===1?TQ.innerFrom(i[0]):kQ.mergeAll(r)(IQ.from(i,n)):AQ.EMPTY}Hg.merge=DQ;var w_={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var t=Ve,n=zt;e.NEVER=new t.Observable(n.noop);function r(){return e.NEVER}e.never=r})(w_);var Xd={},go={};Object.defineProperty(go,"__esModule",{value:!0});go.argsOrArgArray=void 0;var MQ=Array.isArray;function jQ(e){return e.length===1&&MQ(e[0])?e[0]:e}go.argsOrArgArray=jQ;Object.defineProperty(Xd,"__esModule",{value:!0});Xd.onErrorResumeNext=void 0;var NQ=Ve,LQ=go,FQ=re,qC=zt,BQ=ue;function UQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=LQ.argsOrArgArray(e);return new NQ.Observable(function(r){var i=0,o=function(){if(i<n.length){var a=void 0;try{a=BQ.innerFrom(n[i++])}catch{o();return}var s=new FQ.OperatorSubscriber(r,void 0,qC.noop,qC.noop);a.subscribe(s),s.add(o)}else r.complete()};o()})}Xd.onErrorResumeNext=UQ;var qg={};Object.defineProperty(qg,"__esModule",{value:!0});qg.pairs=void 0;var VQ=Jr;function WQ(e,t){return VQ.from(Object.entries(e),t)}qg.pairs=WQ;var Gg={},Yg={};Object.defineProperty(Yg,"__esModule",{value:!0});Yg.not=void 0;function zQ(e,t){return function(n,r){return!e.call(t,n,r)}}Yg.not=zQ;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.filter=void 0;var KQ=X,HQ=re;function qQ(e,t){return KQ.operate(function(n,r){var i=0;n.subscribe(HQ.createOperatorSubscriber(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}yo.filter=qQ;Object.defineProperty(Gg,"__esModule",{value:!0});Gg.partition=void 0;var GQ=Yg,GC=yo,YC=ue;function YQ(e,t,n){return[GC.filter(t,n)(YC.innerFrom(e)),GC.filter(GQ.not(t,n))(YC.innerFrom(e))]}Gg.partition=YQ;var $s={};Object.defineProperty($s,"__esModule",{value:!0});$s.raceInit=$s.race=void 0;var QQ=Ve,TN=ue,XQ=go,JQ=re;function ZQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=XQ.argsOrArgArray(e),e.length===1?TN.innerFrom(e[0]):new QQ.Observable(AN(e))}$s.race=ZQ;function AN(e){return function(t){for(var n=[],r=function(o){n.push(TN.innerFrom(e[o]).subscribe(JQ.createOperatorSubscriber(t,function(a){if(n){for(var s=0;s<n.length;s++)s!==o&&n[s].unsubscribe();n=null}t.next(a)})))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}$s.raceInit=AN;var Qg={};Object.defineProperty(Qg,"__esModule",{value:!0});Qg.range=void 0;var eX=Ve,tX=qr;function nX(e,t,n){if(t==null&&(t=e,e=0),t<=0)return tX.EMPTY;var r=t+e;return new eX.Observable(n?function(i){var o=e;return n.schedule(function(){o<r?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=e;o<r&&!i.closed;)i.next(o++);i.complete()})}Qg.range=nX;var Xg={};Object.defineProperty(Xg,"__esModule",{value:!0});Xg.using=void 0;var rX=Ve,iX=ue,oX=qr;function aX(e,t){return new rX.Observable(function(n){var r=e(),i=t(r),o=i?iX.innerFrom(i):oX.EMPTY;return o.subscribe(n),function(){r&&r.unsubscribe()}})}Xg.using=aX;var Xu={},sX=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},lX=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.zip=void 0;var uX=Ve,cX=ue,fX=go,dX=qr,hX=re,pX=It;function mX(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=pX.popResultSelector(e),r=fX.argsOrArgArray(e);return r.length?new uX.Observable(function(i){var o=r.map(function(){return[]}),a=r.map(function(){return!1});i.add(function(){o=a=null});for(var s=function(u){cX.innerFrom(r[u]).subscribe(hX.createOperatorSubscriber(i,function(c){if(o[u].push(c),o.every(function(d){return d.length})){var f=o.map(function(d){return d.shift()});i.next(n?n.apply(void 0,lX([],sX(f))):f),o.some(function(d,h){return!d.length&&a[h]})&&i.complete()}},function(){a[u]=!0,!o[u].length&&i.complete()}))},l=0;!i.closed&&l<r.length;l++)s(l);return function(){o=a=null}}):dX.EMPTY}Xu.zip=mX;var IN={};Object.defineProperty(IN,"__esModule",{value:!0});var Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});Jd.audit=void 0;var vX=X,gX=ue,QC=re;function yX(e){return vX.operate(function(t,n){var r=!1,i=null,o=null,a=!1,s=function(){if(o==null||o.unsubscribe(),o=null,r){r=!1;var u=i;i=null,n.next(u)}a&&n.complete()},l=function(){o=null,a&&n.complete()};t.subscribe(QC.createOperatorSubscriber(n,function(u){r=!0,i=u,o||gX.innerFrom(e(u)).subscribe(o=QC.createOperatorSubscriber(n,s,l))},function(){a=!0,(!r||!o||o.closed)&&n.complete()}))})}Jd.audit=yX;var Jg={};Object.defineProperty(Jg,"__esModule",{value:!0});Jg.auditTime=void 0;var bX=qn,wX=Jd,_X=Ei;function SX(e,t){return t===void 0&&(t=bX.asyncScheduler),wX.audit(function(){return _X.timer(e,t)})}Jg.auditTime=SX;var Zg={};Object.defineProperty(Zg,"__esModule",{value:!0});Zg.buffer=void 0;var xX=X,EX=zt,XC=re,PX=ue;function OX(e){return xX.operate(function(t,n){var r=[];return t.subscribe(XC.createOperatorSubscriber(n,function(i){return r.push(i)},function(){n.next(r),n.complete()})),PX.innerFrom(e).subscribe(XC.createOperatorSubscriber(n,function(){var i=r;r=[],n.next(i)},EX.noop)),function(){r=null}})}Zg.buffer=OX;var ey={},K0=T&&T.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ey,"__esModule",{value:!0});ey.bufferCount=void 0;var $X=X,CX=re,RX=Xr;function kX(e,t){return t===void 0&&(t=null),t=t??e,$X.operate(function(n,r){var i=[],o=0;n.subscribe(CX.createOperatorSubscriber(r,function(a){var s,l,u,c,f=null;o++%t===0&&i.push([]);try{for(var d=K0(i),h=d.next();!h.done;h=d.next()){var v=h.value;v.push(a),e<=v.length&&(f=f??[],f.push(v))}}catch(g){s={error:g}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}if(f)try{for(var m=K0(f),b=m.next();!b.done;b=m.next()){var v=b.value;RX.arrRemove(i,v),r.next(v)}}catch(g){u={error:g}}finally{try{b&&!b.done&&(c=m.return)&&c.call(m)}finally{if(u)throw u.error}}},function(){var a,s;try{for(var l=K0(i),u=l.next();!u.done;u=l.next()){var c=u.value;r.next(c)}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}r.complete()},void 0,function(){i=null}))})}ey.bufferCount=kX;var ty={},TX=T&&T.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ty,"__esModule",{value:!0});ty.bufferTime=void 0;var AX=Bt,IX=X,DX=re,MX=Xr,jX=qn,NX=It,JC=Zr;function LX(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=(t=NX.popScheduler(r))!==null&&t!==void 0?t:jX.asyncScheduler,a=(n=r[0])!==null&&n!==void 0?n:null,s=r[1]||1/0;return IX.operate(function(l,u){var c=[],f=!1,d=function(m){var b=m.buffer,g=m.subs;g.unsubscribe(),MX.arrRemove(c,m),u.next(b),f&&h()},h=function(){if(c){var m=new AX.Subscription;u.add(m);var b=[],g={buffer:b,subs:m};c.push(g),JC.executeSchedule(m,o,function(){return d(g)},e)}};a!==null&&a>=0?JC.executeSchedule(u,o,h,a,!0):f=!0,h();var v=DX.createOperatorSubscriber(u,function(m){var b,g,y=c.slice();try{for(var w=TX(y),_=w.next();!_.done;_=w.next()){var S=_.value,E=S.buffer;E.push(m),s<=E.length&&d(S)}}catch(P){b={error:P}}finally{try{_&&!_.done&&(g=w.return)&&g.call(w)}finally{if(b)throw b.error}}},function(){for(;c!=null&&c.length;)u.next(c.shift().buffer);v==null||v.unsubscribe(),u.complete(),u.unsubscribe()},void 0,function(){return c=null});l.subscribe(v)})}ty.bufferTime=LX;var ny={},FX=T&&T.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ny,"__esModule",{value:!0});ny.bufferToggle=void 0;var BX=Bt,UX=X,ZC=ue,H0=re,eR=zt,VX=Xr;function WX(e,t){return UX.operate(function(n,r){var i=[];ZC.innerFrom(e).subscribe(H0.createOperatorSubscriber(r,function(o){var a=[];i.push(a);var s=new BX.Subscription,l=function(){VX.arrRemove(i,a),r.next(a),s.unsubscribe()};s.add(ZC.innerFrom(t(o)).subscribe(H0.createOperatorSubscriber(r,l,eR.noop)))},eR.noop)),n.subscribe(H0.createOperatorSubscriber(r,function(o){var a,s;try{for(var l=FX(i),u=l.next();!u.done;u=l.next()){var c=u.value;c.push(o)}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)r.next(i.shift());r.complete()}))})}ny.bufferToggle=WX;var ry={};Object.defineProperty(ry,"__esModule",{value:!0});ry.bufferWhen=void 0;var zX=X,KX=zt,tR=re,HX=ue;function qX(e){return zX.operate(function(t,n){var r=null,i=null,o=function(){i==null||i.unsubscribe();var a=r;r=[],a&&n.next(a),HX.innerFrom(e()).subscribe(i=tR.createOperatorSubscriber(n,o,KX.noop))};o(),t.subscribe(tR.createOperatorSubscriber(n,function(a){return r==null?void 0:r.push(a)},function(){r&&n.next(r),n.complete()},void 0,function(){return r=i=null}))})}ry.bufferWhen=qX;var iy={};Object.defineProperty(iy,"__esModule",{value:!0});iy.catchError=void 0;var GX=ue,YX=re,QX=X;function DN(e){return QX.operate(function(t,n){var r=null,i=!1,o;r=t.subscribe(YX.createOperatorSubscriber(n,void 0,void 0,function(a){o=GX.innerFrom(e(a,DN(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}iy.catchError=DN;var oy={},Zd={},eh={},th={},Ta={},nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.scanInternals=void 0;var XX=re;function JX(e,t,n,r,i){return function(o,a){var s=n,l=t,u=0;o.subscribe(XX.createOperatorSubscriber(a,function(c){var f=u++;l=s?e(l,c,f):(s=!0,c),r&&a.next(l)},i&&function(){s&&a.next(l),a.complete()}))}}nh.scanInternals=JX;Object.defineProperty(Ta,"__esModule",{value:!0});Ta.reduce=void 0;var ZX=nh,eJ=X;function tJ(e,t){return eJ.operate(ZX.scanInternals(e,t,arguments.length>=2,!1,!0))}Ta.reduce=tJ;Object.defineProperty(th,"__esModule",{value:!0});th.toArray=void 0;var nJ=Ta,rJ=X,iJ=function(e,t){return e.push(t),e};function oJ(){return rJ.operate(function(e,t){nJ.reduce(iJ,[])(e).subscribe(t)})}th.toArray=oJ;Object.defineProperty(eh,"__esModule",{value:!0});eh.joinAllInternals=void 0;var aJ=Kt,sJ=Si,lJ=eo,uJ=ei,cJ=th;function fJ(e,t){return lJ.pipe(cJ.toArray(),uJ.mergeMap(function(n){return e(n)}),t?sJ.mapOneOrManyArgs(t):aJ.identity)}eh.joinAllInternals=fJ;Object.defineProperty(Zd,"__esModule",{value:!0});Zd.combineLatestAll=void 0;var dJ=ca,hJ=eh;function pJ(e){return hJ.joinAllInternals(dJ.combineLatest,e)}Zd.combineLatestAll=pJ;Object.defineProperty(oy,"__esModule",{value:!0});oy.combineAll=void 0;var mJ=Zd;oy.combineAll=mJ.combineLatestAll;var ay={},sy={},nR=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},rR=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(sy,"__esModule",{value:!0});sy.combineLatest=void 0;var vJ=ca,gJ=X,yJ=go,bJ=Si,wJ=eo,_J=It;function MN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_J.popResultSelector(e);return n?wJ.pipe(MN.apply(void 0,rR([],nR(e))),bJ.mapOneOrManyArgs(n)):gJ.operate(function(r,i){vJ.combineLatestInit(rR([r],nR(yJ.argsOrArgArray(e))))(i)})}sy.combineLatest=MN;var SJ=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},xJ=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(ay,"__esModule",{value:!0});ay.combineLatestWith=void 0;var EJ=sy;function PJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return EJ.combineLatest.apply(void 0,xJ([],SJ(e)))}ay.combineLatestWith=PJ;var rh={};Object.defineProperty(rh,"__esModule",{value:!0});rh.concatMap=void 0;var iR=ei,OJ=Be;function $J(e,t){return OJ.isFunction(t)?iR.mergeMap(e,t,1):iR.mergeMap(e,1)}rh.concatMap=$J;var ly={};Object.defineProperty(ly,"__esModule",{value:!0});ly.concatMapTo=void 0;var oR=rh,CJ=Be;function RJ(e,t){return CJ.isFunction(t)?oR.concatMap(function(){return e},t):oR.concatMap(function(){return e})}ly.concatMapTo=RJ;var uy={},cy={},kJ=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},TJ=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(cy,"__esModule",{value:!0});cy.concat=void 0;var AJ=X,IJ=Yu,DJ=It,MJ=Jr;function jJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=DJ.popScheduler(e);return AJ.operate(function(r,i){IJ.concatAll()(MJ.from(TJ([r],kJ(e)),n)).subscribe(i)})}cy.concat=jJ;var NJ=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},LJ=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(uy,"__esModule",{value:!0});uy.concatWith=void 0;var FJ=cy;function BJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return FJ.concat.apply(void 0,LJ([],NJ(e)))}uy.concatWith=BJ;var Ju={},fy={};Object.defineProperty(fy,"__esModule",{value:!0});fy.fromSubscribable=void 0;var UJ=Ve;function VJ(e){return new UJ.Observable(function(t){return e.subscribe(t)})}fy.fromSubscribable=VJ;Object.defineProperty(Ju,"__esModule",{value:!0});Ju.connect=void 0;var WJ=Pt,zJ=ue,KJ=X,HJ=fy,qJ={connector:function(){return new WJ.Subject}};function GJ(e,t){t===void 0&&(t=qJ);var n=t.connector;return KJ.operate(function(r,i){var o=n();zJ.innerFrom(e(HJ.fromSubscribable(o))).subscribe(i),i.add(r.subscribe(o))})}Ju.connect=GJ;var dy={};Object.defineProperty(dy,"__esModule",{value:!0});dy.count=void 0;var YJ=Ta;function QJ(e){return YJ.reduce(function(t,n,r){return!e||e(n,r)?t+1:t},0)}dy.count=QJ;var hy={};Object.defineProperty(hy,"__esModule",{value:!0});hy.debounce=void 0;var XJ=X,JJ=zt,aR=re,ZJ=ue;function eZ(e){return XJ.operate(function(t,n){var r=!1,i=null,o=null,a=function(){if(o==null||o.unsubscribe(),o=null,r){r=!1;var s=i;i=null,n.next(s)}};t.subscribe(aR.createOperatorSubscriber(n,function(s){o==null||o.unsubscribe(),r=!0,i=s,o=aR.createOperatorSubscriber(n,a,JJ.noop),ZJ.innerFrom(e(s)).subscribe(o)},function(){a(),n.complete()},void 0,function(){i=o=null}))})}hy.debounce=eZ;var py={};Object.defineProperty(py,"__esModule",{value:!0});py.debounceTime=void 0;var tZ=qn,nZ=X,rZ=re;function iZ(e,t){return t===void 0&&(t=tZ.asyncScheduler),nZ.operate(function(n,r){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var u=o;o=null,r.next(u)}};function l(){var u=a+e,c=t.now();if(c<u){i=this.schedule(void 0,u-c),r.add(i);return}s()}n.subscribe(rZ.createOperatorSubscriber(r,function(u){o=u,a=t.now(),i||(i=t.schedule(l,e),r.add(i))},function(){s(),r.complete()},void 0,function(){o=i=null}))})}py.debounceTime=iZ;var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.defaultIfEmpty=void 0;var oZ=X,aZ=re;function sZ(e){return oZ.operate(function(t,n){var r=!1;t.subscribe(aZ.createOperatorSubscriber(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}Zs.defaultIfEmpty=sZ;var my={},ih={},el={};Object.defineProperty(el,"__esModule",{value:!0});el.take=void 0;var lZ=qr,uZ=X,cZ=re;function fZ(e){return e<=0?function(){return lZ.EMPTY}:uZ.operate(function(t,n){var r=0;t.subscribe(cZ.createOperatorSubscriber(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}el.take=fZ;var oh={};Object.defineProperty(oh,"__esModule",{value:!0});oh.ignoreElements=void 0;var dZ=X,hZ=re,pZ=zt;function mZ(){return dZ.operate(function(e,t){e.subscribe(hZ.createOperatorSubscriber(t,pZ.noop))})}oh.ignoreElements=mZ;var ah={};Object.defineProperty(ah,"__esModule",{value:!0});ah.mapTo=void 0;var vZ=xi;function gZ(e){return vZ.map(function(){return e})}ah.mapTo=gZ;Object.defineProperty(ih,"__esModule",{value:!0});ih.delayWhen=void 0;var yZ=Qs,sR=el,bZ=oh,wZ=ah,_Z=ei,SZ=ue;function jN(e,t){return t?function(n){return yZ.concat(t.pipe(sR.take(1),bZ.ignoreElements()),n.pipe(jN(e)))}:_Z.mergeMap(function(n,r){return SZ.innerFrom(e(n,r)).pipe(sR.take(1),wZ.mapTo(n))})}ih.delayWhen=jN;Object.defineProperty(my,"__esModule",{value:!0});my.delay=void 0;var xZ=qn,EZ=ih,PZ=Ei;function OZ(e,t){t===void 0&&(t=xZ.asyncScheduler);var n=PZ.timer(e,t);return EZ.delayWhen(function(){return n})}my.delay=OZ;var vy={};Object.defineProperty(vy,"__esModule",{value:!0});vy.dematerialize=void 0;var $Z=kg,CZ=X,RZ=re;function kZ(){return CZ.operate(function(e,t){e.subscribe(RZ.createOperatorSubscriber(t,function(n){return $Z.observeNotification(n,t)}))})}vy.dematerialize=kZ;var gy={};Object.defineProperty(gy,"__esModule",{value:!0});gy.distinct=void 0;var TZ=X,lR=re,AZ=zt,IZ=ue;function DZ(e,t){return TZ.operate(function(n,r){var i=new Set;n.subscribe(lR.createOperatorSubscriber(r,function(o){var a=e?e(o):o;i.has(a)||(i.add(a),r.next(o))})),t&&IZ.innerFrom(t).subscribe(lR.createOperatorSubscriber(r,function(){return i.clear()},AZ.noop))})}gy.distinct=DZ;var sh={};Object.defineProperty(sh,"__esModule",{value:!0});sh.distinctUntilChanged=void 0;var MZ=Kt,jZ=X,NZ=re;function LZ(e,t){return t===void 0&&(t=MZ.identity),e=e??FZ,jZ.operate(function(n,r){var i,o=!0;n.subscribe(NZ.createOperatorSubscriber(r,function(a){var s=t(a);(o||!e(i,s))&&(o=!1,i=s,r.next(a))}))})}sh.distinctUntilChanged=LZ;function FZ(e,t){return e===t}var yy={};Object.defineProperty(yy,"__esModule",{value:!0});yy.distinctUntilKeyChanged=void 0;var BZ=sh;function UZ(e,t){return BZ.distinctUntilChanged(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}yy.distinctUntilKeyChanged=UZ;var by={},tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.throwIfEmpty=void 0;var VZ=_i,WZ=X,zZ=re;function KZ(e){return e===void 0&&(e=HZ),WZ.operate(function(t,n){var r=!1;t.subscribe(zZ.createOperatorSubscriber(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(e())}))})}tl.throwIfEmpty=KZ;function HZ(){return new VZ.EmptyError}Object.defineProperty(by,"__esModule",{value:!0});by.elementAt=void 0;var uR=zd,qZ=yo,GZ=tl,YZ=Zs,QZ=el;function XZ(e,t){if(e<0)throw new uR.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(r){return r.pipe(qZ.filter(function(i,o){return o===e}),QZ.take(1),n?YZ.defaultIfEmpty(t):GZ.throwIfEmpty(function(){return new uR.ArgumentOutOfRangeError}))}}by.elementAt=XZ;var wy={},JZ=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},ZZ=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(wy,"__esModule",{value:!0});wy.endWith=void 0;var eee=Qs,tee=Ku;function nee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return eee.concat(n,tee.of.apply(void 0,ZZ([],JZ(e))))}}wy.endWith=nee;var _y={};Object.defineProperty(_y,"__esModule",{value:!0});_y.every=void 0;var ree=X,iee=re;function oee(e,t){return ree.operate(function(n,r){var i=0;n.subscribe(iee.createOperatorSubscriber(r,function(o){e.call(t,o,i++,n)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}_y.every=oee;var Sy={},lh={},uh={};Object.defineProperty(uh,"__esModule",{value:!0});uh.exhaustMap=void 0;var aee=xi,cR=ue,see=X,fR=re;function NN(e,t){return t?function(n){return n.pipe(NN(function(r,i){return cR.innerFrom(e(r,i)).pipe(aee.map(function(o,a){return t(r,o,i,a)}))}))}:see.operate(function(n,r){var i=0,o=null,a=!1;n.subscribe(fR.createOperatorSubscriber(r,function(s){o||(o=fR.createOperatorSubscriber(r,void 0,function(){o=null,a&&r.complete()}),cR.innerFrom(e(s,i++)).subscribe(o))},function(){a=!0,!o&&r.complete()}))})}uh.exhaustMap=NN;Object.defineProperty(lh,"__esModule",{value:!0});lh.exhaustAll=void 0;var lee=uh,uee=Kt;function cee(){return lee.exhaustMap(uee.identity)}lh.exhaustAll=cee;Object.defineProperty(Sy,"__esModule",{value:!0});Sy.exhaust=void 0;var fee=lh;Sy.exhaust=fee.exhaustAll;var xy={};Object.defineProperty(xy,"__esModule",{value:!0});xy.expand=void 0;var dee=X,hee=Qu;function pee(e,t,n){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,dee.operate(function(r,i){return hee.mergeInternals(r,i,e,t,void 0,!0,n)})}xy.expand=pee;var Ey={};Object.defineProperty(Ey,"__esModule",{value:!0});Ey.finalize=void 0;var mee=X;function vee(e){return mee.operate(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}Ey.finalize=vee;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.createFind=Cs.find=void 0;var gee=X,yee=re;function bee(e,t){return gee.operate(LN(e,t,"value"))}Cs.find=bee;function LN(e,t,n){var r=n==="index";return function(i,o){var a=0;i.subscribe(yee.createOperatorSubscriber(o,function(s){var l=a++;e.call(t,s,l,i)&&(o.next(r?l:s),o.complete())},function(){o.next(r?-1:void 0),o.complete()}))}}Cs.createFind=LN;var Py={};Object.defineProperty(Py,"__esModule",{value:!0});Py.findIndex=void 0;var wee=X,_ee=Cs;function See(e,t){return wee.operate(_ee.createFind(e,t,"index"))}Py.findIndex=See;var Oy={};Object.defineProperty(Oy,"__esModule",{value:!0});Oy.first=void 0;var xee=_i,Eee=yo,Pee=el,Oee=Zs,$ee=tl,Cee=Kt;function Ree(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Eee.filter(function(i,o){return e(i,o,r)}):Cee.identity,Pee.take(1),n?Oee.defaultIfEmpty(t):$ee.throwIfEmpty(function(){return new xee.EmptyError}))}}Oy.first=Ree;var $y={};Object.defineProperty($y,"__esModule",{value:!0});$y.groupBy=void 0;var kee=Ve,Tee=ue,Aee=Pt,Iee=X,dR=re;function Dee(e,t,n,r){return Iee.operate(function(i,o){var a;!t||typeof t=="function"?a=t:(n=t.duration,a=t.element,r=t.connector);var s=new Map,l=function(v){s.forEach(v),v(o)},u=function(v){return l(function(m){return m.error(v)})},c=0,f=!1,d=new dR.OperatorSubscriber(o,function(v){try{var m=e(v),b=s.get(m);if(!b){s.set(m,b=r?r():new Aee.Subject);var g=h(m,b);if(o.next(g),n){var y=dR.createOperatorSubscriber(b,function(){b.complete(),y==null||y.unsubscribe()},void 0,void 0,function(){return s.delete(m)});d.add(Tee.innerFrom(n(g)).subscribe(y))}}b.next(a?a(v):v)}catch(w){u(w)}},function(){return l(function(v){return v.complete()})},u,function(){return s.clear()},function(){return f=!0,c===0});i.subscribe(d);function h(v,m){var b=new kee.Observable(function(g){c++;var y=m.subscribe(g);return function(){y.unsubscribe(),--c===0&&f&&d.unsubscribe()}});return b.key=v,b}})}$y.groupBy=Dee;var Cy={};Object.defineProperty(Cy,"__esModule",{value:!0});Cy.isEmpty=void 0;var Mee=X,jee=re;function Nee(){return Mee.operate(function(e,t){e.subscribe(jee.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}Cy.isEmpty=Nee;var Ry={},ch={},Lee=T&&T.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ch,"__esModule",{value:!0});ch.takeLast=void 0;var Fee=qr,Bee=X,Uee=re;function Vee(e){return e<=0?function(){return Fee.EMPTY}:Bee.operate(function(t,n){var r=[];t.subscribe(Uee.createOperatorSubscriber(n,function(i){r.push(i),e<r.length&&r.shift()},function(){var i,o;try{for(var a=Lee(r),s=a.next();!s.done;s=a.next()){var l=s.value;n.next(l)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}n.complete()},void 0,function(){r=null}))})}ch.takeLast=Vee;Object.defineProperty(Ry,"__esModule",{value:!0});Ry.last=void 0;var Wee=_i,zee=yo,Kee=ch,Hee=tl,qee=Zs,Gee=Kt;function Yee(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?zee.filter(function(i,o){return e(i,o,r)}):Gee.identity,Kee.takeLast(1),n?qee.defaultIfEmpty(t):Hee.throwIfEmpty(function(){return new Wee.EmptyError}))}}Ry.last=Yee;var ky={};Object.defineProperty(ky,"__esModule",{value:!0});ky.materialize=void 0;var q0=kg,Qee=X,Xee=re;function Jee(){return Qee.operate(function(e,t){e.subscribe(Xee.createOperatorSubscriber(t,function(n){t.next(q0.Notification.createNext(n))},function(){t.next(q0.Notification.createComplete()),t.complete()},function(n){t.next(q0.Notification.createError(n)),t.complete()}))})}ky.materialize=Jee;var Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.max=void 0;var Zee=Ta,ete=Be;function tte(e){return Zee.reduce(ete.isFunction(e)?function(t,n){return e(t,n)>0?t:n}:function(t,n){return t>n?t:n})}Ty.max=tte;var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.flatMap=void 0;var nte=ei;Ay.flatMap=nte.mergeMap;var Iy={};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.mergeMapTo=void 0;var hR=ei,rte=Be;function ite(e,t,n){return n===void 0&&(n=1/0),rte.isFunction(t)?hR.mergeMap(function(){return e},t,n):(typeof t=="number"&&(n=t),hR.mergeMap(function(){return e},n))}Iy.mergeMapTo=ite;var Dy={};Object.defineProperty(Dy,"__esModule",{value:!0});Dy.mergeScan=void 0;var ote=X,ate=Qu;function ste(e,t,n){return n===void 0&&(n=1/0),ote.operate(function(r,i){var o=t;return ate.mergeInternals(r,i,function(a,s){return e(o,a,s)},n,function(a){o=a},!1,void 0,function(){return o=null})})}Dy.mergeScan=ste;var My={},jy={},lte=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},ute=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(jy,"__esModule",{value:!0});jy.merge=void 0;var cte=X,fte=go,dte=Xs,pR=It,hte=Jr;function pte(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=pR.popScheduler(e),r=pR.popNumber(e,1/0);return e=fte.argsOrArgArray(e),cte.operate(function(i,o){dte.mergeAll(r)(hte.from(ute([i],lte(e)),n)).subscribe(o)})}jy.merge=pte;var mte=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},vte=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(My,"__esModule",{value:!0});My.mergeWith=void 0;var gte=jy;function yte(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gte.merge.apply(void 0,vte([],mte(e)))}My.mergeWith=yte;var Ny={};Object.defineProperty(Ny,"__esModule",{value:!0});Ny.min=void 0;var bte=Ta,wte=Be;function _te(e){return bte.reduce(wte.isFunction(e)?function(t,n){return e(t,n)<0?t:n}:function(t,n){return t<n?t:n})}Ny.min=_te;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.multicast=void 0;var Ste=Hs,mR=Be,xte=Ju;function Ete(e,t){var n=mR.isFunction(e)?e:function(){return e};return mR.isFunction(t)?xte.connect(t,{connector:n}):function(r){return new Ste.ConnectableObservable(r,n)}}Zu.multicast=Ete;var bu={},Pte=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Ote=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(bu,"__esModule",{value:!0});bu.onErrorResumeNext=bu.onErrorResumeNextWith=void 0;var $te=go,Cte=Xd;function FN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$te.argsOrArgArray(e);return function(r){return Cte.onErrorResumeNext.apply(void 0,Ote([r],Pte(n)))}}bu.onErrorResumeNextWith=FN;bu.onErrorResumeNext=FN;var Ly={};Object.defineProperty(Ly,"__esModule",{value:!0});Ly.pairwise=void 0;var Rte=X,kte=re;function Tte(){return Rte.operate(function(e,t){var n,r=!1;e.subscribe(kte.createOperatorSubscriber(t,function(i){var o=n;n=i,r&&t.next([o,i]),r=!0}))})}Ly.pairwise=Tte;var Fy={};Object.defineProperty(Fy,"__esModule",{value:!0});Fy.pluck=void 0;var Ate=xi;function Ite(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(n===0)throw new Error("list of properties cannot be empty.");return Ate.map(function(r){for(var i=r,o=0;o<n;o++){var a=i==null?void 0:i[e[o]];if(typeof a<"u")i=a;else return}return i})}Fy.pluck=Ite;var By={};Object.defineProperty(By,"__esModule",{value:!0});By.publish=void 0;var Dte=Pt,Mte=Zu,jte=Ju;function Nte(e){return e?function(t){return jte.connect(e)(t)}:function(t){return Mte.multicast(new Dte.Subject)(t)}}By.publish=Nte;var Uy={};Object.defineProperty(Uy,"__esModule",{value:!0});Uy.publishBehavior=void 0;var Lte=Id,Fte=Hs;function Bte(e){return function(t){var n=new Lte.BehaviorSubject(e);return new Fte.ConnectableObservable(t,function(){return n})}}Uy.publishBehavior=Bte;var Vy={};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.publishLast=void 0;var Ute=zu,Vte=Hs;function Wte(){return function(e){var t=new Ute.AsyncSubject;return new Vte.ConnectableObservable(e,function(){return t})}}Vy.publishLast=Wte;var Wy={};Object.defineProperty(Wy,"__esModule",{value:!0});Wy.publishReplay=void 0;var zte=Wu,Kte=Zu,vR=Be;function Hte(e,t,n,r){n&&!vR.isFunction(n)&&(r=n);var i=vR.isFunction(n)?n:void 0;return function(o){return Kte.multicast(new zte.ReplaySubject(e,t,r),i)(o)}}Wy.publishReplay=Hte;var zy={},qte=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Gte=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(zy,"__esModule",{value:!0});zy.raceWith=void 0;var Yte=$s,Qte=X,Xte=Kt;function Jte(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?Qte.operate(function(n,r){Yte.raceInit(Gte([n],qte(e)))(r)}):Xte.identity}zy.raceWith=Jte;var Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});Ky.repeat=void 0;var Zte=qr,ene=X,gR=re,tne=ue,nne=Ei;function rne(e){var t,n=1/0,r;return e!=null&&(typeof e=="object"?(t=e.count,n=t===void 0?1/0:t,r=e.delay):n=e),n<=0?function(){return Zte.EMPTY}:ene.operate(function(i,o){var a=0,s,l=function(){if(s==null||s.unsubscribe(),s=null,r!=null){var c=typeof r=="number"?nne.timer(r):tne.innerFrom(r(a)),f=gR.createOperatorSubscriber(o,function(){f.unsubscribe(),u()});c.subscribe(f)}else u()},u=function(){var c=!1;s=i.subscribe(gR.createOperatorSubscriber(o,void 0,function(){++a<n?s?l():c=!0:o.complete()})),c&&l()};u()})}Ky.repeat=rne;var Hy={};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.repeatWhen=void 0;var ine=ue,one=Pt,ane=X,yR=re;function sne(e){return ane.operate(function(t,n){var r,i=!1,o,a=!1,s=!1,l=function(){return s&&a&&(n.complete(),!0)},u=function(){return o||(o=new one.Subject,ine.innerFrom(e(o)).subscribe(yR.createOperatorSubscriber(n,function(){r?c():i=!0},function(){a=!0,l()}))),o},c=function(){s=!1,r=t.subscribe(yR.createOperatorSubscriber(n,void 0,function(){s=!0,!l()&&u().next()})),i&&(r.unsubscribe(),r=null,i=!1,c())};c()})}Hy.repeatWhen=sne;var qy={};Object.defineProperty(qy,"__esModule",{value:!0});qy.retry=void 0;var lne=X,bR=re,une=Kt,cne=Ei,fne=ue;function dne(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var n=t.count,r=n===void 0?1/0:n,i=t.delay,o=t.resetOnSuccess,a=o===void 0?!1:o;return r<=0?une.identity:lne.operate(function(s,l){var u=0,c,f=function(){var d=!1;c=s.subscribe(bR.createOperatorSubscriber(l,function(h){a&&(u=0),l.next(h)},void 0,function(h){if(u++<r){var v=function(){c?(c.unsubscribe(),c=null,f()):d=!0};if(i!=null){var m=typeof i=="number"?cne.timer(i):fne.innerFrom(i(h,u)),b=bR.createOperatorSubscriber(l,function(){b.unsubscribe(),v()},function(){l.complete()});m.subscribe(b)}else v()}else l.error(h)})),d&&(c.unsubscribe(),c=null,f())};f()})}qy.retry=dne;var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.retryWhen=void 0;var hne=ue,pne=Pt,mne=X,wR=re;function vne(e){return mne.operate(function(t,n){var r,i=!1,o,a=function(){r=t.subscribe(wR.createOperatorSubscriber(n,void 0,void 0,function(s){o||(o=new pne.Subject,hne.innerFrom(e(o)).subscribe(wR.createOperatorSubscriber(n,function(){return r?a():i=!0}))),o&&o.next(s)})),i&&(r.unsubscribe(),r=null,i=!1,a())};a()})}Gy.retryWhen=vne;var fh={};Object.defineProperty(fh,"__esModule",{value:!0});fh.sample=void 0;var gne=ue,yne=X,bne=zt,_R=re;function wne(e){return yne.operate(function(t,n){var r=!1,i=null;t.subscribe(_R.createOperatorSubscriber(n,function(o){r=!0,i=o})),gne.innerFrom(e).subscribe(_R.createOperatorSubscriber(n,function(){if(r){r=!1;var o=i;i=null,n.next(o)}},bne.noop))})}fh.sample=wne;var Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.sampleTime=void 0;var _ne=qn,Sne=fh,xne=Qd;function Ene(e,t){return t===void 0&&(t=_ne.asyncScheduler),Sne.sample(xne.interval(e,t))}Yy.sampleTime=Ene;var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});Qy.scan=void 0;var Pne=X,One=nh;function $ne(e,t){return Pne.operate(One.scanInternals(e,t,arguments.length>=2,!0))}Qy.scan=$ne;var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.sequenceEqual=void 0;var Cne=X,Rne=re,kne=ue;function Tne(e,t){return t===void 0&&(t=function(n,r){return n===r}),Cne.operate(function(n,r){var i=SR(),o=SR(),a=function(l){r.next(l),r.complete()},s=function(l,u){var c=Rne.createOperatorSubscriber(r,function(f){var d=u.buffer,h=u.complete;d.length===0?h?a(!1):l.buffer.push(f):!t(f,d.shift())&&a(!1)},function(){l.complete=!0;var f=u.complete,d=u.buffer;f&&a(d.length===0),c==null||c.unsubscribe()});return c};n.subscribe(s(i,o)),kne.innerFrom(e).subscribe(s(o,i))})}Xy.sequenceEqual=Tne;function SR(){return{buffer:[],complete:!1}}var dh={},Ane=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Ine=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(dh,"__esModule",{value:!0});dh.share=void 0;var BN=ue,Dne=Pt,UN=Vu,Mne=X;function jne(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Dne.Subject}:t,r=e.resetOnError,i=r===void 0?!0:r,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(u){var c,f,d,h=0,v=!1,m=!1,b=function(){f==null||f.unsubscribe(),f=void 0},g=function(){b(),c=d=void 0,v=m=!1},y=function(){var w=c;g(),w==null||w.unsubscribe()};return Mne.operate(function(w,_){h++,!m&&!v&&b();var S=d=d??n();_.add(function(){h--,h===0&&!m&&!v&&(f=G0(y,l))}),S.subscribe(_),!c&&h>0&&(c=new UN.SafeSubscriber({next:function(E){return S.next(E)},error:function(E){m=!0,b(),f=G0(g,i,E),S.error(E)},complete:function(){v=!0,b(),f=G0(g,a),S.complete()}}),BN.innerFrom(w).subscribe(c))})(u)}}dh.share=jne;function G0(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new UN.SafeSubscriber({next:function(){i.unsubscribe(),e()}});return BN.innerFrom(t.apply(void 0,Ine([],Ane(n)))).subscribe(i)}}var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.shareReplay=void 0;var Nne=Wu,Lne=dh;function Fne(e,t,n){var r,i,o,a,s=!1;return e&&typeof e=="object"?(r=e.bufferSize,a=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,n=e.scheduler):a=e??1/0,Lne.share({connector:function(){return new Nne.ReplaySubject(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}Jy.shareReplay=Fne;var Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});Zy.single=void 0;var Bne=_i,Une=Hd,Vne=Kd,Wne=X,zne=re;function Kne(e){return Wne.operate(function(t,n){var r=!1,i,o=!1,a=0;t.subscribe(zne.createOperatorSubscriber(n,function(s){o=!0,(!e||e(s,a++,t))&&(r&&n.error(new Une.SequenceError("Too many matching values")),r=!0,i=s)},function(){r?(n.next(i),n.complete()):n.error(o?new Vne.NotFoundError("No matching values"):new Bne.EmptyError)}))})}Zy.single=Kne;var eb={};Object.defineProperty(eb,"__esModule",{value:!0});eb.skip=void 0;var Hne=yo;function qne(e){return Hne.filter(function(t,n){return e<=n})}eb.skip=qne;var tb={};Object.defineProperty(tb,"__esModule",{value:!0});tb.skipLast=void 0;var Gne=Kt,Yne=X,Qne=re;function Xne(e){return e<=0?Gne.identity:Yne.operate(function(t,n){var r=new Array(e),i=0;return t.subscribe(Qne.createOperatorSubscriber(n,function(o){var a=i++;if(a<e)r[a]=o;else{var s=a%e,l=r[s];r[s]=o,n.next(l)}})),function(){r=null}})}tb.skipLast=Xne;var nb={};Object.defineProperty(nb,"__esModule",{value:!0});nb.skipUntil=void 0;var Jne=X,xR=re,Zne=ue,ere=zt;function tre(e){return Jne.operate(function(t,n){var r=!1,i=xR.createOperatorSubscriber(n,function(){i==null||i.unsubscribe(),r=!0},ere.noop);Zne.innerFrom(e).subscribe(i),t.subscribe(xR.createOperatorSubscriber(n,function(o){return r&&n.next(o)}))})}nb.skipUntil=tre;var rb={};Object.defineProperty(rb,"__esModule",{value:!0});rb.skipWhile=void 0;var nre=X,rre=re;function ire(e){return nre.operate(function(t,n){var r=!1,i=0;t.subscribe(rre.createOperatorSubscriber(n,function(o){return(r||(r=!e(o,i++)))&&n.next(o)}))})}rb.skipWhile=ire;var ib={};Object.defineProperty(ib,"__esModule",{value:!0});ib.startWith=void 0;var ER=Qs,ore=It,are=X;function sre(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ore.popScheduler(e);return are.operate(function(r,i){(n?ER.concat(e,r,n):ER.concat(e,r)).subscribe(i)})}ib.startWith=sre;var ob={},nl={};Object.defineProperty(nl,"__esModule",{value:!0});nl.switchMap=void 0;var lre=ue,ure=X,PR=re;function cre(e,t){return ure.operate(function(n,r){var i=null,o=0,a=!1,s=function(){return a&&!i&&r.complete()};n.subscribe(PR.createOperatorSubscriber(r,function(l){i==null||i.unsubscribe();var u=0,c=o++;lre.innerFrom(e(l,c)).subscribe(i=PR.createOperatorSubscriber(r,function(f){return r.next(t?t(l,f,c,u++):f)},function(){i=null,s()}))},function(){a=!0,s()}))})}nl.switchMap=cre;Object.defineProperty(ob,"__esModule",{value:!0});ob.switchAll=void 0;var fre=nl,dre=Kt;function hre(){return fre.switchMap(dre.identity)}ob.switchAll=hre;var ab={};Object.defineProperty(ab,"__esModule",{value:!0});ab.switchMapTo=void 0;var OR=nl,pre=Be;function mre(e,t){return pre.isFunction(t)?OR.switchMap(function(){return e},t):OR.switchMap(function(){return e})}ab.switchMapTo=mre;var sb={};Object.defineProperty(sb,"__esModule",{value:!0});sb.switchScan=void 0;var vre=nl,gre=X;function yre(e,t){return gre.operate(function(n,r){var i=t;return vre.switchMap(function(o,a){return e(i,o,a)},function(o,a){return i=a,a})(n).subscribe(r),function(){i=null}})}sb.switchScan=yre;var lb={};Object.defineProperty(lb,"__esModule",{value:!0});lb.takeUntil=void 0;var bre=X,wre=re,_re=ue,Sre=zt;function xre(e){return bre.operate(function(t,n){_re.innerFrom(e).subscribe(wre.createOperatorSubscriber(n,function(){return n.complete()},Sre.noop)),!n.closed&&t.subscribe(n)})}lb.takeUntil=xre;var ub={};Object.defineProperty(ub,"__esModule",{value:!0});ub.takeWhile=void 0;var Ere=X,Pre=re;function Ore(e,t){return t===void 0&&(t=!1),Ere.operate(function(n,r){var i=0;n.subscribe(Pre.createOperatorSubscriber(r,function(o){var a=e(o,i++);(a||t)&&r.next(o),!a&&r.complete()}))})}ub.takeWhile=Ore;var cb={};Object.defineProperty(cb,"__esModule",{value:!0});cb.tap=void 0;var $re=Be,Cre=X,Rre=re,kre=Kt;function Tre(e,t,n){var r=$re.isFunction(e)||t||n?{next:e,error:t,complete:n}:e;return r?Cre.operate(function(i,o){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var s=!0;i.subscribe(Rre.createOperatorSubscriber(o,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},function(){var l;s=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},function(l){var u;s=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},function(){var l,u;s&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):kre.identity}cb.tap=Tre;var hh={};Object.defineProperty(hh,"__esModule",{value:!0});hh.throttle=void 0;var Are=X,$R=re,Ire=ue;function Dre(e,t){return Are.operate(function(n,r){var i=t??{},o=i.leading,a=o===void 0?!0:o,s=i.trailing,l=s===void 0?!1:s,u=!1,c=null,f=null,d=!1,h=function(){f==null||f.unsubscribe(),f=null,l&&(b(),d&&r.complete())},v=function(){f=null,d&&r.complete()},m=function(g){return f=Ire.innerFrom(e(g)).subscribe($R.createOperatorSubscriber(r,h,v))},b=function(){if(u){u=!1;var g=c;c=null,r.next(g),!d&&m(g)}};n.subscribe($R.createOperatorSubscriber(r,function(g){u=!0,c=g,!(f&&!f.closed)&&(a?b():m(g))},function(){d=!0,!(l&&u&&f&&!f.closed)&&r.complete()}))})}hh.throttle=Dre;var fb={};Object.defineProperty(fb,"__esModule",{value:!0});fb.throttleTime=void 0;var Mre=qn,jre=hh,Nre=Ei;function Lre(e,t,n){t===void 0&&(t=Mre.asyncScheduler);var r=Nre.timer(e,t);return jre.throttle(function(){return r},n)}fb.throttleTime=Lre;var wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.TimeInterval=wu.timeInterval=void 0;var Fre=qn,Bre=X,Ure=re;function Vre(e){return e===void 0&&(e=Fre.asyncScheduler),Bre.operate(function(t,n){var r=e.now();t.subscribe(Ure.createOperatorSubscriber(n,function(i){var o=e.now(),a=o-r;r=o,n.next(new VN(i,a))}))})}wu.timeInterval=Vre;var VN=function(){function e(t,n){this.value=t,this.interval=n}return e}();wu.TimeInterval=VN;var db={};Object.defineProperty(db,"__esModule",{value:!0});db.timeoutWith=void 0;var Wre=qn,zre=Gu,Kre=ov;function Hre(e,t,n){var r,i,o;if(n=n??Wre.async,zre.isValidDate(e)?r=e:typeof e=="number"&&(i=e),t)o=function(){return t};else throw new TypeError("No observable provided to switch to");if(r==null&&i==null)throw new TypeError("No timeout provided.");return Kre.timeout({first:r,each:i,scheduler:n,with:o})}db.timeoutWith=Hre;var hb={};Object.defineProperty(hb,"__esModule",{value:!0});hb.timestamp=void 0;var qre=Sg,Gre=xi;function Yre(e){return e===void 0&&(e=qre.dateTimestampProvider),Gre.map(function(t){return{value:t,timestamp:e.now()}})}hb.timestamp=Yre;var pb={};Object.defineProperty(pb,"__esModule",{value:!0});pb.window=void 0;var CR=Pt,Qre=X,RR=re,Xre=zt,Jre=ue;function Zre(e){return Qre.operate(function(t,n){var r=new CR.Subject;n.next(r.asObservable());var i=function(o){r.error(o),n.error(o)};return t.subscribe(RR.createOperatorSubscriber(n,function(o){return r==null?void 0:r.next(o)},function(){r.complete(),n.complete()},i)),Jre.innerFrom(e).subscribe(RR.createOperatorSubscriber(n,function(){r.complete(),n.next(r=new CR.Subject)},Xre.noop,i)),function(){r==null||r.unsubscribe(),r=null}})}pb.window=Zre;var mb={},eie=T&&T.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mb,"__esModule",{value:!0});mb.windowCount=void 0;var kR=Pt,tie=X,nie=re;function rie(e,t){t===void 0&&(t=0);var n=t>0?t:e;return tie.operate(function(r,i){var o=[new kR.Subject],a=0;i.next(o[0].asObservable()),r.subscribe(nie.createOperatorSubscriber(i,function(s){var l,u;try{for(var c=eie(o),f=c.next();!f.done;f=c.next()){var d=f.value;d.next(s)}}catch(m){l={error:m}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}var h=a-e+1;if(h>=0&&h%n===0&&o.shift().complete(),++a%n===0){var v=new kR.Subject;o.push(v),i.next(v.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(s){for(;o.length>0;)o.shift().error(s);i.error(s)},function(){o=null}))})}mb.windowCount=rie;var vb={};Object.defineProperty(vb,"__esModule",{value:!0});vb.windowTime=void 0;var iie=Pt,oie=qn,aie=Bt,sie=X,lie=re,uie=Xr,cie=It,TR=Zr;function fie(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=(t=cie.popScheduler(r))!==null&&t!==void 0?t:oie.asyncScheduler,a=(n=r[0])!==null&&n!==void 0?n:null,s=r[1]||1/0;return sie.operate(function(l,u){var c=[],f=!1,d=function(b){var g=b.window,y=b.subs;g.complete(),y.unsubscribe(),uie.arrRemove(c,b),f&&h()},h=function(){if(c){var b=new aie.Subscription;u.add(b);var g=new iie.Subject,y={window:g,subs:b,seen:0};c.push(y),u.next(g.asObservable()),TR.executeSchedule(b,o,function(){return d(y)},e)}};a!==null&&a>=0?TR.executeSchedule(u,o,h,a,!0):f=!0,h();var v=function(b){return c.slice().forEach(b)},m=function(b){v(function(g){var y=g.window;return b(y)}),b(u),u.unsubscribe()};return l.subscribe(lie.createOperatorSubscriber(u,function(b){v(function(g){g.window.next(b),s<=++g.seen&&d(g)})},function(){return m(function(b){return b.complete()})},function(b){return m(function(g){return g.error(b)})})),function(){c=null}})}vb.windowTime=fie;var gb={},die=T&&T.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(gb,"__esModule",{value:!0});gb.windowToggle=void 0;var hie=Pt,pie=Bt,mie=X,AR=ue,Y0=re,IR=zt,vie=Xr;function gie(e,t){return mie.operate(function(n,r){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);r.error(a)};AR.innerFrom(e).subscribe(Y0.createOperatorSubscriber(r,function(a){var s=new hie.Subject;i.push(s);var l=new pie.Subscription,u=function(){vie.arrRemove(i,s),s.complete(),l.unsubscribe()},c;try{c=AR.innerFrom(t(a))}catch(f){o(f);return}r.next(s.asObservable()),l.add(c.subscribe(Y0.createOperatorSubscriber(r,u,IR.noop,o)))},IR.noop)),n.subscribe(Y0.createOperatorSubscriber(r,function(a){var s,l,u=i.slice();try{for(var c=die(u),f=c.next();!f.done;f=c.next()){var d=f.value;d.next(a)}}catch(h){s={error:h}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(s)throw s.error}}},function(){for(;0<i.length;)i.shift().complete();r.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}gb.windowToggle=gie;var yb={};Object.defineProperty(yb,"__esModule",{value:!0});yb.windowWhen=void 0;var yie=Pt,bie=X,DR=re,wie=ue;function _ie(e){return bie.operate(function(t,n){var r,i,o=function(s){r.error(s),n.error(s)},a=function(){i==null||i.unsubscribe(),r==null||r.complete(),r=new yie.Subject,n.next(r.asObservable());var s;try{s=wie.innerFrom(e())}catch(l){o(l);return}s.subscribe(i=DR.createOperatorSubscriber(n,a,a,o))};a(),t.subscribe(DR.createOperatorSubscriber(n,function(s){return r.next(s)},function(){r.complete(),n.complete()},o,function(){i==null||i.unsubscribe(),r=null}))})}yb.windowWhen=_ie;var bb={},MR=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},jR=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(bb,"__esModule",{value:!0});bb.withLatestFrom=void 0;var Sie=X,NR=re,xie=ue,Eie=Kt,Pie=zt,Oie=It;function $ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Oie.popResultSelector(e);return Sie.operate(function(r,i){for(var o=e.length,a=new Array(o),s=e.map(function(){return!1}),l=!1,u=function(f){xie.innerFrom(e[f]).subscribe(NR.createOperatorSubscriber(i,function(d){a[f]=d,!l&&!s[f]&&(s[f]=!0,(l=s.every(Eie.identity))&&(s=null))},Pie.noop))},c=0;c<o;c++)u(c);r.subscribe(NR.createOperatorSubscriber(i,function(f){if(l){var d=jR([f],MR(a));i.next(n?n.apply(void 0,jR([],MR(d))):d)}}))})}bb.withLatestFrom=$ie;var wb={};Object.defineProperty(wb,"__esModule",{value:!0});wb.zipAll=void 0;var Cie=Xu,Rie=eh;function kie(e){return Rie.joinAllInternals(Cie.zip,e)}wb.zipAll=kie;var _b={},Sb={},Tie=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Aie=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(Sb,"__esModule",{value:!0});Sb.zip=void 0;var Iie=Xu,Die=X;function Mie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Die.operate(function(n,r){Iie.zip.apply(void 0,Aie([n],Tie(e))).subscribe(r)})}Sb.zip=Mie;var jie=T&&T.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Nie=T&&T.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(_b,"__esModule",{value:!0});_b.zipWith=void 0;var Lie=Sb;function Fie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Lie.zip.apply(void 0,Nie([],jie(e)))}_b.zipWith=Fie;(function(e){var t=T&&T.__createBinding||(Object.create?function(cl,fl,Ci,Na){Na===void 0&&(Na=Ci),Object.defineProperty(cl,Na,{enumerable:!0,get:function(){return fl[Ci]}})}:function(cl,fl,Ci,Na){Na===void 0&&(Na=Ci),cl[Na]=fl[Ci]}),n=T&&T.__exportStar||function(cl,fl){for(var Ci in cl)Ci!=="default"&&!Object.prototype.hasOwnProperty.call(fl,Ci)&&t(fl,cl,Ci)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var r=Ve;Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return r.Observable}});var i=Hs;Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return i.ConnectableObservable}});var o=Ks;Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return o.observable}});var a=_g;Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return a.animationFrames}});var s=Pt;Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return s.Subject}});var l=Id;Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return l.BehaviorSubject}});var u=Wu;Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return u.ReplaySubject}});var c=zu;Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return c.AsyncSubject}});var f=dN;Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return f.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return f.asapScheduler}});var d=qn;Object.defineProperty(e,"async",{enumerable:!0,get:function(){return d.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return d.asyncScheduler}});var h=mN;Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return h.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return h.queueScheduler}});var v=vN;Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return v.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return v.animationFrameScheduler}});var m=yu;Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return m.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return m.VirtualAction}});var b=Dd;Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return b.Scheduler}});var g=Bt;Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return g.Subscription}});var y=Vu;Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return y.Subscriber}});var w=kg;Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return w.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return w.NotificationKind}});var _=eo;Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return _.pipe}});var S=zt;Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return S.noop}});var E=Kt;Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return E.identity}});var P=Mg;Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return P.isObservable}});var O=jg;Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return O.lastValueFrom}});var C=Ng;Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return C.firstValueFrom}});var I=zd;Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return I.ArgumentOutOfRangeError}});var N=_i;Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return N.EmptyError}});var M=Kd;Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return M.NotFoundError}});var V=Ad;Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return V.ObjectUnsubscribedError}});var D=Hd;Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return D.SequenceError}});var $=ov;Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return $.TimeoutError}});var k=Rd;Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return k.UnsubscriptionError}});var F=Lg;Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return F.bindCallback}});var A=Fg;Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return A.bindNodeCallback}});var R=ca;Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return R.combineLatest}});var j=Qs;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return j.concat}});var U=Bg;Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return U.connectable}});var z=Js;Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return z.defer}});var K=qr;Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return K.empty}});var J=Ug;Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return J.forkJoin}});var Ce=Jr;Object.defineProperty(e,"from",{enumerable:!0,get:function(){return Ce.from}});var q=Vg;Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return q.fromEvent}});var Y=Wg;Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return Y.fromEventPattern}});var _e=zg;Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return _e.generate}});var Ne=Kg;Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return Ne.iif}});var me=Qd;Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return me.interval}});var le=Hg;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return le.merge}});var ye=w_;Object.defineProperty(e,"never",{enumerable:!0,get:function(){return ye.never}});var tt=Ku;Object.defineProperty(e,"of",{enumerable:!0,get:function(){return tt.of}});var Le=Xd;Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return Le.onErrorResumeNext}});var Ot=qg;Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return Ot.pairs}});var $t=Gg;Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return $t.partition}});var Dn=$s;Object.defineProperty(e,"race",{enumerable:!0,get:function(){return Dn.race}});var Mn=Qg;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return Mn.range}});var Zt=Wd;Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return Zt.throwError}});var Ht=Ei;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return Ht.timer}});var jt=Xg;Object.defineProperty(e,"using",{enumerable:!0,get:function(){return jt.using}});var mr=Xu;Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return mr.zip}});var Ct=Md;Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Ct.scheduled}});var ni=qr;Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return ni.EMPTY}});var So=w_;Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return So.NEVER}}),n(IN,e);var Ar=Ca;Object.defineProperty(e,"config",{enumerable:!0,get:function(){return Ar.config}});var vr=Jd;Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return vr.audit}});var Qn=Jg;Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return Qn.auditTime}});var jn=Zg;Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return jn.buffer}});var ce=ey;Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return ce.bufferCount}});var de=ty;Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return de.bufferTime}});var Ie=ny;Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return Ie.bufferToggle}});var $e=ry;Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return $e.bufferWhen}});var We=iy;Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return We.catchError}});var qe=oy;Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return qe.combineAll}});var wt=Zd;Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return wt.combineLatestAll}});var L=ay;Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return L.combineLatestWith}});var B=Yu;Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return B.concatAll}});var W=rh;Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return W.concatMap}});var Q=ly;Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return Q.concatMapTo}});var ee=uy;Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return ee.concatWith}});var ie=Ju;Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return ie.connect}});var se=dy;Object.defineProperty(e,"count",{enumerable:!0,get:function(){return se.count}});var oe=hy;Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return oe.debounce}});var Z=py;Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return Z.debounceTime}});var Se=Zs;Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return Se.defaultIfEmpty}});var Re=my;Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return Re.delay}});var we=ih;Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return we.delayWhen}});var xe=vy;Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return xe.dematerialize}});var ze=gy;Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return ze.distinct}});var Pn=sh;Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return Pn.distinctUntilChanged}});var Nn=yy;Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return Nn.distinctUntilKeyChanged}});var gr=by;Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return gr.elementAt}});var xo=wy;Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return xo.endWith}});var en=_y;Object.defineProperty(e,"every",{enumerable:!0,get:function(){return en.every}});var tn=Sy;Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return tn.exhaust}});var ri=lh;Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return ri.exhaustAll}});var fc=uh;Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return fc.exhaustMap}});var dc=xy;Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return dc.expand}});var hc=yo;Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return hc.filter}});var Ue=Ey;Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return Ue.finalize}});var Xn=Cs;Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Xn.find}});var ii=Py;Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return ii.findIndex}});var pc=Oy;Object.defineProperty(e,"first",{enumerable:!0,get:function(){return pc.first}});var _t=$y;Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return _t.groupBy}});var ja=oh;Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return ja.ignoreElements}});var zh=Cy;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return zh.isEmpty}});var i0=Ry;Object.defineProperty(e,"last",{enumerable:!0,get:function(){return i0.last}});var F6=xi;Object.defineProperty(e,"map",{enumerable:!0,get:function(){return F6.map}});var B6=ah;Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return B6.mapTo}});var U6=ky;Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return U6.materialize}});var V6=Ty;Object.defineProperty(e,"max",{enumerable:!0,get:function(){return V6.max}});var W6=Xs;Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return W6.mergeAll}});var z6=Ay;Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return z6.flatMap}});var K6=ei;Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return K6.mergeMap}});var H6=Iy;Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return H6.mergeMapTo}});var q6=Dy;Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return q6.mergeScan}});var G6=My;Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return G6.mergeWith}});var Y6=Ny;Object.defineProperty(e,"min",{enumerable:!0,get:function(){return Y6.min}});var Q6=Zu;Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return Q6.multicast}});var X6=Gs;Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return X6.observeOn}});var J6=bu;Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return J6.onErrorResumeNextWith}});var Z6=Ly;Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return Z6.pairwise}});var eB=Fy;Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return eB.pluck}});var tB=By;Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return tB.publish}});var nB=Uy;Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return nB.publishBehavior}});var rB=Vy;Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return rB.publishLast}});var iB=Wy;Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return iB.publishReplay}});var oB=zy;Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return oB.raceWith}});var aB=Ta;Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return aB.reduce}});var sB=Ky;Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return sB.repeat}});var lB=Hy;Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return lB.repeatWhen}});var uB=qy;Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return uB.retry}});var cB=Gy;Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return cB.retryWhen}});var fB=Td;Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return fB.refCount}});var dB=fh;Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return dB.sample}});var hB=Yy;Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return hB.sampleTime}});var pB=Qy;Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return pB.scan}});var mB=Xy;Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return mB.sequenceEqual}});var vB=dh;Object.defineProperty(e,"share",{enumerable:!0,get:function(){return vB.share}});var gB=Jy;Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return gB.shareReplay}});var yB=Zy;Object.defineProperty(e,"single",{enumerable:!0,get:function(){return yB.single}});var bB=eb;Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return bB.skip}});var wB=tb;Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return wB.skipLast}});var _B=nb;Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return _B.skipUntil}});var SB=rb;Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return SB.skipWhile}});var xB=ib;Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return xB.startWith}});var EB=Ys;Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return EB.subscribeOn}});var PB=ob;Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return PB.switchAll}});var OB=nl;Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return OB.switchMap}});var $B=ab;Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return $B.switchMapTo}});var CB=sb;Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return CB.switchScan}});var RB=el;Object.defineProperty(e,"take",{enumerable:!0,get:function(){return RB.take}});var kB=ch;Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return kB.takeLast}});var TB=lb;Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return TB.takeUntil}});var AB=ub;Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return AB.takeWhile}});var IB=cb;Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return IB.tap}});var DB=hh;Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return DB.throttle}});var MB=fb;Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return MB.throttleTime}});var jB=tl;Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return jB.throwIfEmpty}});var NB=wu;Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return NB.timeInterval}});var LB=ov;Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return LB.timeout}});var FB=db;Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return FB.timeoutWith}});var BB=hb;Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return BB.timestamp}});var UB=th;Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return UB.toArray}});var VB=pb;Object.defineProperty(e,"window",{enumerable:!0,get:function(){return VB.window}});var WB=mb;Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return WB.windowCount}});var zB=vb;Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return zB.windowTime}});var KB=gb;Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return KB.windowToggle}});var HB=yb;Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return HB.windowWhen}});var qB=bb;Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return qB.withLatestFrom}});var GB=wb;Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return GB.zipAll}});var YB=_b;Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return YB.zipWith}})})(rN);var Bie=T&&T.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})},Uie=T&&T.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(bg,"__esModule",{value:!0});bg.observeNewCollections=void 0;var Vie=rN;bg.observeNewCollections={name:"new-collection-observer",rxdb:!0,prototypes:{RxDatabase:function(e){var t=new Vie.Subject;e.newCollections$=t;var n=e.addCollections;e.addCollections=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Bie(this,void 0,void 0,function(){var o;return Uie(this,function(a){switch(a.label){case 0:return[4,n.apply(this,r)];case 1:return o=a.sent(),t.next(o),[2,o]}})})}}}};(function(e){var t=T&&T.__createBinding||(Object.create?function(c,f,d,h){h===void 0&&(h=d);var v=Object.getOwnPropertyDescriptor(f,d);(!v||("get"in v?!f.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,h,v)}:function(c,f,d,h){h===void 0&&(h=d),c[h]=f[d]}),n=T&&T.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&t(f,c,d)},r=T&&T.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.useRxQuery=e.useRxDB=e.useRxData=e.useRxCollection=e.Provider=e.Context=void 0;var i=vu;Object.defineProperty(e,"Context",{enumerable:!0,get:function(){return r(i).default}}),n(vu,e);var o=nv;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return r(o).default}}),n(nv,e);var a=Gf;Object.defineProperty(e,"useRxCollection",{enumerable:!0,get:function(){return r(a).default}}),n(Gf,e);var s=rv;Object.defineProperty(e,"useRxData",{enumerable:!0,get:function(){return r(s).default}}),n(rv,e);var l=Yf;Object.defineProperty(e,"useRxDB",{enumerable:!0,get:function(){return r(l).default}}),n(Yf,e);var u=Qf;Object.defineProperty(e,"useRxQuery",{enumerable:!0,get:function(){return r(u).default}}),n(Qf,e),n(bg,e)})(Hr);function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function Wie(e,t){if(Xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zie(e){var t=Wie(e,"string");return Xf(t)=="symbol"?t:String(t)}function LR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zie(r.key),r)}}function Aa(e,t,n){return t&&LR(e.prototype,t),n&&LR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kie(e){return e[e.length-1]}function Hie(e){return e.slice(0).sort(()=>Math.random()-.5)}function _u(e){return Array.isArray(e)?e.slice(0):[e]}function qie(e,t){e=e.slice(0);for(var n=[];e.length;){var r=e.splice(0,t);n.push(r)}return n}function dE(e){return Array.isArray(e)}function WN(e){return e!=null}function Q0(e,t){var n=0,r=-1;for(var i of e){r=r+1;var o=t(i,r);if(o)n=n+1;else break}return n}function Su(e,t){for(var n=t.length,r=0;r<n;++r){var i=t[r];e.push(i)}}function Gie(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function xu(e){var t=e.split("-");if(t.length!==2)throw new Error("malformatted revision: "+e);return{height:parseInt(t[0],10),hash:t[1]}}function FR(e){var t=parseInt(e.split("-")[0],10);return t}function to(e,t){var n=t?t._rev:null,r=n?xu(n).height:0,i=r+1;return i+"-"+e}var hE=1;function Ia(){return{lwt:hE}}function sr(){return""}function Yie(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function Qie(e,t,n){if(t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;){var o=t[r],a=n[r];if(r++,o._rev!==a._rev||o[e]!==a[e])return!1}return!0}class Zo{constructor(t,n){t=this.words=t||[],this.sigBytes=n===void 0?t.length*4:n}toString(t){return(t||Xie).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let n=0;n<t.sigBytes;n++){const r=t.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<t.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=t.words[n>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Zo([...this.words])}}const Xie={stringify(e){const t=[];for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;t.push((r>>>4).toString(16),(r&15).toString(16))}return t.join("")}},Jie={parse(e){const t=e.length,n=[];for(let r=0;r<t;r++)n[r>>>2]|=(e.charCodeAt(r)&255)<<24-r%4*8;return new Zo(n,t)}},Zie={parse(e){return Jie.parse(unescape(encodeURIComponent(e)))}};class eoe{constructor(){this._data=new Zo,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new Zo,this._nDataBytes=0}_append(t){typeof t=="string"&&(t=Zie.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,n){}_process(t){let n,r=this._data.sigBytes/(this.blockSize*4);t?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const i=r*this.blockSize,o=Math.min(i*4,this._data.sigBytes);if(i){for(let a=0;a<i;a+=this.blockSize)this._doProcessBlock(this._data.words,a);n=this._data.words.splice(0,i),this._data.sigBytes-=o}return new Zo(n,o)}}class toe extends eoe{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}}const BR=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],noe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Fa=[];class roe extends toe{constructor(){super(...arguments),this._hash=new Zo([...BR])}reset(){super.reset(),this._hash=new Zo([...BR])}_doProcessBlock(t,n){const r=this._hash.words;let i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],u=r[5],c=r[6],f=r[7];for(let d=0;d<64;d++){if(d<16)Fa[d]=t[n+d]|0;else{const w=Fa[d-15],_=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,S=Fa[d-2],E=(S<<15|S>>>17)^(S<<13|S>>>19)^S>>>10;Fa[d]=_+Fa[d-7]+E+Fa[d-16]}const h=l&u^~l&c,v=i&o^i&a^o&a,m=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),g=f+b+h+noe[d]+Fa[d],y=m+v;f=c,c=u,u=l,l=s+g|0,s=a,a=o,o=i,i=g+y|0}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+l|0,r[5]=r[5]+u|0,r[6]=r[6]+c|0,r[7]=r[7]+f|0}finalize(t){super.finalize(t);const n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function ioe(e){return new roe().finalize(e).toString()}function ooe(e){return Promise.resolve(ioe(e))}async function aoe(e){var t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t),r=Array.prototype.map.call(new Uint8Array(n),i=>("00"+i.toString(16)).slice(-2)).join("");return r}var soe=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",loe=soe?aoe:ooe;function uoe(){return new Promise(e=>setTimeout(e,0))}function coe(e=0){return new Promise(t=>setTimeout(t,e))}function foe(e){return e&&typeof e.then=="function"?e:Promise.resolve(e)}var Eu=Promise.resolve(!0),nr=Promise.resolve(!1),pE=Promise.resolve(null),mn=Promise.resolve();function mE(e=1e4){return typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):coe(0)}var X0=mn;function doe(e=void 0){return X0=X0.then(()=>mE(e)),X0}function hoe(e,t){return e.reduce((n,r)=>n.then(r),Promise.resolve(t))}var poe=/\./g,UR="abcdefghijklmnopqrstuvwxyz";function ph(e=10){for(var t="",n=0;n<e;n++)t+=UR.charAt(Math.floor(Math.random()*UR.length));return t}function zN(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function nm(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function Pu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Pu(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){var o=i[r];if(!Pu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}var __=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},J0=new Set(["__proto__","prototype","constructor"]),moe=new Set("0123456789");function KN(e){var t=[],n="",r="start",i=!1;for(var o of e)switch(o){case"\\":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");i&&(n+=o),r="property",i=!i;break}case".":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="property";break}if(i){i=!1,n+=o;break}if(J0.has(n))return[];t.push(n),n="",r="property";break}case"[":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="index";break}if(i){i=!1,n+=o;break}if(r==="property"){if(J0.has(n))return[];t.push(n),n=""}r="index";break}case"]":{if(r==="index"){t.push(Number.parseInt(n,10)),n="",r="indexEnd";break}if(r==="indexEnd")throw new Error("Invalid character after an index")}default:{if(r==="index"&&!moe.has(o))throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");r==="start"&&(r="property"),i&&(i=!1,n+="\\"),n+=o}}switch(i&&(n+="\\"),r){case"property":{if(J0.has(n))return[];t.push(n);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function HN(e,t){if(typeof t!="number"&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function voe(e,t){if(HN(e,t))throw new Error("Cannot use string index")}function fa(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!t.includes(".")&&!t.includes("["))return e[t];if(!__(e)||typeof t!="string")return n===void 0?e:n;var r=KN(t);if(r.length===0)return n;for(var i=0;i<r.length;i++){var o=r[i];if(HN(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function qN(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!__(e)||typeof t!="string")return e;for(var r=e,i=KN(t),o=0;o<i.length;o++){var a=i[o];voe(e,a),o===i.length-1?e[a]=n:__(e[a])||(e[a]=typeof i[o+1]=="number"?[]:{}),e=e[a]}return r}function GN(e){var t=e.split("."),n=t.length;return n===1?r=>r[e]:r=>{for(var i=r,o=0;o<n;++o){var a=t[o];if(i=i[a],typeof i>"u")return i}return i}}function Fe(e){return Object.assign({},e)}function goe(e){return Object.keys(e)[0]}function av(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((r,i)=>typeof r=="string"&&typeof i=="string"?r.localeCompare(i):typeof r=="object"?1:-1).map(r=>av(r,t));if(typeof e=="object"&&!Array.isArray(e)){var n={};return Object.keys(e).sort((r,i)=>r.localeCompare(i)).forEach(r=>{n[r]=av(e[r],t)}),n}return e}function S_(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),n=t.length;n--;)t[n]=S_(e[n]);return t}var r={};for(var i in e)r[i]=S_(e[i]);return r}var lr=S_;function ea(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}function Rs(e,t){var n=e.get(t);if(typeof n>"u")throw new Error("missing value from map "+t);return n}function Cr(e,t,n,r){var i=e.get(t);return typeof i>"u"?(i=n(),e.set(t,i)):r&&r(i),i}function ot(e){var t=e.split("-"),n="RxDB";return t.forEach(r=>{n+=zN(r)}),n+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+n+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+n+`);
        `)}function x_(e){var t={name:e.name,message:e.message,rxdb:e.rxdb,parameters:e.parameters,code:e.code,stack:e.stack?e.stack.replace(/\n/g,` 
 `):void 0};return t}var Z0=0;function Ut(){var e=Date.now();e=e+.01,e<=Z0&&(e=Z0+.01);var t=parseFloat(e.toFixed(2));return Z0=t,t}function ve(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}var mh={bufferSize:1,refCount:!0},yoe="15.0.0";function Jf(e,t){return Jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jf(e,t)}function vE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jf(e,t)}function E_(e){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E_(e)}function boe(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function woe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rm(e,t,n){return woe()?rm=Reflect.construct.bind():rm=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&Jf(u,a.prototype),u},rm.apply(null,arguments)}function sv(e){var t=typeof Map=="function"?new Map:void 0;return sv=function(r){if(r===null||!boe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return rm(r,arguments,E_(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Jf(i,r)},sv(e)}var Xe={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html
        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=`+e+`
        `}};function _oe(e){var t="";return Object.keys(e).length===0||(t+=`Given parameters: {
`,t+=Object.keys(e).map(n=>{var r="[object Object]";try{n==="errors"?r=e[n].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):r=JSON.stringify(e[n],function(i,o){return o===void 0?null:o},2)}catch{}return n+":"+r}).join(`
`),t+="}"),t}function YN(e,t,n){return"RxError ("+t+`):
`+e+`
`+_oe(n)}var Soe=function(e){vE(t,e);function t(r,i,o={}){var a,s=YN(i,r,o);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=o,a.rxdb=!0,a}var n=t.prototype;return n.toString=function(){return this.message},Aa(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(sv(Error)),xoe=function(e){vE(t,e);function t(r,i,o={}){var a,s=YN(i,r,o);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=o,a.rxdb=!0,a}var n=t.prototype;return n.toString=function(){return this.message},Aa(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(sv(TypeError));function ae(e,t){return new Soe(e,Xe.tunnelErrorMessage(e),t)}function af(e,t){return new xoe(e,Xe.tunnelErrorMessage(e),t)}function xb(e){return e&&e.status===409?e:!1}var Eoe={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function Poe(e){return ae("COL20",{name:Eoe[e.status],document:e.documentId,writeError:e})}var Zf={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Gr(e,t){Zf[e]&&Zf[e].forEach(n=>n(t))}function ks(e,t){return Promise.all(Zf[e].map(n=>n(t)))}function no(e,t){var n=t;n=n.replace(poe,".properties."),n="properties."+n,n=nm(n);var r=fa(e,n);return r}function QN(e,t,n){if(typeof t.primaryKey=="string")return n;var r=Da(t,n),i=n[e];if(i&&i!==r)throw ae("DOC19",{args:{documentData:n,existingPrimary:i,newPrimary:r},schema:t});return n[e]=r,n}function hr(e){return typeof e=="string"?e:e.key}function Ooe(e){var t=hr(e.primaryKey),n=no(e,t);return ve(n.maxLength)}function Da(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var n=e.primaryKey;return n.fields.map(r=>{var i=fa(t,r);if(typeof i>"u")throw ae("DOC18",{args:{field:r,documentData:t}});return i}).join(n.separator)}function $oe(e){var t=av(e,!0);return t}function Coe(e){return["_deleted",e]}function Eb(e){e=Fe(e);var t=hr(e.primaryKey);e.properties=Fe(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=Roe,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var n=XN(e);Su(e.required,n),e.required=e.required.filter(o=>!o.includes(".")).filter((o,a,s)=>s.indexOf(o)===a),e.version=e.version||0;var r=e.indexes.map(o=>{var a=dE(o)?o.slice(0):[o];return a.includes(t)||a.push(t),a[0]!=="_deleted"&&a.unshift("_deleted"),a});r.length===0&&r.push(Coe(t)),r.push(["_meta.lwt",t]);var i=new Set;return r.filter(o=>{var a=o.join(",");return i.has(a)?!1:(i.add(a),!0)}),e.indexes=r,e}var Roe={type:"object",properties:{lwt:{type:"number",minimum:hE,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function XN(e){var t=Object.keys(e.properties).filter(r=>e.properties[r].final),n=hr(e.primaryKey);return t.push(n),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(r=>t.push(r)),t}function koe(e,t){for(var n=Object.keys(e.defaultValues),r=0;r<n.length;++r){var i=n[r];(!Object.prototype.hasOwnProperty.call(t,i)||typeof t[i]>"u")&&(t[i]=e.defaultValues[i])}return t}var JN=function(){function e(n,r){this.jsonSchema=n,this.hashFunction=r,this.indexes=Toe(this.jsonSchema),this.primaryPath=hr(this.jsonSchema.primaryKey),this.finalFields=XN(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(r,i){this.finalFields.forEach(o=>{if(!Pu(r[o],i[o]))throw ae("DOC9",{dataBefore:r,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var r={},i=no(this.jsonSchema,"");return Object.keys(i).forEach(o=>{var a=o;r.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var s=this.get(a);return s}}),Object.defineProperty(r,o+"$",{get:function(){return this.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"_",{get:function(){return this.populate(a)},enumerable:!1,configurable:!1})}),ea(this,"getDocumentPrototype",()=>r),r},t.getPrimaryOfDocumentData=function(r){return Da(this.jsonSchema,r)},Aa(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.jsonSchema.properties).filter(([,r])=>Object.prototype.hasOwnProperty.call(r,"default")).forEach(([r,i])=>n[r]=i.default),ea(this,"defaultValues",n)}},{key:"hash",get:function(){return ea(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}]),e}();function Toe(e){return(e.indexes||[]).map(t=>dE(t)?t:[t])}function Aoe(e){var t=e.version?e.version:0,n=0;return new Array(t).fill(0).map(()=>n++)}function Ioe(e,t,n=!0){n&&Gr("preCreateRxSchema",e);var r=Eb(e);r=$oe(r),Xe.deepFreezeWhenDevMode(r);var i=new JN(r,t);return Gr("createRxSchema",i),i}function Dt(e){return typeof e=="function"}function Doe(e){return Dt(e==null?void 0:e.lift)}function Pi(e){return function(t){if(Doe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var P_=function(e,t){return P_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},P_(e,t)};function rl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");P_(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var vn=function(){return vn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},vn.apply(this,arguments)};function gE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Moe(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}function ZN(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ou(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function da(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function yi(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function tu(e){return this instanceof tu?(this.v=e,this):new tu(e)}function joe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(h){return new Promise(function(v,m){o.push([d,h,v,m])>1||s(d,h)})})}function s(d,h){try{l(r[d](h))}catch(v){f(o[0][3],v)}}function l(d){d.value instanceof tu?Promise.resolve(d.value.v).then(u,c):f(o[0][2],d)}function u(d){s("next",d)}function c(d){s("throw",d)}function f(d,h){d(h),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Noe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ou=="function"?Ou(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}var e2=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function t2(e){return Dt(e==null?void 0:e.then)}function yE(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ew=yE(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function O_(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Pb=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Ou(a),l=s.next();!l.done;l=s.next()){var u=l.value;u.remove(this)}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(Dt(c))try{c()}catch(m){o=m instanceof ew?m.errors:[m]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=Ou(f),h=d.next();!h.done;h=d.next()){var v=h.value;try{VR(v)}catch(m){o=o??[],m instanceof ew?o=yi(yi([],da(o)),da(m.errors)):o.push(m)}}}catch(m){r={error:m}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(o)throw new ew(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)VR(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&O_(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&O_(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),n2=Pb.EMPTY;function r2(e){return e instanceof Pb||e&&"closed"in e&&Dt(e.remove)&&Dt(e.add)&&Dt(e.unsubscribe)}function VR(e){Dt(e)?e():e.unsubscribe()}var i2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$_={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=$_.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,yi([e,t],da(n))):setTimeout.apply(void 0,yi([e,t],da(n)))},clearTimeout:function(e){var t=$_.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function o2(e){$_.setTimeout(function(){throw e})}function WR(){}function im(e){e()}var bE=function(e){rl(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,r2(n)&&n.add(r)):r.destination=Uoe,r}return t.create=function(n,r,i){return new $u(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Pb),Loe=Function.prototype.bind;function tw(e,t){return Loe.call(e,t)}var Foe=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){pp(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){pp(r)}else pp(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){pp(n)}},e}(),$u=function(e){rl(t,e);function t(n,r,i){var o=e.call(this)||this,a;if(Dt(n)||!n)a={next:n??void 0,error:r??void 0,complete:i??void 0};else{var s;o&&i2.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return o.unsubscribe()},a={next:n.next&&tw(n.next,s),error:n.error&&tw(n.error,s),complete:n.complete&&tw(n.complete,s)}):a=n}return o.destination=new Foe(a),o}return t}(bE);function pp(e){o2(e)}function Boe(e){throw e}var Uoe={closed:!0,next:WR,error:Boe,complete:WR},wE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function vh(e){return e}function Voe(e){return e.length===0?vh:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var ur=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=zoe(t)?t:new $u(t,n,r);return im(function(){var a=i,s=a.operator,l=a.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=zR(n),new n(function(i,o){var a=new $u({next:function(s){try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[wE]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Voe(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=zR(t),new t(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function zR(e){var t;return(t=e??i2.Promise)!==null&&t!==void 0?t:Promise}function Woe(e){return e&&Dt(e.next)&&Dt(e.error)&&Dt(e.complete)}function zoe(e){return e&&e instanceof bE||Woe(e)&&r2(e)}function a2(e){return Dt(e[wE])}function s2(e){return Symbol.asyncIterator&&Dt(e==null?void 0:e[Symbol.asyncIterator])}function l2(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Koe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var u2=Koe();function c2(e){return Dt(e==null?void 0:e[u2])}function f2(e){return joe(this,arguments,function(){var n,r,i,o;return ZN(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,tu(n.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,tu(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,tu(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function d2(e){return Dt(e==null?void 0:e.getReader)}function bo(e){if(e instanceof ur)return e;if(e!=null){if(a2(e))return Hoe(e);if(e2(e))return qoe(e);if(t2(e))return Goe(e);if(s2(e))return h2(e);if(c2(e))return Yoe(e);if(d2(e))return Qoe(e)}throw l2(e)}function Hoe(e){return new ur(function(t){var n=e[wE]();if(Dt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qoe(e){return new ur(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Goe(e){return new ur(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,o2)})}function Yoe(e){return new ur(function(t){var n,r;try{for(var i=Ou(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function h2(e){return new ur(function(t){Xoe(e,t).catch(function(n){return t.error(n)})})}function Qoe(e){return h2(f2(e))}function Xoe(e,t){var n,r,i,o;return Moe(this,void 0,void 0,function(){var a,s;return ZN(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Noe(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function ro(e,t,n,r,i){return new Joe(e,t,n,r,i)}var Joe=function(e){rl(t,e);function t(n,r,i,o,a,s){var l=e.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:e.prototype._next,l._error=o?function(u){try{o(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(bE),p2={now:function(){return(p2.delegate||Date).now()},delegate:void 0};function Zoe(e){return e&&Dt(e.schedule)}function _E(e){return e[e.length-1]}function eae(e){return Dt(_E(e))?e.pop():void 0}function gh(e){return Zoe(_E(e))?e.pop():void 0}function m2(e,t){return typeof _E(e)=="number"?e.pop():t}function zi(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}var tae=Array.isArray,nae=Object.getPrototypeOf,rae=Object.prototype,iae=Object.keys;function oae(e){if(e.length===1){var t=e[0];if(tae(t))return{args:t,keys:null};if(aae(t)){var n=iae(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function aae(e){return e&&typeof e=="object"&&nae(e)===rae}function v2(e,t){return t===void 0&&(t=0),Pi(function(n,r){n.subscribe(ro(r,function(i){return zi(r,e,function(){return r.next(i)},t)},function(){return zi(r,e,function(){return r.complete()},t)},function(i){return zi(r,e,function(){return r.error(i)},t)}))})}function g2(e,t){return t===void 0&&(t=0),Pi(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function sae(e,t){return bo(e).pipe(g2(t),v2(t))}function lae(e,t){return bo(e).pipe(g2(t),v2(t))}function uae(e,t){return new ur(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function cae(e,t){return new ur(function(n){var r;return zi(n,t,function(){r=e[u2](),zi(n,t,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(s){n.error(s);return}a?n.complete():n.next(o)},0,!0)}),function(){return Dt(r==null?void 0:r.return)&&r.return()}})}function y2(e,t){if(!e)throw new Error("Iterable cannot be null");return new ur(function(n){zi(n,t,function(){var r=e[Symbol.asyncIterator]();zi(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function fae(e,t){return y2(f2(e),t)}function dae(e,t){if(e!=null){if(a2(e))return sae(e,t);if(e2(e))return uae(e,t);if(t2(e))return lae(e,t);if(s2(e))return y2(e,t);if(c2(e))return cae(e,t);if(d2(e))return fae(e,t)}throw l2(e)}function yh(e,t){return t?dae(e,t):bo(e)}function on(e,t){return Pi(function(n,r){var i=0;n.subscribe(ro(r,function(o){r.next(e.call(t,o,i++))}))})}var hae=Array.isArray;function pae(e,t){return hae(t)?e.apply(void 0,yi([],da(t))):e(t)}function mae(e){return on(function(t){return pae(e,t)})}function vae(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}function b2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gh(e),r=eae(e),i=oae(e),o=i.args,a=i.keys;if(o.length===0)return yh([],n);var s=new ur(gae(o,n,a?function(l){return vae(a,l)}:vh));return r?s.pipe(mae(r)):s}function gae(e,t,n){return n===void 0&&(n=vh),function(r){KR(t,function(){for(var i=e.length,o=new Array(i),a=i,s=i,l=function(c){KR(t,function(){var f=yh(e[c],t),d=!1;f.subscribe(ro(r,function(h){o[c]=h,d||(d=!0,s--),s||r.next(n(o.slice()))},function(){--a||r.complete()}))},r)},u=0;u<i;u++)l(u)},r)}}function KR(e,t,n){e?zi(n,e,t):t()}function yae(e,t,n,r,i,o,a,s){var l=[],u=0,c=0,f=!1,d=function(){f&&!l.length&&!u&&t.complete()},h=function(m){return u<r?v(m):l.push(m)},v=function(m){o&&t.next(m),u++;var b=!1;bo(n(m,c++)).subscribe(ro(t,function(g){i==null||i(g),o?h(g):t.next(g)},function(){b=!0},void 0,function(){if(b)try{u--;for(var g=function(){var y=l.shift();a?zi(t,a,function(){return v(y)}):v(y)};l.length&&u<r;)g();d()}catch(y){t.error(y)}}))};return e.subscribe(ro(t,h,function(){f=!0,d()})),function(){s==null||s()}}function io(e,t,n){return n===void 0&&(n=1/0),Dt(t)?io(function(r,i){return on(function(o,a){return t(r,o,i,a)})(bo(e(r,i)))},n):(typeof t=="number"&&(n=t),Pi(function(r,i){return yae(r,i,e,n)}))}var bae=Array.isArray;function wae(e){return e.length===1&&bae(e[0])?e[0]:e}function SE(e){return e===void 0&&(e=1/0),io(vh,e)}function _ae(){return SE(1)}var Sae=yE(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ft=function(e){rl(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new HR(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Sae},t.prototype.next=function(n){var r=this;im(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Ou(r.currentObservers),s=a.next();!s.done;s=a.next()){var l=s.value;l.next(n)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;im(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;im(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?n2:(this.currentObservers=null,s.push(n),new Pb(function(){r.currentObservers=null,O_(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,a=r.isStopped;i?n.error(o):a&&n.complete()},t.prototype.asObservable=function(){var n=new ur;return n.source=this,n},t.create=function(n,r){return new HR(n,r)},t}(ur),HR=function(e){rl(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:n2},t}(Ft);function qR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _ae()(yh(e,gh(e)))}var xae=new ur(function(e){return e.complete()});function ed(e,t){return t===void 0&&(t=vh),e=e??Eae,Pi(function(n,r){var i,o=!0;n.subscribe(ro(r,function(a){var s=t(a);(o||!e(i,s))&&(o=!1,i=s,r.next(a))}))})}function Eae(e,t){return e===t}function st(e,t){return Pi(function(n,r){var i=0;n.subscribe(ro(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}var Pae=yE(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Oae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gh(e),r=m2(e,1/0);return e=wae(e),Pi(function(i,o){SE(r)(yh(yi([i],da(e)),n)).subscribe(o)})}function $ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Oae.apply(void 0,yi([],da(e)))}var Di=function(e){rl(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ft),Cae=function(e){rl(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=p2);var o=e.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return t.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,a=r._infiniteTimeWindow,s=r._timestampProvider,l=r._windowTime;i||(o.push(n),!a&&o.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),l=0;l<s.length&&!n.closed;l+=o?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,a=n._infiniteTimeWindow,s=(a?1:2)*r;if(r<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var l=i.now(),u=0,c=1;c<o.length&&o[c]<=l;c+=2)u=c;u&&o.splice(0,u+1)}},t}(Ft);function Rae(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Ft}:t,r=e.resetOnError,i=r===void 0?!0:r,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(u){var c,f,d,h=0,v=!1,m=!1,b=function(){f==null||f.unsubscribe(),f=void 0},g=function(){b(),c=d=void 0,v=m=!1},y=function(){var w=c;g(),w==null||w.unsubscribe()};return Pi(function(w,_){h++,!m&&!v&&b();var S=d=d??n();_.add(function(){h--,h===0&&!m&&!v&&(f=nw(y,l))}),S.subscribe(_),!c&&h>0&&(c=new $u({next:function(E){return S.next(E)},error:function(E){m=!0,b(),f=nw(g,i,E),S.error(E)},complete:function(){v=!0,b(),f=nw(g,a),S.complete()}}),bo(w).subscribe(c))})(u)}}function nw(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new $u({next:function(){i.unsubscribe(),e()}});return bo(t.apply(void 0,yi([],da(n)))).subscribe(i)}}function bh(e,t,n){var r,i,o,a,s=!1;return e&&typeof e=="object"?(r=e.bufferSize,a=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,n=e.scheduler):a=e??1/0,Rae({connector:function(){return new Cae(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function wh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gh(e);return Pi(function(r,i){(n?qR(e,r,n):qR(e,r)).subscribe(i)})}function kae(e,t){return Pi(function(n,r){var i=null,o=0,a=!1,s=function(){return a&&!i&&r.complete()};n.subscribe(ro(r,function(l){i==null||i.unsubscribe();var u=0,c=o++;bo(e(l,c)).subscribe(i=ro(r,function(f){return r.next(t?t(l,f,c,u++):f)},function(){i=null,s()}))},function(){a=!0,s()}))})}function xE(e){return e.documentData?e.documentData:e.previousDocumentData}function Tae(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:Xe.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function ss(e,t){var n=typeof t=="object";return new Promise(function(r,i){var o=new $u({next:function(a){r(a),o.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new Pae)}});e.subscribe(o)})}function Aae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gh(e),r=m2(e,1/0),i=e;return i.length?i.length===1?bo(i[0]):SE(r)(yh(i,n)):xae}function EE(e){return e[e.length-1]}function Iae(e){const t=typeof e;return e!==null&&(t==="object"||t==="function")}function GR(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!Iae(e)||typeof t!="string")return n===void 0?e:n;const r=t.split(".");if(r.length===0)return n;for(let i=0;i<r.length;i++){const o=r[i];if(Dae(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function Dae(e,t){if(typeof t!="number"&&Array.isArray(e)){const n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}const w2=e=>!!e.queryParams.limit,Mae=e=>e.queryParams.limit===1,jae=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),Nae=e=>e.changeEvent.operation==="DELETE",Lae=e=>e.changeEvent.operation==="INSERT",Fae=e=>e.changeEvent.operation==="UPDATE",Bae=e=>w2(e)&&e.previousResults.length>=e.queryParams.limit,Uae=e=>{const t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n)return!0;for(let i=0;i<t.length;i++){const o=t[i],a=GR(n,o),s=GR(r,o);if(a!==s)return!0}return!1},Vae=e=>{const t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{const n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===t)return!0;return!1}},Wae=e=>{const t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},zae=e=>{const t=EE(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},Kae=e=>{const t=e.changeEvent.previous;if(!t)return!1;const n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},Hae=e=>{const t=e.changeEvent.previous;if(!t)return!1;const n=EE(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},qae=e=>{const t=e.changeEvent.doc;if(!t)return!1;const n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},Gae=e=>{const t=e.changeEvent.doc;if(!t)return!1;const n=EE(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},Yae=e=>{const t=e.changeEvent.previous;return t?e.queryParams.queryMatcher(t):!1},Qae=e=>{const t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},Xae=e=>e.previousResults.length===0,Jae={0:Lae,1:Fae,2:Nae,3:w2,4:Mae,5:jae,6:Xae,7:Bae,8:Wae,9:zae,10:Uae,11:Vae,12:Kae,13:Hae,14:qae,15:Gae,16:Yae,17:Qae};function _2(e,t,n,r){var i=e.length,o=i-1,a=0;if(i===0)return e.push(t),0;for(var s;r<=o;)a=r+(o-r>>1),s=e[a],n(s,t)<=0?r=a+1:o=a-1;return n(s,t)<=0&&a++,e.splice(a,0,t),a}const Zae=e=>{},PE=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},OE=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},$E=e=>{const t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},CE=e=>{const t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},ese=e=>{$E(e),OE(e)},tse=e=>{CE(e),PE(e)},nse=e=>{$E(e),PE(e)},rse=e=>{CE(e),OE(e)},S2=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);const t=e.queryParams.primaryKey,n=e.previousResults;for(let r=0;r<n.length;r++)if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}},ise=e=>{const t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===e.changeEvent.id){r[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},ose=e=>{const t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},x2=e=>{const t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else if(e.previousResults.find(i=>i[e.queryParams.primaryKey]===t))return;_2(e.previousResults,n,e.queryParams.sortComparator,0)},ase=e=>{S2(e),x2(e)},sse=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},lse=e=>{throw new Error("Action unknownAction should never be called")},use=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],cse={doNothing:Zae,insertFirst:PE,insertLast:OE,removeFirstItem:$E,removeLastItem:CE,removeFirstInsertLast:ese,removeLastInsertFirst:tse,removeFirstInsertFirst:nse,removeLastInsertLast:rse,removeExisting:S2,replaceExisting:ise,alwaysWrong:ose,insertAtSortPosition:x2,removeExistingAndInsertAtSortPosition:ase,runFullQueryAgain:sse,unknownAction:lse},fse=40;function rw(e){return e.charCodeAt(0)-fse}function dse(e){return e?"1":"0"}function YR(e,t){const n=[];for(let r=0,i=e.length;r<i;r+=t)n.push(e.substring(r,r+t));return n}function hse(e){const t=new Map,r=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,i=e.substring(2,r),o=YR(i,2);for(let m=0;m<o.length;m++){const b=o[m],g=b.charAt(0),y=rw(b.charAt(1));t.set(g,y)}const a=e.substring(r,e.length-3),s=YR(a,4);for(let m=0;m<s.length;m++){const b=s[m],g=b.charAt(0),y=b.charAt(1),w=b.charAt(2),_=rw(b.charAt(3));if(!t.has(y))throw new Error("missing node with id "+y);if(!t.has(w))throw new Error("missing node with id "+w);const S=t.get(y),E=t.get(w),P={l:_,0:S,1:E};t.set(g,P)}const l=e.slice(-3),u=l.charAt(0),c=l.charAt(1),f=rw(l.charAt(2)),d=t.get(u),h=t.get(c);return{l:f,0:d,1:h}}function pse(e,t,n){let r=e,i=e.l;for(;;){const o=t[i](n),a=dse(o);if(r=r[a],typeof r=="number"||typeof r=="string")return r;i=r.l}}const mse="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9ae9¡bf9¢bq9£cg9¤ck9¥cn9¦nd9§np9¨nq9©nf9ªng9«nm9¬nk9­mr9®ms9¯mt9°mj9±mk9²ml9³mn9´mc8µ³{8¶¯}8·°¤8¸³§8¹mn8º³«8»³m8¼m´4½z²4¾³w4¿zµ4À¯¶4Á°·4Â³º4Ã³¸4Äm¹4Åv¤7Æyn7ÇÀÁ7È~7É¥¤7ÊÃÄ7Ë¨n7Ìº¹7Í­°7Î®m7Ï¯°7Ð±m7Ñ³m7Ò¼m5ÓÄm5Ô¹m5Õ½°5Ö¾m5×¿°5ØÇÏ5ÙÂm5ÚÊÑ5Û±m5Üºm5ÝÌÑ5ÞÕÍ2ß|2à¡u2á£Å2âÖÎ2ã¦Æ2ä©x2åªÆ2æ×Ø2ç|È2è¡¢2é£É2ê¤¥2ëÙÚ2ì¦Ë2í©n2îªn2ïÛÐ2ðÜÝ2ñ¬n2òÒÓ/óan/ôbn/õcn/öÞâ/÷ßã/øàä/ùáå/úæë/ûçì/üèí/ýéî/þÍÎ/ÿÏÑ/ĀòÔ,ācn,Ăöï,ă¤ñ,Ąúð,ąêñ,ĆþÐ,ćÿÑ,Ĉac0ĉbc0Ċóõ0ċôā0Čßá0čà¤0Ďçé0ďèê0Đ÷ù0đøă0Ēûý0ēüą0ĔmÒ-ĕmĀ-ĖÞæ-ėČĎ-Ęčď-ęĂĄ-ĚĐĒ-ěđē-Ĝ²»-ĝÍÏ-ĞĆć-ğ²³-ĠĔĈ3ġĕĊ3ĢĖė3ģęĚ3ĤĢĝ(ĥĜğ(ĦģĞ(ħĠġ+Ĩĉċ+ĩĤĦ+ĪĘě+īħĨ1ĬĩĪ1ĭĬī*Įĥm*ĭĮ.";let iw;function vse(){return iw||(iw=hse(mse)),iw}const gse=e=>pse(vse(),Jae,e);function yse(e){const t=gse(e);return use[t]}function bse(e,t,n,r,i){const o=cse[e];return o({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:i}),r}var Vr="￿",vi=Number.MIN_SAFE_INTEGER;function wse(e,t){var n=t.selector,r=e.indexes?e.indexes.slice(0):[];t.index&&(r=[t.index]);var i=!!t.sort.find(c=>Object.values(c)[0]==="desc"),o=new Set;Object.keys(n).forEach(c=>{var f=no(e,c);f&&f.type==="boolean"&&Object.prototype.hasOwnProperty.call(n[c],"$eq")&&o.add(c)});var a=t.sort.map(c=>Object.keys(c)[0]),s=a.filter(c=>!o.has(c)).join(","),l=-1,u;if(r.forEach(c=>{var f=!0,d=!0,h=c.map(y=>{var w=n[y],_=w?Object.keys(w):[],S={};if(!w||!_.length){var E=d?vi:Vr;S={startKey:E,endKey:f?Vr:vi,inclusiveStart:!0,inclusiveEnd:!0}}else _.forEach(P=>{if(RE.has(P)){var O=w[P],C=Ese(P,O);S=Object.assign(S,C)}});return typeof S.startKey>"u"&&(S.startKey=vi),typeof S.endKey>"u"&&(S.endKey=Vr),typeof S.inclusiveStart>"u"&&(S.inclusiveStart=!0),typeof S.inclusiveEnd>"u"&&(S.inclusiveEnd=!0),d&&!S.inclusiveStart&&(d=!1),f&&!S.inclusiveEnd&&(f=!1),S}),v=h.map(y=>y.startKey),m=h.map(y=>y.endKey),b={index:c,startKeys:v,endKeys:m,inclusiveEnd:f,inclusiveStart:d,sortSatisfiedByIndex:!i&&s===c.filter(y=>!o.has(y)).join(","),selectorSatisfiedByIndex:xse(c,t.selector,v,m)},g=Pse(e,t,b);(g>=l||t.index)&&(l=g,u=b)}),!u)throw ae("SNH",{query:t});return u}var RE=new Set(["$eq","$gt","$gte","$lt","$lte"]),_se=new Set(["$eq","$gt","$gte"]),Sse=new Set(["$eq","$lt","$lte"]);function xse(e,t,n,r){var i=Object.entries(t),o=i.find(([P,O])=>{if(!e.includes(P))return!0;var C=Object.entries(O).find(([I,N])=>!RE.has(I));return C});if(o||t.$and||t.$or)return!1;var a=[],s=new Set;for(var[l,u]of Object.entries(t)){if(!e.includes(l))return!1;var c=Object.keys(u).filter(P=>_se.has(P));if(c.length>1)return!1;var f=c[0];if(f&&s.add(l),f!=="$eq"){if(a.length>0)return!1;a.push(f)}}var d=[],h=new Set;for(var[v,m]of Object.entries(t)){if(!e.includes(v))return!1;var b=Object.keys(m).filter(P=>Sse.has(P));if(b.length>1)return!1;var g=b[0];if(g&&h.add(v),g!=="$eq"){if(d.length>0)return!1;d.push(g)}}var y=0;for(var w of e){for(var _ of[s,h]){if(!_.has(w)&&_.size>0)return!1;_.delete(w)}var S=n[y],E=r[y];if(S!==E&&s.size>0&&h.size>0)return!1;y++}return!0}function Ese(e,t){switch(e){case"$eq":return{startKey:t,endKey:t,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:t,inclusiveEnd:!0};case"$gte":return{startKey:t,inclusiveStart:!0};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function Pse(e,t,n){var r=0,i=c=>{c>0&&(r=r+c)},o=10,a=Q0(n.startKeys,c=>c!==vi&&c!==Vr);i(a*o);var s=Q0(n.startKeys,c=>c!==Vr&&c!==vi);i(s*o);var l=Q0(n.startKeys,(c,f)=>c===n.endKeys[f]);i(l*o*1.5);var u=n.sortSatisfiedByIndex?5:0;return i(u),r}const Ose=2147483647,$se=-2147483648,Cse=Number.MAX_SAFE_INTEGER,Rse=Number.MIN_SAFE_INTEGER,Ts=Symbol("missing"),E2=Object.freeze(new Error("mingo: cycle detected while processing object/array")),kse=Object.getPrototypeOf([]),P2=Object.getPrototypeOf({}),Tse="[object Object]",Ase=/^\[object ([a-zA-Z0-9]+)\]$/;class kE{}class TE{}const As=e=>e===null?kE:e===void 0?TE:e.constructor,Ob=e=>{const t=Lse(e);let n=0,r=t.length;for(;r;)n=(n<<5)-n^t.charCodeAt(--r);return n>>>0},O2=new Set(["null","undefined","boolean","number","string","date","regexp"]),QR=new Set([TE,kE,Boolean,String,Number]),Ac=e=>e.toString(),Mr=e=>`${As(e).name}[${e.toString()}]`,Is=new Map([[Number,Ac],[Boolean,Ac],[RegExp,Ac],[Function,Ac],[Symbol,Ac],[Date,e=>e.toISOString()],[String,JSON.stringify],[kE,e=>"null"],[TE,e=>"undefined"],[Int8Array,Mr],[Uint8Array,Mr],[Uint8ClampedArray,Mr],[Int16Array,Mr],[Uint16Array,Mr],[Int32Array,Mr],[Uint32Array,Mr],[Float32Array,Mr],[Float64Array,Mr]]);typeof BigInt<"u"&&Is.set(BigInt,e=>"0x"+e.toString(16));typeof BigInt64Array<"u"&&Is.set(BigInt64Array,Mr);typeof BigUint64Array<"u"&&Is.set(BigUint64Array,Mr);const Ise={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Yr=(e,t)=>{e===Ts&&(e=void 0),t===Ts&&(t=void 0);const[n,r]=[e,t].map(i=>Ise[td(i).toLowerCase()]);return n!==r?n-r:n===1||n===2||n===6?e<t?-1:e>t?1:0:Ds(e,t)?0:e<t?-1:e>t?1:0};function Pr(e,t){if(!e)throw new Error(t)}const Dse=e=>{const t=Object.getPrototypeOf(As(e));return t&&t.name==="TypedArray"},XR=e=>{if(QR.has(As(e)))return e;const t=new Set,n=r=>{if(t.has(r))throw E2;const i=As(r);if(QR.has(i))return r;try{if(Sn(r))return t.add(r),r.map(n);if(Wt(r)){t.add(r);const o={};for(const a in r)o[a]=n(r[a]);return o}}finally{t.delete(r)}return i===Date||i===RegExp||Dse(r)?new i(r):r};return n(e)},td=e=>Ase.exec(Object.prototype.toString.call(e))[1],ow=e=>typeof e=="boolean",oo=e=>typeof e=="string",Fo=e=>!isNaN(e)&&typeof e=="number",Sn=Array.isArray,Wt=e=>{if(!e)return!1;const t=Object.getPrototypeOf(e);return(t===P2||t===null)&&Tse===Object.prototype.toString.call(e)},$b=e=>e===Object(e),JR=e=>e instanceof Date,om=e=>e instanceof RegExp,Cb=e=>typeof e=="function",xn=e=>e==null,Cu=(e,t)=>e.includes(t),$2=(e,t)=>!Cu(e,t),Mse=(e,t=!0)=>!!e||t&&e==="",ec=e=>xn(e)||oo(e)&&!e||e instanceof Array&&e.length===0||Wt(e)&&Object.keys(e).length===0,ZR=e=>e===Ts,_h=e=>e instanceof Array?e:[e],ta=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),jse=(e,t)=>Wt(e)&&Wt(t)||Sn(e)&&Sn(t);function C_(e,t,n){if(n=n||{flatten:!1},ZR(e)||xn(e))return t;if(ZR(t)||xn(t))return e;if(!jse(e,t)){if(n.skipValidation)return t||e;throw Error("mismatched types. must both be array or object")}if(n.skipValidation=!0,Sn(e)){const r=e,i=t;if(n.flatten){let o=0,a=0;for(;o<r.length&&a<i.length;)r[o]=C_(r[o++],i[a++],n);for(;a<i.length;)r.push(t[a++])}else Sh(r,i)}else for(const r in t)e[r]=C_(e[r],t[r],n);return e}function ek(e,t=Ob){const n=new Map;return e.forEach((r,i)=>{const o=k2(r,t);n.has(o)?n.get(o).some(a=>Ds(e[a],r))||n.get(o).push(i):n.set(o,[i])}),n}function C2(e,t=Ob){if(e.some(s=>s.length==0))return[];if(e.length===1)return Array.from(e);const n=Fse(e.map((s,l)=>[l,s.length]),s=>s[1]),r=e[n[0][0]],i=ek(r,t),o=new Map,a=new Array;return i.forEach((s,l)=>{const u=s.map(h=>r[h]),c=u.map(h=>0),f=u.map(h=>[n[0][0],0]);let d=!1;for(let h=1;h<e.length;h++){const[v,m]=n[h],b=e[v];if(o.has(h)||o.set(h,ek(b)),o.get(h).has(l)){const g=o.get(h).get(l).map(y=>b[y]);d=u.map((y,w)=>g.some((_,S)=>{const E=c[w];return Ds(y,_)&&(c[w]++,v<f[w][0]&&(f[w]=[v,o.get(h).get(l)[S]])),E<c[w]})).some(Boolean)}if(!d)return}d&&Sh(a,c.map((h,v)=>h===e.length-1?[u[v],f[v]]:Ts).filter(h=>h!==Ts))}),a.sort((s,l)=>{const[u,[c,f]]=s,[d,[h,v]]=l,m=Yr(c,h);return m!==0?m:Yr(f,v)}).map(s=>s[0])}function R2(e,t=0){const n=new Array;function r(i,o){for(let a=0,s=i.length;a<s;a++)Sn(i[a])&&(o>0||o<0)?r(i[a],Math.max(-1,o-1)):n.push(i[a])}return r(e,t),n}const Nse=e=>{let[t,n]=[Object.getPrototypeOf(e),Object.getOwnPropertyNames(e)],r=t;for(;!n.length&&t!==P2&&t!==kse;)r=t,n=Object.getOwnPropertyNames(t),t=Object.getPrototypeOf(t);const i={};return n.forEach(o=>i[o]=e[o]),[i,r]};function Ds(e,t){const n=[[e,t]];for(;n.length>0;){if([e,t]=n.pop(),e===t)continue;const r=As(e);if(r!==As(t)||Cb(e))return!1;if(Is.has(r)){const i=Is.get(r);if(i(e)!==i(t))return!1;continue}if(r===Array||r===Object){const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length||new Set(i.concat(o)).size!=i.length)return!1;for(const a of i)n.push([e[a],t[a]]);continue}return!1}return!n.length}function Lse(e){const t=new Set,n=r=>{const i=As(r);if(Is.has(i))return Is.get(i)(r);const o=i===Object?"":i.name;if(Cb(r.toJSON))return`${o}(${JSON.stringify(r)})`;if(t.has(r))throw E2;t.add(r);try{if(i===Array)return"["+r.map(n).join(",")+"]";if(i!==Object){const[s,l]=Nse(r);if(Sn(r))return`${o}${n([...r,s])}`;r=s}const a=Object.keys(r);return a.sort(),`${o}{`+a.map(s=>`${s}:${n(r[s])}`).join(",")+"}"}finally{t.delete(r)}};return n(e)}function k2(e,t){return t=t||Ob,xn(e)?null:t(e).toString()}function Fse(e,t,n=Yr){if(ec(e))return e;const r=new Array,i=new Array;for(let o=0;o<e.length;o++){const a=e[o],s=t(a,o);xn(s)?i.push(a):r.push([s,a])}return r.sort((o,a)=>n(o[0],a[0])),Sh(i,r.map(o=>o[1]))}function Bse(e,t,n=Ob){if(e.length<1)return new Map;const r=new Map,i=new Map;for(let o=0;o<e.length;o++){const a=e[o],s=t(a,o),l=k2(s,n);if(l===null)i.has(null)?i.get(null).push(a):i.set(null,[a]);else{const u=r.has(l)?r.get(l).find(c=>Ds(c,s)):null;xn(u)?(i.set(s,[a]),r.has(l)?r.get(l).push(s):r.set(l,[s])):i.get(u).push(a)}}return i}const aw=5e4;function Sh(e,...t){return e instanceof Array?t.reduce((n,r)=>{let i=Math.ceil(r.length/aw),o=0;for(;i-- >0;)Array.prototype.push.apply(n,r.slice(o,o+aw)),o+=aw;return n},e):t.filter($b).reduce((n,r)=>(Object.assign(n,r),n),e)}function R_(e,t){return $b(e)?e[t]:void 0}function Use(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function AE(e,t,n){let r=0;function i(a,s){let l=a;for(let u=0;u<s.length;u++){const c=s[u];if(/^\d+$/.exec(c)===null&&l instanceof Array){if(u===0&&r>0)break;r+=1;const d=s.slice(u);l=l.reduce((h,v)=>{const m=i(v,d);return m!==void 0&&h.push(m),h},[]);break}else l=R_(l,c);if(l===void 0)break}return l}const o=O2.has(td(e).toLowerCase())?e:i(e,t.split("."));return o instanceof Array&&(n!=null&&n.unwrapArray)?Use(o,r):o}function am(e,t,n){const r=t.split("."),i=r[0],o=r.slice(1).join("."),a=/^\d+$/.exec(i)!==null,s=r.length>1;let l,u;if(e instanceof Array)if(a)l=R_(e,Number(i)),s&&(l=am(l,o,n)),l=[l];else{l=[];for(const c of e)u=am(c,t,n),n!=null&&n.preserveMissing?(u===void 0&&(u=Ts),l.push(u)):u!==void 0&&l.push(u)}else{if(u=R_(e,i),s&&(u=am(u,o,n)),u===void 0)return;l=n!=null&&n.preserveKeys?Object.assign({},e):{},l[i]=u}return l}function k_(e){if(e instanceof Array)for(let t=e.length-1;t>=0;t--)e[t]===Ts?e.splice(t,1):k_(e[t]);else if(Wt(e))for(const t in e)ta(e,t)&&k_(e[t])}const tk=/^\d+$/;function lv(e,t,n,r){const i=t.split("."),o=i[0],a=i.slice(1).join(".");if(i.length===1)(Wt(e)||Sn(e)&&tk.test(o))&&n(e,o);else{r!=null&&r.buildGraph&&xn(e[o])&&(e[o]={});const s=e[o];if(!s)return;const l=!!(i.length>1&&tk.test(i[1]));s instanceof Array&&(r!=null&&r.descendArray)&&!l?s.forEach(u=>lv(u,a,n,r)):lv(s,a,n,r)}}function Vse(e,t,n){lv(e,t,(r,i)=>{r[i]=Cb(n)?n(r[i]):n},{buildGraph:!0})}function nk(e,t,n){lv(e,t,(r,i)=>{if(r instanceof Array){if(/^\d+$/.test(i))r.splice(parseInt(i),1);else if(n&&n.descendArray)for(const o of r)Wt(o)&&delete o[i]}else Wt(r)&&delete r[i]},n)}const Wse=/^\$[a-zA-Z0-9_]+$/;function tc(e){return Wse.test(e)}function T2(e){if(O2.has(td(e).toLowerCase()))return om(e)?{$regex:e}:{$eq:e};if($b(e)){if(!Object.keys(e).some(tc))return{$eq:e};if(ta(e,"$regex")){const n=Object.assign({},e);return n.$regex=new RegExp(e.$regex,e.$options),delete n.$options,n}}return e}var Wo;(function(e){e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF"})(Wo||(Wo={}));class ls{constructor(t,n,r,i=Date.now()){this._opts=t,this._root=n,this._local=r,this.timestamp=i,this.update(n,r)}static init(t,n,r){return t instanceof ls?new ls(t._opts,xn(t.root)?n:t.root,Object.assign({},t.local,r)):new ls(t,n,r)}update(t,n){var r;return this._root=t,this._local=n&&Object.assign({},n,{variables:Object.assign({},(r=this._local)===null||r===void 0?void 0:r.variables,n==null?void 0:n.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:Ms.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collation}get processingMode(){var t;return((t=this._opts)===null||t===void 0?void 0:t.processingMode)||Wo.CLONE_OFF}get useStrictMode(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useStrictMode}get scriptEnabled(){var t;return(t=this._opts)===null||t===void 0?void 0:t.scriptEnabled}get useGlobalContext(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useGlobalContext}get hashFunction(){var t;return(t=this._opts)===null||t===void 0?void 0:t.hashFunction}get collectionResolver(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collectionResolver}get jsonSchemaValidator(){var t;return(t=this._opts)===null||t===void 0?void 0:t.jsonSchemaValidator}get variables(){var t;return(t=this._opts)===null||t===void 0?void 0:t.variables}get context(){var t;return(t=this._opts)===null||t===void 0?void 0:t.context}}function A2(e){return e instanceof ls?e.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:Wo.CLONE_OFF},e),{context:e!=null&&e.context?Ms.from(e==null?void 0:e.context):Ms.init({})}))}var Ke;(function(e){e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window"})(Ke||(Ke={}));class Ms{constructor(t){this.operators={[Ke.ACCUMULATOR]:{},[Ke.EXPRESSION]:{},[Ke.PIPELINE]:{},[Ke.PROJECTION]:{},[Ke.QUERY]:{},[Ke.WINDOW]:{}};for(const[n,r]of Object.entries(t))this.addOperators(n,r)}static init(t={}){return new Ms(t)}static from(t){return new Ms(t.operators)}addOperators(t,n){for(const[r,i]of Object.entries(n))this.getOperator(t,r)||(this.operators[t][r]=i);return this}addAccumulatorOps(t){return this.addOperators(Ke.ACCUMULATOR,t)}addExpressionOps(t){return this.addOperators(Ke.EXPRESSION,t)}addQueryOps(t){return this.addOperators(Ke.QUERY,t)}addPipelineOps(t){return this.addOperators(Ke.PIPELINE,t)}addProjectionOps(t){return this.addOperators(Ke.PROJECTION,t)}addWindowOps(t){return this.addOperators(Ke.WINDOW,t)}getOperator(t,n){return t in this.operators&&this.operators[t][n]||null}}const Ha=Ms.init();function rk(e,t){for(const[n,r]of Object.entries(t)){Pr(Cb(r)&&tc(n),`'${n}' is not a valid operator`);const i=us(e,n,null);Pr(!i||r===i,`${n} already exists for '${e}' operators. Cannot change operator function once registered.`)}switch(e){case Ke.ACCUMULATOR:Ha.addAccumulatorOps(t);break;case Ke.EXPRESSION:Ha.addExpressionOps(t);break;case Ke.PIPELINE:Ha.addPipelineOps(t);break;case Ke.PROJECTION:Ha.addProjectionOps(t);break;case Ke.QUERY:Ha.addQueryOps(t);break;case Ke.WINDOW:Ha.addWindowOps(t);break}}function us(e,t,n){const{context:r,useGlobalContext:i}=n||{},o=r?r.getOperator(e,t):null;return!o&&i?Ha.getOperator(e,t):o}const ik={$$ROOT(e,t,n){return n.root},$$CURRENT(e,t,n){return e},$$REMOVE(e,t,n){},$$NOW(e,t,n){return new Date(n.timestamp)}},T_={$$KEEP(e,t,n){return e},$$PRUNE(e,t,n){},$$DESCEND(e,t,n){if(!ta(t,"$cond"))return e;let r;for(const[i,o]of Object.entries(e))if($b(o)){if(o instanceof Array){const a=[];for(let s of o)Wt(s)&&(s=ok(s,t,n.update(s))),xn(s)||a.push(s);r=a}else r=ok(o,t,n.update(o));xn(r)?delete e[i]:e[i]=r}return e}};function ci(e,t,n,r){var i;const o=ls.init(r,e);if(n=n||"",tc(n)){const a=us(Ke.EXPRESSION,n,r);if(a)return a(e,t,o);const s=us(Ke.ACCUMULATOR,n,r);if(s)return e instanceof Array||(e=ci(e,t,null,o),t=null),Pr(e instanceof Array,`'${n}' target must be an array.`),s(e,t,o.update(null,o.local));throw new Error(`operator '${n}' is not registered`)}if(oo(t)&&t.length>0&&t[0]==="$"){if(ta(T_,t))return t;let a=o.root;const s=t.split(".");if(ta(ik,s[0]))a=ik[s[0]](e,null,o),t=t.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){a=Object.assign({},o.variables,{this:e},(i=o.local)===null||i===void 0?void 0:i.variables);const l=s[0].slice(2);Pr(ta(a,l),`Use of undefined variable: ${l}`),t=t.slice(2)}else t=t.slice(1);return t===""?a:AE(a,t)}if(Sn(t))return t.map(a=>ci(e,a,null,o));if(Wt(t)){const a={};for(const[s,l]of Object.entries(t))if(a[s]=ci(e,l,s,o),[Ke.EXPRESSION,Ke.ACCUMULATOR].some(u=>!!us(u,s,r)))return Pr(Object.keys(t).length===1,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),a[s];return a}return t}function ok(e,t,n){const r=ci(e,t,null,n);return ta(T_,r)?T_[r](e,t,n):r}function Ru(e){return e instanceof ak?e:new ak(e)}function zse(...e){let t=0;return Ru(()=>{for(;t<e.length;){const n=e[t].next();if(!n.done)return n;t++}return{done:!0}})}function Kse(e){return!!e&&typeof e=="object"&&(e==null?void 0:e.next)instanceof Function}function Hse(e,t){const n=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,n)}const A_=new Error;var hi;(function(e){e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP"})(hi||(hi={}));function qse(e,t,n){let r=!1,i=-1,o=0;return function(a){try{e:for(;!r;){let s=e();i++;let l=-1;const u=t.length;let c=!1;for(;++l<u;){const f=t[l];switch(f.action){case hi.MAP:s=f.func(s,i);break;case hi.FILTER:if(!f.func(s,i))continue e;break;case hi.TAKE:--f.count,f.count||(c=!0);break;case hi.DROP:--f.count,f.count||Hse(t,l);continue e;default:break e}}if(r=c,a)n[o++]=s;else return{value:s,done:!1}}}catch(s){if(s!==A_)throw s}return r=!0,{done:r}}}class ak{constructor(t){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let n;if(t instanceof Function&&(t={next:t}),Kse(t)){const r=t;n=()=>{const i=r.next();if(i.done)throw A_;return i.value}}else if(t instanceof Array){const r=t,i=r.length;let o=0;n=()=>{if(o<i)return r[o++];throw A_}}else if(!(t instanceof Function))throw new Error("Lazy must be initialized with an array, generator, or function.");this.getNext=qse(n,this.iteratees,this.yieldedValues)}push(t,n){return typeof n=="function"?this.iteratees.push({action:t,func:n}):typeof n=="number"&&this.iteratees.push({action:t,count:n}),this}next(){return this.getNext()}map(t){return this.push(hi.MAP,t)}filter(t){return this.push(hi.FILTER,t)}take(t){return t>0?this.push(hi.TAKE,t):this}drop(t){return t>0?this.push(hi.DROP,t):this}transform(t){const n=this;let r;return Ru(()=>(r||(r=Ru(t(n.value()))),r.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){const n=this.next();if(n.done)break;if(t(n.value)===!1)return!1}return!0}reduce(t,n){let r=this.next();for(n===void 0&&!r.done&&(n=r.value,r=this.next());!r.done;)n=t(n,r.value),r=this.next();return n}size(){return this.reduce((t,n)=>++t,0)}[Symbol.iterator](){return this}}class Gse{constructor(t,n){this.pipeline=t,this.options=A2(n)}stream(t){let n=Ru(t);const r=this.options.processingMode;(r==Wo.CLONE_ALL||r==Wo.CLONE_INPUT)&&n.map(XR);const i=new Array;if(!ec(this.pipeline))for(const o of this.pipeline){const a=Object.keys(o),s=a[0],l=us(Ke.PIPELINE,s,this.options);Pr(a.length===1&&!!l,`invalid pipeline operator ${s}`),i.push(s),n=l(n,o[s],this.options)}return(r==Wo.CLONE_OUTPUT||r==Wo.CLONE_ALL&&C2([["$group","$unwind"],i]).length)&&n.map(XR),n}run(t){return this.stream(t).value()}}class Yse{constructor(t,n,r,i){this.source=t,this.predicate=n,this.projection=r,this.options=i,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(Wt(this.projection)&&this.operators.push({$project:this.projection}),this.result=Ru(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new Gse(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){const t=Ru([...this.buffer]);return this.buffer=[],zse(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options=Object.assign(Object.assign({},this.options),{collation:t}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;const t=this.fetch().next();return t.done?!1:(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}}class xh{constructor(t,n){this.condition=t,this.options=A2(n),this.compiled=[],this.compile()}compile(){Pr(Wt(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const t={};for(const[n,r]of Object.entries(this.condition)){if(n==="$where")Object.assign(t,{field:n,expr:r});else if(Cu(["$and","$or","$nor","$expr","$jsonSchema"],n))this.processOperator(n,n,r);else{Pr(!tc(n),`unknown top level operator: ${n}`);for(const[i,o]of Object.entries(T2(r)))this.processOperator(n,i,o)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,n,r){const i=us(Ke.QUERY,n,this.options);if(!i)throw new Error(`unknown operator ${n}`);const o=i(t,r,this.options);this.compiled.push(o)}test(t){for(let n=0,r=this.compiled.length;n<r;n++)if(!this.compiled[n](t))return!1;return!0}find(t,n){return new Yse(t,r=>this.test(r),n||{},this.options)}remove(t){return t.reduce((n,r)=>(this.test(r)||n.push(r),n),[])}}const Qse=(e,t,n)=>{if(ec(t)||!Wt(t))return e;let r=Yr;const i=n.collation;return Wt(i)&&oo(i.locale)&&(r=Jse(i)),e.transform(o=>{const a=Object.keys(t);for(const s of a.reverse()){const l=Bse(o,c=>AE(c,s),n.hashFunction),u=Array.from(l.keys()).sort(r);t[s]===-1&&u.reverse(),o=[],u.reduce((c,f)=>Sh(c,l.get(f)),o)}return o})},Xse={1:"base",2:"accent",3:"variant"};function Jse(e){const t={sensitivity:Xse[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));const n=new Intl.Collator(e.locale,t);return(r,i)=>{if(!oo(r)||!oo(i))return Yr(r,i);const o=n.compare(r,i);return o<0?-1:o>0?1:0}}function In(e){const t=(n,r,i)=>{const o={unwrapArray:!0},a=Math.max(1,n.split(".").length-1);return s=>{const l=AE(s,n,o);return e(l,r,Object.assign(Object.assign({},i),{depth:a}))}};return t.op="query",t}function I2(e,t,n){if(Ds(e,t)||xn(e)&&xn(t))return!0;if(e instanceof Array){const r=Ds.bind(null,t);return e.some(r)||R2(e,n==null?void 0:n.depth).some(r)}return!1}function Zse(e,t,n){return!I2(e,t,n)}function D2(e,t,n){return xn(e)?t.some(r=>r===null):C2([_h(e),t],n==null?void 0:n.hashFunction).length>0}function ele(e,t,n){return!D2(e,t,n)}function tle(e,t,n){return Rb(e,t,(r,i)=>Yr(r,i)<0)}function nle(e,t,n){return Rb(e,t,(r,i)=>Yr(r,i)<=0)}function rle(e,t,n){return Rb(e,t,(r,i)=>Yr(r,i)>0)}function ile(e,t,n){return Rb(e,t,(r,i)=>Yr(r,i)>=0)}function ole(e,t,n){return _h(e).some(r=>t.length===2&&r%t[0]===t[1])}function ale(e,t,n){const r=_h(e),i=o=>oo(o)&&Mse(t.exec(o),n==null?void 0:n.useStrictMode);return r.some(i)||R2(r,1).some(i)}function sle(e,t,n){return(t===!1||t===0)&&e===void 0||(t===!0||t===1)&&e!==void 0}function lle(e,t,n){if(!Sn(e)||!Sn(t)||!e.length||!t.length)return!1;let r=!0;for(const i of t){if(!r)break;Wt(i)&&Cu(Object.keys(i),"$elemMatch")?r=M2(e,i.$elemMatch,n):i instanceof RegExp?r=e.some(o=>typeof o=="string"&&i.test(o)):r=e.some(o=>Ds(i,o))}return r}function ule(e,t,n){return Array.isArray(e)&&e.length===t}function cle(e){return tc(e)&&["$and","$or","$nor"].indexOf(e)===-1}function M2(e,t,n){if(Sn(e)&&!ec(e)){let r=a=>a,i=t;Object.keys(t).every(cle)&&(i={temp:t},r=a=>({temp:a}));const o=new xh(i,n);for(let a=0,s=e.length;a<s;a++)if(o.test(r(e[a])))return!0}return!1}const sk=e=>e===null,lk=e=>Fo(e)&&e>=$se&&e<=Ose&&e.toString().indexOf(".")===-1,uk=e=>Fo(e)&&e>=Rse&&e<=Cse&&e.toString().indexOf(".")===-1,fle={array:Sn,bool:ow,boolean:ow,date:JR,decimal:Fo,double:Fo,int:lk,long:uk,number:Fo,null:sk,object:Wt,regex:om,regexp:om,string:oo,undefined:xn,function:e=>{throw new Error("unsupported type key `function`.")},1:Fo,2:oo,3:Wt,4:Sn,6:xn,8:ow,9:JR,10:sk,11:om,16:lk,18:uk,19:Fo};function ck(e,t,n){const r=fle[t];return r?r(e):!1}function dle(e,t,n){return Array.isArray(t)?t.findIndex(r=>ck(e,r))>=0:ck(e,t)}function Rb(e,t,n){return _h(e).some(r=>td(r)===td(t)&&n(r,t))}const fk=(e,t)=>{const n={};return e.split("").forEach((r,i)=>n[r]=t*(i+1)),n};Object.assign(Object.assign(Object.assign({},fk("ABCDEFGHIKLM",1)),fk("NOPQRSTUVWXY",-1)),{Z:0});const dk={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function pr(e,t=dk){const n=Object.assign({},dk,t),r=new Set(Object.keys(n));return(i,o,a)=>{const s=ci(i,o,null,a);if(r.has(`${s}`)){const l=n[`${s}`];if(l instanceof Error)throw new Error(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return l}return e(s)}}pr(Math.acos,{Infinity:1/0,0:new Error});pr(Math.acosh,{Infinity:1/0,0:new Error});pr(Math.asin);pr(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});pr(Math.atan);pr(Math.atanh,{1:1/0,"-1":-1/0});pr(Math.cos);pr(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const hle=Math.PI/180;pr(e=>e*hle,{Infinity:1/0,"-Infinity":1/0});const ple=180/Math.PI;pr(e=>e*ple,{Infinity:1/0,"-Infinity":-1/0});pr(Math.sin);pr(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});pr(Math.tan);const mle=(e,t,n)=>{if(ec(t))return e;let r=Object.keys(t),i=!1;j2(t,n);const o=n.idKey;if(Cu(r,o)){const s=t[o];(s===0||s===!1)&&(r=r.filter($2.bind(null,[o])),i=r.length==0)}else r.push(o);const a=ls.init(n);return e.map(s=>I_(s,t,a.update(s),r,i))};function I_(e,t,n,r,i){let o={},a=!1,s=!1;const l=[];i&&l.push(n.idKey);for(const u of r){let c;const f=t[u];if(u!==n.idKey&&Cu([0,!1],f)&&(s=!0),u===n.idKey&&ec(f))c=e[u];else if(oo(f))c=ci(e,f,u,n);else if(!Cu([1,!0],f))if(f instanceof Array)c=f.map(h=>{const v=ci(e,h,null,n);return xn(v)?null:v});else if(Wt(f)){const h=f,v=Object.keys(f),m=v.length==1?v[0]:"",b=us(Ke.PROJECTION,m,n);if(b)m==="$slice"?_h(h[m]).every(Fo)?(c=b(e,h[m],u,n),a=!0):c=ci(e,h,u,n):c=b(e,h[m],u,n);else if(tc(m))c=ci(e,h[m],m,n);else if(ta(e,u)){j2(h,n);let g=e[u];g instanceof Array?c=g.map(y=>I_(y,h,n,v,!1)):(g=Wt(g)?g:e,c=I_(g,h,n,v,!1))}else c=ci(e,f,null,n)}else{l.push(u);continue}const d=am(e,u,{preserveMissing:!0});d!==void 0&&C_(o,d,{flatten:!0}),$2([0,1,!1,!0],f)&&(c===void 0?nk(o,u,{descendArray:!0}):Vse(o,u,c))}if(k_(o),(a||s||i)&&(o=Sh({},e,o),l.length>0))for(const u of l)nk(o,u,{descendArray:!0});return o}function j2(e,t){const n=[!1,!1];for(const[r,i]of Object.entries(e)){if(r===(t==null?void 0:t.idKey))return;i===0||i===!1?n[0]=!0:(i===1||i===!0)&&(n[1]=!0),Pr(!(n[0]&&n[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const vle=(e,t,n)=>{Pr(Sn(t),"Invalid expression: $and expects value to be an Array.");const r=t.map(i=>new xh(i,n));return i=>r.every(o=>o.test(i))},N2=(e,t,n)=>{Pr(Sn(t),"Invalid expression. $or expects value to be an Array");const r=t.map(i=>new xh(i,n));return i=>r.some(o=>o.test(i))},gle=(e,t,n)=>{Pr(Sn(t),"Invalid expression. $nor expects value to be an array.");const r=N2("$or",t,n);return i=>!r(i)},yle=(e,t,n)=>{const r={};r[e]=T2(t);const i=new xh(r,n);return o=>!i.test(o)},ble=In(I2),wle=In(rle),_le=In(ile),Sle=In(D2),xle=In(tle),Ele=In(nle),Ple=In(Zse),Ole=In(ele),$le=In(ole),Cle=In(ale);In(lle);const Rle=In(M2),kle=In(ule),Tle=In(sle),Ale=In(dle);var hk=!1;function Ile(e){return hk||(rk(Ke.PIPELINE,{$sort:Qse,$project:mle}),rk(Ke.QUERY,{$and:vle,$eq:ble,$elemMatch:Rle,$exists:Tle,$gt:wle,$gte:_le,$in:Sle,$lt:xle,$lte:Ele,$ne:Ple,$nin:Ole,$mod:$le,$nor:gle,$not:yle,$or:N2,$regex:Cle,$size:kle,$type:Ale}),hk=!0),new xh(e)}function uv(e,t){var n=hr(e.primaryKey);t=Fe(t);var r=lr(t);if(typeof r.skip!="number"&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach(([u,c])=>{(typeof c!="object"||c===null)&&(r.selector[u]={$eq:c})})):r.selector={},r.index){var i=_u(r.index);i.includes(n)||i.push(n),r.index=i}if(r.sort){var l=r.sort.find(u=>goe(u)===n);l||(r.sort=r.sort.slice(0),r.sort.push({[n]:"asc"}))}else if(r.index)r.sort=r.index.map(u=>({[u]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(r.selector).forEach(([u,c])=>{var f=!1;typeof c=="object"&&c!==null?f=!!Object.keys(c).find(d=>RE.has(d)):f=!0,f&&o.add(u)});var a=-1,s;e.indexes.forEach(u=>{var c=dE(u)?u:[u],f=c.findIndex(d=>!o.has(d));f>0&&f>a&&(a=f,s=c)}),s&&(r.sort=s.map(u=>({[u]:"asc"})))}r.sort||(r.sort=[{[n]:"asc"}])}return r}function IE(e,t){if(!t.sort)throw ae("SNH",{query:t});var n=[];t.sort.forEach(i=>{var o=Object.keys(i)[0],a=Object.values(i)[0];n.push({key:o,direction:a,getValueFn:GN(o)})});var r=(i,o)=>{for(var a=0;a<n.length;++a){var s=n[a],l=s.getValueFn(i),u=s.getValueFn(o);if(l!==u){var c=s.direction==="asc"?Yr(l,u):Yr(u,l);return c}}};return r}function kb(e,t){if(!t.sort)throw ae("SNH",{query:t});var n=Ile(t.selector),r=i=>n.test(i);return r}function Dle(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(n=>Object.keys(n)[0])}var Mle=new WeakMap;function jle(e){return Cr(Mle,e,()=>{var t=e.collection,n=uv(t.storageInstance.schema,lr(e.mangoQuery)),r=t.schema.primaryPath,i=IE(t.schema.jsonSchema,n),o=(u,c)=>{var f={docA:u,docB:c,rxQuery:e};return i(f.docA,f.docB)},a=kb(t.schema.jsonSchema,n),s=u=>{var c={doc:u,rxQuery:e};return a(c.doc)},l={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:Dle(r,n),sortComparator:o,queryMatcher:s};return l})}function Nle(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=jle(e),r=ve(e._result).docsData.slice(0),i=ve(e._result).docsDataMap,o=!1,a=t.map(l=>Tae(l)).filter(WN),s=a.find(l=>{var u={queryParams:n,changeEvent:l,previousResults:r,keyDocumentMap:i},c=yse(u);if(c==="runFullQueryAgain")return!0;if(c!=="doNothing")return o=!0,bse(c,n,l,r,i),!1});return s?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:r}}var Lle=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(r){var i=r.toString();return Cr(this._map,i,()=>r)},e}();function Fle(){return new Lle}function pk(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}function Ble(e){return e.refCount$.observers.length}var Ule=100,Vle=30*1e3,Wle=(e,t)=>(n,r)=>{if(!(r._map.size<e)){var i=Ut()-t,o=[],a=Array.from(r._map.values());for(var s of a)if(!(Ble(s)>0)){if(s._lastEnsureEqual===0&&s._creationTime<i){pk(r,s);continue}o.push(s)}var l=o.length-e;if(!(l<=0)){var u=o.sort((f,d)=>f._lastEnsureEqual-d._lastEnsureEqual),c=u.slice(0,l);c.forEach(f=>pk(r,f))}}},L2=Wle(Ule,Vle),sw=new WeakSet;function zle(e){sw.has(e)||(sw.add(e),uoe().then(()=>doe(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),sw.delete(e)}))}var F2=function(){function e(n,r,i){this.cacheItemByDocId=new Map,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var a=o.docId,s=this.cacheItemByDocId.get(a);s&&(s.byRev.delete(o.revisionHeight),s.byRev.size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.registerIdleTasks=[],this.primaryPath=n,this.changes$=r,this.documentCreator=i,r.subscribe(o=>{var a=o.documentId,s=this.cacheItemByDocId.get(a);if(s){var l=xE(o);s.last=l}})}var t=e.prototype;return t.getLatestDocumentData=function(r){var i=Rs(this.cacheItemByDocId,r);return i.last},t.getLatestDocumentDataIfExists=function(r){var i=this.cacheItemByDocId.get(r);if(i)return i.last},Aa(e,[{key:"getCachedRxDocument",get:function(){var n=Kle(this);return ea(this,"getCachedRxDocument",n)}}]),e}();function Kle(e){var t=e.primaryPath,n=e.cacheItemByDocId,r=e.registry,i=Xe.deepFreezeWhenDevMode,o=e.documentCreator,a=s=>{var l=s[t],u=FR(s._rev),c=Cr(n,l,()=>Hle(s)),f=c.byRev,d=f.get(u),h=d?d.deref():void 0;return h||(s=i(s),h=o(s),f.set(u,Gle(h)),r&&(e.registerIdleTasks.push(h),e.registerIdlePromise||(e.registerIdlePromise=mE().then(()=>{e.registerIdlePromise=void 0;var v=e.registerIdleTasks;v.length!==0&&(e.registerIdleTasks=[],v.forEach(m=>{r.register(m,{docId:m.primary,revisionHeight:FR(m.revision)})}))})))),h};return a}function B2(e,t){for(var n=e.getCachedRxDocument,r=[],i=0;i<t.length;i++){var o=t[i],a=n(o);r.push(a)}return r}function Hle(e){return{byRev:new Map,last:e}}var qle=typeof WeakRef=="function",Gle=qle?Yle:Qle;function Yle(e){return new WeakRef(e)}function Qle(e){return{deref(){return e}}}var mk=function(){function e(t,n,r){this.time=Ut(),this.collection=t,this.count=r,this.documents=B2(this.collection._docCache,n)}return Aa(e,[{key:"docsData",get:function(){return ea(this,"docsData",this.documents.map(t=>t._data))}},{key:"docsDataMap",get:function(){var t=new Map;return this.documents.forEach(n=>{t.set(n.primary,n._data)}),ea(this,"docsDataMap",t)}},{key:"docsMap",get:function(){for(var t=new Map,n=this.documents,r=0;r<n.length;r++){var i=n[r];t.set(i.primary,i)}return ea(this,"docsMap",t)}}]),e}(),Xle=0,Jle=function(){return++Xle},U2=function(){function e(n,r,i,o={}){this.id=Jle(),this._execOverDatabaseCount=0,this._creationTime=Ut(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new Di(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=nr,this.op=n,this.mangoQuery=r,this.collection=i,this.other=o,r||(this.mangoQuery=sm()),this.isFindOneByIdQuery=nue(this.collection.schema.primaryPath,r)}var t=e.prototype;return t._setResultData=function(r){if(typeof r=="number"){this._result=new mk(this.collection,[],r);return}else r instanceof Map&&(r=Array.from(r.values()));var i=new mk(this.collection,r,r.length);this._result=i},t._execOverDatabase=async function(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Ut(),this.op==="count"){var r=this.getPreparedQuery(),i=await this.collection.storageInstance.count(r);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw ae("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=ve(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,s=[];if(o.forEach(c=>{var f=this.collection._docCache.getLatestDocumentDataIfExists(c);if(f){if(!f._deleted){var d=this.collection._docCache.getCachedRxDocument(f);a.set(c,d)}}else s.push(c)}),s.length>0){var l=await this.collection.storageInstance.findDocumentsById(s,!1);l.forEach(c=>{var f=this.collection._docCache.getCachedRxDocument(c);a.set(f.primary,f)})}return a}var u=tue(this);return u.then(c=>(this._lastExecEnd=Ut(),c))},t.exec=function(r){if(r&&this.op!=="findOne")throw ae("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return vk(this).then(()=>ss(this.$)).then(i=>{if(!i&&r)throw ae("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return i})},t.toString=function(){var r=av({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(r);return this.toString=()=>i,i},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:uv(this.collection.schema.jsonSchema,this.mangoQuery)};r.mangoQuery.selector._deleted={$eq:!1},r.mangoQuery.index&&r.mangoQuery.index.unshift("_deleted"),Gr("prePrepareQuery",r);var i=Tb(this.collection.schema.jsonSchema,r.mangoQuery);return this.getPreparedQuery=()=>i,i},t.doesDocumentDataMatch=function(r){return r._deleted?!1:this.queryMatcher(r)},t.remove=function(){return this.exec().then(r=>Array.isArray(r)?Promise.all(r.map(i=>i.remove())):r.remove())},t.update=function(r){throw ot("update")},t.where=function(r){throw ot("query-builder")},t.sort=function(r){throw ot("query-builder")},t.skip=function(r){throw ot("query-builder")},t.limit=function(r){throw ot("query-builder")},Aa(e,[{key:"$",get:function(){if(!this._$){var n=this.collection.$.pipe(st(r=>!r.isLocal),wh(null),io(()=>vk(this)),on(()=>this._result),bh(mh),ed((r,i)=>!!(r&&r.time===ve(i).time)),st(r=>!!r),on(r=>{var i=ve(r);return this.op==="count"?i.count:this.op==="findOne"?i.documents.length===0?null:i.documents[0]:this.op==="findByIds"?i.docsMap:i.documents.slice(0)}));this._$=Aae(n,this.refCount$.pipe(st(()=>!1)))}return this._$}},{key:"queryMatcher",get:function(){var n=this.collection.schema.jsonSchema,r=uv(this.collection.schema.jsonSchema,this.mangoQuery);return ea(this,"queryMatcher",kb(n,r))}},{key:"asRxQuery",get:function(){return this}}]),e}();function sm(){return{selector:{}}}function Zle(e){return e.collection._queryCache.getByQuery(e)}function Ic(e,t,n,r){Gr("preCreateRxQuery",{op:e,queryObj:t,collection:n,other:r});var i=new U2(e,t,n,r);return i=Zle(i),zle(n),i}function V2(e){var t=e.asRxQuery.collection._changeEventBuffer.counter;return e._latestChangeEvent>=t}function vk(e){return e.collection.database.destroyed||V2(e)?nr:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>eue(e)),e._ensureEqualQueue)}function eue(e){if(e._lastEnsureEqual=Ut(),e.collection.database.destroyed||V2(e))return nr;var t=!1,n=!1;if(e._latestChangeEvent===-1&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(r===null)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if(e.op==="count"){var o=ve(e._result).count,a=o;i.forEach(l=>{var u=l.previousDocumentData&&e.doesDocumentDataMatch(l.previousDocumentData),c=e.doesDocumentDataMatch(l.documentData);!u&&c&&a++,u&&!c&&a--}),a!==o&&(t=!0,e._setResultData(a))}else{var s=Nle(e,i);s.runFullQueryAgain?n=!0:s.changed&&(t=!0,e._setResultData(s.newResults))}}}return n?e._execOverDatabase().then(l=>(e._latestChangeEvent=e.collection._changeEventBuffer.counter,typeof l=="number"?((!e._result||l!==e._result.count)&&(t=!0,e._setResultData(l)),t):((!e._result||!Qie(e.collection.schema.primaryPath,l,e._result.docsData))&&(t=!0,e._setResultData(l)),t))):Promise.resolve(t)}function Tb(e,t){if(!t.sort)throw ae("SNH",{query:t});var n=wse(e,t);return{query:t,queryPlan:n}}async function tue(e){var t=[],n=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var r=e.isFindOneByIdQuery;if(r=r.filter(c=>{var f=e.collection._docCache.getLatestDocumentDataIfExists(c);return f?(f._deleted||t.push(f),!1):!0}),r.length>0){var i=await n.storageInstance.findDocumentsById(r,!1);Su(t,i)}}else{var o=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!a){var s=await n.storageInstance.findDocumentsById([o],!1);s[0]&&(a=s[0])}a&&!a._deleted&&t.push(a)}else{var l=e.getPreparedQuery(),u=await n.storageInstance.query(l);t=u.documents}return t}function nue(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var n=t.selector[e];if(typeof n=="string")return n;if(Object.keys(n).length===1&&typeof n.$eq=="string"||Object.keys(n).length===1&&Array.isArray(n.$eq)&&!n.$eq.find(r=>typeof r!="string"))return n.$eq}return!1}var rue="_rxdb_internal";async function Eh(e,t){var n=await e.findDocumentsById([t],!1),r=n[0];if(r)return r}async function nd(e,t,n){var r=await e.bulkWrite([t],n);if(r.error.length>0){var i=r.error[0];throw i}else{var o=r.success[0];return o}}function iue(e,t){var n=Eh(e,t),r=e.changeStream().pipe(on(i=>i.events.find(o=>o.documentId===t)),st(i=>!!i),on(i=>Promise.resolve(ve(i).documentData)),wh(n),kae(i=>i),st(i=>!!i));return r}function rd(e){return Object.assign({},...e)}function W2(e,t,n){var r=t.documentData,i=t.previousDocumentData,o={documentId:t.documentId,collectionName:n?n.name:void 0,isLocal:e,operation:t.operation,documentData:Xe.deepFreezeWhenDevMode(r),previousDocumentData:Xe.deepFreezeWhenDevMode(i)};return o}function cv(e,t,n,r){if(r)throw r.status===409?ae("CONFLICT",{collection:e.name,id:t,writeError:r,data:n}):r.status===422?ae("VD2",{collection:e.name,id:t,writeError:r,data:n}):r}function z2(e,t,n,r,i,o,a){for(var s=!!e.schema.attachments,l=[],u=[],c=[],f=ph(10),d={id:f,events:[],checkpoint:null,context:i,startTime:Ut(),endTime:0},h=d.events,v=[],m=[],b=[],g=n.size>0,y,w=r.length,_=function(){var E=r[S],P=E.document,O=E.previous,C=P[t],I=P._deleted,N=O&&O._deleted,M=void 0;g&&(M=n.get(C));var V;if(M){var k=M._rev;if(!O||O&&k!==O._rev){var F={isError:!0,status:409,documentId:C,writeRow:E,documentInDb:M};return c.push(F),1}var A=s?lw(E):E;s&&(I?O&&Object.keys(O._attachments).forEach(K=>{m.push({documentId:C,attachmentId:K,digest:ve(O)._attachments[K].digest})}):(Object.entries(P._attachments).find(([K,J])=>{var Ce=O?O._attachments[K]:void 0;return!Ce&&!J.data&&(V={documentId:C,documentInDb:M,isError:!0,status:510,writeRow:E,attachmentId:K}),!0}),V||Object.entries(P._attachments).forEach(([K,J])=>{var Ce=O?O._attachments[K]:void 0;if(!Ce)v.push({documentId:C,attachmentId:K,attachmentData:J,digest:J.digest});else{var q=A.document._attachments[K].digest;J.data&&Ce.digest!==q&&b.push({documentId:C,attachmentId:K,attachmentData:J,digest:J.digest})}}))),V?c.push(V):(s?(u.push(lw(A)),a&&a(P)):(u.push(A),a&&a(P)),y=A);var R=null,j=null,U=null;if(N&&!I)U="INSERT",R=s?zo(P):P;else if(O&&!N&&!I)U="UPDATE",R=s?zo(P):P,j=O;else if(I)U="DELETE",R=ve(P),j=O;else throw ae("SNH",{args:{writeRow:E}});var z={documentId:C,documentData:R,previousDocumentData:j,operation:U};h.push(z)}else{var D=!!I;if(s&&Object.entries(P._attachments).forEach(([K,J])=>{J.data?v.push({documentId:C,attachmentId:K,attachmentData:J,digest:J.digest}):(V={documentId:C,isError:!0,status:510,writeRow:E,attachmentId:K},c.push(V))}),V||(s?(l.push(lw(E)),o&&o(P)):(l.push(E),o&&o(P)),y=E),!D){var $={documentId:C,operation:"INSERT",documentData:s?zo(P):P,previousDocumentData:s&&O?zo(O):O};h.push($)}}},S=0;S<w;S++)_();return{bulkInsertDocs:l,bulkUpdateDocs:u,newestRow:y,errors:c,eventBulk:d,attachmentsAdd:v,attachmentsRemove:m,attachmentsUpdate:b}}function lw(e){return{previous:e.previous,document:zo(e.document)}}function oue(e){return atob(e).length}function aue(e){var t=e.data;if(!t)return e;var n={length:oue(t),digest:e.digest,type:e.type};return n}function zo(e){if(!e._attachments||Object.keys(e._attachments).length===0)return e;var t=Fe(e);return t._attachments={},Object.entries(e._attachments).forEach(([n,r])=>{t._attachments[n]=aue(r)}),t}function DE(e){var t=Fe(e);return t._meta=Fe(e._meta),t}function ME(e,t,n){Xe.deepFreezeWhenDevMode(n);var r=hr(n.primaryKey);function i(a){var s=Fe(a.document);if(s._meta=Fe(s._meta),Xe.isDevMode()){s=QN(r,n,s);try{typeof structuredClone=="function"?structuredClone(a):JSON.parse(JSON.stringify(a))}catch{throw ae("DOC24",{collection:t.collectionName,document:a.document})}a.previous,a.previous&&Object.keys(a.previous._meta).forEach(l=>{if(!Object.prototype.hasOwnProperty.call(a.document._meta,l))throw ae("SNH",{dataBefore:a.previous,dataAfter:a.document})})}return s._meta.lwt=Ut(),s._rev=to(e.token,a.previous),{document:s,previous:a.previous}}var o={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite(a,s){var l=a.map(u=>i(u));return e.lockedRun(()=>t.bulkWrite(l,s)).then(u=>{var c={error:[],success:u.success.slice(0)},f=u.error.filter(h=>h.status===409&&!h.writeRow.previous&&!h.writeRow.document._deleted&&ve(h.documentInDb)._deleted?!0:(c.error.push(h),!1));if(f.length>0){var d=f.map(h=>({previous:h.documentInDb,document:Object.assign({},h.writeRow.document,{_rev:to(e.token,h.documentInDb)})}));return e.lockedRun(()=>t.bulkWrite(d,s)).then(h=>(Su(c.error,h.error),Su(c.success,h.success),c))}return u})},query(a){return e.lockedRun(()=>t.query(a))},count(a){return e.lockedRun(()=>t.count(a))},findDocumentsById(a,s){return e.lockedRun(()=>t.findDocumentsById(a,s))},getAttachmentData(a,s,l){return e.lockedRun(()=>t.getAttachmentData(a,s,l))},getChangedDocumentsSince:t.getChangedDocumentsSince?(a,s)=>e.lockedRun(()=>t.getChangedDocumentsSince(ve(a),s)):void 0,cleanup(a){return e.lockedRun(()=>t.cleanup(a))},remove(){return e.storageInstances.delete(o),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(o),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()},conflictResultionTasks(){return t.conflictResultionTasks()},resolveConflictResultionTask(a){if(a.output.isEqual)return t.resolveConflictResultionTask(a);var s=Object.assign({},a.output.documentData,{_meta:Ia(),_rev:sr(),_attachments:{}}),l=Fe(s);return delete l._meta,delete l._rev,delete l._attachments,t.resolveConflictResultionTask({id:a.id,output:{isEqual:!1,documentData:l}})}};return e.storageInstances.add(o),o}function K2(e){if(e.schema.keyCompression)throw ae("UT5",{args:{params:e}});if(fv(e.schema))throw ae("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw ae("UT7",{args:{params:e}})}function fv(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}async function H2(e,t,n){if(e.getChangedDocumentsSince)return e.getChangedDocumentsSince(t,n);var r=hr(e.schema.primaryKey),i=n?n.lwt:hE,o=n?n.id:"",a=Tb(e.schema,{selector:{$or:[{"_meta.lwt":{$gt:i}},{"_meta.lwt":{$eq:i},[r]:{$gt:n?o:""}}],"_meta.lwt":{$gte:i}},sort:[{"_meta.lwt":"asc"},{[r]:"asc"}],skip:0,limit:t,index:["_meta.lwt",r]}),s=await e.query(a),l=s.documents,u=Kie(l);return{documents:l,checkpoint:u?{id:u[r],lwt:u._meta.lwt}:n||{id:"",lwt:0}}}var q2=function(){function e(n,r,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=n,this.primaryPath=r,this.preWrite=i,this.postWrite=o}var t=e.prototype;return t.addWrite=function(r,i){var o=r[this.primaryPath],a=Cr(this.queueByDocId,o,()=>[]),s=new Promise((l,u)=>{var c={lastKnownDocumentState:r,modifier:i,resolve:l,reject:u};ve(a).push(c),this.triggerRun()});return s},t.triggerRun=async function(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var r=[],i=this.queueByDocId;this.queueByDocId=new Map,await Promise.all(Array.from(i.entries()).map(async([a,s])=>{var l=sue(s.map(f=>f.lastKnownDocumentState)),u=l;for(var c of s)try{u=await c.modifier(lr(u))}catch(f){c.reject(f),c.reject=()=>{},c.resolve=()=>{}}try{await this.preWrite(u,l)}catch(f){s.forEach(d=>d.reject(f));return}r.push({previous:l,document:u})}));var o=r.length>0?await this.storageInstance.bulkWrite(r,"incremental-write"):{error:[],success:[]};return await Promise.all(o.success.map(a=>{var s=a[this.primaryPath];this.postWrite(a);var l=Rs(i,s);l.forEach(u=>u.resolve(a))})),o.error.forEach(a=>{var s=a.documentId,l=Rs(i,s),u=xb(a);if(u){var c=Cr(this.queueByDocId,s,()=>[]);l.reverse().forEach(d=>{d.lastKnownDocumentState=ve(u.documentInDb),ve(c).unshift(d)})}else{var f=Poe(a);l.forEach(d=>d.reject(f))}}),this.isRunning=!1,this.triggerRun()}},e}();function gk(e){var t=async n=>{var r=Yie(n);r._deleted=n._deleted;var i=await e(r),o=Object.assign({},i,{_meta:n._meta,_attachments:n._attachments,_rev:n._rev,_deleted:typeof i._deleted<"u"?i._deleted:n._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o};return t}function sue(e){var t=e[0],n=xu(t._rev).height;return e.forEach(r=>{var i=xu(r._rev).height;i>n&&(t=r,n=i)}),t}var Ab={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(on(t=>t._data._deleted))},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(st(t=>!t.isLocal),st(t=>t.documentId===this.primary),on(t=>xE(t)),wh(e.collection._docCache.getLatestDocumentData(this.primary)),ed((t,n)=>t._rev===n._rev),on(t=>this.collection._docCache.getCachedRxDocument(t)),bh(mh))},get$(e){if(Xe.isDevMode()){if(e.includes(".item."))throw ae("DOC1",{path:e});if(e===this.primaryPath)throw ae("DOC2");if(this.collection.schema.finalFields.includes(e))throw ae("DOC3",{path:e});var t=no(this.collection.schema.jsonSchema,e);if(!t)throw ae("DOC4",{path:e})}return this.$.pipe(on(n=>fa(n,e)),ed())},populate(e){var t=no(this.collection.schema.jsonSchema,e),n=this.get(e);if(!n)return pE;if(!t)throw ae("DOC5",{path:e});if(!t.ref)throw ae("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw ae("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?r.findByIds(n).exec().then(i=>{var o=i.values();return Array.from(o)}):r.findOne(n).exec()},get(e){return Cr(this._propertyCache,e,()=>{var t=fa(this._data,e);if(typeof t!="object"||t===null||Array.isArray(t))return Xe.deepFreezeWhenDevMode(t);var n=this,r=new Proxy(Fe(t),{get(i,o){if(typeof o!="string")return i[o];var a=o.charAt(o.length-1);if(a==="$"){var s=o.slice(0,-1);return n.get$(nm(e+"."+s))}else if(a==="_"){var l=o.slice(0,-1);return n.populate(nm(e+"."+l))}else return n.get(nm(e+"."+o))}});return r})},toJSON(e=!1){if(e)return Xe.deepFreezeWhenDevMode(this._data);var t=Fe(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,Xe.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return lr(this.toJSON(e))},update(e){throw ot("update")},incrementalUpdate(e){throw ot("update")},updateCRDT(e){throw ot("crdt")},putAttachment(){throw ot("attachments")},getAttachment(){throw ot("attachments")},allAttachments(){throw ot("attachments")},get allAttachments$(){throw ot("attachments")},async modify(e,t){var n=this._data,r=await gk(e)(n);return this._saveData(r,n)},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,gk(e)).then(n=>this.collection._docCache.getCachedRxDocument(n))},patch(e){var t=this._data,n=lr(t);return Object.entries(e).forEach(([r,i])=>{n[r]=i}),this._saveData(n,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([n,r])=>{t[n]=r}),t))},async _saveData(e,t){if(e=Fe(e),this._data._deleted)throw ae("DOC11",{id:this.primary,document:this});await Y2(this.collection,e,t);var n=await this.collection.storageInstance.bulkWrite([{previous:t,document:e}],"rx-document-save-data"),r=n.error[0];return cv(this.collection,this.primary,e,r),await this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(n.success[0])},remove(){var e=this.collection;if(this.deleted)return Promise.reject(ae("DOC13",{document:this,id:this.primary}));var t=Fe(this._data),n;return e._runHooks("pre","remove",t,this).then(async()=>{t._deleted=!0;var r=await e.storageInstance.bulkWrite([{previous:this._data,document:t}],"rx-document-remove"),i=r.error[0];return cv(e,this.primary,t,i),r.success[0]}).then(r=>(n=r,this.collection._runHooks("post","remove",t,this))).then(()=>this.collection._docCache.getCachedRxDocument(n))},incrementalRemove(){return this.incrementalModify(async e=>(await this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e)).then(async e=>(await this.collection._runHooks("post","remove",e._data,e),e))},destroy(){throw ae("DOC14")}};function G2(e=Ab){var t=function(r,i){this.collection=r,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function lue(e,t,n){var r=new e(t,n);return Gr("createRxDocument",r),r}function Y2(e,t,n){return t._meta=Object.assign({},n._meta,t._meta),Xe.isDevMode()&&e.schema.validateChange(n,t),e._runHooks("pre","save",t,n)}var cs="collection",jE="storage-token",lm="rx-migration-status",uue="RxInternalDocument",NE=Eb({version:0,title:uue,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[cs,jE,lm,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function ku(e,t){return Da(NE,{key:e,context:t})}async function Q2(e){var t=Tb(e.schema,{selector:{context:cs,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),n=await e.query(t),r=n.documents;return r}var X2="storageToken",cue=ku(X2,jE);async function fue(e){var t=ph(10),n=e.password?await e.hashFunction(JSON.stringify(e.password)):void 0,r={id:cue,context:jE,key:X2,data:{rxdbVersion:e.rxdbVersion,token:t,instanceToken:e.token,passwordHash:n},_deleted:!1,_meta:Ia(),_rev:sr(),_attachments:{}},i=await e.internalStore.bulkWrite([{document:r}],"internal-add-storage-token");if(i.success[0])return i.success[0];var o=ve(i.error[0]);if(o.isError&&xb(o)){var a=o;if(!due(a.documentInDb.data.rxdbVersion,e.rxdbVersion))throw ae("DM5",{args:{database:e.name,databaseStateVersion:a.documentInDb.data.rxdbVersion,codeVersion:e.rxdbVersion}});if(n&&n!==a.documentInDb.data.passwordHash)throw ae("DB1",{passwordHash:n,existingPasswordHash:a.documentInDb.data.passwordHash});var s=a.documentInDb;return ve(s)}throw o}function due(e,t){if(!e||t.includes("beta")&&t!==e)return!1;var n=e.split(".")[0],r=t.split(".")[0];return n===r}async function J2(e,t,n){if(e.schema.version!==n.version)throw ae("SNH",{schema:n,version:e.schema.version,name:e.name,collection:e,args:{storageCollectionName:t}});for(var r=D_(e.name,e.schema.jsonSchema),i=ku(r,cs);;){var o=await Eh(e.database.internalStore,i),a=lr(ve(o)),s=a.data.connectedStorages.find(l=>l.collectionName===t&&l.schema.version===n.version);if(s)return;a.data.connectedStorages.push({collectionName:t,schema:n});try{await nd(e.database.internalStore,{previous:ve(o),document:a},"add-connected-storage-to-collection")}catch(l){if(!xb(l))throw l}}}function D_(e,t){return e+"-"+t.version}function uw(e,t){return t=Fe(t),t=koe(e,t),t=QN(e.primaryPath,e.jsonSchema,t),t._meta=Ia(),Object.prototype.hasOwnProperty.call(t,"_deleted")||(t._deleted=!1),Object.prototype.hasOwnProperty.call(t,"_attachments")||(t._attachments={}),Object.prototype.hasOwnProperty.call(t,"_rev")||(t._rev=sr()),t}async function hue(e,t){t.multiInstance=e.multiInstance;var n=await e.storage.createStorageInstance(t);return n}async function Z2(e,t,n,r,i,o,a){var s=await Q2(t),l=s.filter(d=>d.data.name===i),u=[];l.forEach(d=>{u.push({collectionName:d.data.name,schema:d.data.schema,isCollection:!0}),d.data.connectedStorages.forEach(h=>u.push({collectionName:h.collectionName,isCollection:!1,schema:h.schema}))});var c=new Set;if(u=u.filter(d=>{var h=d.collectionName+"||"+d.schema.version;return c.has(h)?!1:(c.add(h),!0)}),await Promise.all(u.map(async d=>{var h=await e.createStorageInstance({collectionName:d.collectionName,databaseInstanceToken:n,databaseName:r,multiInstance:!1,options:{},schema:d.schema,password:o,devMode:Xe.isDevMode()});await h.remove(),d.isCollection&&await ks("postRemoveRxCollection",{storage:e,databaseName:r,collectionName:i})})),a){var f=l.map(d=>{var h=DE(d);return h._deleted=!0,h._meta.lwt=Ut(),h._rev=to(n,d),{previous:d,document:h}});await t.bulkWrite(f,"rx-database-remove-collection-all")}}var pue=function(){function e(n){this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=n,this.subs.push(this.collection.$.pipe(st(r=>!r.isLocal)).subscribe(r=>this._handleChangeEvent(r)))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var i=this.buffer[0],o=this.eventCounterMap.get(i);if(r<o)return null;var a=r-o;return a},t.getFrom=function(r){var i=[],o=this.getArrayIndexByPointer(r);if(o===null)return null;for(;;){var a=this.buffer[o];if(o++,a)i.push(a);else return i}},t.runFrom=function(r,i){var o=this.getFrom(r);if(o===null)throw new Error("out of bounds");o.forEach(a=>i(a))},t.reduceByLastOfDoc=function(r){return r.slice(0)},t.destroy=function(){this.subs.forEach(r=>r.unsubscribe())},e}();function mue(e){return new pue(e)}var vue=new WeakMap;function gue(e){var t=e.schema.getDocumentPrototype(),n=wue(e),r=Ab,i={};return[t,n,r].forEach(o=>{var a=Object.getOwnPropertyNames(o);a.forEach(s=>{var l=Object.getOwnPropertyDescriptor(o,s),u=!0;(s.startsWith("_")||s.endsWith("_")||s.startsWith("$")||s.endsWith("$"))&&(u=!1),typeof l.value=="function"?Object.defineProperty(i,s,{get(){return l.value.bind(this)},enumerable:u,configurable:!1}):(l.enumerable=u,l.configurable=!1,l.writable&&(l.writable=!1),Object.defineProperty(i,s,l))})}),i}function yue(e){return Cr(vue,e,()=>G2(gue(e)))}function bue(e,t){var n=lue(yue(e),e,Xe.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,n),Gr("postCreateRxDocument",n),n}function wue(e){var t={};return Object.entries(e.methods).forEach(([n,r])=>{t[n]=r}),t}async function dv(e,t){var n=Da(e.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),r=await e.input.metaInstance.findDocumentsById([n],!1),i=r[0];if(e.lastCheckpointDoc[t]=i,i)return i.checkpointData}async function hv(e,t,n){e.checkpointQueue=e.checkpointQueue.then(async()=>{var r=e.lastCheckpointDoc[t];if(n&&!e.events.canceled.getValue()&&(!r||JSON.stringify(r.checkpointData)!==JSON.stringify(n))){var i={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:n,_meta:Ia(),_rev:sr()};for(i.id=Da(e.input.metaInstance.schema,i);!e.events.canceled.getValue();){if(r&&(i.checkpointData=rd([r.checkpointData,i.checkpointData])),i._meta.lwt=Ut(),i._rev=to(await e.checkpointKey,r),e.events.canceled.getValue())return;var o=await e.input.metaInstance.bulkWrite([{previous:r,document:i}],"replication-set-checkpoint"),a=o.success[0];if(a){e.lastCheckpointDoc[t]=a;return}else{var s=o.error[0];if(s.status!==409)throw s;r=ve(s.documentInDb),i._rev=to(await e.checkpointKey,r)}}}}),await e.checkpointQueue}async function _ue(e){var t=await e.hashFunction([e.identifier,e.forkInstance.databaseName,e.forkInstance.collectionName].join("||"));return"rx_storage_replication_"+t}function yk(e,t,n,r,i){var o=Object.assign({},r,{_attachments:t&&r._attachments?r._attachments:{},_meta:n?r._meta:{lwt:Ut()},_rev:n?r._rev:sr()});return o._rev||(o._rev=to(e,i)),o}function Io(e,t,n){var r=Fe(e);return t||delete r._attachments,n||(delete r._meta,delete r._rev),r}function M_(e,t){return e.hasAttachments?t.map(n=>{var r=lr(n.document);return r.docData=zo(r.docData),{document:r,previous:n.previous}}):t}function j_(e){for(;;)if(e.underlyingPersistentStorage)e=e.underlyingPersistentStorage;else return e}var um="RxReplicationProtocolMetaData";function N_(e,t){var n=Ooe(e),r={title:um,primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:e.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:n+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:n>4?n:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:e.properties},isResolvedConflict:{type:"string"}},keyCompression:e.keyCompression,required:["id","isCheckpoint","itemId"]};t&&(r.encrypted=["docData"]);var i=Eb(r);return i}function eL(e,t){return e.input.metaInstance.findDocumentsById(t.map(n=>{var r=Da(e.input.metaInstance.schema,{itemId:n,isCheckpoint:"0"});return r}),!0).then(n=>{var r={};return Object.values(n).forEach(i=>{r[i.itemId]={docData:i.docData,metaDocument:i}}),r})}async function pv(e,t,n,r){var i=t[e.primaryPath],o=n?DE(n):{id:"",isCheckpoint:"0",itemId:i,docData:t,_attachments:{},_deleted:!1,_rev:sr(),_meta:{lwt:0}};return o.docData=t,o.isResolvedConflict=r,o._meta.lwt=Ut(),o.id=Da(e.input.metaInstance.schema,o),o._rev=to(await e.checkpointKey,n),{previous:n,document:o}}async function Sue(e){if(e.input.initialCheckpoint&&e.input.initialCheckpoint.downstream){var t=await dv(e,"down");t||await hv(e,"down",e.input.initialCheckpoint.downstream)}var n=await e.input.hashFunction(e.input.identifier),r=e.input.replicationHandler,i=0,o=[];function a(v){e.stats.down.addNewTask=e.stats.down.addNewTask+1;var m={time:i++,task:v};o.push(m),e.streamQueue.down=e.streamQueue.down.then(()=>{for(var b=[];o.length>0;){e.events.active.down.next(!0);var g=ve(o.shift());if(!(g.time<l)){if(g.task==="RESYNC")if(b.length===0){b.push(g.task);break}else break;b.push(g.task)}}if(b.length!==0)return b[0]==="RESYNC"?u():c(b)}).then(()=>{e.events.active.down.next(!1),!e.firstSyncDone.down.getValue()&&!e.events.canceled.getValue()&&e.firstSyncDone.down.next(!0)})}if(a("RESYNC"),!e.events.canceled.getValue()){var s=r.masterChangeStream$.subscribe(v=>{e.stats.down.masterChangeStreamEmit=e.stats.down.masterChangeStreamEmit+1,a(v)});ss(e.events.canceled.pipe(st(v=>!!v))).then(()=>s.unsubscribe())}var l=-1;async function u(){if(e.stats.down.downstreamResyncOnce=e.stats.down.downstreamResyncOnce+1,!e.events.canceled.getValue()){e.checkpointQueue=e.checkpointQueue.then(()=>dv(e,"down"));for(var v=await e.checkpointQueue,m=[];!e.events.canceled.getValue();){l=i++;var b=await r.masterChangesSince(v,e.input.pullBatchSize);if(b.documents.length===0||(v=rd([v,b.checkpoint]),m.push(h(b.documents,v)),b.documents.length<e.input.pullBatchSize))break}await Promise.all(m)}}function c(v){e.stats.down.downstreamProcessChanges=e.stats.down.downstreamProcessChanges+1;var m=[],b=null;return v.forEach(g=>{if(g==="RESYNC")throw new Error("SNH");Su(m,g.documents),b=rd([b,g.checkpoint])}),h(m,ve(b))}var f=mn,d={docs:{}};function h(v,m){var b=e.primaryPath;return e.stats.down.persistFromMaster=e.stats.down.persistFromMaster+1,v.forEach(g=>{var y=g[b];d.docs[y]=g}),d.checkpoint=m,f=f.then(()=>{var g=d.docs;d.docs={};var y=d.checkpoint,w=Object.keys(g);if(e.events.canceled.getValue()||w.length===0)return mn;var _=[],S={},E={},P=[];return Promise.all([e.input.forkInstance.findDocumentsById(w,!0),eL(e,w)]).then(([O,C])=>{var I=new Map;return O.forEach(N=>I.set(N[b],N)),Promise.all(w.map(async N=>{var M=I.get(N),V=M?Io(M,e.hasAttachments,!1):void 0,D=g[N],$=C[N];if($&&M&&$.metaDocument.isResolvedConflict===M._rev)return mn;var k=!$||!V?!1:await e.input.conflictHandler({realMasterState:$.docData,newDocumentState:V},"downstream-check-if-equal-0").then(U=>U.isEqual);if(!k&&$&&$.docData._rev&&M&&M._meta[e.input.identifier]&&xu(M._rev).height===M._meta[e.input.identifier]&&(k=!0),M&&$&&k===!1||M&&!$)return mn;var F=V?await e.input.conflictHandler({realMasterState:D,newDocumentState:V},"downstream-check-if-equal-1").then(U=>U.isEqual):!1;if(V&&F)return(!$||k===!1)&&P.push(await pv(e,V,$?$.metaDocument:void 0)),mn;var A=Object.assign({},D,M?{_meta:Fe(M._meta),_attachments:e.hasAttachments&&D._attachments?D._attachments:{},_rev:sr()}:{_meta:{lwt:Ut()},_rev:sr(),_attachments:e.hasAttachments&&D._attachments?D._attachments:{}});if(D._rev){var R=M?xu(M._rev).height+1:1;A._meta[e.input.identifier]=R,e.input.keepMeta&&(A._rev=D._rev)}e.input.keepMeta&&D._meta&&(A._meta=D._meta);var j={previous:M,document:A};j.document._rev=j.document._rev?j.document._rev:to(n,j.previous),_.push(j),S[N]=j,E[N]=await pv(e,D,$?$.metaDocument:void 0)}))}).then(async()=>{if(_.length>0)return e.input.forkInstance.bulkWrite(_,await e.downstreamBulkWriteFlag).then(O=>{O.success.forEach(C=>{var I=C[b];e.events.processed.down.next(S[I]),P.push(E[I])}),O.error.forEach(C=>{C.status!==409&&e.events.error.next(ae("RC_PULL",{writeError:C}))})})}).then(()=>{if(P.length>0)return e.input.metaInstance.bulkWrite(M_(e,P),"replication-down-write-meta").then(O=>{O.error.forEach(C=>{e.events.error.next(ae("RC_PULL",{id:C.documentId,writeError:C}))})})}).then(()=>{hv(e,"down",y)})}).catch(g=>e.events.error.next(g)),f}}var mv=function(e,t){var n=zo(e.newDocumentState),r=zo(e.realMasterState);return Pu(n,r)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};async function xue(e,t,n){var r=e.input.conflictHandler,i=await r(t,"replication-resolve-conflict");if(!i.isEqual){var o=Object.assign({},i.documentData,{_meta:Fe(n._meta),_rev:sr(),_attachments:Fe(n._attachments)});return o._meta.lwt=Ut(),o._rev=to(await e.checkpointKey,n),{resolvedDoc:o,output:i}}}async function L_(e,t,n,r){if(!n._attachments||r&&!r._attachments)throw new Error("_attachments missing");var i=n[e],o=new Set(r&&r._attachments?Object.keys(r._attachments):[]);return await Promise.all(Object.entries(n._attachments).map(async([a,s])=>{if((!o.has(a)||r&&ve(r._attachments)[a].digest!==s.digest)&&!s.data){var l=await t.getAttachmentData(i,a,s.digest);s.data=l}})),n}async function Eue(e){if(e.input.initialCheckpoint&&e.input.initialCheckpoint.upstream){var t=await dv(e,"up");t||await hv(e,"up",e.input.initialCheckpoint.upstream)}var n=e.input.replicationHandler;e.streamQueue.up=e.streamQueue.up.then(()=>u().then(()=>{c()}));var r=0,i=-1,o=[],a=nr,s={docs:{}},l=e.input.forkInstance.changeStream().subscribe(async d=>{if(d.context!==await e.downstreamBulkWriteFlag)return e.stats.up.forkChangeStreamEmit=e.stats.up.forkChangeStreamEmit+1,o.push({task:d,time:r++}),e.input.waitBeforePersist?e.input.waitBeforePersist().then(()=>c()):c()});ss(e.events.canceled.pipe(st(d=>!!d))).then(()=>l.unsubscribe());async function u(){if(e.stats.up.upstreamInitialSync=e.stats.up.upstreamInitialSync+1,!e.events.canceled.getValue()){e.checkpointQueue=e.checkpointQueue.then(()=>dv(e,"up"));for(var d=await e.checkpointQueue,h=new Set,v=async function(){i=r++,h.size>3&&await Promise.race(Array.from(h));var g=await H2(e.input.forkInstance,e.input.pushBatchSize,d);if(g.documents.length===0)return 1;d=rd([d,g.checkpoint]);var y=f(g.documents,ve(d));h.add(y),y.catch().then(()=>h.delete(y))};!e.events.canceled.getValue()&&!await v(););var m=await Promise.all(h),b=m.find(g=>!!g);b?await u():!e.firstSyncDone.up.getValue()&&!e.events.canceled.getValue()&&e.firstSyncDone.up.next(!0)}}function c(){if(e.events.canceled.getValue()||o.length===0){e.events.active.up.next(!1);return}e.stats.up.processTasks=e.stats.up.processTasks+1,e.events.active.up.next(!0),e.streamQueue.up=e.streamQueue.up.then(()=>{for(var d=[],h={};o.length>0;){var v=ve(o.shift());v.time<i||(Su(d,v.task.events.map(b=>b.documentData)),h=rd([h,v.task.checkpoint]))}var m=d.length===0?nr:f(d,h);return m.then(()=>{o.length===0?e.events.active.up.next(!1):c()})})}function f(d,h){return e.stats.up.persistToMaster=e.stats.up.persistToMaster+1,d.forEach(v=>{var m=v[e.primaryPath];s.docs[m]=v}),s.checkpoint=h,a=a.then(async()=>{if(e.events.canceled.getValue())return!1;var v=s.docs;s.docs={};var m=s.checkpoint,b=Object.keys(v);if(b.length===0)return!1;var g=await eL(e,b),y={},w=[],_={},S={};if(await Promise.all(b.map(async k=>{var F=v[k];S[k]=F;var A=Io(F,e.hasAttachments,!!e.input.keepMeta),R=g[k];R&&R.metaDocument.isResolvedConflict!==F._rev&&(await e.input.conflictHandler({realMasterState:R.docData,newDocumentState:A},"upstream-check-if-equal")).isEqual||R&&R.docData._rev&&xu(F._rev).height===F._meta[e.input.identifier]||(w.push(k),y[k]={assumedMasterState:R?R.docData:void 0,newDocumentState:A},_[k]=await pv(e,A,R?R.metaDocument:void 0))})),w.length===0)return!1;var E=Object.values(y),P=new Set,O={},C=qie(E,e.input.pushBatchSize);await Promise.all(C.map(async k=>{e.hasAttachments&&await Promise.all(k.map(async A=>{A.newDocumentState=await L_(e.primaryPath,e.input.forkInstance,lr(A.newDocumentState),A.assumedMasterState)}));var F=await n.masterWrite(k);F.forEach(A=>{var R=A[e.primaryPath];P.add(R),O[R]=A})}));var I=[];if(w.forEach(k=>{P.has(k)||(e.events.processed.up.next(y[k]),I.push(_[k]))}),e.events.canceled.getValue())return!1;I.length>0&&await e.input.metaInstance.bulkWrite(M_(e,I),"replication-up-write-meta");var N=!1;if(P.size>0){e.stats.up.persistToMasterHadConflicts=e.stats.up.persistToMasterHadConflicts+1;var M=[],V={};if(await Promise.all(Object.entries(O).map(([k,F])=>{var A=y[k],R={newDocumentState:A.newDocumentState,assumedMasterState:A.assumedMasterState,realMasterState:F};return xue(e,R,S[k]).then(async j=>{if(j){e.events.resolvedConflicts.next({input:R,output:j.output}),M.push({previous:S[k],document:j.resolvedDoc});var U=g[k];V[k]=await pv(e,ve(F),U?U.metaDocument:void 0,j.resolvedDoc._rev)}})})),M.length>0){N=!0,e.stats.up.persistToMasterConflictWrites=e.stats.up.persistToMasterConflictWrites+1;var D=await e.input.forkInstance.bulkWrite(M,"replication-up-write-conflict"),$=[];D.success.forEach(k=>{var F=k[e.primaryPath];$.push(V[F])}),$.length>0&&await e.input.metaInstance.bulkWrite(M_(e,$),"replication-up-write-conflict-meta")}}return hv(e,"up",m),N}).catch(v=>(e.events.error.next(v),!1)),a}}function tL(e){e=Fe(e),e.forkInstance=j_(e.forkInstance),e.metaInstance=j_(e.metaInstance);var t=_ue(e),n={primaryPath:hr(e.forkInstance.schema.primaryKey),hasAttachments:!!e.forkInstance.schema.attachments,input:e,checkpointKey:t,downstreamBulkWriteFlag:t.then(r=>"replication-downstream-"+r),events:{canceled:new Di(!1),active:{down:new Di(!0),up:new Di(!0)},processed:{down:new Ft,up:new Ft},resolvedConflicts:new Ft,error:new Ft},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new Di(!1),up:new Di(!1)},streamQueue:{down:mn,up:mn},checkpointQueue:mn,lastCheckpointDoc:{}};return Sue(n),Eue(n),n}function cm(e){return ss(b2([e.firstSyncDone.down.pipe(st(t=>!!t)),e.firstSyncDone.up.pipe(st(t=>!!t))])).then(()=>{})}function bk(e){return Promise.all([e.streamQueue.up,e.streamQueue.down,e.checkpointQueue])}function Pue(e,t,n,r=!1){e=j_(e);var i=!!e.schema.attachments,o=hr(e.schema.primaryKey),a={masterChangeStream$:e.changeStream().pipe(io(async s=>{var l={checkpoint:s.checkpoint,documents:await Promise.all(s.events.map(async u=>{var c=Io(u.documentData,i,r);return i&&(c=await L_(o,e,lr(c),void 0)),c}))};return l})),masterChangesSince(s,l){return H2(e,l,s).then(async u=>({checkpoint:u.documents.length>0?u.checkpoint:s,documents:await Promise.all(u.documents.map(async c=>{var f=Io(c,i,r);return i&&(f=await L_(o,e,lr(f),void 0)),f}))}))},async masterWrite(s){var l={};s.forEach(m=>{var b=m.newDocumentState[o];l[b]=m});var u=Object.keys(l),c=await e.findDocumentsById(u,!0),f=new Map;c.forEach(m=>f.set(m[o],m));var d=[],h=[];if(await Promise.all(Object.entries(l).map(async([m,b])=>{var g=f.get(m);g?g&&!b.assumedMasterState?d.push(Io(g,i,r)):(await t({realMasterState:Io(g,i,r),newDocumentState:ve(b.assumedMasterState)},"rxStorageInstanceToReplicationHandler-masterWrite")).isEqual===!0?h.push({previous:g,document:yk(n,i,r,b.newDocumentState,g)}):d.push(Io(g,i,r)):h.push({document:yk(n,i,r,b.newDocumentState)})})),h.length>0){var v=await e.bulkWrite(h,"replication-master-write");v.error.forEach(m=>{if(m.status!==409)throw new Error("non conflict error");d.push(Io(ve(m.documentInDb),i,r))})}return d}};return a}async function nL(e){e.events.canceled.next(!0),e.events.active.up.complete(),e.events.active.down.complete(),e.events.processed.up.complete(),e.events.processed.down.complete(),e.events.resolvedConflicts.complete(),e.events.canceled.complete(),await e.checkpointQueue}var rL=["pre","post"],iL=["insert","save","remove","create"],wk=!1,oL=function(){function e(n,r,i,o,a={},s={},l={},u={},c={},f=L2,d={},h=mv){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=Fle(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.database=n,this.name=r,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=a,this.migrationStrategies=s,this.methods=l,this.attachments=u,this.options=c,this.cacheReplacementPolicy=f,this.statics=d,this.conflictHandler=h,Oue(this.asRxCollection)}var t=e.prototype;return t.prepare=async function(){this.storageInstance=ME(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new q2(this.storageInstance,this.schema.primaryPath,(a,s)=>Y2(this,a,s),a=>this._runHooks("post","save",a));var r=this.database.eventBulks$.pipe(st(a=>a.collectionName===this.name));this.$=r.pipe(io(a=>a.events)),this.checkpoint$=r.pipe(on(a=>a.checkpoint)),this._changeEventBuffer=mue(this.asRxCollection),this._docCache=new F2(this.schema.primaryPath,this.$.pipe(st(a=>!a.isLocal)),a=>bue(this.asRxCollection,a));var i=await this.database.storageToken,o=this.storageInstance.changeStream().subscribe(a=>{var s={id:a.id,internal:!1,collectionName:this.name,storageToken:i,events:a.events.map(l=>W2(!1,l,this)),databaseToken:this.database.token,checkpoint:a.checkpoint,context:a.context,endTime:a.endTime,startTime:a.startTime};this.database.$emit(s)});return this._subs.push(o),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(a=>{this.conflictHandler(a.input,a.context).then(s=>{this.storageInstance.resolveConflictResultionTask({id:a.id,output:s})})})),mn},t.cleanup=function(r){throw ot("cleanup")},t.migrationNeeded=function(){throw ot("migration")},t.getMigrationState=function(){throw ot("migration")},t.startMigration=function(r=10){return this.getMigrationState().startMigration(r)},t.migratePromise=function(r=10){return this.getMigrationState().migratePromise(r)},t.insert=async function(r){var i=await this.bulkInsert([r]),o=i.error[0];cv(this,r[this.schema.primaryPath],r,o);var a=ve(i.success[0]);return a},t.bulkInsert=async function(r){if(r.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o=r.map(f=>{var d=uw(this.schema,f);return d}),a=this.hasHooks("pre","insert")?await Promise.all(o.map(f=>this._runHooks("pre","insert",f).then(()=>f))):o,s=a.map(f=>{var d={document:f};return d}),l=await this.storageInstance.bulkWrite(s,"rx-collection-bulk-insert"),u=B2(this._docCache,l.success);if(this.hasHooks("post","insert")){var c=new Map;a.forEach(f=>{c.set(f[i],f)}),await Promise.all(u.map(f=>this._runHooks("post","insert",c.get(f.primary),f)))}return{success:u,error:l.error}},t.bulkRemove=async function(r){var i=this.schema.primaryPath;if(r.length===0)return{success:[],error:[]};var o=await this.findByIds(r).exec(),a=[],s=new Map;Array.from(o.values()).forEach(d=>{var h=d.toMutableJSON(!0);a.push(h),s.set(d.primary,h)}),await Promise.all(a.map(d=>{var h=d[this.schema.primaryPath];return this._runHooks("pre","remove",d,o.get(h))}));var l=a.map(d=>{var h=Fe(d);return h._deleted=!0,{previous:d,document:h}}),u=await this.storageInstance.bulkWrite(l,"rx-collection-bulk-remove"),c=u.success.map(d=>d[i]);await Promise.all(c.map(d=>this._runHooks("post","remove",s.get(d),o.get(d))));var f=c.map(d=>Rs(o,d));return{success:f,error:u.error}},t.bulkUpsert=async function(r){var i=[],o=new Map;r.forEach(u=>{var c=uw(this.schema,u),f=c[this.schema.primaryPath];if(!f)throw ae("COL3",{primaryPath:this.schema.primaryPath,data:c,schema:this.schema.jsonSchema});o.set(f,c),i.push(c)});var a=await this.bulkInsert(i),s=a.success.slice(0),l=[];return await Promise.all(a.error.map(async u=>{if(u.status!==409)l.push(u);else{var c=u.documentId,f=Rs(o,c),d=ve(u.documentInDb),h=this._docCache.getCachedRxDocument(d),v=await h.incrementalModify(()=>f);s.push(v)}})),{error:l,success:s}},t.upsert=async function(r){var i=await this.bulkUpsert([r]);return cv(this.asRxCollection,r[this.schema.primaryPath],r,i.error[0]),i.success[0]},t.incrementalUpsert=function(r){var i=uw(this.schema,r),o=i[this.schema.primaryPath];if(!o)throw ae("COL4",{data:r});var a=this._incrementalUpsertQueues.get(o);return a||(a=mn),a=a.then(()=>Cue(this,o,i)).then(s=>s.inserted?s.doc:$ue(s.doc,i)),this._incrementalUpsertQueues.set(o,a),a},t.find=function(r){if(typeof r=="string")throw ae("COL5",{queryObj:r});r||(r=sm());var i=Ic("find",r,this);return i},t.findOne=function(r){if(typeof r=="number"||Array.isArray(r))throw af("COL6",{queryObj:r});var i;if(typeof r=="string")i=Ic("findOne",{selector:{[this.schema.primaryPath]:r},limit:1},this);else{if(r||(r=sm()),r.limit)throw ae("QU6");r=Fe(r),r.limit=1,i=Ic("findOne",r,this)}return i},t.count=function(r){r||(r=sm());var i=Ic("count",r,this);return i},t.findByIds=function(r){var i={selector:{[this.schema.primaryPath]:{$in:r.slice(0)}}},o=Ic("findByIds",i,this);return o},t.exportJSON=function(){throw ot("json-dump")},t.importJSON=function(r){throw ot("json-dump")},t.insertCRDT=function(r){throw ot("crdt")},t.addHook=function(r,i,o,a=!1){if(typeof o!="function")throw af("COL7",{key:i,when:r});if(!rL.includes(r))throw af("COL8",{key:i,when:r});if(!iL.includes(i))throw ae("COL9",{key:i});if(r==="post"&&i==="create"&&a===!0)throw ae("COL10",{when:r,key:i,parallel:a});var s=o.bind(this),l=a?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][r]=this.hooks[i][r]||{series:[],parallel:[]},this.hooks[i][r][l].push(s)},t.getHooks=function(r,i){return!this.hooks[i]||!this.hooks[i][r]?{series:[],parallel:[]}:this.hooks[i][r]},t.hasHooks=function(r,i){var o=this.getHooks(r,i);return o?o.series.length>0||o.parallel.length>0:!1},t._runHooks=function(r,i,o,a){var s=this.getHooks(r,i);if(!s)return mn;var l=s.series.map(u=>()=>u(o,a));return hoe(l).then(()=>Promise.all(s.parallel.map(u=>u(o,a))))},t._runHooksSync=function(r,i,o,a){var s=this.getHooks(r,i);s&&s.series.forEach(l=>l(o,a))},t.promiseWait=function(r){var i=new Promise(o=>{var a=setTimeout(()=>{this.timeouts.delete(a),o()},r);this.timeouts.add(a)});return i},t.destroy=function(){return this.destroyed?nr:(this.destroyed=!0,Array.from(this.timeouts).forEach(r=>clearTimeout(r)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(r=>r.unsubscribe()),delete this.database.collections[this.name],ks("postDestroyRxCollection",this).then(()=>!0))))},t.remove=async function(){await this.destroy(),await Z2(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)},Aa(e,[{key:"insert$",get:function(){return this.$.pipe(st(n=>n.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(st(n=>n.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(st(n=>n.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}]),e}();function Oue(e){if(!wk){wk=!0;var t=Object.getPrototypeOf(e);iL.forEach(n=>{rL.map(r=>{var i=r+zN(n);t[i]=function(o,a){return this.addHook(r,n,o,a)}})})}}function $ue(e,t){return e.incrementalModify(n=>t)}function Cue(e,t,n){var r=e._docCache.getLatestDocumentDataIfExists(t);return r?Promise.resolve({doc:e._docCache.getCachedRxDocument(r),inserted:!1}):e.findOne(t).exec().then(i=>i?{doc:i,inserted:!1}:e.insert(n).then(o=>({doc:o,inserted:!0})))}function Rue({database:e,name:t,schema:n,instanceCreationOptions:r={},migrationStrategies:i={},autoMigrate:o=!0,statics:a={},methods:s={},attachments:l={},options:u={},localDocuments:c=!1,cacheReplacementPolicy:f=L2,conflictHandler:d=mv}){var h={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:n.jsonSchema,options:r,multiInstance:e.multiInstance,password:e.password,devMode:Xe.isDevMode()};return Gr("preCreateRxStorageInstance",h),hue(e,h).then(v=>{var m=new oL(e,t,n,v,r,i,s,l,u,f,a,d);return m.prepare().then(()=>{Object.entries(a).forEach(([g,y])=>{Object.defineProperty(m,g,{get:()=>y.bind(m)})});var b=mn;return o&&m.schema.version!==0&&(b=m.migratePromise()),b}).then(()=>(Gr("createRxCollection",{collection:m,creator:{name:t,schema:n,storageInstance:v,instanceCreationOptions:r,migrationStrategies:i,methods:s,attachments:l,options:u,cacheReplacementPolicy:f,localDocuments:c,statics:a}}),m)).catch(b=>v.close().then(()=>Promise.reject(b)))})}var aL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};aL.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,F_(this)},wrapCall:function(t){var n=this;this.lock();var r;try{r=t()}catch(i){throw this.unlock(),i}return!r.then||typeof r.then!="function"?(this.unlock(),r):r.then(function(i){return n.unlock(),i}).catch(function(i){throw n.unlock(),i})},requestIdlePromise:function(t){var n=this;t=t||{};var r,i=new Promise(function(s){return r=s}),o=function(){cw(n,i),r()};if(i._manRes=o,t.timeout){var a=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=a}return this._iC.add(i),F_(this),i},cancelIdlePromise:function(t){cw(this,t)},requestIdleCallback:function(t,n){var r=this._lHN++,i=this.requestIdlePromise(n);return this._hPM.set(r,i),this._pHM.set(i,r),i.then(function(){return t()}),r},cancelIdleCallback:function(t){var n=this._hPM.get(t);this.cancelIdlePromise(n)},clear:function(){var t=this;this._iC.forEach(function(n){return cw(t,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function kue(e){if(e._iC.size!==0){var t=e._iC.values(),n=t.next().value;n._manRes(),setTimeout(function(){return F_(e)},0)}}function cw(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function F_(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}kue(e),e._tryIR=!1},0)},0))}class LE{constructor(t){Kh(this,"ttl");Kh(this,"map",new Map);Kh(this,"_to",!1);this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,sL()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,Tue(this)},0))}clear(){this.map.clear()}}function Tue(e){const t=sL()-e.ttl,n=e.map[Symbol.iterator]();for(;;){const r=n.next().value;if(!r)return;const i=r[0];if(r[1]<t)e.map.delete(i);else return}}function sL(){return Date.now()}var vv=new Set,lL=function(){function e(n,r,i,o,a,s,l=!1,u={},c,f,d,h){this.idleQueue=new aL,this.rxdbVersion=yoe,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.eventBulks$=new Ft,this.observable$=this.eventBulks$.pipe(io(v=>v.events)),this.storageToken=nr,this.storageTokenDocument=nr,this.emittedEventBulkIds=new LE(60*1e3),this.name=n,this.token=r,this.storage=i,this.instanceCreationOptions=o,this.password=a,this.multiInstance=s,this.eventReduce=l,this.options=u,this.internalStore=c,this.hashFunction=f,this.cleanupPolicy=d,this.allowSlowCount=h,this.name!=="pseudoInstance"&&(this.internalStore=ME(this.asRxDatabase,c,NE),this.storageTokenDocument=fue(this.asRxDatabase).catch(v=>this.startupErrors.push(v)),this.storageToken=this.storageTokenDocument.then(v=>v.data.token).catch(v=>this.startupErrors.push(v)))}var t=e.prototype;return t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r))},t.removeCollectionDoc=async function(r,i){var o=await Eh(this.internalStore,ku(D_(r,i),cs));if(!o)throw ae("SNH",{name:r,schema:i});var a=DE(o);a._deleted=!0,await this.internalStore.bulkWrite([{document:a,previous:o}],"rx-database-remove-collection")},t.addCollections=async function(r){var i={},o={},a=[],s={};await Promise.all(Object.entries(r).map(async([c,f])=>{var d=c,h=f.schema;i[d]=h;var v=Ioe(h,this.hashFunction);if(o[d]=v,this.collections[c])throw ae("DB3",{name:c});var m=D_(c,h),b={id:ku(m,cs),key:m,context:cs,data:{name:d,schemaHash:await v.hash,schema:v.jsonSchema,version:v.version,connectedStorages:[]},_deleted:!1,_meta:Ia(),_rev:sr(),_attachments:{}};a.push({document:b});var g=Object.assign({},f,{name:d,schema:v,database:this}),y=Fe(f);y.database=this,y.name=c,Gr("preCreateRxCollection",y),g.conflictHandler=y.conflictHandler,s[d]=g}));var l=await this.internalStore.bulkWrite(a,"rx-database-add-collection");await Mue(this),await Promise.all(l.error.map(async c=>{if(c.status!==409)throw ae("DB12",{database:this.name,writeError:c});var f=ve(c.documentInDb),d=f.data.name,h=o[d];if(f.data.schemaHash!==await h.hash)throw ae("DB6",{database:this.name,collection:d,previousSchemaHash:f.data.schemaHash,schemaHash:await h.hash,previousSchema:f.data.schema,schema:ve(i[d])})}));var u={};return await Promise.all(Object.keys(r).map(async c=>{var f=s[c],d=await Rue(f);u[c]=d,this.collections[c]=d,this[c]||Object.defineProperty(this,c,{get:()=>this.collections[c]})})),u},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(r){throw ot("json-dump")},t.importJSON=function(r){throw ot("json-dump")},t.backup=function(r){throw ot("backup")},t.leaderElector=function(){throw ot("leader-election")},t.isLeader=function(){throw ot("leader-election")},t.waitForLeadership=function(){throw ot("leader-election")},t.migrationStates=function(){throw ot("migration")},t.destroy=async function(){return this.destroyed||(this.destroyed=!0,await ks("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(r=>r.unsubscribe()),this.name==="pseudoInstance")?nr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>Promise.all(Object.keys(this.collections).map(r=>this.collections[r]).map(r=>r.destroy()))).then(()=>this.internalStore.close()).then(()=>vv.delete(this.name)).then(()=>!0)},t.remove=function(){return this.destroy().then(()=>Due(this.name,this.storage,this.password))},Aa(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}]),e}();function Aue(e){if(vv.has(e))throw ae("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}async function uL(e,t,n,r,i,o){var a=await t.createStorageInstance({databaseInstanceToken:e,databaseName:n,collectionName:rue,schema:NE,options:r,multiInstance:i,password:o,devMode:Xe.isDevMode()});return a}function Iue({storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i=!0,eventReduce:o=!0,ignoreDuplicate:a=!1,options:s={},cleanupPolicy:l,allowSlowCount:u=!1,localDocuments:c=!1,hashFunction:f=loe}){Gr("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:c}),a||Aue(n),vv.add(n);var d=ph(10);return uL(d,e,n,t,i,r).catch(h=>{throw vv.delete(n),h}).then(h=>{var v=new lL(n,d,e,t,r,i,o,s,h,f,l,u);return ks("createRxDatabase",{database:v,creator:{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:c}}).then(()=>v)})}async function Due(e,t,n){var r=ph(10),i=await uL(r,t,e,{},!1,n),o=await Q2(i),a=new Set;o.forEach(l=>a.add(l.data.name));var s=Array.from(a);return await Promise.all(s.map(l=>Z2(t,i,r,e,l,n))),await ks("postRemoveRxDatabase",{databaseName:e,storage:t}),await i.remove(),s}async function Mue(e){if(await e.storageToken,e.startupErrors[0])throw e.startupErrors[0]}var jue={RxSchema:JN.prototype,RxDocument:Ab,RxQuery:U2.prototype,RxCollection:oL.prototype,RxDatabase:lL.prototype},fw=new Set,_k=new Set;function Ib(e){if(Gr("preAddRxPlugin",{plugin:e,plugins:fw}),!fw.has(e)){{if(_k.has(e.name))throw ae("PL3",{name:e.name,plugin:e});fw.add(e),_k.add(e.name)}if(!e.rxdb)throw af("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,n])=>n(jue[t])),e.overwritable&&Object.assign(Xe,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,n])=>{n.after&&Zf[t].push(n.after),n.before&&Zf[t].unshift(n.before)})}}function Nue(e){return e&&typeof e.then=="function"}Promise.resolve(!1);var Lue=Promise.resolve(!0),Ki=Promise.resolve();function ns(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function Fue(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Ph(){return Math.random().toString(36).substring(2)}var dw=0;function Oh(){var e=Date.now()*1e3;return e<=dw&&(e=dw+1),dw=e,e}function Bue(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&typeof navigator.locks.request=="function"}var Uue=Oh,Vue="native";function Wue(e){var t={time:Oh(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function zue(e){e.bc.close(),e.subFns=[]}function Kue(e,t){try{return e.bc.postMessage(t,!1),Ki}catch(n){return Promise.reject(n)}}function Hue(e,t){e.messagesCallback=t}function que(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function Gue(){return 150}var Yue={create:Wue,close:zue,onMessage:Hue,postMessage:Kue,canBeUsed:que,type:Vue,averageResponseTime:Gue,microSeconds:Uue};function FE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var Que=Oh,Xue="pubkey.broadcast-channel-0-",ao="messages",Db={durability:"relaxed"},Jue="idb";function cL(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function BE(e){e.commit&&e.commit()}function Zue(e){var t=cL(),n=Xue+e,r=t.open(n);return r.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(ao,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){i(r.result)}})}function ece(e,t,n){var r=Date.now(),i={uuid:t,time:r,data:n},o=e.transaction([ao],"readwrite",Db);return new Promise(function(a,s){o.oncomplete=function(){return a()},o.onerror=function(u){return s(u)};var l=o.objectStore(ao);l.add(i),BE(o)})}function tce(e,t){var n=e.transaction(ao,"readonly",Db),r=n.objectStore(ao),i=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(o);return new Promise(function(l,u){a.onerror=function(c){return u(c)},a.onsuccess=function(c){l(c.target.result)}})}function s(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch{return r.openCursor()}}return new Promise(function(l,u){var c=s();c.onerror=function(f){return u(f)},c.onsuccess=function(f){var d=f.target.result;d?d.value.id<t+1?d.continue(t+1):(i.push(d.value),d.continue()):(BE(n),l(i))}})}function nce(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(ao,"readwrite",Db),r=n.objectStore(ao);return Promise.all(t.map(function(i){var o=r.delete(i);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function rce(e,t){var n=Date.now()-t,r=e.transaction(ao,"readonly",Db),i=r.objectStore(ao),o=[];return new Promise(function(a){i.openCursor().onsuccess=function(s){var l=s.target.result;if(l){var u=l.value;u.time<n?(o.push(u),l.continue()):(BE(r),a(o))}else a(o)}})}function ice(e){return rce(e.db,e.options.idb.ttl).then(function(t){return nce(e,t.map(function(n){return n.id}))})}function oce(e,t){return t=FE(t),Zue(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Ph(),eMIs:new LE(t.idb.ttl*2),writeBlockPromise:Ki,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},fL(r),r})}function fL(e){e.closed||dL(e).then(function(){return ns(e.options.idb.fallbackInterval)}).then(function(){return fL(e)})}function ace(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function dL(e){return e.closed||!e.messagesCallback?Ki:tce(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return ace(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Ki})}function sce(e){e.closed=!0,e.db.close()}function lce(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return ece(e.db,e.uuid,t)}).then(function(){Fue(0,10)===0&&ice(e)}),e.writeBlockPromise}function uce(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,dL(e)}function cce(){return!!cL()}function fce(e){return e.idb.fallbackInterval*2}var dce={create:oce,close:sce,onMessage:uce,postMessage:lce,canBeUsed:cce,type:Jue,averageResponseTime:fce,microSeconds:Que},hce=Oh,pce="pubkey.broadcastChannel-",mce="localstorage";function hL(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function pL(e){return pce+e}function vce(e,t){return new Promise(function(n){ns().then(function(){var r=pL(e.channelName),i={token:Ph(),time:Date.now(),data:t,uuid:e.uuid},o=JSON.stringify(i);hL().setItem(r,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=o,window.dispatchEvent(a),n()})})}function gce(e,t){var n=pL(e),r=function(o){o.key===n&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function yce(e){window.removeEventListener("storage",e)}function bce(e,t){if(t=FE(t),!mL())throw new Error("BroadcastChannel: localstorage cannot be used");var n=Ph(),r=new LE(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=gce(e,function(o){i.messagesCallback&&o.uuid!==n&&(!o.token||r.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(r.add(o.token),i.messagesCallback(o.data)))}),i}function wce(e){yce(e.listener)}function _ce(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function mL(){var e=hL();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function Sce(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var xce={create:bce,close:wce,onMessage:_ce,postMessage:vce,canBeUsed:mL,type:mce,averageResponseTime:Sce,microSeconds:hce},vL=Oh,Ece="simulate",UE=new Set;function Pce(e){var t={time:vL(),name:e,messagesCallback:null};return UE.add(t),t}function Oce(e){UE.delete(e)}var gL=5;function $ce(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(UE);r.forEach(function(i){i.name===e.name&&i!==e&&i.messagesCallback&&i.time<t.time&&i.messagesCallback(t)}),n()},gL)})}function Cce(e,t){e.messagesCallback=t}function Rce(){return!0}function kce(){return gL}var Tce={create:Pce,close:Oce,onMessage:Cce,postMessage:$ce,canBeUsed:Rce,type:Ece,averageResponseTime:kce,microSeconds:vL},Sk=[Yue,dce,xce];function Ace(e){var t=[].concat(e.methods,Sk).filter(Boolean);if(e.type){if(e.type==="simulate")return Tce;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(Sk.map(function(i){return i.type})))}var yL=new Set,Ice=0,Mb=function(t,n){this.id=Ice++,yL.add(this),this.name=t,xk&&(n=xk),this.options=FE(n),this.method=Ace(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,Dce(this)};Mb._pubkey=!0;var xk;Mb.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Ek(this,"message",t)},postInternal:function(t){return Ek(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};Ok(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,Pk(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};Pk(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});Ok(this,t,r)},close:function(){var t=this;if(!this.closed){yL.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Ki;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Ek(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},o=e._prepP?e._prepP:Ki;return o.then(function(){var a=e.method.postMessage(e._state,i);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function Dce(e){var t=e.method.create(e.name,e.options);Nue(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function bL(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Pk(e,t,n){e._addEL[t].push(n),Mce(e)}function Ok(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),jce(e)}function Mce(e){if(!e._iL&&bL(e)){var t=function(i){e._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function jce(e){if(e._iL&&!bL(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}function Nce(e){if(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}function Lce(e){process.on("exit",function(){return e()}),process.on("beforeExit",function(){return e().then(function(){return process.exit()})}),process.on("SIGINT",function(){return e().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return e().then(function(){console.trace(t),process.exit(101)})})}var Fce=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",Bce=Fce?Lce:Nce,sf=new Set,$k=!1;function Uce(){$k||($k=!0,Bce(Wce))}function Vce(e){if(Uce(),typeof e!="function")throw new Error("Listener is no function");sf.add(e);var t={remove:function(){return sf.delete(e)},run:function(){return sf.delete(e),e()}};return t}function Wce(){var e=[];return sf.forEach(function(t){e.push(t()),sf.delete(t)}),Promise.all(e)}function fs(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function wL(e){e.isLeader=!0,e._hasLeader=!0;var t=Vce(function(){return e.die()});e._unl.push(t);var n=function(i){i.context==="leader"&&i.action==="apply"&&fs(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),fs(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),fs(e,"tell")}var _L=function(t,n){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=n,this.isLeader=!1,this.isDead=!1,this.token=Ph(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};_L.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(n){var r=n.held?n.held.filter(function(i){return i.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var n=new Promise(function(r,i){t._wKMC.res=r,t._wKMC.rej=i});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,wL(t),r(),n}).catch(function(){})})}return this._wLMP},set onduplicate(e){},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),fs(this,"death")}};var SL=function(t,n){var r=this;this.broadcastChannel=t,this._options=n,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=Ph(),this._aplQ=Ki,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(a){a.context==="leader"&&(a.action==="death"&&(r._hasLeader=!1),a.action==="tell"&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};SL.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var n=this;if(this.isLeader)return ns(0,!0);if(this.isDead)return ns(0,!1);if(this._aplQC>1)return this._aplQ;var r=function(){if(n.isLeader)return Lue;var o=!1,a,s=new Promise(function(c){a=function(){o=!0,c()}}),l=function(f){f.context==="leader"&&f.token!=n.token&&(f.action==="apply"&&f.token>n.token&&a(),f.action==="tell"&&(a(),n._hasLeader=!0))};n.broadcastChannel.addEventListener("internal",l);var u=t?n._options.responseTime*4:n._options.responseTime;return fs(n,"apply").then(function(){return Promise.race([ns(u),s.then(function(){return Promise.reject(new Error)})])}).then(function(){return fs(n,"apply")}).then(function(){return Promise.race([ns(u),s.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return n.broadcastChannel.removeEventListener("internal",l),o?!1:wL(n).then(function(){return!0})})};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return r()}).then(function(){n._aplQC=n._aplQC-1}),this._aplQ.then(function(){return n.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=zce(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,fs(this,"death")}};function zce(e){return e.isLeader?Ki:new Promise(function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var i=function a(){return ns(e._options.fallbackInterval).then(function(){if(!(e.isDead||n))if(e.isLeader)r();else return e.applyOnce(!0).then(function(){e.isLeader?r():a()})})};i();var o=function(s){s.context==="leader"&&s.action==="death"&&(e._hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&r()}))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)})}function Kce(e,t){return e||(e={}),e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}function xL(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=Kce(t,e);var n=Bue()?new _L(e,t):new SL(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n,n}var gv=new Map;function EL(e,t,n,r){var i=gv.get(t);return i||(i={bc:new Mb(["RxDB:",e,n].join("|")),refs:new Set},gv.set(t,i)),i.refs.add(r),i.bc}function B_(e,t){var n=gv.get(e);if(n&&(n.refs.delete(t),n.refs.size===0))return gv.delete(e),n.bc.close()}function Hce(e,t,n,r){if(t.multiInstance){var i=r||EL(e,t.databaseInstanceToken,n.databaseName,n),o=new Ft,a=d=>{d.storageName===e&&d.databaseName===t.databaseName&&d.collectionName===t.collectionName&&d.version===t.schema.version&&o.next(d.eventBulk)};i.addEventListener("message",a);var s=n.changeStream(),l=!1,u=s.subscribe(d=>{l||i.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:d})});n.changeStream=function(){return o.asObservable().pipe($ae(s))};var c=n.close.bind(n);n.close=async function(){return l=!0,u.unsubscribe(),i.removeEventListener("message",a),r||await B_(t.databaseInstanceToken,n),c()};var f=n.remove.bind(n);n.remove=async function(){return l=!0,u.unsubscribe(),i.removeEventListener("message",a),r||await B_(t.databaseInstanceToken,n),f()}}}function qce(e,t){var n=t.map(r=>{var i=no(e,r);if(!i)throw new Error("not in schema: "+r);var o=i.type,a;(o==="number"||o==="integer")&&(a=VE(i));var s=GN(r),l=i.maxLength?i.maxLength:0,u;o==="string"?u=f=>{var d=s(f);return d||(d=""),d.padEnd(l," ")}:o==="boolean"?u=f=>{var d=s(f);return d?"1":"0"}:u=f=>{var d=s(f);return yv(a,d)};var c={fieldName:r,schemaPart:i,parsedLengths:a,getValue:s,getIndexStringPart:u};return c});return n}function Gce(e,t){var n=qce(e,t),r=n.length,i=n.map(a=>a.getIndexStringPart),o=function(a){for(var s="",l=0;l<r;++l)s+=i[l](a);return s};return o}function VE(e){var t=Math.floor(e.minimum),n=Math.ceil(e.maximum),r=e.multipleOf,i=n-t,o=i.toString().length,a=r.toString().split("."),s=0;return a.length>1&&(s=a[1].length),{minimum:t,maximum:n,nonDecimals:o,decimals:s,roundedMinimum:t}}function yv(e,t){typeof t>"u"&&(t=0),t<e.minimum&&(t=e.minimum),t>e.maximum&&(t=e.maximum);var n=(Math.floor(t)-e.roundedMinimum).toString(),r=n.padStart(e.nonDecimals,"0");if(e.decimals>0){var i=t.toString().split("."),o=i.length>1?i[1]:"0";r+=o.padEnd(e.decimals,"0")}return r}function Ck(e,t,n){var r="";return t.forEach((i,o)=>{var a=no(e,i),s=n[o],l=a.type;switch(l){case"string":var u=ve(a.maxLength);typeof s=="string"?r+=s.padEnd(u," "):r+="".padEnd(u," ");break;case"boolean":if(s===null)r+="0";else if(s===vi)r+="0";else if(s===Vr)r+="1";else{var c=s?"1":"0";r+=c}break;case"number":case"integer":var f=VE(a);if(s===null||s===vi){var d="0";r+=d.repeat(f.nonDecimals+f.decimals)}else if(s===Vr)r+=yv(f,f.maximum);else{var h=yv(f,s);r+=h}break;default:throw new Error("unknown index type "+l)}}),r}function Yce(e,t,n){var r="";return t.forEach((i,o)=>{var a=no(e,i),s=n[o],l=a.type;switch(l){case"string":var u=ve(a.maxLength);typeof s=="string"&&s!==Vr?r+=s.padEnd(u," "):s===vi?r+="".padEnd(u," "):r+="".padEnd(u,Vr);break;case"boolean":if(s===null)r+="1";else{var c=s?"1":"0";r+=c}break;case"number":case"integer":var f=VE(a);if(s===null||s===Vr){var d="9";r+=d.repeat(f.nonDecimals+f.decimals)}else if(s===vi){var h="0";r+=h.repeat(f.nonDecimals+f.decimals)}else r+=yv(f,s);break;default:throw new Error("unknown index type "+l)}}),r}var PL={minimumDeletedTime:1e3*60*60*24*31,minimumCollectionAge:1e3*60,runEach:1e3*60*5,awaitReplicationsInSync:!0,waitForLeadership:!0},OL=new WeakMap,Qce=new WeakMap;function Rk(e){return Cr(Qce,e,()=>xL(e))}function Xce(){var e=EL(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return B_(this.token,this),t()};var n=Rk(e);return n||(n=Rk(e),OL.set(this,n)),this.leaderElector=()=>n,n}function Jce(){return this.multiInstance?this.leaderElector().isLeader:!0}function Zce(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):Eu}function efe(e){var t=OL.get(e);t&&t.die()}var tfe=!0,nfe={RxDatabase:e=>{e.leaderElector=Xce,e.isLeader=Jce,e.waitForLeadership=Zce}},rfe={name:"leader-election",rxdb:tfe,prototypes:nfe,hooks:{preDestroyRxDatabase:{after:efe}}},kk=e=>Promise.resolve(e);function Tk(e,t){if(e==="_deleted")return t;t=Fe(t);var n=!!t._deleted;return t[e]=n,delete t._deleted,t}function hw(e,t,n){return n.map(r=>{var i=Fe(r);if(t!=="_deleted"){var o=!!i[t];i._deleted=o,delete i[t]}else i._deleted=!!i._deleted;var a=e.schema.primaryPath;return i[a]=Da(e.schema.jsonSchema,i),i})}function Ak(e,t){if(typeof window>"u"||typeof window!="object"||typeof window.addEventListener>"u"||navigator.onLine)return e.promiseWait(t);var n,r=new Promise(i=>{n=()=>{window.removeEventListener("online",n),i()},window.addEventListener("online",n)});return Promise.race([r,e.promiseWait(t)]).then(()=>{window.removeEventListener("online",n)})}var $L=new WeakMap,ife=function(){function e(n,r,i,o,a,s,l,u){this.subs=[],this.subjects={received:new Ft,sent:new Ft,error:new Ft,canceled:new Di(!1),active:new Di(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.callOnStart=void 0,this.remoteEvents$=new Ft,this.replicationIdentifier=n,this.collection=r,this.deletedField=i,this.pull=o,this.push=a,this.live=s,this.retryTime=l,this.autoStart=u;var c=Cr($L,r,()=>[]);c.push(this),this.collection.onDestroy.push(()=>this.cancel()),Object.keys(this.subjects).forEach(d=>{Object.defineProperty(this,d+"$",{get:function(){return this.subjects[d].asObservable()}})});var f=new Promise(d=>{this.callOnStart=d});this.startPromise=f}var t=e.prototype;return t.start=async function(){if(!this.isStopped()){var r=this.pull&&this.pull.modifier?this.pull.modifier:kk,i=this.push&&this.push.modifier?this.push.modifier:kk,o=this.collection.database,a="rx-replication-meta-"+await o.hashFunction([this.collection.name,this.replicationIdentifier].join("-")),s=N_(this.collection.schema.jsonSchema,fv(this.collection.schema.jsonSchema)),[l]=await Promise.all([this.collection.database.storage.createStorageInstance({databaseName:o.name,collectionName:a,databaseInstanceToken:o.token,multiInstance:o.multiInstance,options:{},schema:s,password:o.password,devMode:Xe.isDevMode()}),J2(this.collection,a,s)]);this.metaInstance=l,this.internalReplicationState=tL({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:o.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe(st(u=>!!this.pull),io(async u=>{if(u==="RESYNC")return u;var c=Fe(u);return c.documents=hw(this.collection,this.deletedField,c.documents),c.documents=await Promise.all(c.documents.map(f=>r(f))),c})),masterChangesSince:async(u,c)=>{if(!this.pull)return{checkpoint:null,documents:[]};for(var f=!1,d={};!f&&!this.isStopped();)try{d=await this.pull.handler(u,c),f=!0}catch(m){var h=ae("RC_PULL",{checkpoint:u,errors:_u(m).map(b=>x_(b)),direction:"pull"});this.subjects.error.next(h),await Ak(this.collection,ve(this.retryTime))}if(this.isStopped())return{checkpoint:null,documents:[]};var v=Fe(d);return v.documents=hw(this.collection,this.deletedField,v.documents),v.documents=await Promise.all(v.documents.map(m=>r(m))),v},masterWrite:async u=>{if(!this.push)return[];var c=!1;await ks("preReplicationMasterWrite",{rows:u,collection:this.collection});var f=await Promise.all(u.map(async b=>(b.newDocumentState=await i(b.newDocumentState),b.newDocumentState===null?null:(b.assumedMasterState&&(b.assumedMasterState=await i(b.assumedMasterState)),this.deletedField!=="_deleted"&&(b.newDocumentState=Tk(this.deletedField,b.newDocumentState),b.assumedMasterState&&(b.assumedMasterState=Tk(this.deletedField,b.assumedMasterState))),b)))),d=f.filter(WN),h=null;for(d.length===0&&(c=!0,h=[]);!c&&!this.isStopped();)try{if(h=await this.push.handler(d),!Array.isArray(h))throw ae("RC_PUSH_NO_AR",{pushRows:u,direction:"push",args:{result:h}});c=!0}catch(b){var v=b.rxdb?b:ae("RC_PUSH",{pushRows:u,errors:_u(b).map(g=>x_(g)),direction:"push"});this.subjects.error.next(v),await Ak(this.collection,ve(this.retryTime))}if(this.isStopped())return[];await ks("preReplicationMasterWriteDocumentsHandle",{result:h,collection:this.collection});var m=hw(this.collection,this.deletedField,ve(h));return m}}}),this.subs.push(this.internalReplicationState.events.error.subscribe(u=>{this.subjects.error.next(u)}),this.internalReplicationState.events.processed.down.subscribe(u=>this.subjects.received.next(u.document)),this.internalReplicationState.events.processed.up.subscribe(u=>{this.subjects.sent.next(u.newDocumentState)}),b2([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([u,c])=>{var f=u||c;this.subjects.active.next(f)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:u=>{this.remoteEvents$.next(u)},error:u=>{this.subjects.error.next(u)}})),this.live||(await cm(this.internalReplicationState),await bk(this.internalReplicationState),await this.cancel()),this.callOnStart()}},t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.awaitInitialReplication=async function(){return await this.startPromise,cm(ve(this.internalReplicationState))},t.awaitInSync=async function(){return await this.startPromise,await cm(ve(this.internalReplicationState)),await this.collection.database.requestIdlePromise(),await bk(ve(this.internalReplicationState)),!0},t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(r){this.remoteEvents$.next(r)},t.cancel=async function(){if(this.isStopped())return nr;var r=[];return this.internalReplicationState&&await nL(this.internalReplicationState),this.metaInstance&&r.push(ve(this.internalReplicationState).checkpointQueue.then(()=>ve(this.metaInstance).close())),this.subs.forEach(i=>i.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(r)},e}();function ofe({replicationIdentifier:e,collection:t,deletedField:n="_deleted",pull:r,push:i,live:o=!0,retryTime:a=1e3*5,waitForLeadership:s=!0,autoStart:l=!0}){if(Ib(rfe),!r&&!i)throw ae("UT3",{collection:t.name,args:{replicationIdentifier:e}});var u=new ife(e,t,n,r,i,o,a,l);return afe(s,u),u}function afe(e,t){var n=e&&t.collection.database.multiInstance,r=n?t.collection.database.waitForLeadership():Eu;return r.then(()=>{t.isStopped()||t.autoStart&&t.start()})}var pw=Eu;async function sfe(e){var t=e.database,n=Object.assign({},PL,t.cleanupPolicy?t.cleanupPolicy:{});await e.promiseWait(n.minimumCollectionAge),!e.destroyed&&(n.waitForLeadership&&await t.waitForLeadership(),!e.destroyed&&(await CL(e,n),await lfe(e,n)))}async function CL(e,t){for(var n=e.database,r=e.storageInstance,i=!1;!i&&!e.destroyed;){if(t.awaitReplicationsInSync){var o=$L.get(e);o&&await Promise.all(o.map(a=>{if(!a.isStopped())return a.awaitInSync()}))}if(await n.requestIdlePromise(),e.destroyed)return;pw=pw.then(()=>e.destroyed?!0:r.cleanup(t.minimumDeletedTime)),i=await pw}}async function lfe(e,t){for(;!e.destroyed;){if(await e.promiseWait(t.runEach),e.destroyed)return;await CL(e,t)}}var ufe={name:"cleanup",rxdb:!0,prototypes:{RxCollection:e=>{e.cleanup=async function(t){var n=Object.assign({},PL,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof t>"u"&&(t=n.minimumDeletedTime);for(var r=!1;!r&&!this.destroyed;)r=await this.storageInstance.cleanup(t)}}},hooks:{createRxCollection:{after:e=>{sfe(e.collection)}}}};async function RL(e){var t=Aoe(e.collection.schema.jsonSchema).map(r=>e.collection.name+"-"+r),n=await e.database.internalStore.findDocumentsById(t.map(r=>ku(r,cs)),!1);if(n.length>1)throw new Error("more the one old collection meta found");return n[0]}function cfe(e,t,n){var r=Fe(n._attachments),i=lr(n),o=i._meta;delete i._meta,i._attachments=r;for(var a=t+1,s=Promise.resolve(i),l=function(){var u=a;s=s.then(c=>ffe(e,u,c)),a++};a<=e.schema.version;)l();return s.then(u=>u===null?pE:(u._meta=o,u))}function ffe(e,t,n){if(n===null)return pE;var r=e.migrationStrategies[t](n,e),i=foe(r);return i}async function kL(e){if(e.collection.schema.version===0)return nr;var t=await RL(e);return!!t}var dfe=200,TL=new WeakMap;function hfe(e){var t=AL(e.database),n=t.getValue().slice(0);n.push(e),t.next(n)}function AL(e){return Cr(TL,e,()=>new Di([]))}function pfe(e){var t=TL.get(e);t&&t.complete()}var mfe=function(){function e(n,r,i=[n.name,"v",n.schema.version].join("-")){this.started=!1,this.updateStatusHandlers=[],this.updateStatusQueue=Eu,this.collection=n,this.migrationStrategies=r,this.statusDocKey=i,this.database=n.database,this.oldCollectionMeta=RL(this),this.mustMigrate=kL(this),this.statusDocId=ku(this.statusDocKey,lm),hfe(this),this.$=iue(this.database.internalStore,this.statusDocId).pipe(st(o=>!!o),on(o=>ve(o).data),bh(mh))}var t=e.prototype;return t.getStatus=function(){return ss(this.$)},t.startMigration=async function(r=dfe){var i=await this.mustMigrate;if(i){if(this.started)throw ae("DM1");this.started=!0;var o=void 0;if(this.database.multiInstance){o=new Mb(["rx-migration-state",this.database.name,this.collection.name,this.collection.schema.version].join("|"));var a=xL(o);await a.awaitLeadership()}var s=await this.oldCollectionMeta,l=await this.database.storage.createStorageInstance({databaseName:this.database.name,collectionName:this.collection.name,databaseInstanceToken:this.database.token,multiInstance:this.database.multiInstance,options:{},schema:s.data.schema,password:this.database.password,devMode:Xe.isDevMode()}),u=await this.getConnectedStorageInstances(),c=await this.countAllDoucments([l].concat(u.map(f=>f.oldStorage)));await this.updateStatus(f=>(f.count.total=c,f));try{await Promise.all(u.map(async f=>{await J2(this.collection,f.newStorage.collectionName,f.newStorage.schema),await this.migrateStorage(f.oldStorage,f.newStorage,r),await f.newStorage.close()})),await this.migrateStorage(l,this.collection.storageInstance.originalStorageInstance,r)}catch(f){await l.close(),await this.updateStatus(d=>(d.status="ERROR",d.error=x_(f),d));return}await nd(this.database.internalStore,{previous:s,document:Object.assign({},s,{_deleted:!0})},"rx-migration-remove-collection-meta"),await this.updateStatus(f=>(f.status="DONE",f)),o&&await o.close()}},t.updateStatus=function(r){return this.updateStatusHandlers.push(r),this.updateStatusQueue=this.updateStatusQueue.then(async()=>{if(this.updateStatusHandlers.length!==0){var i=this.updateStatusHandlers;for(this.updateStatusHandlers=[];;){var o=await Eh(this.database.internalStore,this.statusDocId),a=lr(o);o||(a={id:this.statusDocId,key:this.statusDocKey,context:lm,data:{collectionName:this.collection.name,status:"RUNNING",count:{total:0,handled:0,percent:0}},_deleted:!1,_meta:Ia(),_rev:sr(),_attachments:{}});var s=ve(a).data;for(var l of i)s=l(s);if(s.count.percent=Math.round(s.count.handled/s.count.total*100),a&&o&&Pu(a.data,o.data))break;try{await nd(this.database.internalStore,{previous:o,document:ve(a)},lm);break}catch(u){if(!xb(u))throw u}}}}),this.updateStatusQueue},t.migrateStorage=async function(r,i,o){var a=await this.database.storage.createStorageInstance({databaseName:this.database.name,collectionName:"rx-migration-state-meta-"+this.collection.name+"-"+this.collection.schema.version,databaseInstanceToken:this.database.token,multiInstance:this.database.multiInstance,options:{},schema:N_(r.schema,fv(r.schema)),password:this.database.password,devMode:Xe.isDevMode()}),s=Pue(i,mv,this.database.token,!0),l=tL({keepMeta:!0,identifier:["rx-migration-state",this.collection.name,r.schema.version,this.collection.schema.version].join("-"),replicationHandler:{masterChangesSince(){return Promise.resolve({checkpoint:null,documents:[]})},masterWrite:async c=>{c=await Promise.all(c.map(async d=>{var h=d.newDocumentState;if(i.schema.title===um&&(h=d.newDocumentState.docData,d.newDocumentState.isCheckpoint==="1"))return{assumedMasterState:void 0,newDocumentState:d.newDocumentState};var v=await cfe(this.collection,r.schema.version,h),m={assumedMasterState:void 0,newDocumentState:i.schema.title===um?Object.assign({},d.newDocumentState,{docData:v}):v};return m})),c=c.filter(d=>!!d.newDocumentState);var f=await s.masterWrite(c);return f},masterChangeStream$:new Ft().asObservable()},forkInstance:r,metaInstance:a,pushBatchSize:o,pullBatchSize:0,conflictHandler:mv,hashFunction:this.database.hashFunction}),u=!1;if(l.events.error.subscribe(c=>u=c),l.events.processed.up.subscribe(()=>{this.updateStatus(c=>(c.count.handled=c.count.handled+1,c))}),await cm(l),await nL(l),await this.updateStatusQueue,u)throw await a.close(),u;await Promise.all([r.remove(),a.remove()])},t.countAllDoucments=async function(r){var i=0;return await Promise.all(r.map(async o=>{var a=Tb(o.schema,uv(o.schema,{selector:{}})),s=await o.count(a);i+=s.count})),i},t.getConnectedStorageInstances=async function(){var r=await this.oldCollectionMeta,i=[];return await Promise.all(await Promise.all(r.data.connectedStorages.map(async o=>{if(o.schema.title!==um)throw new Error("unknown migration handling for schema");var a=N_(lr(this.collection.schema.jsonSchema),fv(o.schema));a.version=this.collection.schema.version;var[s,l]=await Promise.all([this.database.storage.createStorageInstance({databaseInstanceToken:this.database.token,databaseName:this.database.name,devMode:Xe.isDevMode(),multiInstance:this.database.multiInstance,options:{},schema:o.schema,password:this.database.password,collectionName:o.collectionName}),this.database.storage.createStorageInstance({databaseInstanceToken:this.database.token,databaseName:this.database.name,devMode:Xe.isDevMode(),multiInstance:this.database.multiInstance,options:{},schema:a,password:this.database.password,collectionName:o.collectionName})]);i.push({oldStorage:s,newStorage:l})}))),i},t.migratePromise=async function(r){this.startMigration(r);var i=await this.mustMigrate;if(!i)return{status:"DONE",collectionName:this.collection.name,count:{handled:0,percent:0,total:0}};var o=await Promise.race([ss(this.$.pipe(st(a=>a.status==="DONE"))),ss(this.$.pipe(st(a=>a.status==="ERROR")))]);if(o.status==="ERROR")throw ae("DM4",{collection:this.collection.name,error:o.error});return o},e}(),vfe=G2(),gfe=function(e){vE(t,e);function t(n,r,i){var o;return o=e.call(this,null,r)||this,o.id=n,o.parent=i,o}return t}(vfe),lf={get isLocal(){return!0},get allAttachments$(){throw ae("LD1",{document:this})},get primaryPath(){return"id"},get primary(){return this.id},get $(){var e=this,t=Rs(U_,this.parent);return e.parent.$.pipe(st(n=>n.documentId===this.primary),st(n=>n.isLocal),on(n=>xE(n)),wh(t.docCache.getLatestDocumentData(this.primary)),ed((n,r)=>n._rev===r._rev),on(n=>t.docCache.getCachedRxDocument(n)),bh(mh))},getLatest(){var e=Rs(U_,this.parent),t=e.docCache.getLatestDocumentData(this.primary);return e.docCache.getCachedRxDocument(t)},get(e){if(e="data."+e,!!this._data){if(typeof e!="string")throw af("LD2",{objPath:e});var t=fa(this._data,e);return t=Xe.deepFreezeWhenDevMode(t),t}},get$(e){if(e="data."+e,Xe.isDevMode()){if(e.includes(".item."))throw ae("LD3",{objPath:e});if(e===this.primaryPath)throw ae("LD4")}return this.$.pipe(on(t=>t._data),on(t=>fa(t,e)),ed())},async incrementalModify(e){var t=await uf(this.parent);return t.incrementalWriteQueue.addWrite(this._data,async n=>(n.data=await e(n.data,this),n)).then(n=>t.docCache.getCachedRxDocument(n))},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([n,r])=>{t[n]=r}),t))},async _saveData(e){var t=await uf(this.parent),n=this._data;return e.id=this.id,t.storageInstance.bulkWrite([{previous:n,document:e}],"local-document-save-data").then(r=>{var i=r.success[0];if(!i)throw r.error[0];e=Fe(e),e._rev=i._rev})},async remove(){var e=await uf(this.parent),t={id:this._data.id,data:{},_deleted:!0,_meta:Ia(),_rev:sr(),_attachments:{}};return nd(e.storageInstance,{previous:this._data,document:t},"local-document-remove").then(n=>e.docCache.getCachedRxDocument(n))}},Ik=!1,yfe=()=>{if(!Ik){Ik=!0;var e=Ab,t=Object.getOwnPropertyNames(e);t.forEach(r=>{var i=Object.getOwnPropertyDescriptor(lf,r);if(!i){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(lf,r,o)}});var n=r=>()=>{throw ae("LD6",{functionName:r})};["populate","update","putAttachment","getAttachment","allAttachments"].forEach(r=>lf[r]=n(r))}};function bfe(e,t){yfe();var n=new gfe(e.id,e,t);return Object.setPrototypeOf(n,lf),n.prototype=lf,n}var bv=new WeakMap,U_=new WeakMap;function Dk(e){var t=e.database?e.database:e,n=e.database?e.name:"",r=(async()=>{var i=await IL(t.token,t.storage,t.name,n,t.instanceCreationOptions,t.multiInstance);i=ME(t,i,DL);var o=new F2("id",e.$.pipe(st(c=>c.isLocal)),c=>bfe(c,e)),a=new q2(i,"id",()=>{},()=>{}),s=await t.storageToken,l=i.changeStream().subscribe(c=>{var f={id:c.id,internal:!1,collectionName:e.database?e.name:void 0,storageToken:s,events:c.events.map(d=>W2(!0,d,e.database?e:void 0)),databaseToken:t.token,checkpoint:c.checkpoint,context:c.context,endTime:c.endTime,startTime:c.startTime};t.$emit(f)});e._subs.push(l);var u={database:t,parent:e,storageInstance:i,docCache:o,incrementalWriteQueue:a};return U_.set(e,u),u})();bv.set(e,r)}function uf(e){var t=bv.get(e);if(!t){var n=e.database?e.database:e,r=e.database?e.name:"";throw ae("LD8",{database:n.name,collection:r})}return t}function IL(e,t,n,r,i,o){return t.createStorageInstance({databaseInstanceToken:e,databaseName:n,collectionName:wfe(r),schema:DL,options:i,multiInstance:o,devMode:Xe.isDevMode()})}function Mk(e){var t=bv.get(e);if(t)return bv.delete(e),t.then(n=>n.storageInstance.close())}async function jk(e,t,n){var r=ph(10),i=await IL(r,e,t,n,{},!1);await i.remove()}function wfe(e){return"plugin-local-documents-"+e}var DL=Eb({title:"RxLocalDocument",version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:128},data:{type:"object",additionalProperties:!0}},required:["id","data"]});async function Nk(e,t){var n=await uf(this),r={id:e,data:t,_deleted:!1,_meta:Ia(),_rev:sr(),_attachments:{}};return nd(n.storageInstance,{document:r},"local-document-insert").then(i=>n.docCache.getCachedRxDocument(i))}function Lk(e,t){return this.getLocal(e).then(n=>{if(n)return n.incrementalModify(()=>t);var r=this.insertLocal(e,t);return r})}async function Fk(e){var t=await uf(this),n=t.docCache,r=n.getLatestDocumentDataIfExists(e);return r?Promise.resolve(n.getCachedRxDocument(r)):Eh(t.storageInstance,e).then(i=>i?t.docCache.getCachedRxDocument(i):null)}function Bk(e){return this.$.pipe(wh(null),io(async t=>{if(t)return{changeEvent:t};var n=await this.getLocal(e);return{doc:n}}),io(async t=>{if(t.changeEvent){var n=t.changeEvent;if(!n.isLocal||n.documentId!==e)return{use:!1};var r=await this.getLocal(e);return{use:!0,doc:r}}else return{use:!0,doc:t.doc}}),st(t=>t.use),on(t=>t.doc))}var _fe={name:"local-documents",rxdb:!0,prototypes:{RxCollection:e=>{e.insertLocal=Nk,e.upsertLocal=Lk,e.getLocal=Fk,e.getLocal$=Bk},RxDatabase:e=>{e.insertLocal=Nk,e.upsertLocal=Lk,e.getLocal=Fk,e.getLocal$=Bk}},hooks:{createRxDatabase:{before:e=>{e.creator.localDocuments&&Dk(e.database)}},createRxCollection:{before:e=>{e.creator.localDocuments&&Dk(e.collection)}},preDestroyRxDatabase:{after:e=>Mk(e)},postDestroyRxCollection:{after:e=>Mk(e)},postRemoveRxDatabase:{after:e=>jk(e.storage,e.databaseName,"")},postRemoveRxCollection:{after:e=>jk(e.storage,e.databaseName,e.collectionName)}},overwritable:{}},Sfe=new WeakMap,xfe={name:"migration",rxdb:!0,init(){Ib(_fe)},hooks:{preDestroyRxDatabase:{after:pfe}},prototypes:{RxDatabase:e=>{e.migrationStates=function(){return AL(this).pipe(bh(mh))}},RxCollection:e=>{e.getMigrationState=function(){return Cr(Sfe,this,()=>new mfe(this.asRxCollection,this.migrationStrategies))},e.migrationNeeded=function(){return this.schema.version===0?nr:kL(this.getMigrationState())}}}};const at=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mt=Object.keys,yn=Array.isArray;function kn(e,t){return typeof t!="object"||Mt(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||at.Promise||(at.Promise=Promise);const Tu=Object.getPrototypeOf,Efe={}.hasOwnProperty;function Rr(e,t){return Efe.call(e,t)}function Au(e,t){typeof t=="function"&&(t=t(Tu(e))),(typeof Reflect>"u"?Mt:Reflect.ownKeys)(t).forEach(n=>{Hi(e,n,t[n])})}const ML=Object.defineProperty;function Hi(e,t,n,r){ML(e,t,kn(n&&Rr(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function nu(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Hi(e.prototype,"constructor",e),{extend:Au.bind(null,e.prototype)}}}}const Pfe=Object.getOwnPropertyDescriptor;function WE(e,t){let n;return Pfe(e,t)||(n=Tu(e))&&WE(n,t)}const Ofe=[].slice;function wv(e,t,n){return Ofe.call(e,t,n)}function jL(e,t){return t(e)}function Wc(e){if(!e)throw new Error("Assertion Failed")}function NL(e){at.setImmediate?setImmediate(e):setTimeout(e,0)}function LL(e,t){return e.reduce((n,r,i)=>{var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function qi(e,t){if(Rr(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=qi(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return s===void 0?void 0:qi(s,t.substr(a+1))}}function Wr(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Wc(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)Wr(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),s=t.substr(o+1);if(s==="")n===void 0?yn(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var l=e[a];l&&Rr(e,a)||(l=e[a]={}),Wr(l,s,n)}}else n===void 0?yn(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function FL(e){var t={};for(var n in e)Rr(e,n)&&(t[n]=e[n]);return t}const $fe=[].concat;function BL(e){return $fe.apply([],e)}const UL="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(BL([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>at[e]),Cfe=UL.map(e=>at[e]);LL(UL,e=>[e,!0]);let Do=null;function $h(e){Do=typeof WeakMap<"u"&&new WeakMap;const t=V_(e);return Do=null,t}function V_(e){if(!e||typeof e!="object")return e;let t=Do&&Do.get(e);if(t)return t;if(yn(e)){t=[],Do&&Do.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(V_(e[n]))}else if(Cfe.indexOf(e.constructor)>=0)t=e;else{const o=Tu(e);for(var i in t=o===Object.prototype?{}:Object.create(o),Do&&Do.set(e,t),e)Rr(e,i)&&(t[i]=V_(e[i]))}return t}const{toString:Rfe}={};function W_(e){return Rfe.call(e).slice(8,-1)}const z_=typeof Symbol<"u"?Symbol.iterator:"@@iterator",kfe=typeof z_=="symbol"?function(e){var t;return e!=null&&(t=e[z_])&&t.apply(e)}:function(){return null},xl={};function Mi(e){var t,n,r,i;if(arguments.length===1){if(yn(e))return e.slice();if(this===xl&&typeof e=="string")return[e];if(i=kfe(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const zE=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Oi=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function VL(e,t){Oi=e,WL=t}var WL=()=>!0;const Tfe=!new Error("").stack;function il(){if(Tfe)try{throw il.arguments,new Error}catch(e){return e}return new Error}function K_(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(WL).map(r=>`
`+r).join("")):""}var zL=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],KE=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zL),Afe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ru(e,t){this._e=il(),this.name=e,this.message=t}function KL(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function _v(e,t,n,r){this._e=il(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=KL(e,t)}function cf(e,t){this._e=il(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=KL(e,t)}nu(ru).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+K_(this._e,2))}},toString:function(){return this.name+": "+this.message}}),nu(_v).from(ru),nu(cf).from(ru);var HE=KE.reduce((e,t)=>(e[t]=t+"Error",e),{});const Ife=ru;var pe=KE.reduce((e,t)=>{var n=t+"Error";function r(i,o){this._e=il(),this.name=n,i?typeof i=="string"?(this.message=`${i}${o?`
 `+o:""}`,this.inner=o||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=Afe[t]||n,this.inner=null)}return nu(r).from(Ife),e[t]=r,e},{});pe.Syntax=SyntaxError,pe.Type=TypeError,pe.Range=RangeError;var Uk=zL.reduce((e,t)=>(e[t+"Error"]=pe[t],e),{}),fm=KE.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=pe[t]),e),{});function Ye(){}function id(e){return e}function Dfe(e,t){return e==null||e===id?t:function(n){return t(e(n))}}function js(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Mfe(e,t){return e===Ye?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?js(r,this.onsuccess):r),i&&(this.onerror=this.onerror?js(i,this.onerror):i),o!==void 0?o:n}}function jfe(e,t){return e===Ye?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?js(n,this.onsuccess):n),r&&(this.onerror=this.onerror?js(r,this.onerror):r)}}function Nfe(e,t){return e===Ye?t:function(n){var r=e.apply(this,arguments);kn(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?js(i,this.onsuccess):i),o&&(this.onerror=this.onerror?js(o,this.onerror):o),r===void 0?a===void 0?void 0:a:kn(r,a)}}function Lfe(e,t){return e===Ye?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function qE(e,t){return e===Ye?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}fm.ModifyError=_v,fm.DexieError=ru,fm.BulkError=cf;var od={};const[H_,Sv,q_]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Tu(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Tu(t),e]})(),HL=Sv&&Sv.then,dm=H_&&H_.constructor,GE=!!q_;var G_=!1,Ffe=q_?()=>{q_.then(mp)}:at.setImmediate?setImmediate.bind(null,mp):at.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{mp(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(mp,0)},ff=function(e,t){zc.push([e,t]),xv&&(Ffe(),xv=!1)},Y_=!0,xv=!0,ds=[],hm=[],Q_=null,X_=id,iu={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Wk,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Wk(e[0],e[1])}catch{}})}},fe=iu,zc=[],hs=0,pm=[];function ne(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ye,this._lib=!1;var t=this._PSD=fe;if(Oi&&(this._stackHolder=il(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==od)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Z_(this,this._value))}this._state=null,this._value=null,++t.ref,GL(this,e)}const J_={get:function(){var e=fe,t=Ev;function n(r,i){var o=!e.global&&(e!==fe||t!==Ev);const a=o&&!so();var s=new ne((l,u)=>{YE(this,new qL(Pv(r,e,o,a),Pv(i,e,o,a),l,u,e))});return Oi&&XL(s,this),s}return n.prototype=od,n},set:function(e){Hi(this,"then",e&&e.prototype===od?J_:{get:function(){return e},set:J_.set})}};function qL(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function GL(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Ch();n&&typeof n.then=="function"?GL(e,(i,o)=>{n instanceof ne?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,YL(e)),r&&Rh()}},Z_.bind(null,e))}catch(n){Z_(e,n)}}function Z_(e,t){if(hm.push(t),e._state===null){var n=e._lib&&Ch();t=X_(t),e._state=!1,e._value=t,Oi&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,o){try{r.apply(null,o)}catch(a){i&&i(a)}}(()=>{var r=WE(t,"stack");t._promise=e,Hi(t,"stack",{get:()=>G_?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){ds.some(i=>i._value===r._value)||ds.push(r)}(e),YL(e),n&&Rh()}}function YL(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)YE(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),hs===0&&(++hs,ff(()=>{--hs==0&&QE()},[]))}function YE(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++hs,ff(Bfe,[n,e,t])}else e._listeners.push(t)}function Bfe(e,t,n){try{Q_=t;var r,i=t._value;t._state?r=e(i):(hm.length&&(hm=[]),r=e(i),hm.indexOf(i)===-1&&function(o){for(var a=ds.length;a;)if(ds[--a]._value===o._value)return void ds.splice(a,1)}(t)),n.resolve(r)}catch(o){n.reject(o)}finally{Q_=null,--hs==0&&QE(),--n.psd.ref||n.psd.finalize()}}function QL(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,o,a=e._value;a!=null?(i=a.name||"Error",o=a.message||a,r=K_(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+r)}return Oi&&((r=K_(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&QL(e._prev,t,n)),t}function XL(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function mp(){Ch()&&Rh()}function Ch(){var e=Y_;return Y_=!1,xv=!1,e}function Rh(){var e,t,n;do for(;zc.length>0;)for(e=zc,zc=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(zc.length>0);Y_=!0,xv=!0}function QE(){var e=ds;ds=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=pm.slice(0),n=t.length;n;)t[--n]()}function vp(e){return new ne(od,!1,e)}function ft(e,t){var n=fe;return function(){var r=Ch(),i=fe;try{return pa(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{pa(i,!1),r&&Rh()}}}Au(ne.prototype,{then:J_,_then:function(e,t){YE(this,new qL(null,null,e,t,fe))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):vp(r)):this.then(null,r=>r&&r.name===t?n(r):vp(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),vp(t)))},stack:{get:function(){if(this._stack)return this._stack;try{G_=!0;var e=QL(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{G_=!1}}},timeout:function(e,t){return e<1/0?new ne((n,r)=>{var i=setTimeout(()=>r(new pe.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Hi(ne.prototype,Symbol.toStringTag,"Dexie.Promise"),iu.env=JL(),Au(ne,{all:function(){var e=Mi.apply(null,arguments).map(gp);return new ne(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,o)=>ne.resolve(i).then(a=>{e[o]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof ne)return e;if(e&&typeof e.then=="function")return new ne((n,r)=>{e.then(n,r)});var t=new ne(od,!0,e);return XL(t,Q_),t},reject:vp,race:function(){var e=Mi.apply(null,arguments).map(gp);return new ne((t,n)=>{e.map(r=>ne.resolve(r).then(t,n))})},PSD:{get:()=>fe,set:e=>fe=e},totalEchoes:{get:()=>Ev},newPSD:ha,usePSD:rc,scheduler:{get:()=>ff,set:e=>{ff=e}},rejectionMapper:{get:()=>X_,set:e=>{X_=e}},follow:(e,t)=>new ne((n,r)=>ha((i,o)=>{var a=fe;a.unhandleds=[],a.onunhandled=o,a.finalize=js(function(){(function(s){function l(){s(),pm.splice(pm.indexOf(l),1)}pm.push(l),++hs,ff(()=>{--hs==0&&QE()},[])})(()=>{this.unhandleds.length===0?i():o(this.unhandleds[0])})},a.finalize),e()},t,n,r))}),dm&&(dm.allSettled&&Hi(ne,"allSettled",function(){const e=Mi.apply(null,arguments).map(gp);return new ne(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,o)=>ne.resolve(i).then(a=>r[o]={status:"fulfilled",value:a},a=>r[o]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),dm.any&&typeof AggregateError<"u"&&Hi(ne,"any",function(){const e=Mi.apply(null,arguments).map(gp);return new ne((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((o,a)=>ne.resolve(o).then(s=>t(s),s=>{i[a]=s,--r||n(new AggregateError(i))}))})}));const gn={awaits:0,echoes:0,id:0};var Ufe=0,mm=[],mw=0,Ev=0,Vfe=0;function ha(e,t,n,r){var i=fe,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Vfe;var a=iu.env;o.env=GE?{Promise:ne,PromiseProp:{value:ne,configurable:!0,writable:!0},all:ne.all,race:ne.race,allSettled:ne.allSettled,any:ne.any,resolve:ne.resolve,reject:ne.reject,nthen:Vk(a.nthen,o),gthen:Vk(a.gthen,o)}:{},t&&kn(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=rc(o,e,n,r);return o.ref===0&&o.finalize(),s}function nc(){return gn.id||(gn.id=++Ufe),++gn.awaits,gn.echoes+=100,gn.id}function so(){return!!gn.awaits&&(--gn.awaits==0&&(gn.id=0),gn.echoes=100*gn.awaits,!0)}function gp(e){return gn.echoes&&e&&e.constructor===dm?(nc(),e.then(t=>(so(),t),t=>(so(),Vt(t)))):e}function Wfe(e){++Ev,gn.echoes&&--gn.echoes!=0||(gn.echoes=gn.id=0),mm.push(fe),pa(e,!0)}function zfe(){var e=mm[mm.length-1];mm.pop(),pa(e,!1)}function pa(e,t){var n=fe;if((t?!gn.echoes||mw++&&e===fe:!mw||--mw&&e===fe)||ZL(t?Wfe.bind(null,e):zfe),e!==fe&&(fe=e,n===iu&&(iu.env=JL()),GE)){var r=iu.env.Promise,i=e.env;Sv.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(at,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function JL(){var e=at.Promise;return GE?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(at,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Sv.then,gthen:e.prototype.then}:{}}function rc(e,t,n,r,i){var o=fe;try{return pa(e,!0),t(n,r,i)}finally{pa(o,!1)}}function ZL(e){HL.call(H_,e)}function Pv(e,t,n,r){return typeof e!="function"?e:function(){var i=fe;n&&nc(),pa(t,!0);try{return e.apply(this,arguments)}finally{pa(i,!1),r&&ZL(so)}}}function Vk(e,t){return function(n,r){return e.call(this,Pv(n,t),Pv(r,t))}}(""+HL).indexOf("[native code]")===-1&&(nc=so=Ye);function Wk(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(at.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),kn(r,i)):at.CustomEvent&&kn(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&at.dispatchEvent&&(dispatchEvent(r),!at.PromiseRejectionEvent&&at.onunhandledrejection))try{at.onunhandledrejection(r)}catch{}Oi&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var Vt=ne.reject;function eS(e,t,n,r){if(e.idbdb&&(e._state.openComplete||fe.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===HE.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>eS(e,t,n,r))):Vt(o)}return i._promise(t,(o,a)=>ha(()=>(fe.trans=i,r(o,a,i)))).then(o=>i._completion.then(()=>o))}if(e._state.openComplete)return Vt(new pe.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Vt(new pe.DatabaseClosed);e.open().catch(Ye)}return e._state.dbReadyPromise.then(()=>eS(e,t,n,r))}const rs="￿",Ri="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",df=[],jb=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Kfe=jb,Hfe=jb,eF=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function Ns(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const tF={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function yp(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=$h(t))[e],t)}function qfe(){throw pe.Type()}let Gfe=class{_trans(t,n,r){const i=this._tx||fe.trans,o=this.name;function a(l,u,c){if(!c.schema[o])throw new pe.NotFound("Table "+o+" not part of transaction");return n(c.idbtrans,c)}const s=Ch();try{return i&&i.db===this.db?i===fe.trans?i._promise(t,a,r):ha(()=>i._promise(t,a,r),{trans:i,transless:fe.transless||fe}):eS(this.db,t,[this.name],a)}finally{s&&Rh()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(yn(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=Mt(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>u.compound&&n.every(c=>u.keyPath.indexOf(c)>=0)&&u.keyPath.every(c=>n.indexOf(c)>=0))[0];if(r&&this.db._maxKey!==rs)return this.where(r.name).equals(r.keyPath.map(u=>t[u]));!r&&Oi&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(u,c){try{return o.cmp(u,c)===0}catch{return!1}}const[s,l]=n.reduce(([u,c],f)=>{const d=i[f],h=t[f];return[u||d,u||!d?Ns(c,d&&d.multi?v=>{const m=qi(v,f);return yn(m)&&m.some(b=>a(h,b))}:v=>a(h,qi(v,f))):c]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,yn(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){const{db:n,name:r}=this;this.schema.mappedClass=t,t.prototype instanceof qfe&&(t=class extends t{get db(){return n}table(){return r}});const i=new Set;for(let a=t.prototype;a;a=Tu(a))Object.getOwnPropertyNames(a).forEach(s=>i.add(s));const o=a=>{if(!a)return a;const s=Object.create(t.prototype);for(let l in a)if(!i.has(l))try{s[l]=a[l]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),t}defineClass(){return this.mapToClass(function(t){kn(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=yp(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[o]})).then(a=>a.numFailures?ne.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{Wr(t,i,a)}catch{}return a})}update(t,n){if(typeof t!="object"||yn(t))return this.where(":id").equals(t).modify(n);{const r=qi(t,this.schema.primKey.keyPath);if(r===void 0)return Vt(new pe.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Mt(n).forEach(i=>{Wr(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=yp(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:n!=null?[n]:null})).then(a=>a.numFailures?ne.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{Wr(t,i,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?ne.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:tF})).then(t=>t.numFailures?ne.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new pe.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let c=l&&s?t.map(yp(l)):t;return this.core.mutate({trans:a,type:"add",keys:i,values:c,wantResults:o}).then(({numFailures:f,results:d,lastResult:h,failures:v})=>{if(f===0)return o?d:h;throw new cf(`${this.name}.bulkAdd(): ${f} of ${u} operations failed`,v)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new pe.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let c=l&&s?t.map(yp(l)):t;return this.core.mutate({trans:a,type:"put",keys:i,values:c,wantResults:o}).then(({numFailures:f,results:d,lastResult:h,failures:v})=>{if(f===0)return o?d:h;throw new cf(`${this.name}.bulkPut(): ${f} of ${u} operations failed`,v)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:o})=>{if(r===0)return i;throw new cf(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}};function hf(e){var t={},n=function(s,l){if(l){for(var u=arguments.length,c=new Array(u-1);--u;)c[u-1]=arguments[u];return t[s].subscribe.apply(null,c),e}if(typeof s=="string")return t[s]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(s,l,u){if(typeof s=="object")return a(s);l||(l=Lfe),u||(u=Ye);var c={subscribers:[],fire:u,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=l(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(d){return d!==f}),c.fire=c.subscribers.reduce(l,u)}};return t[s]=n[s]=c,c}function a(s){Mt(s).forEach(function(l){var u=s[l];if(yn(u))o(l,s[l][0],s[l][1]);else{if(u!=="asap")throw new pe.InvalidArgument("Invalid event config");var c=o(l,id,function(){for(var f=arguments.length,d=new Array(f);f--;)d[f]=arguments[f];c.subscribers.forEach(function(h){NL(function(){h.apply(null,d)})})})}})}}function Dc(e,t){return nu(t).from({prototype:e}),t}function ml(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function vw(e,t){e.filter=Ns(e.filter,t)}function gw(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Ns(r(),t()):t,e.justLimit=n&&!r}function vm(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new pe.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function zk(e,t,n){const r=vm(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function bp(e,t,n,r){const i=e.replayFilter?Ns(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},a=(s,l,u)=>{if(!i||i(l,u,d=>l.stop(d),d=>l.fail(d))){var c=l.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),Rr(o,f)||(o[f]=!0,t(s,l,u))}};return Promise.all([e.or._iterate(a,n),Kk(zk(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Kk(zk(e,r,n),Ns(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Kk(e,t,n,r){var i=ft(r?(o,a,s)=>n(r(o),a,s):n);return e.then(o=>{if(o)return o.start(()=>{var a=()=>o.continue();t&&!t(o,s=>a=s,s=>{o.stop(s),a=Ye},s=>{o.fail(s),a=Ye})||i(o.value,o,s=>a=s),a()})})}function Cn(e,t){try{const n=Hk(e),r=Hk(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,o){const a=i.length,s=o.length,l=a<s?a:s;for(let u=0;u<l;++u)if(i[u]!==o[u])return i[u]<o[u]?-1:1;return a===s?0:a<s?-1:1}(qk(e),qk(t));case"Array":return function(i,o){const a=i.length,s=o.length,l=a<s?a:s;for(let u=0;u<l;++u){const c=Cn(i[u],o[u]);if(c!==0)return c}return a===s?0:a<s?-1:1}(e,t)}}catch{}return NaN}function Hk(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=W_(e);return n==="ArrayBuffer"?"binary":n}function qk(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Yfe{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,Vt.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,Vt.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Ns(n.algorithm,t)}_iterate(t,n){return bp(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&kn(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>bp(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(ml(r,!0))return i.count({trans:n,query:{index:vm(r,i.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var o=0;return bp(r,()=>(++o,!1),n,i).then(()=>o)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(u,c){return c?a(u[r[c]],c-1):u[i]}var s=this._ctx.dir==="next"?1:-1;function l(u,c){var f=a(u,o),d=a(c,o);return f<d?-s:f>d?s:0}return this.toArray(function(u){return u.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&ml(r,!0)&&r.limit>0){const{valueMapper:i}=r,o=vm(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:a})=>i?a.map(i):a)}{const i=[];return bp(r,o=>i.push(o),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,ml(n)?gw(n,()=>{var r=t;return(i,o)=>r===0||(r===1?(--r,!1):(o(()=>{i.advance(r),r=0}),!1))}):gw(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),gw(this._ctx,()=>{var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this}until(t,n){return vw(this._ctx,function(r,i,o){return!t(r.value)||(i(o),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return vw(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=Ns(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&ml(n,!0)&&n.limit>0)return this._read(i=>{var o=vm(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return vw(this._ctx,function(i){var o=i.primaryKey.toString(),a=Rr(r,o);return r[o]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var o=Mt(t),a=o.length;i=function(m){for(var b=!1,g=0;g<a;++g){var y=o[g],w=t[y];qi(m,y)!==w&&(Wr(m,y,w),b=!0)}return b}}const s=n.table.core,{outbound:l,extractKey:u}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,f=[];let d=0;const h=[],v=(m,b)=>{const{failures:g,numFailures:y}=b;d+=m-y;for(let w of Mt(g))f.push(g[w])};return this.clone().primaryKeys().then(m=>{const b=g=>{const y=Math.min(c,m.length-g);return s.getMany({trans:r,keys:m.slice(g,g+y),cache:"immutable"}).then(w=>{const _=[],S=[],E=l?[]:null,P=[];for(let C=0;C<y;++C){const I=w[C],N={value:$h(I),primKey:m[g+C]};i.call(N,N.value,N)!==!1&&(N.value==null?P.push(m[g+C]):l||Cn(u(I),u(N.value))===0?(S.push(N.value),l&&E.push(m[g+C])):(P.push(m[g+C]),_.push(N.value)))}const O=ml(n)&&n.limit===1/0&&(typeof t!="function"||t===yw)&&{index:n.index,range:n.range};return Promise.resolve(_.length>0&&s.mutate({trans:r,type:"add",values:_}).then(C=>{for(let I in C.failures)P.splice(parseInt(I),1);v(_.length,C)})).then(()=>(S.length>0||O&&typeof t=="object")&&s.mutate({trans:r,type:"put",keys:E,values:S,criteria:O,changeSpec:typeof t!="function"&&t}).then(C=>v(S.length,C))).then(()=>(P.length>0||O&&t===yw)&&s.mutate({trans:r,type:"delete",keys:P,criteria:O}).then(C=>v(P.length,C))).then(()=>m.length>g+y&&b(g+c))})};return b(0).then(()=>{if(f.length>0)throw new _v("Error modifying one or more objects",f,d,h);return m.length})})})}delete(){var t=this._ctx,n=t.range;return ml(t)&&(t.isPrimKey&&!Hfe||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:s,lastResult:l,results:u,numFailures:c})=>{if(c)throw new _v("Could not delete some values",Object.keys(s).map(f=>s[f]),a-c);return a-c}))}):this.modify(yw)}}const yw=(e,t)=>t.value=null;function Qfe(e,t){return e<t?-1:e===t?0:1}function Xfe(e,t){return e>t?-1:e===t?0:1}function Jn(e,t,n){var r=e instanceof rF?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function vl(e){return new e.Collection(e,()=>nF("")).limit(0)}function Jfe(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,l=0;l<a;++l){var u=t[l];if(u!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[l],u)<0&&(s=l)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function wp(e,t,n,r){var i,o,a,s,l,u,c,f=n.length;if(!n.every(m=>typeof m=="string"))return Jn(e,"String expected.");function d(m){i=function(g){return g==="next"?y=>y.toUpperCase():y=>y.toLowerCase()}(m),o=function(g){return g==="next"?y=>y.toLowerCase():y=>y.toUpperCase()}(m),a=m==="next"?Qfe:Xfe;var b=n.map(function(g){return{lower:o(g),upper:i(g)}}).sort(function(g,y){return a(g.lower,y.lower)});s=b.map(function(g){return g.upper}),l=b.map(function(g){return g.lower}),u=m,c=m==="next"?"":r}d("next");var h=new e.Collection(e,()=>$o(s[0],l[f-1]+r));h._ondirectionchange=function(m){d(m)};var v=0;return h._addAlgorithm(function(m,b,g){var y=m.key;if(typeof y!="string")return!1;var w=o(y);if(t(w,l,v))return!0;for(var _=null,S=v;S<f;++S){var E=Jfe(y,w,s[S],l[S],a,u);E===null&&_===null?v=S+1:(_===null||a(_,E)>0)&&(_=E)}return b(_!==null?function(){m.continue(_+c)}:g),!1}),h}function $o(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function nF(e){return{type:1,lower:e,upper:e}}class rF{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?vl(this):new this.Collection(this,()=>$o(t,n,!r,!i))}catch{return Jn(this,Ri)}}equals(t){return t==null?Jn(this,Ri):new this.Collection(this,()=>nF(t))}above(t){return t==null?Jn(this,Ri):new this.Collection(this,()=>$o(t,void 0,!0))}aboveOrEqual(t){return t==null?Jn(this,Ri):new this.Collection(this,()=>$o(t,void 0,!1))}below(t){return t==null?Jn(this,Ri):new this.Collection(this,()=>$o(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Jn(this,Ri):new this.Collection(this,()=>$o(void 0,t))}startsWith(t){return typeof t!="string"?Jn(this,"String expected."):this.between(t,t+rs,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):wp(this,(n,r)=>n.indexOf(r[0])===0,[t],rs)}equalsIgnoreCase(t){return wp(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Mi.apply(xl,arguments);return t.length===0?vl(this):wp(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Mi.apply(xl,arguments);return t.length===0?vl(this):wp(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,rs)}anyOf(){const t=Mi.apply(xl,arguments);let n=this._cmp;try{t.sort(n)}catch{return Jn(this,Ri)}if(t.length===0)return vl(this);const r=new this.Collection(this,()=>$o(t[0],t[t.length-1]));r._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((o,a,s)=>{const l=o.key;for(;n(l,t[i])>0;)if(++i,i===t.length)return a(s),!1;return n(l,t[i])===0||(a(()=>{o.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Mi.apply(xl,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Jn(this,Ri)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[-1/0,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(t.length===0)return vl(this);if(!t.every(y=>y[0]!==void 0&&y[1]!==void 0&&i(y[0],y[1])<=0))return Jn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",pe.InvalidArgument);const l=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let c,f=i;function d(y,w){return f(y[0],w[0])}try{c=t.reduce(function(y,w){let _=0,S=y.length;for(;_<S;++_){const E=y[_];if(r(w[0],E[1])<0&&r(w[1],E[0])>0){E[0]=a(E[0],w[0]),E[1]=s(E[1],w[1]);break}}return _===S&&y.push(w),y},[]),c.sort(d)}catch{return Jn(this,Ri)}let h=0;const v=u?y=>i(y,c[h][1])>0:y=>i(y,c[h][1])>=0,m=l?y=>o(y,c[h][0])>0:y=>o(y,c[h][0])>=0;let b=v;const g=new this.Collection(this,()=>$o(c[0][0],c[c.length-1][1],!l,!u));return g._ondirectionchange=y=>{y==="next"?(b=v,f=i):(b=m,f=o),c.sort(d)},g._addAlgorithm((y,w,_)=>{for(var S=y.key;b(S);)if(++h,h===c.length)return w(_),!1;return!!function(E){return!v(E)&&!m(E)}(S)||(this._cmp(S,c[h][1])===0||this._cmp(S,c[h][0])===0||w(()=>{f===i?y.continue(c[h][0]):y.continue(c[h][1])}),!1)}),g}startsWithAnyOf(){const t=Mi.apply(xl,arguments);return t.every(n=>typeof n=="string")?t.length===0?vl(this):this.inAnyRange(t.map(n=>[n,n+rs])):Jn(this,"startsWithAnyOf() only works with strings")}}function li(e){return ft(function(t){return ad(t),e(t.target.error),!1})}function ad(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const ma=hf(null,"storagemutated");class Zfe{_lock(){return Wc(!fe.global),++this._reculock,this._reculock!==1||fe.global||(fe.lockOwnerFor=this),this}_unlock(){if(Wc(!fe.global),--this._reculock==0)for(fe.global||(fe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{rc(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&fe.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Wc(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new pe.DatabaseClosed(r);case"MissingAPIError":throw new pe.MissingAPI(r.message,r);default:throw new pe.OpenFailed(r)}if(!this.active)throw new pe.TransactionInactive;return Wc(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ft(i=>{ad(i),this._reject(t.error)}),t.onabort=ft(i=>{ad(i),this.active&&this._reject(new pe.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=ft(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&ma.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return Vt(new pe.ReadOnly("Transaction is readonly"));if(!this.active)return Vt(new pe.TransactionInactive);if(this._locked())return new ne((o,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(o,a)},fe])});if(r)return ha(()=>{var o=new ne((a,s)=>{this._lock();const l=n(a,s,this);l&&l.then&&l.then(a,s)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new ne((o,a)=>{var s=n(o,a,this);s&&s.then&&s.then(o,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=ne.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new ne((a,s)=>{r.then(l=>n._waitingQueue.push(ft(a.bind(null,l))),l=>n._waitingQueue.push(ft(s.bind(null,l)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new pe.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(Rr(n,t))return n[t];const r=this.schema[t];if(!r)throw new pe.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function tS(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+iF(t)}}function iF(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function oF(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:LL(n,r=>[r.name,r])}}let sd=e=>{try{return e.only([[]]),sd=()=>[[]],[[]]}catch{return sd=()=>rs,rs}};function nS(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?n=>n[t]:n=>qi(n,t)}(e):t=>qi(t,e)}function Gk(e){return[].slice.call(e)}let ede=0;function pf(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function tde(e,t,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:c,lowerOpen:f,upperOpen:d}=l;return u===void 0?c===void 0?null:t.upperBound(c,!!d):c===void 0?t.lowerBound(u,!!f):t.bound(u,c,!!f,!!d)}const{schema:i,hasGetAll:o}=function(l,u){const c=Gk(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(f=>u.objectStore(f)).map(f=>{const{keyPath:d,autoIncrement:h}=f,v=yn(d),m=d==null,b={},g={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:v,keyPath:d,autoIncrement:h,unique:!0,extractKey:nS(d)},indexes:Gk(f.indexNames).map(y=>f.index(y)).map(y=>{const{name:w,unique:_,multiEntry:S,keyPath:E}=y,P={name:w,compound:yn(E),keyPath:E,unique:_,multiEntry:S,extractKey:nS(E)};return b[pf(E)]=P,P}),getIndexByKeyPath:y=>b[pf(y)]};return b[":id"]=g.primaryKey,d!=null&&(b[pf(d)]=g.primaryKey),g})},hasGetAll:c.length>0&&"getAll"in u.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.tables.map(l=>function(u){const c=u.name;return{name:c,schema:u,mutate:function({trans:f,type:d,keys:h,values:v,range:m}){return new Promise((b,g)=>{b=ft(b);const y=f.objectStore(c),w=y.keyPath==null,_=d==="put"||d==="add";if(!_&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:S}=h||v||{length:1};if(h&&v&&h.length!==v.length)throw new Error("Given keys array must have same length as given values array.");if(S===0)return b({numFailures:0,failures:{},results:[],lastResult:void 0});let E;const P=[],O=[];let C=0;const I=M=>{++C,ad(M)};if(d==="deleteRange"){if(m.type===4)return b({numFailures:C,failures:O,results:[],lastResult:void 0});m.type===3?P.push(E=y.clear()):P.push(E=y.delete(r(m)))}else{const[M,V]=_?w?[v,h]:[v,null]:[h,null];if(_)for(let D=0;D<S;++D)P.push(E=V&&V[D]!==void 0?y[d](M[D],V[D]):y[d](M[D])),E.onerror=I;else for(let D=0;D<S;++D)P.push(E=y[d](M[D])),E.onerror=I}const N=M=>{const V=M.target.result;P.forEach((D,$)=>D.error!=null&&(O[$]=D.error)),b({numFailures:C,failures:O,results:d==="delete"?h:P.map(D=>D.result),lastResult:V})};E.onerror=M=>{I(M),N(M)},E.onsuccess=N})},getMany:({trans:f,keys:d})=>new Promise((h,v)=>{h=ft(h);const m=f.objectStore(c),b=d.length,g=new Array(b);let y,w=0,_=0;const S=P=>{const O=P.target;g[O._pos]=O.result,++_===w&&h(g)},E=li(v);for(let P=0;P<b;++P)d[P]!=null&&(y=m.get(d[P]),y._pos=P,y.onsuccess=S,y.onerror=E,++w);w===0&&h(g)}),get:({trans:f,key:d})=>new Promise((h,v)=>{h=ft(h);const m=f.objectStore(c).get(d);m.onsuccess=b=>h(b.target.result),m.onerror=li(v)}),query:function(f){return d=>new Promise((h,v)=>{h=ft(h);const{trans:m,values:b,limit:g,query:y}=d,w=g===1/0?void 0:g,{index:_,range:S}=y,E=m.objectStore(c),P=_.isPrimaryKey?E:E.index(_.name),O=r(S);if(g===0)return h({result:[]});if(f){const C=b?P.getAll(O,w):P.getAllKeys(O,w);C.onsuccess=I=>h({result:I.target.result}),C.onerror=li(v)}else{let C=0;const I=b||!("openKeyCursor"in P)?P.openCursor(O):P.openKeyCursor(O),N=[];I.onsuccess=M=>{const V=I.result;return V?(N.push(b?V.value:V.primaryKey),++C===g?h({result:N}):void V.continue()):h({result:N})},I.onerror=li(v)}})}(o),openCursor:function({trans:f,values:d,query:h,reverse:v,unique:m}){return new Promise((b,g)=>{b=ft(b);const{index:y,range:w}=h,_=f.objectStore(c),S=y.isPrimaryKey?_:_.index(y.name),E=v?m?"prevunique":"prev":m?"nextunique":"next",P=d||!("openKeyCursor"in S)?S.openCursor(r(w),E):S.openKeyCursor(r(w),E);P.onerror=li(g),P.onsuccess=ft(O=>{const C=P.result;if(!C)return void b(null);C.___id=++ede,C.done=!1;const I=C.continue.bind(C);let N=C.continuePrimaryKey;N&&(N=N.bind(C));const M=C.advance.bind(C),V=()=>{throw new Error("Cursor not stopped")};C.trans=f,C.stop=C.continue=C.continuePrimaryKey=C.advance=()=>{throw new Error("Cursor not started")},C.fail=ft(g),C.next=function(){let D=1;return this.start(()=>D--?this.continue():this.stop()).then(()=>this)},C.start=D=>{const $=new Promise((F,A)=>{F=ft(F),P.onerror=li(A),C.fail=A,C.stop=R=>{C.stop=C.continue=C.continuePrimaryKey=C.advance=V,F(R)}}),k=()=>{if(P.result)try{D()}catch(F){C.fail(F)}else C.done=!0,C.start=()=>{throw new Error("Cursor behind last entry")},C.stop()};return P.onsuccess=ft(F=>{P.onsuccess=k,k()}),C.continue=I,C.continuePrimaryKey=N,C.advance=M,k(),$},b(C)},g)})},count({query:f,trans:d}){const{index:h,range:v}=f;return new Promise((m,b)=>{const g=d.objectStore(c),y=h.isPrimaryKey?g:g.index(h.name),w=r(v),_=w?y.count(w):y.count();_.onsuccess=ft(S=>m(S.target.result)),_.onerror=li(b)})}}}(l)),s={};return a.forEach(l=>s[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!s[l])throw new Error(`Table '${l}' not found`);return s[l]},MIN_KEY:-1/0,MAX_KEY:sd(t),schema:i}}function rS({_novip:e},t){const n=t.db,r=function(i,o,{IDBKeyRange:a,indexedDB:s},l){return{dbcore:function(c,f){return f.reduce((d,{create:h})=>({...d,...h(d)}),c)}(tde(o,a,l),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const o=i.name;e.core.schema.tables.some(a=>a.name===o)&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function Ov({_novip:e},t,n,r){n.forEach(i=>{const o=r[i];t.forEach(a=>{const s=WE(a,i);(!s||"value"in s&&s.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?Hi(a,i,{get(){return this.table(i)},set(l){ML(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new e.Table(i,o))})})}function iS({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function nde(e,t){return e._cfg.version-t._cfg.version}function rde(e,t,n,r){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);const a=o._reject.bind(o),s=fe.transless||fe;ha(()=>{fe.trans=o,fe.transless=s,t===0?(Mt(i).forEach(l=>{bw(n,l,i[l].primKey,i[l].indexes)}),rS(e,n),ne.follow(()=>e.on.populate.fire(o)).catch(a)):function({_novip:l},u,c,f){const d=[],h=l._versions;let v=l._dbSchema=aS(l,l.idbdb,f),m=!1;function b(){return d.length?ne.resolve(d.shift()(c.idbtrans)).then(b):ne.resolve()}return h.filter(g=>g._cfg.version>=u).forEach(g=>{d.push(()=>{const y=v,w=g._cfg.dbschema;sS(l,y,f),sS(l,w,f),v=l._dbSchema=w;const _=aF(y,w);_.add.forEach(E=>{bw(f,E[0],E[1].primKey,E[1].indexes)}),_.change.forEach(E=>{if(E.recreate)throw new pe.Upgrade("Not yet support for changing primary key");{const P=f.objectStore(E.name);E.add.forEach(O=>oS(P,O)),E.change.forEach(O=>{P.deleteIndex(O.name),oS(P,O)}),E.del.forEach(O=>P.deleteIndex(O))}});const S=g._cfg.contentUpgrade;if(S&&g._cfg.version>u){rS(l,f),c._memoizedTables={},m=!0;let E=FL(w);_.del.forEach(I=>{E[I]=y[I]}),iS(l,[l.Transaction.prototype]),Ov(l,[l.Transaction.prototype],Mt(E),E),c.schema=E;const P=zE(S);let O;P&&nc();const C=ne.follow(()=>{if(O=S(c),O&&P){var I=so.bind(null,null);O.then(I,I)}});return O&&typeof O.then=="function"?ne.resolve(O):C.then(()=>O)}}),d.push(y=>{(!m||!Kfe)&&function(w,_){[].slice.call(_.db.objectStoreNames).forEach(S=>w[S]==null&&_.db.deleteObjectStore(S))}(g._cfg.dbschema,y),iS(l,[l.Transaction.prototype]),Ov(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),b().then(()=>{var g,y;y=f,Mt(g=v).forEach(w=>{y.db.objectStoreNames.contains(w)||bw(y,w,g[w].primKey,g[w].indexes)})})}(e,t,o,n).catch(a)})}function aF(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],o=t[r];if(i){const a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!jb)a.recreate=!0,n.change.push(a);else{const s=i.idxByName,l=o.idxByName;let u;for(u in s)l[u]||a.del.push(u);for(u in l){const c=s[u],f=l[u];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,o])}return n}function bw(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>oS(i,o)),i}function oS(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function aS(e,t,n){const r={};return wv(t.objectStoreNames,0).forEach(i=>{const o=n.objectStore(i);let a=o.keyPath;const s=tS(iF(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),l=[];for(let c=0;c<o.indexNames.length;++c){const f=o.index(o.indexNames[c]);a=f.keyPath;var u=tS(f.name,a,!!f.unique,!!f.multiEntry,!1,a&&typeof a!="string",!1);l.push(u)}r[i]=oF(i,s,l)}),r}function sS({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],a=n.objectStore(o);e._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){const l=a.indexNames[s],u=a.index(l).keyPath,c=typeof u=="string"?u:"["+wv(u).join("+")+"]";if(t[o]){const f=t[o].idxByName[c];f&&(f.name=l,delete t[o].idxByName[c],t[o].idxByName[l]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&at.WorkerGlobalScope&&at instanceof at.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class ide{_parseStoresSpec(t,n){Mt(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((a,s)=>{const l=(a=a.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return tS(l,u||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),yn(u),s===0)}),o=i.shift();if(o.multi)throw new pe.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new pe.Schema("Index must have a name and cannot be an empty string")}),n[r]=oF(r,o,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?kn(this._cfg.storesSource,t):t;const r=n._versions,i={};let o={};return r.forEach(a=>{kn(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,iS(n,[n._allTables,n,n.Transaction.prototype]),Ov(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Mt(o),o),n._storeNames=Mt(o),this}upgrade(t){return this._cfg.contentUpgrade=qE(this._cfg.contentUpgrade||Ye,t),this}}function XE(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new ps("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function JE(e){return e&&typeof e.databases=="function"}function lS(e){return ha(function(){return fe.letThrough=!0,e()})}function ode(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function ade(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?Vt(t.dbOpenError):e);Oi&&(t.openCanceller._stackHolder=il()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new pe.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,a=null,s=!1;return ne.race([r,(typeof navigator>"u"?ne.resolve():ode()).then(()=>new ne((l,u)=>{if(i(),!n)throw new pe.MissingAPI;const c=e.name,f=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!f)throw new pe.MissingAPI;f.onerror=li(u),f.onblocked=ft(e._fireOnBlocked),f.onupgradeneeded=ft(d=>{if(a=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=ad,a.abort(),f.result.close();const v=n.deleteDatabase(c);v.onsuccess=v.onerror=ft(()=>{u(new pe.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{a.onerror=li(u);var h=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;s=h<1,e._novip.idbdb=f.result,rde(e,h/10,a,u)}},u),f.onsuccess=ft(()=>{a=null;const d=e._novip.idbdb=f.result,h=wv(d.objectStoreNames);if(h.length>0)try{const m=d.transaction((v=h).length===1?v[0]:v,"readonly");t.autoSchema?function({_novip:b},g,y){b.verno=g.version/10;const w=b._dbSchema=aS(0,g,y);b._storeNames=wv(g.objectStoreNames,0),Ov(b,[b._allTables],Mt(w),w)}(e,d,m):(sS(e,e._dbSchema,m),function(b,g){const y=aF(aS(0,b.idbdb,g),b._dbSchema);return!(y.add.length||y.change.some(w=>w.add.length||w.change.length))}(e,m)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),rS(e,m)}catch{}var v;df.push(e),d.onversionchange=ft(m=>{t.vcFired=!0,e.on("versionchange").fire(m)}),d.onclose=ft(m=>{e.on("close").fire(m)}),s&&function({indexedDB:m,IDBKeyRange:b},g){!JE(m)&&g!=="__dbnames"&&XE(m,b).put({name:g}).catch(Ye)}(e._deps,c),l()},u)}))]).then(()=>(i(),t.onReadyBeingFired=[],ne.resolve(lS(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(qE,Ye);return t.onReadyBeingFired=[],ne.resolve(lS(()=>u(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),Vt(l)}).finally(()=>{t.openComplete=!0,o()})}function uS(e){var t=o=>e.next(o),n=i(t),r=i(o=>e.throw(o));function i(o){return a=>{var s=o(a),l=s.value;return s.done?l:l&&typeof l.then=="function"?l.then(n,r):yn(l)?Promise.all(l).then(n,r):n(l)}}return i(t)()}function sde(e,t,n){var r=arguments.length;if(r<2)throw new pe.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=BL(i);return[e,o,n]}function sF(e,t,n,r,i){return ne.resolve().then(()=>{const o=fe.transless||fe,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===HE.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>sF(e,t,n,null,i))):Vt(f)}const l=zE(i);let u;l&&nc();const c=ne.follow(()=>{if(u=i.call(a,a),u)if(l){var f=so.bind(null,null);u.then(f,f)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=uS(u))},s);return(u&&typeof u.then=="function"?ne.resolve(u).then(f=>a.active?f:Vt(new pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(f=>(r&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),Vt(f)))})}function _p(e,t,n){const r=yn(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const lde={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},o=[];function a(c,f,d){const h=pf(c),v=i[h]=i[h]||[],m=c==null?0:typeof c=="string"?1:c.length,b=f>0,g={...d,isVirtual:b,keyTail:f,keyLength:m,extractKey:nS(c),unique:!b&&d.unique};return v.push(g),g.isPrimaryKey||o.push(g),m>1&&a(m===2?c[0]:c.slice(0,m-1),f+1,d),v.sort((y,w)=>y.keyTail-w.keyTail),g}const s=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(const c of r.indexes)a(c.keyPath,0,c);function l(c){const f=c.query.index;return f.isVirtual?{...c,query:{index:f,range:(d=c.query.range,h=f.keyTail,{type:d.type===1?2:d.type,lower:_p(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,h),lowerOpen:!0,upper:_p(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,h),upperOpen:!0})}}:c;var d,h}return{...n,schema:{...r,primaryKey:s,indexes:o,getIndexByKeyPath:function(c){const f=i[pf(c)];return f&&f[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:f,isVirtual:d,keyLength:h}=c.query.index;return d?n.openCursor(l(c)).then(v=>v&&function(m){return Object.create(m,{continue:{value:function(g){g!=null?m.continue(_p(g,c.reverse?e.MAX_KEY:e.MIN_KEY,f)):c.unique?m.continue(m.key.slice(0,h).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,f)):m.continue()}},continuePrimaryKey:{value(g,y){m.continuePrimaryKey(_p(g,e.MAX_KEY,f),y)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const g=m.key;return h===1?g[0]:g.slice(0,h)}},value:{get:()=>m.value}})}(v)):n.openCursor(c)}}}}}};function ZE(e,t,n,r){return n=n||{},r=r||"",Mt(e).forEach(i=>{if(Rr(t,i)){var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){const s=W_(o);s!==W_(a)?n[r+i]=t[i]:s==="Object"?ZE(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}else n[r+i]=void 0}),Mt(t).forEach(i=>{Rr(e,i)||(n[r+i]=t[i])}),n}const ude={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(o){const a=fe.trans,{deleting:s,creating:l,updating:u}=a.table(t).hook;switch(o.type){case"add":if(l.fire===Ye)break;return a._promise("readwrite",()=>c(o),!0);case"put":if(l.fire===Ye&&u.fire===Ye)break;return a._promise("readwrite",()=>c(o),!0);case"delete":if(s.fire===Ye)break;return a._promise("readwrite",()=>c(o),!0);case"deleteRange":if(s.fire===Ye)break;return a._promise("readwrite",()=>function(d){return f(d.trans,d.range,1e4)}(o),!0)}return n.mutate(o);function c(d){const h=fe.trans,v=d.keys||function(m,b){return b.type==="delete"?b.keys:b.keys||b.values.map(m.extractKey)}(r,d);if(!v)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:v}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(m,b,g){return b.type==="add"?Promise.resolve([]):m.getMany({trans:b.trans,keys:g,cache:"immutable"})}(n,d,v).then(m=>{const b=v.map((g,y)=>{const w=m[y],_={onerror:null,onsuccess:null};if(d.type==="delete")s.fire.call(_,g,w,h);else if(d.type==="add"||w===void 0){const S=l.fire.call(_,g,d.values[y],h);g==null&&S!=null&&(g=S,d.keys[y]=g,r.outbound||Wr(d.values[y],r.keyPath,g))}else{const S=ZE(w,d.values[y]),E=u.fire.call(_,S,g,w,h);if(E){const P=d.values[y];Object.keys(E).forEach(O=>{Rr(P,O)?P[O]=E[O]:Wr(P,O,E[O])})}}return _});return n.mutate(d).then(({failures:g,results:y,numFailures:w,lastResult:_})=>{for(let S=0;S<v.length;++S){const E=y?y[S]:v[S],P=b[S];E==null?P.onerror&&P.onerror(g[S]):P.onsuccess&&P.onsuccess(d.type==="put"&&m[S]?d.values[S]:E)}return{failures:g,results:y,numFailures:w,lastResult:_}}).catch(g=>(b.forEach(y=>y.onerror&&y.onerror(g)),Promise.reject(g)))})}function f(d,h,v){return n.query({trans:d,values:!1,query:{index:r,range:h},limit:v}).then(({result:m})=>c({type:"delete",keys:m,trans:d}).then(b=>b.numFailures>0?Promise.reject(b.failures[0]):m.length<v?{failures:[],numFailures:0,lastResult:void 0}:f(d,{...h,lower:m[m.length-1],lowerOpen:!0},v)))}}}}})};function lF(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)Cn(t.keys[i],e[o])===0&&(r.push(n?$h(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}const cde={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=lF(r.keys,r.trans._cache,r.cache==="clone");return i?ne.resolve(i):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?$h(o):o},o))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function eP(e){return!("from"in e)}const Ii=function(e,t){if(!this){const n=new Ii;return e&&"d"in e&&kn(n,e),n}kn(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function ld(e,t,n){const r=Cn(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(eP(e))return kn(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(Cn(n,e.from)<0)return i?ld(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Yk(e);if(Cn(t,e.to)>0)return o?ld(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Yk(e);Cn(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Cn(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&$v(e,i),o&&a&&$v(e,o)}function $v(e,t){eP(t)||function n(r,{from:i,to:o,l:a,r:s}){ld(r,i,o),a&&n(r,a),s&&n(r,s)}(e,t)}function fde(e,t){const n=cS(t);let r=n.next();if(r.done)return!1;let i=r.value;const o=cS(e);let a=o.next(i.from),s=a.value;for(;!r.done&&!a.done;){if(Cn(s.from,i.to)<=0&&Cn(s.to,i.from)>=0)return!0;Cn(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function cS(e){let t=eP(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Cn(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Cn(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Yk(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const o=i==="r"?"l":"r",a={...e},s=e[i];e.from=s.from,e.to=s.to,e[i]=s[i],a[i]=s[o],e[o]=a,a.d=Qk(a)}e.d=Qk(e)}function Qk({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Au(Ii.prototype,{add(e){return $v(this,e),this},addKey(e){return ld(this,e,e),this},addKeys(e){return e.forEach(t=>ld(this,t,t)),this},[z_](){return cS(this)}});const dde={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Ii(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:l}=a,u={...i,mutate:d=>{const h=d.trans,v=h.mutatedParts||(h.mutatedParts={}),m=E=>{const P=`idb://${t}/${r}/${E}`;return v[P]||(v[P]=new Ii)},b=m(""),g=m(":dels"),{type:y}=d;let[w,_]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const S=d.trans._cache;return i.mutate(d).then(E=>{if(yn(w)){y!=="delete"&&(w=E.results),b.addKeys(w);const P=lF(w,S);P||y==="add"||g.addKeys(w),(P||_)&&function(O,C,I,N){function M(V){const D=O(V.name||"");function $(F){return F!=null?V.extractKey(F):null}const k=F=>V.multiEntry&&yn(F)?F.forEach(A=>D.addKey(A)):D.addKey(F);(I||N).forEach((F,A)=>{const R=I&&$(I[A]),j=N&&$(N[A]);Cn(R,j)!==0&&(R!=null&&k(R),j!=null&&k(j))})}C.indexes.forEach(M)}(m,o,P,_)}else if(w){const P={from:w.lower,to:w.upper};g.add(P),b.add(P)}else b.add(n),g.add(n),o.indexes.forEach(P=>m(P.name).add(n));return E})}},c=({query:{index:d,range:h}})=>{var v,m;return[d,new Ii((v=h.lower)!==null&&v!==void 0?v:e.MIN_KEY,(m=h.upper)!==null&&m!==void 0?m:e.MAX_KEY)]},f={get:d=>[a,new Ii(d.key)],getMany:d=>[a,new Ii().addKeys(d.keys)],count:c,query:c,openCursor:c};return Mt(f).forEach(d=>{u[d]=function(h){const{subscr:v}=fe;if(v){const m=_=>{const S=`idb://${t}/${r}/${_}`;return v[S]||(v[S]=new Ii)},b=m(""),g=m(":dels"),[y,w]=f[d](h);if(m(y.name||"").add(w),!y.isPrimaryKey){if(d!=="count"){const _=d==="query"&&l&&h.values&&i.query({...h,values:!1});return i[d].apply(this,arguments).then(S=>{if(d==="query"){if(l&&h.values)return _.then(({result:P})=>(b.addKeys(P),S));const E=h.values?S.result.map(s):S.result;h.values?b.addKeys(E):g.addKeys(E)}else if(d==="openCursor"){const E=S,P=h.values;return E&&Object.create(E,{key:{get:()=>(g.addKey(E.primaryKey),E.key)},primaryKey:{get(){const O=E.primaryKey;return g.addKey(O),O}},value:{get:()=>(P&&b.addKey(E.primaryKey),E.value)}})}return S})}g.add(n)}}return i[d].apply(this,arguments)}}),u}}}};class ps{constructor(t,n){this._middlewares={},this.verno=0;const r=ps.dependencies;this._options=n={addons:ps.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ye,dbReadyPromise:null,cancelOpen:Ye,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new ne(s=>{o.dbReadyResolve=s}),o.openCanceller=new ne((s,l)=>{o.cancelOpen=l}),this._state=o,this.name=t,this.on=hf(this,"populate","blocked","versionchange","close",{ready:[qE,Ye]}),this.on.ready.subscribe=jL(this.on.ready.subscribe,s=>(l,u)=>{ps.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||ne.resolve().then(l),u&&s(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),u&&s(l);else{s(l);const f=this;u||s(function d(){f.on.ready.unsubscribe(l),f.on.ready.unsubscribe(d)})}})}),this.Collection=(a=this,Dc(Yfe.prototype,function(s,l){this.db=a;let u=tF,c=null;if(l)try{u=l()}catch(v){c=v}const f=s._ctx,d=f.table,h=d.hook.reading.fire;this._ctx={table:d,index:f.index,isPrimKey:!f.index||d.schema.primKey.keyPath&&f.index===d.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:f.or,valueMapper:h!==id?h:null}})),this.Table=function(s){return Dc(Gfe.prototype,function(l,u,c){this.db=s,this._tx=c,this.name=l,this.schema=u,this.hook=s._allTables[l]?s._allTables[l].hook:hf(null,{creating:[Mfe,Ye],reading:[Dfe,id],updating:[Nfe,Ye],deleting:[jfe,Ye]})})}(this),this.Transaction=function(s){return Dc(Zfe.prototype,function(l,u,c,f,d){this.db=s,this.mode=l,this.storeNames=u,this.schema=c,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=hf(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ne((h,v)=>{this._resolve=h,this._reject=v}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},h=>{var v=this.active;return this.active=!1,this.on.error.fire(h),this.parent?this.parent._reject(h):v&&this.idbtrans&&this.idbtrans.abort(),Vt(h)})})}(this),this.Version=function(s){return Dc(ide.prototype,function(l){this.db=s,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(s){return Dc(rF.prototype,function(l,u,c){this.db=s,this._ctx={table:l,index:u===":id"?null:u,or:c};const f=s._deps.indexedDB;if(!f)throw new pe.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(d,h)=>f.cmp(h,d),this._max=(d,h)=>f.cmp(d,h)>0?d:h,this._min=(d,h)=>f.cmp(d,h)<0?d:h,this._IDBKeyRange=s._deps.IDBKeyRange})}(this),this.on("versionchange",s=>{s.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",s=>{!s.newVersion||s.newVersion<s.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${s.oldVersion/10}`)}),this._maxKey=sd(n.IDBKeyRange),this._createTransaction=(s,l,u,c)=>new this.Transaction(s,l,u,this._options.chromeTransactionDurability,c),this._fireOnBlocked=s=>{this.on("blocked").fire(s),df.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(s))},this.use(lde),this.use(ude),this.use(dde),this.use(cde),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(s=>s(this))}version(t){if(isNaN(t)||t<.1)throw new pe.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(nde),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||fe.letThrough||this._vip)?t():new ne((n,r)=>{if(this._state.openComplete)return r(new pe.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new pe.DatabaseClosed);this.open().catch(Ye)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:r??10,name:i}),o.sort((a,s)=>a.level-s.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return ade(this)}_close(){const t=this._state,n=df.indexOf(this);if(n>=0&&df.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new ne(r=>{t.dbReadyResolve=r}),t.openCanceller=new ne((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new pe.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new ne((r,i)=>{const o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=ft(()=>{(function({indexedDB:s,IDBKeyRange:l},u){!JE(s)&&u!=="__dbnames"&&XE(s,l).delete(u).catch(Ye)})(this._deps,this.name),r()}),a.onerror=li(i),a.onblocked=this._fireOnBlocked};if(t)throw new pe.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Mt(this._allTables).map(t=>this._allTables[t])}transaction(){const t=sde.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=fe.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const o=t.indexOf("?")!==-1;let a,s;t=t.replace("!","").replace("?","");try{if(s=n.map(u=>{var c=u instanceof this.Table?u.name:u;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t==="readonly")a="readonly";else{if(t!="rw"&&t!="readwrite")throw new pe.InvalidArgument("Invalid transaction mode: "+t);a="readwrite"}if(i){if(i.mode==="readonly"&&a==="readwrite"){if(!o)throw new pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1){if(!o)throw new pe.SubTransaction("Table "+u+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(c,f)=>{f(u)}):Vt(u)}const l=sF.bind(null,this,a,s,i,r);return i?i._promise(a,l,"lock"):fe.trans?rc(fe.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!Rr(this._allTables,t))throw new pe.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const hde=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class pde{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[hde](){return this}}function uF(e,t){return Mt(t).forEach(n=>{$v(e[n]||(e[n]=new Ii),t[n])}),e}function mde(e){return new pde(t=>{const n=zE(e);let r=!1,i={},o={};const a={get closed(){return r},unsubscribe:()=>{r=!0,ma.storagemutated.unsubscribe(c)}};t.start&&t.start(a);let s=!1,l=!1;function u(){return Mt(o).some(d=>i[d]&&fde(i[d],o[d]))}const c=d=>{uF(i,d),u()&&f()},f=()=>{if(s||r)return;i={};const d={},h=function(v){n&&nc();const m=()=>ha(e,{subscr:v,trans:null}),b=fe.trans?rc(fe.transless,m):m();return n&&b.then(so,so),b}(d);l||(ma("storagemutated",c),l=!0),s=!0,Promise.resolve(h).then(v=>{s=!1,r||(u()?f():(i={},o=d,t.next&&t.next(v)))},v=>{["DatabaseClosedError","AbortError"].includes(v==null?void 0:v.name)||(s=!1,t.error&&t.error(v),a.unsubscribe())})};return f(),a})}let fS;try{fS={indexedDB:at.indexedDB||at.mozIndexedDB||at.webkitIndexedDB||at.msIndexedDB,IDBKeyRange:at.IDBKeyRange||at.webkitIDBKeyRange}}catch{fS={indexedDB:null,IDBKeyRange:null}}const Ba=ps;function gm(e){let t=Fi;try{Fi=!0,ma.storagemutated.fire(e)}finally{Fi=t}}Au(Ba,{...fm,delete:e=>new Ba(e,{addons:[]}).delete(),exists:e=>new Ba(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return JE(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!=="__dbnames")):XE(t,n).toCollection().primaryKeys()}(Ba.dependencies).then(e)}catch{return Vt(new pe.MissingAPI)}},defineClass:()=>function(e){kn(this,e)},ignoreTransaction:e=>fe.trans?rc(fe.transless,e):e(),vip:lS,async:function(e){return function(){try{var t=uS(e.apply(this,arguments));return t&&typeof t.then=="function"?t:ne.resolve(t)}catch(n){return Vt(n)}}},spawn:function(e,t,n){try{var r=uS(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:ne.resolve(r)}catch(i){return Vt(i)}},currentTransaction:{get:()=>fe.trans||null},waitFor:function(e,t){const n=ne.resolve(typeof e=="function"?Ba.ignoreTransaction(e):e).timeout(t||6e4);return fe.trans?fe.trans.waitFor(n):n},Promise:ne,debug:{get:()=>Oi,set:e=>{VL(e,e==="dexie"?()=>!0:eF)}},derive:nu,extend:kn,props:Au,override:jL,Events:hf,on:ma,liveQuery:mde,extendObservabilitySet:uF,getByKeyPath:qi,setByKeyPath:Wr,delByKeyPath:function(e,t){typeof t=="string"?Wr(e,t,void 0):"length"in t&&[].map.call(t,function(n){Wr(e,n,void 0)})},shallowClone:FL,deepClone:$h,getObjectDiff:ZE,cmp:Cn,asap:NL,minKey:-1/0,addons:[],connections:df,errnames:HE,dependencies:fS,semVer:"4.0.0-alpha.4",version:"4.0.0-alpha.4".split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Ba.maxKey=sd(Ba.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ma("storagemutated",e=>{if(!Fi){let t;jb?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Fi=!0,dispatchEvent(t),Fi=!1}}),addEventListener("x-storagemutated-1",({detail:e})=>{Fi||gm(e)}));let Fi=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel("x-storagemutated-1");typeof e.unref=="function"&&e.unref(),ma("storagemutated",t=>{Fi||e.postMessage(t)}),e.onmessage=t=>{t.data&&gm(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){ma("storagemutated",t=>{try{Fi||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:"x-storagemutated-1",changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key==="x-storagemutated-1"){const n=JSON.parse(t.newValue);n&&gm(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type==="x-storagemutated-1"&&gm(t.changedParts)})}ne.rejectionMapper=function(e,t){if(!e||e instanceof ru||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Uk[e.name])return e;var n=new Uk[e.name](t||e.message,e);return"stack"in e&&Hi(n,"stack",{get:function(){return this.inner.stack}}),n},VL(Oi,eF);var Cv="docs",vde="changes",Xk="attachments",cF="dexie",Jk=new Map,ym=new Map;function gde(e,t,n,r){var i="rxdb-dexie-"+e+"--"+r.version+"--"+t,o=Cr(Jk,i,()=>{var a=(async()=>{var s=Fe(n);s.autoOpen=!1;var l=new ps(i,s),u={[Cv]:wde(r),[vde]:"++sequence, id",[Xk]:"id"};return l.version(1).stores(u),await l.open(),{dexieDb:l,dexieTable:l[Cv],dexieAttachmentsTable:l[Xk],booleanIndexes:_de(r)}})();return Jk.set(i,o),ym.set(o,0),a});return o}async function yde(e){var t=await e,n=ym.get(e),r=n-1;r===0?(t.dexieDb.close(),ym.delete(e)):ym.set(e,r)}var dS="__";function kh(e){var t=e.split(".");if(t.length>1)return t.map(r=>kh(r)).join(".");if(e.startsWith("|")){var n=e.substring(1);return dS+n}else return e}function fF(e){var t=e.split(".");if(t.length>1)return t.map(r=>fF(r)).join(".");if(e.startsWith(dS)){var n=e.substring(dS.length);return"|"+n}else return e}function bde(e,t){return t&&(t=Fe(t),t=hS(t),e.forEach(n=>{var r=fa(t,n),i=r?"1":"0";qN(t,n,i)}),t)}function dF(e,t){return t&&(t=Fe(t),t=pS(t),e.forEach(n=>{var r=fa(t,n),i=r==="1";qN(t,n,i)}),t)}function hS(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>hS(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="object"&&(r=hS(r)),t[kh(n)]=r}),t}}function pS(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>pS(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="object"||Array.isArray(e))&&(r=pS(r)),t[fF(n)]=r}),t}}function wde(e){var t=[],n=hr(e.primaryKey);t.push([n]),t.push(["_deleted",n]),e.indexes&&e.indexes.forEach(o=>{var a=_u(o);t.push(a)}),t.push(["_meta.lwt",n]),t.push(["_meta.lwt"]),t=t.map(o=>o.map(a=>kh(a)));var r=t.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");r=r.filter((o,a,s)=>s.indexOf(o)===a);var i=r.join(", ");return i}async function Zk(e,t){var n=await e,r=await n.dexieTable.bulkGet(t);return r.map(i=>dF(n.booleanIndexes,i))}function Sp(e,t){return e+"||"+t}function _de(e){var t=new Set,n=[];return e.indexes?(e.indexes.forEach(r=>{var i=_u(r);i.forEach(o=>{if(!t.has(o)){t.add(o);var a=no(e,o);a.type==="boolean"&&n.push(o)}})}),n.push("_deleted"),Gie(n)):n}function eT(e){return e===vi?-1/0:e}function tT(e,t,n){if(e.includes(t)){var r=n===Vr||n===!0?"1":"0";return r}else return n}function hF(e,t,n){if(!n){if(typeof window>"u")throw new Error("IDBKeyRange missing");n=window.IDBKeyRange}var r=t.startKeys.map((a,s)=>{var l=t.index[s];return tT(e,l,a)}).map(eT),i=t.endKeys.map((a,s)=>{var l=t.index[s];return tT(e,l,a)}).map(eT),o=n.bound(r,i,!t.inclusiveStart,!t.inclusiveEnd);return o}async function nT(e,t){var n=await e.internals,r=t.query,i=r.skip?r.skip:0,o=r.limit?r.limit:1/0,a=i+o,s=t.queryPlan,l=!1;s.selectorSatisfiedByIndex||(l=kb(e.schema,t.query));var u=hF(n.booleanIndexes,s,n.dexieDb._options.IDBKeyRange),c=s.index,f=[];if(await n.dexieDb.transaction("r",n.dexieTable,async h=>{var v=h.idbtrans,m=v.objectStore(Cv),b,g;g="["+c.map(w=>kh(w)).join("+")+"]",b=m.index(g);var y=b.openCursor(u);await new Promise(w=>{y.onsuccess=function(_){var S=_.target.result;if(S){var E=dF(n.booleanIndexes,S.value);(!l||l(E))&&f.push(E),s.sortSatisfiedByIndex&&f.length===a?w():S.continue()}else w()}})}),!s.sortSatisfiedByIndex){var d=IE(e.schema,t.query);f=f.sort(d)}return f=f.slice(i,a),{documents:f}}async function Sde(e,t){var n=await e.internals,r=t.queryPlan,i=r.index,o=hF(n.booleanIndexes,r,n.dexieDb._options.IDBKeyRange),a=-1;return await n.dexieDb.transaction("r",n.dexieTable,async s=>{var l=s.idbtrans,u=l.objectStore(Cv),c,f;f="["+i.map(h=>kh(h)).join("+")+"]",c=u.index(f);var d=c.count(o);a=await new Promise((h,v)=>{d.onsuccess=function(){h(d.result)},d.onerror=m=>v(m)})}),a}var xde=Ut(),Ede=function(){function e(n,r,i,o,a,s,l){this.changes$=new Ft,this.instanceId=xde++,this.storage=n,this.databaseName=r,this.collectionName=i,this.schema=o,this.internals=a,this.options=s,this.settings=l,this.primaryPath=hr(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=async function(r,i){Ua(this),r.forEach(c=>{if(!c.document._rev||c.previous&&!c.previous._rev)throw ae("SNH",{args:{row:c}})});var o=await this.internals,a={success:[],error:[]},s=r.map(c=>c.document[this.primaryPath]),l;if(await o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,async()=>{var c=new Map,f=await Zk(this.internals,s);f.forEach(v=>{var m=v;return m&&c.set(m[this.primaryPath],m),m}),l=z2(this,this.primaryPath,c,r,i),a.error=l.errors;var d=[];l.bulkInsertDocs.forEach(v=>{a.success.push(v.document),d.push(v.document)}),l.bulkUpdateDocs.forEach(v=>{a.success.push(v.document),d.push(v.document)}),d=d.map(v=>bde(o.booleanIndexes,v)),d.length>0&&await o.dexieTable.bulkPut(d);var h=[];l.attachmentsAdd.forEach(v=>{h.push({id:Sp(v.documentId,v.attachmentId),data:v.attachmentData.data})}),l.attachmentsUpdate.forEach(v=>{h.push({id:Sp(v.documentId,v.attachmentId),data:v.attachmentData.data})}),await o.dexieAttachmentsTable.bulkPut(h),await o.dexieAttachmentsTable.bulkDelete(l.attachmentsRemove.map(v=>Sp(v.documentId,v.attachmentId)))}),l=ve(l),l.eventBulk.events.length>0){var u=ve(l.newestRow).document;l.eventBulk.checkpoint={id:u[this.primaryPath],lwt:u._meta.lwt},l.eventBulk.endTime=Ut(),this.changes$.next(l.eventBulk)}return a},t.findDocumentsById=async function(r,i){Ua(this);var o=await this.internals,a=[];return await o.dexieDb.transaction("r",o.dexieTable,async()=>{var s=await Zk(this.internals,r);s.forEach(l=>{l&&(!l._deleted||i)&&a.push(l)})}),a},t.query=function(r){return Ua(this),nT(this,r)},t.count=async function(r){if(r.queryPlan.selectorSatisfiedByIndex){var i=await Sde(this,r);return{count:i,mode:"fast"}}else{var o=await nT(this,r);return{count:o.documents.length,mode:"slow"}}},t.changeStream=function(){return Ua(this),this.changes$.asObservable()},t.cleanup=async function(r){Ua(this);var i=await this.internals;return await i.dexieDb.transaction("rw",i.dexieTable,async()=>{var o=Ut()-r,a=await i.dexieTable.where("_meta.lwt").below(o).toArray(),s=[];a.forEach(l=>{l._deleted==="1"&&s.push(l[this.primaryPath])}),await i.dexieTable.bulkDelete(s)}),!0},t.getAttachmentData=async function(r,i,o){Ua(this);var a=await this.internals,s=Sp(r,i);return await a.dexieDb.transaction("r",a.dexieAttachmentsTable,async()=>{var l=await a.dexieAttachmentsTable.get(s);if(l)return l.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+i)})},t.remove=async function(){Ua(this);var r=await this.internals;return await r.dexieTable.clear(),this.close()},t.close=function(){return this.closed?this.closed:(this.closed=(async()=>{this.changes$.complete(),await yde(this.internals)})(),this.closed)},t.conflictResultionTasks=function(){return new Ft},t.resolveConflictResultionTask=async function(r){},e}();async function Pde(e,t,n){var r=gde(t.databaseName,t.collectionName,n,t.schema),i=new Ede(e,t.databaseName,t.collectionName,t.schema,r,t.options,n);return await Hce(cF,t,i),Promise.resolve(i)}function Ua(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var Ode=function(){function e(n){this.name=cF,this.settings=n}var t=e.prototype;return t.createStorageInstance=function(r){return K2(r),Pde(this,r,this.settings)},e}();function $de(e={}){var t=new Ode(e);return t}function Cde(e,t,n,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l>=0?(o=a,i=a-1):r=a+1}return o}function Rde(e,t,n,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l>0?(o=a,i=a-1):r=a+1}return o}function kde(e,t,n,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l<0?(o=a,r=a+1):i=a-1}return o}function Tde(e,t,n,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l<=0?(o=a,r=a+1):i=a-1}return o}function Ade(e,t,n,r,i){for(;r<=i;){var o=r+i>>>1,a=e[o],s=n!==void 0?n(a,t):a-t;if(s===0)return o;s<=0?r=o+1:i=o-1}return-1}function Th(e,t,n,r,i,o){return typeof n=="function"?o(e,t,n,r===void 0?0:r|0,i===void 0?e.length-1:i|0):o(e,t,void 0,n===void 0?0:n|0,r===void 0?e.length-1:r|0)}function Ide(e,t,n,r,i){return Th(e,t,n,r,i,Cde)}function rT(e,t,n,r,i){return Th(e,t,n,r,i,Rde)}function Dde(e,t,n,r,i){return Th(e,t,n,r,i,kde)}function Mde(e,t,n,r,i){return Th(e,t,n,r,i,Tde)}function pF(e,t,n,r,i){return Th(e,t,n,r,i,Ade)}function mF(e,t,n){return[e,t,n].join("--memory--")}function xp(e){if(e.internals.removed)throw new Error("removed")}function Ep(e,t){return e+"||"+t}function jde(e,t){return e.indexString<t.indexString?-1:1}function iT(e,t,n,r,i){var o=r.document;t.documents.set(e,o);for(var a=0;a<n.length;++a){var s=n[a],l=s.docsWithIndex,u=s.getIndexableString,c=u(o),f=_2(l,{id:e,doc:o,indexString:c},jde,0);if(i){var d=u(i);if(d===c){var h=l[f-1];if(h&&h.id===e)l.splice(f-1,1);else{var v=l[f+1];if(v.id===e)l.splice(f+1,1);else throw ae("SNH",{args:{row:r,byIndex:s}})}}else{var m=pF(l,{indexString:d},mf);l.splice(m,1)}}}}function Nde(e,t,n,r){var i=r[e];n.documents.delete(i),Object.values(n.byIndex).forEach(o=>{var a=o.docsWithIndex,s=o.getIndexableString(r),l=pF(a,{indexString:s},mf);a.splice(l,1)})}function mf(e,t){var n=e.indexString,r=t.indexString;return n<r?-1:n===r?0:1}function Lde(e,t){var n=hr(t.primaryKey),r=t.indexes?t.indexes.map(i=>_u(i)):[];r.push(["_deleted","_meta.lwt",n]),r.forEach(i=>{e.byIndex[mS(i)]={index:i,docsWithIndex:[],getIndexableString:Gce(t,i)}})}function mS(e){return e.join(",")}var oT=new Set,Fde=function(){function e(n,r,i,o,a,s,l){this.closed=!1,this.storage=n,this.databaseName=r,this.collectionName=i,this.schema=o,this.internals=a,this.options=s,this.settings=l,oT.add(this),this.primaryPath=hr(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(r,i){this.ensurePersistence(),xp(this);for(var o=this.internals,a=this.internals.documents,s=this.primaryPath,l=z2(this,s,a,r,i),u=l.errors,c=new Array(l.bulkInsertDocs.length),f=l.bulkInsertDocs,d=0;d<f.length;++d){var h=f[d],v=h.document;c[d]=v}for(var m=l.bulkUpdateDocs,b=0;b<m.length;++b){var g=m[b],y=g.document;c.push(y)}if(this.internals.ensurePersistenceTask=l,this.internals.ensurePersistenceIdlePromise||(this.internals.ensurePersistenceIdlePromise=mE().then(()=>{this.internals.ensurePersistenceIdlePromise=void 0,this.ensurePersistence()})),l.eventBulk.events.length>0){var w=ve(l.newestRow).document;l.eventBulk.checkpoint={id:w[s],lwt:w._meta.lwt},l.eventBulk.endTime=Ut(),Eu.then(()=>{o.changes$.next(l.eventBulk)})}var _=Promise.resolve({success:c,error:u});return _},t.ensurePersistence=function(){if(this.internals.ensurePersistenceTask){var r=this.internals,i=this.internals.documents,o=this.primaryPath,a=this.internals.ensurePersistenceTask;delete this.internals.ensurePersistenceTask;for(var s=Object.values(this.internals.byIndex),l=a.bulkInsertDocs,u=0;u<l.length;++u){var c=l[u],f=c.document,d=f[o];iT(d,r,s,c,void 0)}for(var h=a.bulkUpdateDocs,v=0;v<h.length;++v){var m=h[v],b=m.document,g=b[o];iT(g,r,s,m,i.get(g))}if(this.schema.attachments){var y=r.attachments;a.attachmentsAdd.forEach(w=>{y.set(Ep(w.documentId,w.attachmentId),{writeData:w.attachmentData,digest:w.digest})}),this.schema.attachments&&(a.attachmentsUpdate.forEach(w=>{y.set(Ep(w.documentId,w.attachmentId),{writeData:w.attachmentData,digest:w.digest})}),a.attachmentsRemove.forEach(w=>{y.delete(Ep(w.documentId,w.attachmentId))}))}}},t.findDocumentsById=function(r,i){this.ensurePersistence();var o=this.internals.documents,a=[];if(o.size===0)return Promise.resolve(a);for(var s=0;s<r.length;++s){var l=r[s],u=o.get(l);u&&(!u._deleted||i)&&a.push(u)}return Promise.resolve(a)},t.query=function(r){this.ensurePersistence();var i=r.queryPlan,o=r.query,a=o.skip?o.skip:0,s=o.limit?o.limit:1/0,l=a+s,u=!1;i.selectorSatisfiedByIndex||(u=kb(this.schema,r.query));var c=i.index,f=!i.sortSatisfiedByIndex,d=c,h=i.startKeys,v=Ck(this.schema,d,h),m=i.endKeys;m=m;var b=Yce(this.schema,d,m),g=mS(d);if(!this.internals.byIndex[g])throw new Error("index does not exist "+g);for(var y=this.internals.byIndex[g].docsWithIndex,w=(i.inclusiveStart?Ide:rT)(y,{indexString:v},mf),_=(i.inclusiveEnd?Mde:Dde)(y,{indexString:b},mf),S=[],E=!1;!E;){var P=y[w];if(!P||w>_)break;var O=P.doc;(!u||u(O))&&S.push(O),S.length>=l&&!f&&(E=!0),w++}if(f){var C=IE(this.schema,r.query);S=S.sort(C)}return S=S.slice(a,l),Promise.resolve({documents:S})},t.count=async function(r){this.ensurePersistence();var i=await this.query(r);return{count:i.documents.length,mode:"fast"}},t.cleanup=function(r){this.ensurePersistence();for(var i=Ut()-r,o=["_deleted","_meta.lwt",this.primaryPath],a=mS(o),s=this.internals.byIndex[a].docsWithIndex,l=Ck(this.schema,o,[!0,0,""]),u=rT(s,{indexString:l},mf),c=!1;!c;){var f=s[u];!f||f.doc._meta.lwt>i?c=!0:(Nde(this.primaryPath,this.schema,this.internals,f.doc),u++)}return Eu},t.getAttachmentData=function(r,i,o){this.ensurePersistence(),xp(this);var a=Ep(r,i),s=this.internals.attachments.get(a);if(!o||!s||s.digest!==o)throw new Error("attachment does not exist: "+a);return Promise.resolve(s.writeData.data)},t.changeStream=function(){return xp(this),this.internals.changes$.asObservable()},t.remove=async function(){if(this.closed)throw new Error("closed");this.ensurePersistence(),xp(this),this.internals.removed=!0,this.storage.collectionStates.delete(mF(this.databaseName,this.collectionName,this.schema.version)),await this.close()},t.close=function(){return oT.delete(this),this.ensurePersistence(),this.closed||(this.closed=!0,this.internals.refCount=this.internals.refCount-1),mn},t.conflictResultionTasks=function(){return this.internals.conflictResultionTasks$.asObservable()},t.resolveConflictResultionTask=function(r){return mn},e}();function Bde(e,t,n){var r=mF(t.databaseName,t.collectionName,t.schema.version),i=e.collectionStates.get(r);if(!i)i={schema:t.schema,removed:!1,refCount:1,documents:new Map,attachments:t.schema.attachments?new Map:void 0,byIndex:{},conflictResultionTasks$:new Ft,changes$:new Ft},Lde(i,t.schema),e.collectionStates.set(r,i);else{if(t.devMode&&!Pu(i.schema,t.schema))throw new Error("storage was already created with a different schema");i.refCount=i.refCount+1}var o=new Fde(e,t.databaseName,t.collectionName,t.schema,i,t.options,n);return Promise.resolve(o)}var Ude=new Map;function Vde(e={}){var t={name:"memory",collectionStates:Ude,createStorageInstance(n){K2(n);var r=Object.assign({},e,n.options);return Bde(this,n,r)}};return t}const Wde={title:"cards",version:1,type:"object",primaryKey:"id",properties:{id:{type:"string",maxLength:100},nativeText:{type:"string"},learnText:{type:"string"},pronunciation:{type:"string"},examples:{type:"string"},createdAt:{type:"number"},updatedAt:{type:"number"}}},zde={title:"settings",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",maxLength:100},nativeLanguage:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}},learnLanguage:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}},cardsFront:{type:"string"}}};Ib(xfe);Ib(ufe);const aT="production".toLowerCase()==="test",Kde=async()=>{var r,i,o;const e=aT?Vde():$de(),t=await Iue({name:"cards_db",storage:e,eventReduce:!0,cleanupPolicy:{},ignoreDuplicate:aT});await t.addCollections({cards:{schema:Wde},settings:{schema:zde}});const n=a=>{a.updatedAt=new Date().getTime()};return(r=t.collections.cards)==null||r.preSave(n,!0),(i=t.collections.cards)==null||i.preInsert(n,!0),(o=t.collections.cards)==null||o.preRemove(n,!0),t},Hde=({children:e})=>{const[t,n]=p.useState();return p.useEffect(()=>{t||Kde().then(n)},[]),t?x.jsx(Hr.Provider,{db:t,children:e}):null},vS=e=>getComputedStyle(document.documentElement).getPropertyValue(e),gS=e=>{const[t=0,n=0,r=0]=e.split(" ").map(parseFloat),i=r/100,o=n*Math.min(i,1-i)/100,a=s=>{const l=(s+t/30)%12,u=i-o*Math.max(Math.min(l-3,9-l,1),-1);return Math.round(255*u).toString(16).padStart(2,"0")};return`#${a(0)}${a(8)}${a(4)}`},vF=()=>localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches,yS=e=>{const t=document.querySelector("meta[name=theme-color]");t==null||t.setAttribute("content",e)};window.global||(window.global=window);const qde=()=>(p.useEffect(()=>{vF()&&(document.documentElement.classList.add("dark"),yS(gS(vS("--background"))))},[]),x.jsx(Hde,{children:x.jsxs(qz,{children:[x.jsx(tE,{}),x.jsx(EW,{})]})})),gF=()=>x.jsx("main",{className:"flex h-screen flex-col justify-between gap-4",children:x.jsx("section",{className:"flex h-full w-full grow flex-col items-center justify-center gap-4 overflow-auto p-2",children:x.jsx(tE,{})})}),Gde=oE("ring-offset-background focus-visible:ring-ring inline-flex items-center justify-center rounded-md text-center text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"text-destructive-foreground hover:bg-destructive/90 bg-orange-800",outline:"border-input bg-background hover:bg-accent hover:text-accent-foreground border",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",icon:"bg-secondary text-secondary-foreground hover:bg-secondary/80 aspect-square rounded-full"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",iconLg:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),ge=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const a=r?sa:"button";return x.jsx(a,{ref:o,className:be(Gde({variant:t,size:n,className:e})),...i})});ge.displayName="Button";const bn=p.forwardRef(({className:e,type:t,...n},r)=>x.jsx("input",{ref:r,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),type:t,...n}));bn.displayName="Input";const Ah=({isLoading:e,className:t,children:n,...r})=>x.jsxs(ge,{className:be("grid grid-cols-[1fr_auto_1fr] gap-2",t),...r,children:[e&&x.jsx(F9,{className:"animate-spin justify-self-end"}),x.jsx("span",{className:"col-start-2",children:n})]}),Kn="access_token",Yde=async(e,{bodyParse:t=a=>a.json(),onResponse:n,onBadResponse:r,baseUrl:i,...o}={})=>{const a=new URL(e,i),s=await fetch(a,o);return s.status>=400?(r==null||r(s),{res:s}):(n==null||n(s),{res:s,data:await t(s)})},Qt=async(e,{onBadResponse:t,headers:n={"Content-type":"application/json"},...r}={})=>Yde(e,{baseUrl:"http://192.168.1.118:4000",headers:{Authorization:`Bearer ${localStorage.getItem(Kn)}`,...n},onBadResponse:i=>{if(i.status===401&&!i.url.includes("/auth/")&&!i.url.includes("/webauthn/")){location.href="/auth/login";return}t==null||t(i)},...r}),ud=({className:e,...t})=>x.jsx("form",{className:ut("flex w-full max-w-md flex-col gap-4",e),...t}),Qde=()=>{const{toast:e}=Tr(),[t,n]=p.useState(!1),[r,i]=p.useState(!1),{t:o}=je(),a=s=>{s.preventDefault(),n(!0);const l=s.currentTarget.elements.namedItem("email").value;l&&Qt("auth/forgot",{method:"POST",body:JSON.stringify({email:l})}).then(({res:u})=>{if(n(!1),u.status===401)return e({variant:"destructive",title:o("No such user")});if(u.status>=400)return e({variant:"destructive",title:o("Something went wrong")});i(!0)}).finally(()=>n(!1))};return r?x.jsxs(ud,{children:[x.jsx("h3",{className:"text-center text-lg",children:o("Thank you for submitting the form")}),x.jsx("p",{children:o("We ve just sent an email to the address associated with your account Please check your inbox for further instructions on resetting your password")}),x.jsx(ge,{type:"button",variant:"outline",asChild:!0,children:x.jsx(Qe,{to:"/auth/login",children:o("Back to login")})})]}):x.jsxs(ud,{onSubmit:a,children:[x.jsx(bn,{name:"email",placeholder:o("Email"),type:"email",required:!0}),x.jsx(Ah,{isLoading:t,type:"submit",children:o("Continue")}),x.jsx(ge,{type:"button",variant:"outline",asChild:!0,children:x.jsx(Qe,{to:"/auth/login",children:o("Back to login")})})]})};function Xde(e){return new TextEncoder().encode(e)}function ji(e){const t=new Uint8Array(e);let n="";for(const i of t)n+=String.fromCharCode(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function tP(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4,r=t.padEnd(t.length+n,"="),i=atob(r),o=new ArrayBuffer(i.length),a=new Uint8Array(o);for(let s=0;s<i.length;s++)a[s]=i.charCodeAt(s);return o}function cd(){return(window==null?void 0:window.PublicKeyCredential)!==void 0&&typeof window.PublicKeyCredential=="function"}function yF(e){const{id:t}=e;return{...e,id:tP(t),transports:e.transports}}function bF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}class cn extends Error{constructor({message:t,code:n,cause:r,name:i}){super(t,{cause:r}),this.name=i??r.name,this.code=n}}function Jde({error:e,options:t}){var r,i;const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new cn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=n.authenticatorSelection)==null?void 0:r.requireResidentKey)===!0)return new cn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(((i=n.authenticatorSelection)==null?void 0:i.userVerification)==="required")return new cn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new cn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new cn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return n.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new cn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new cn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(bF(o)){if(n.rp.id!==o)return new cn({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new cn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new cn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}class Zde{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wF=new Zde,ehe=["cross-platform","platform"];function _F(e){if(e&&!(ehe.indexOf(e)<0))return e}async function the(e){var d;if(!cd())throw new Error("WebAuthn is not supported in this browser");const n={publicKey:{...e,challenge:tP(e.challenge),user:{...e.user,id:Xde(e.user.id)},excludeCredentials:(d=e.excludeCredentials)==null?void 0:d.map(yF)}};n.signal=wF.createNewAbortSignal();let r;try{r=await navigator.credentials.create(n)}catch(h){throw Jde({error:h,options:n})}if(!r)throw new Error("Registration was not completed");const{id:i,rawId:o,response:a,type:s}=r;let l;typeof a.getTransports=="function"&&(l=a.getTransports());let u;if(typeof a.getPublicKeyAlgorithm=="function")try{u=a.getPublicKeyAlgorithm()}catch(h){ww("getPublicKeyAlgorithm()",h)}let c;if(typeof a.getPublicKey=="function")try{const h=a.getPublicKey();h!==null&&(c=ji(h))}catch(h){ww("getPublicKey()",h)}let f;if(typeof a.getAuthenticatorData=="function")try{f=ji(a.getAuthenticatorData())}catch(h){ww("getAuthenticatorData()",h)}return{id:i,rawId:ji(o),response:{attestationObject:ji(a.attestationObject),clientDataJSON:ji(a.clientDataJSON),transports:l,publicKeyAlgorithm:u,publicKey:c,authenticatorData:f},type:s,clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:_F(r.authenticatorAttachment)}}function ww(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}function nhe(e){return new TextDecoder("utf-8").decode(e)}function rhe(){const e=window.PublicKeyCredential;return e.isConditionalMediationAvailable===void 0?new Promise(t=>t(!1)):e.isConditionalMediationAvailable()}function ihe({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new cn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new cn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(bF(r)){if(n.rpId!==r)return new cn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new cn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}async function sT(e,t=!1){var f,d;if(!cd())throw new Error("WebAuthn is not supported in this browser");let n;((f=e.allowCredentials)==null?void 0:f.length)!==0&&(n=(d=e.allowCredentials)==null?void 0:d.map(yF));const r={...e,challenge:tP(e.challenge),allowCredentials:n},i={};if(t){if(!await rhe())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');i.mediation="conditional",r.allowCredentials=[]}i.publicKey=r,i.signal=wF.createNewAbortSignal();let o;try{o=await navigator.credentials.get(i)}catch(h){throw ihe({error:h,options:i})}if(!o)throw new Error("Authentication was not completed");const{id:a,rawId:s,response:l,type:u}=o;let c;return l.userHandle&&(c=nhe(l.userHandle)),{id:a,rawId:ji(s),response:{authenticatorData:ji(l.authenticatorData),clientDataJSON:ji(l.clientDataJSON),signature:ji(l.signature),userHandle:c},type:u,clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:_F(o.authenticatorAttachment)}}const ohe=()=>{var e;return(e=window.PublicKeyCredential)!=null&&e.isConditionalMediationAvailable?window.PublicKeyCredential.isConditionalMediationAvailable():new Promise(t=>t(!1))},ahe=()=>{const{toast:e}=Tr(),t=Xt(),[n,r]=p.useState(!1),[i,o]=p.useState(!1),{t:a}=je(),s=async u=>{const{data:{jwtToken:c}={}}=await Qt("/webauthn/login-complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});return c?(localStorage.setItem(Kn,c),t("/upsert")):e({variant:"destructive",title:a("Something went wrong")})};if(p.useEffect(()=>{cd()&&ohe().then(async u=>{if(r(u),o(!0),!!u)try{const{data:c}=await Qt("/webauthn/login");if(!c)return;const{signedChallenge:f,...d}=c,h=await sT(d,!0);await s({...h,signedChallenge:f})}catch(c){console.error(c),e({variant:"destructive",title:a("Something went wrong")})}})},[]),!cd()||!i||n)return null;const l=async()=>{try{const{data:u}=await Qt("/webauthn/login");if(!u)return e({variant:"destructive",title:a("Something went wrong")});const{signedChallenge:c,...f}=u,d=await sT(f);await s({...d,signedChallenge:c})}catch(u){if(console.error(u),u.name==="NotAllowedError")return e({variant:"destructive",title:a("Use settings to register passwordless")});e({variant:"destructive",title:a("Something went wrong")})}};return x.jsx(ge,{onClick:l,type:"button",children:a("Login without password")})},SF=()=>{const{t:e}=je();return x.jsx("img",{alt:e("google logo"),className:"h-5 w-5",loading:"lazy",src:"https://www.svgrepo.com/show/475656/google-color.svg"})},xF=()=>{const{t:e}=je();return x.jsxs("div",{className:"relative text-center uppercase",children:[x.jsx("div",{className:"absolute left-0 top-1/2 h-0.5 w-full rounded-full bg-[linear-gradient(to_right,_theme(colors.slate.400)_0%,_theme(colors.slate.400)_43%,_transparent_43%,_transparent_57%,_theme(colors.slate.400)_57%,_theme(colors.slate.400)_100%)] text-center uppercase"}),e("or")]})},fd=()=>localStorage.getItem(Kn),nP="lingo-cards-no-auth-usage",she=()=>{const e=Xt(),n=!localStorage.getItem(nP)&&!fd();return p.useEffect(()=>{if(n)return e("/auth/login",{replace:!0})},[n]),n},EF=e=>{const[t,n]=nE(),{toast:r}=Tr(),{t:i}=je();p.useEffect(()=>{t.has("error")&&(setTimeout(()=>r({variant:"destructive",title:e||i("Wrong google account")}),0),n({}))},[])},lhe=()=>{const e=p.useRef(null),t=p.useRef(null),n=Xt(),{toast:r}=Tr(),[i,o]=p.useState(!1),{t:a}=je();EF();const s=l=>{var f,d;if(l.preventDefault(),i)return;const u=(f=e.current)==null?void 0:f.value,c=(d=t.current)==null?void 0:d.value;!u||!c||(o(!0),Qt("auth/login",{method:"POST",body:JSON.stringify({email:u,password:c})}).then(({data:h})=>{if(h!=null&&h.jwtToken)return localStorage.setItem(Kn,h==null?void 0:h.jwtToken),n("/upsert");r({variant:"destructive",title:a("Wrong credentials")})}).finally(()=>o(!1)))};return x.jsxs(ud,{onSubmit:s,children:[x.jsx(bn,{ref:e,autoComplete:"username webauthn",name:"email",placeholder:a("email"),type:"email",required:!0}),x.jsx(bn,{ref:t,autoComplete:"current-password webauthn",placeholder:a("password"),type:"password",required:!0}),x.jsx(Qe,{className:"text-accent-foreground text-end underline",to:"/auth/forgot",children:a("Forgot password")}),x.jsx(Ah,{isLoading:i,type:"submit",children:a("Login")}),x.jsx(ahe,{}),x.jsx(xF,{}),x.jsx(ge,{type:"button",children:x.jsxs(Qe,{className:"flex gap-2",to:"http://192.168.1.118:4000/auth/google",children:[x.jsx(SF,{}),a("Login with google")]})}),x.jsxs("p",{className:"text-center",children:[x.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-200",children:[a("By continuing, you agree to Lingo Cards")," "]}),x.jsx(Qe,{className:"whitespace-nowrap text-base font-bold underline",to:"/privacy-policy",children:a("Privacy Policy")}),"."]}),x.jsxs("div",{className:"mt-10 flex justify-center gap-2",children:[x.jsx("p",{children:a("Don t have an account")}),x.jsx(Qe,{className:"text-accent-foreground underline",to:"/auth/register",children:a("Sign up")})]}),x.jsx(ge,{type:"button",variant:"outline",asChild:!0,children:x.jsx(Qe,{onClick:()=>{localStorage.removeItem(Kn),localStorage.setItem(nP,"true")},to:"/",children:a("Skip login limited features")})})]})},uhe=()=>{const{t:e}=je();return x.jsxs("div",{className:"flex w-full max-w-md flex-col gap-4",children:[x.jsx("h3",{className:"text-center text-lg",children:e("Almost there Please check your email to confirm your registration")}),x.jsx(ge,{type:"button",variant:"outline",asChild:!0,children:x.jsx(Qe,{to:"/auth/login",children:e("To login")})})]})},che=()=>{const{toast:e}=Tr(),[t,n]=p.useState(!1),[r,i]=p.useState(!1),{t:o}=je();if(EF(),r)return x.jsx(uhe,{});const a=s=>{s.preventDefault(),n(!0);const l=s.currentTarget,u=l.elements.namedItem("email").value,c=l.elements.namedItem("password").value,f=l.elements.namedItem("username").value;!u||!c||Qt("auth/register",{method:"POST",body:JSON.stringify({email:u,password:c,username:f})}).then(({res:d})=>{if(n(!1),d.status===403)return e({variant:"destructive",title:o("The email is already in use")});if(d.status>=400)return e({variant:"destructive",title:o("Something went wrong")});i(!0)}).finally(()=>n(!1))};return x.jsxs(ud,{onSubmit:a,children:[x.jsx(bn,{name:"username",placeholder:o("Username")}),x.jsx(bn,{autoComplete:"email",name:"email",placeholder:o("Email"),type:"email",required:!0}),x.jsx(bn,{name:"password",placeholder:o("Password"),type:"password",required:!0}),x.jsx(Ah,{isLoading:t,type:"submit",children:o("Register")}),x.jsx(xF,{}),x.jsx(ge,{type:"button",children:x.jsxs(Qe,{className:"flex gap-2",to:"http://192.168.1.118:4000/auth/google",children:[x.jsx(SF,{}),o("Register with google")]})}),x.jsx(ge,{type:"button",variant:"outline",asChild:!0,children:x.jsx(Qe,{onClick:()=>localStorage.removeItem(Kn),to:"/auth/login",children:o("Back to login")})})]})},fhe=()=>{const{toast:e}=Tr(),[t,n]=p.useState(!1),[r]=nE(),i=Xt(),{t:o}=je(),a=s=>{s.preventDefault(),n(!0);const l=s.currentTarget.elements.namedItem("password").value,u=r.get("token");if(!u)return e({variant:"destructive",title:o("No token in the query")});l&&Qt("auth/reset-password",{method:"POST",body:JSON.stringify({password:l,token:u})}).then(({res:c,data:f})=>{if(n(!1),c.status===401)return e({variant:"destructive",title:o("Broken reset link")});if(c.status>=400)return e({variant:"destructive",title:o("Something went wrong")});if(f!=null&&f.jwtToken)return localStorage.setItem(Kn,f==null?void 0:f.jwtToken),i("/")}).finally(()=>n(!1))};return x.jsxs(ud,{onSubmit:a,children:[x.jsx(bn,{name:"password",placeholder:o("Password"),type:"password",required:!0}),x.jsx(Ah,{isLoading:t,type:"submit",children:o("Reset password")}),x.jsx(ge,{type:"button",variant:"outline",asChild:!0,children:x.jsx(Qe,{to:"/auth/login",children:o("To login")})})]})},dhe={element:x.jsx(gF,{}),children:[{path:"login",element:x.jsx(lhe,{})},{path:"register",element:x.jsx(che,{})},{path:"forgot",element:x.jsx(Qde,{})},{path:"reset-password",element:x.jsx(fhe,{})}]},Nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ic(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function rP(e){return"nodeType"in e}function Gn(e){var t,n;return e?ic(e)?e:rP(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function iP(e){const{Document:t}=Gn(e);return e instanceof t}function Ih(e){return ic(e)?!1:e instanceof Gn(e).HTMLElement}function hhe(e){return e instanceof Gn(e).SVGElement}function oc(e){return e?ic(e)?e.document:rP(e)?iP(e)?e:Ih(e)?e.ownerDocument:document:document:document}const va=Nb?p.useLayoutEffect:p.useEffect;function oP(e){const t=p.useRef(e);return va(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function phe(){const e=p.useRef(null),t=p.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function aP(e,t){t===void 0&&(t=[e]);const n=p.useRef(e);return va(()=>{n.current!==e&&(n.current=e)},t),n}function Dh(e,t){const n=p.useRef();return p.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function bS(e){const t=oP(e),n=p.useRef(null),r=p.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function wS(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let _w={};function sP(e,t){return p.useMemo(()=>{if(t)return t;const n=_w[e]==null?0:_w[e]+1;return _w[e]=n,e+"-"+n},[e,t])}function PF(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,a)=>{const s=Object.entries(a);for(const[l,u]of s){const c=o[l];c!=null&&(o[l]=c+e*u)}return o},{...t})}}const ou=PF(1),Rv=PF(-1);function mhe(e){return"clientX"in e&&"clientY"in e}function OF(e){if(!e)return!1;const{KeyboardEvent:t}=Gn(e.target);return t&&e instanceof t}function vhe(e){if(!e)return!1;const{TouchEvent:t}=Gn(e.target);return t&&e instanceof t}function _S(e){if(vhe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return mhe(e)?{x:e.clientX,y:e.clientY}:null}const lT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ghe(e){return e.matches(lT)?e:e.querySelector(lT)}const yhe={display:"none"};function bhe(e){let{id:t,value:n}=e;return G.createElement("div",{id:t,style:yhe},n)}const whe={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function _he(e){let{id:t,announcement:n}=e;return G.createElement("div",{id:t,style:whe,role:"status","aria-live":"assertive","aria-atomic":!0},n)}function She(){const[e,t]=p.useState("");return{announce:p.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const $F=p.createContext(null);function Lb(e){const t=p.useContext($F);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function xhe(){const[e]=p.useState(()=>new Set),t=p.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[p.useCallback(r=>{let{type:i,event:o}=r;e.forEach(a=>{var s;return(s=a[i])==null?void 0:s.call(a,o)})},[e]),t]}const Ehe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Phe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ohe(e){let{announcements:t=Phe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Ehe}=e;const{announce:o,announcement:a}=She(),s=sP("DndLiveRegion"),[l,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),Lb(p.useMemo(()=>({onDragStart(f){let{active:d}=f;o(t.onDragStart({active:d}))},onDragMove(f){let{active:d,over:h}=f;t.onDragMove&&o(t.onDragMove({active:d,over:h}))},onDragOver(f){let{active:d,over:h}=f;o(t.onDragOver({active:d,over:h}))},onDragEnd(f){let{active:d,over:h}=f;o(t.onDragEnd({active:d,over:h}))},onDragCancel(f){let{active:d,over:h}=f;o(t.onDragCancel({active:d,over:h}))}}),[o,t])),!l)return null;const c=G.createElement(G.Fragment,null,G.createElement(bhe,{id:r,value:i.draggable}),G.createElement(_he,{id:s,announcement:a}));return n?pn.createPortal(c,n):c}var dn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(dn||(dn={}));function kv(){}function uT(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function $he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Qr=Object.freeze({x:0,y:0});function Che(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Rhe(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function khe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),a=i-r,s=o-n;if(r<i&&n<o){const l=t.width*t.height,u=e.width*e.height,c=a*s,f=c/(l+u-c);return Number(f.toFixed(4))}return 0}const The=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:a}=o,s=n.get(a);if(s){const l=khe(s,t);l>0&&i.push({id:a,data:{droppableContainer:o,value:l}})}}return i.sort(Che)};function Ahe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function CF(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Qr}function Ihe(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((a,s)=>({...a,top:a.top+e*s.y,bottom:a.bottom+e*s.y,left:a.left+e*s.x,right:a.right+e*s.x}),{...n})}}const Dhe=Ihe(1);function Mhe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function jhe(e,t,n){const r=Mhe(t);if(!r)return e;const{scaleX:i,scaleY:o,x:a,y:s}=r,l=e.left-a-(1-i)*parseFloat(n),u=e.top-s-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,f=o?e.height/o:e.height;return{width:c,height:f,top:u,right:l+c,bottom:u+f,left:l}}const Nhe={ignoreTransform:!1};function Mh(e,t){t===void 0&&(t=Nhe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:c}=Gn(e).getComputedStyle(e);u&&(n=jhe(n,u,c))}const{top:r,left:i,width:o,height:a,bottom:s,right:l}=n;return{top:r,left:i,width:o,height:a,bottom:s,right:l}}function cT(e){return Mh(e,{ignoreTransform:!0})}function Lhe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Fhe(e,t){return t===void 0&&(t=Gn(e).getComputedStyle(e)),t.position==="fixed"}function Bhe(e,t){t===void 0&&(t=Gn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function lP(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(iP(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Ih(i)||hhe(i)||n.includes(i))return n;const o=Gn(e).getComputedStyle(i);return i!==e&&Bhe(i,o)&&n.push(i),Fhe(i,o)?n:r(i.parentNode)}return e?r(e):n}function RF(e){const[t]=lP(e,1);return t??null}function Sw(e){return!Nb||!e?null:ic(e)?e:rP(e)?iP(e)||e===oc(e).scrollingElement?window:Ih(e)?e:null:null}function kF(e){return ic(e)?e.scrollX:e.scrollLeft}function TF(e){return ic(e)?e.scrollY:e.scrollTop}function SS(e){return{x:kF(e),y:TF(e)}}var Gt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Gt||(Gt={}));function AF(e){return!Nb||!e?!1:e===document.scrollingElement}function IF(e){const t={x:0,y:0},n=AF(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:a,isRight:s,maxScroll:r,minScroll:t}}const Uhe={x:.2,y:.2};function Vhe(e,t,n,r,i){let{top:o,left:a,right:s,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=Uhe);const{isTop:u,isBottom:c,isLeft:f,isRight:d}=IF(e),h={x:0,y:0},v={x:0,y:0},m={height:t.height*i.y,width:t.width*i.x};return!u&&o<=t.top+m.height?(h.y=Gt.Backward,v.y=r*Math.abs((t.top+m.height-o)/m.height)):!c&&l>=t.bottom-m.height&&(h.y=Gt.Forward,v.y=r*Math.abs((t.bottom-m.height-l)/m.height)),!d&&s>=t.right-m.width?(h.x=Gt.Forward,v.x=r*Math.abs((t.right-m.width-s)/m.width)):!f&&a<=t.left+m.width&&(h.x=Gt.Backward,v.x=r*Math.abs((t.left+m.width-a)/m.width)),{direction:h,speed:v}}function Whe(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function DF(e){return e.reduce((t,n)=>ou(t,SS(n)),Qr)}function zhe(e){return e.reduce((t,n)=>t+kF(n),0)}function Khe(e){return e.reduce((t,n)=>t+TF(n),0)}function Hhe(e,t){if(t===void 0&&(t=Mh),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);RF(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const qhe=[["x",["left","right"],zhe],["y",["top","bottom"],Khe]];class uP{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=lP(n),i=DF(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,a,s]of qhe)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=s(r),c=i[o]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Ghe(e){const{EventTarget:t}=Gn(e);return e instanceof t?e:oc(e)}function xw(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var wr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(wr||(wr={}));function fT(e){e.preventDefault()}function Yhe(e){e.stopPropagation()}var Ze;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Ze||(Ze={}));const MF={start:[Ze.Space,Ze.Enter],cancel:[Ze.Esc],end:[Ze.Space,Ze.Enter]},Qhe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ze.Right:return{...n,x:n.x+25};case Ze.Left:return{...n,x:n.x-25};case Ze.Down:return{...n,y:n.y+25};case Ze.Up:return{...n,y:n.y-25}}};class jF{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new vf(oc(n)),this.windowListeners=new vf(Gn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wr.Resize,this.handleCancel),this.windowListeners.add(wr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Hhe(r),n(Qr)}handleKeyDown(t){if(OF(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=MF,coordinateGetter:a=Qhe,scrollBehavior:s="smooth"}=i,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:Qr;this.referenceCoordinates||(this.referenceCoordinates=c);const f=a(t,{active:n,context:r.current,currentCoordinates:c});if(f){const d=Rv(f,c),h={x:0,y:0},{scrollableAncestors:v}=r.current;for(const m of v){const b=t.code,{isTop:g,isRight:y,isLeft:w,isBottom:_,maxScroll:S,minScroll:E}=IF(m),P=Whe(m),O={x:Math.min(b===Ze.Right?P.right-P.width/2:P.right,Math.max(b===Ze.Right?P.left:P.left+P.width/2,f.x)),y:Math.min(b===Ze.Down?P.bottom-P.height/2:P.bottom,Math.max(b===Ze.Down?P.top:P.top+P.height/2,f.y))},C=b===Ze.Right&&!y||b===Ze.Left&&!w,I=b===Ze.Down&&!_||b===Ze.Up&&!g;if(C&&O.x!==f.x){const N=m.scrollLeft+d.x,M=b===Ze.Right&&N<=S.x||b===Ze.Left&&N>=E.x;if(M&&!d.y){m.scrollTo({left:N,behavior:s});return}M?h.x=m.scrollLeft-N:h.x=b===Ze.Right?m.scrollLeft-S.x:m.scrollLeft-E.x,h.x&&m.scrollBy({left:-h.x,behavior:s});break}else if(I&&O.y!==f.y){const N=m.scrollTop+d.y,M=b===Ze.Down&&N<=S.y||b===Ze.Up&&N>=E.y;if(M&&!d.x){m.scrollTo({top:N,behavior:s});return}M?h.y=m.scrollTop-N:h.y=b===Ze.Down?m.scrollTop-S.y:m.scrollTop-E.y,h.y&&m.scrollBy({top:-h.y,behavior:s});break}}this.handleMove(t,ou(Rv(f,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}jF.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=MF,onActivation:i}=t,{active:o}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const s=o.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function dT(e){return!!(e&&"distance"in e)}function hT(e){return!!(e&&"delay"in e)}class cP{constructor(t,n,r){var i;r===void 0&&(r=Ghe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:a}=o;this.props=t,this.events=n,this.document=oc(a),this.documentListeners=new vf(this.document),this.listeners=new vf(r),this.windowListeners=new vf(Gn(a)),this.initialCoordinates=(i=_S(o))!=null?i:Qr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(wr.Resize,this.handleCancel),this.windowListeners.add(wr.DragStart,fT),this.windowListeners.add(wr.VisibilityChange,this.handleCancel),this.windowListeners.add(wr.ContextMenu,fT),this.documentListeners.add(wr.Keydown,this.handleKeydown),n){if(dT(n))return;if(hT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(wr.Click,Yhe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wr.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:a,options:{activationConstraint:s}}=o;if(!i)return;const l=(n=_S(t))!=null?n:Qr,u=Rv(i,l);if(!r&&s){if(hT(s))return xw(u,s.tolerance)?this.handleCancel():void 0;if(dT(s))return s.tolerance!=null&&xw(u,s.tolerance)?this.handleCancel():xw(u,s.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),a(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Ze.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Xhe={move:{name:"pointermove"},end:{name:"pointerup"}};class NF extends cP{constructor(t){const{event:n}=t,r=oc(n.target);super(t,Xhe,r)}}NF.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Jhe={move:{name:"mousemove"},end:{name:"mouseup"}};var xS;(function(e){e[e.RightClick=2]="RightClick"})(xS||(xS={}));class LF extends cP{constructor(t){super(t,Jhe,oc(t.event.target))}}LF.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===xS.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ew={move:{name:"touchmove"},end:{name:"touchend"}};class FF extends cP{constructor(t){super(t,Ew)}static setup(){return window.addEventListener(Ew.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ew.move.name,t)};function t(){}}}FF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var gf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(gf||(gf={}));var Tv;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Tv||(Tv={}));function Zhe(e){let{acceleration:t,activator:n=gf.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:a=5,order:s=Tv.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:f,threshold:d}=e;const h=tpe({delta:f,disabled:!o}),[v,m]=phe(),b=p.useRef({x:0,y:0}),g=p.useRef({x:0,y:0}),y=p.useMemo(()=>{switch(n){case gf.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case gf.DraggableRect:return i}},[n,i,l]),w=p.useRef(null),_=p.useCallback(()=>{const E=w.current;if(!E)return;const P=b.current.x*g.current.x,O=b.current.y*g.current.y;E.scrollBy(P,O)},[]),S=p.useMemo(()=>s===Tv.TreeOrder?[...u].reverse():u,[s,u]);p.useEffect(()=>{if(!o||!u.length||!y){m();return}for(const E of S){if((r==null?void 0:r(E))===!1)continue;const P=u.indexOf(E),O=c[P];if(!O)continue;const{direction:C,speed:I}=Vhe(E,O,y,t,d);for(const N of["x","y"])h[N][C[N]]||(I[N]=0,C[N]=0);if(I.x>0||I.y>0){m(),w.current=E,v(_,a),b.current=I,g.current=C;return}}b.current={x:0,y:0},g.current={x:0,y:0},m()},[t,_,r,m,o,a,JSON.stringify(y),JSON.stringify(h),v,u,S,c,JSON.stringify(d)])}const epe={x:{[Gt.Backward]:!1,[Gt.Forward]:!1},y:{[Gt.Backward]:!1,[Gt.Forward]:!1}};function tpe(e){let{delta:t,disabled:n}=e;const r=wS(t);return Dh(i=>{if(n||!r||!i)return epe;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Gt.Backward]:i.x[Gt.Backward]||o.x===-1,[Gt.Forward]:i.x[Gt.Forward]||o.x===1},y:{[Gt.Backward]:i.y[Gt.Backward]||o.y===-1,[Gt.Forward]:i.y[Gt.Forward]||o.y===1}}},[n,t,r])}function npe(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Dh(i=>{var o;return t===null?null:(o=r??i)!=null?o:null},[r,t])}function rpe(e,t){return p.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...o]},[]),[e,t])}var dd;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(dd||(dd={}));var ES;(function(e){e.Optimized="optimized"})(ES||(ES={}));const pT=new Map;function ipe(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,a]=p.useState(null),{frequency:s,measure:l,strategy:u}=i,c=p.useRef(e),f=b(),d=aP(f),h=p.useCallback(function(g){g===void 0&&(g=[]),!d.current&&a(y=>y===null?g:y.concat(g.filter(w=>!y.includes(w))))},[d]),v=p.useRef(null),m=Dh(g=>{if(f&&!n)return pT;if(!g||g===pT||c.current!==e||o!=null){const y=new Map;for(let w of e){if(!w)continue;if(o&&o.length>0&&!o.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const _=w.node.current,S=_?new uP(l(_),_):null;w.rect.current=S,S&&y.set(w.id,S)}return y}return g},[e,o,n,f,l]);return p.useEffect(()=>{c.current=e},[e]),p.useEffect(()=>{f||h()},[n,f]),p.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),p.useEffect(()=>{f||typeof s!="number"||v.current!==null||(v.current=setTimeout(()=>{h(),v.current=null},s))},[s,f,h,...r]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:o!=null};function b(){switch(u){case dd.Always:return!1;case dd.BeforeDragging:return n;default:return!n}}}function BF(e,t){return Dh(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ope(e,t){return BF(e,t)}function ape(e){let{callback:t,disabled:n}=e;const r=oP(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function fP(e){let{callback:t,disabled:n}=e;const r=oP(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function spe(e){return new uP(Mh(e),e)}function mT(e,t,n){t===void 0&&(t=spe);const[r,i]=p.useReducer(s,null),o=ape({callback(l){if(e)for(const u of l){const{type:c,target:f}=u;if(c==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),a=fP({callback:i});return va(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r;function s(l){if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const c=t(e);return JSON.stringify(l)===JSON.stringify(c)?l:c}}function lpe(e){const t=BF(e);return CF(e,t)}const vT=[];function upe(e){const t=p.useRef(e),n=Dh(r=>e?r&&r!==vT&&e&&t.current&&e.parentNode===t.current.parentNode?r:lP(e):vT,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function cpe(e){const[t,n]=p.useState(null),r=p.useRef(e),i=p.useCallback(o=>{const a=Sw(o.target);a&&n(s=>s?(s.set(a,SS(a)),new Map(s)):null)},[]);return p.useEffect(()=>{const o=r.current;if(e!==o){a(o);const s=e.map(l=>{const u=Sw(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,SS(u)]):null}).filter(l=>l!=null);n(s.length?new Map(s):null),r.current=e}return()=>{a(e),a(o)};function a(s){s.forEach(l=>{const u=Sw(l);u==null||u.removeEventListener("scroll",i)})}},[i,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,a)=>ou(o,a),Qr):DF(e):Qr,[e,t])}function gT(e,t){t===void 0&&(t=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},t),p.useEffect(()=>{const r=e!==Qr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Rv(e,n.current):Qr}function fpe(e){p.useEffect(()=>{if(!Nb)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function dpe(e,t){return p.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=a=>{o(a,t)},n},{}),[e,t])}function UF(e){return p.useMemo(()=>e?Lhe(e):null,[e])}const Pw=[];function hpe(e,t){t===void 0&&(t=Mh);const[n]=e,r=UF(n?Gn(n):null),[i,o]=p.useReducer(s,Pw),a=fP({callback:o});return e.length>0&&i===Pw&&o(),va(()=>{e.length?e.forEach(l=>a==null?void 0:a.observe(l)):(a==null||a.disconnect(),o())},[e]),i;function s(){return e.length?e.map(l=>AF(l)?r:new uP(t(l),l)):Pw}}function ppe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ih(t)?t:e}function mpe(e){let{measure:t}=e;const[n,r]=p.useState(null),i=p.useCallback(u=>{for(const{target:c}of u)if(Ih(c)){r(f=>{const d=t(c);return f?{...f,width:d.width,height:d.height}:d});break}},[t]),o=fP({callback:i}),a=p.useCallback(u=>{const c=ppe(u);o==null||o.disconnect(),c&&(o==null||o.observe(c)),r(c?t(c):null)},[t,o]),[s,l]=bS(a);return p.useMemo(()=>({nodeRef:s,rect:n,setRef:l}),[n,s,l])}const vpe=[{sensor:NF,options:{}},{sensor:jF,options:{}}],gpe={current:{}},bm={draggable:{measure:cT},droppable:{measure:cT,strategy:dd.WhileDragging,frequency:ES.Optimized},dragOverlay:{measure:Mh}};class yf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const ype={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:kv},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:bm,measureDroppableContainers:kv,windowRect:null,measuringScheduled:!1},bpe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:kv,draggableNodes:new Map,over:null,measureDroppableContainers:kv},dP=p.createContext(bpe),wpe=p.createContext(ype);function _pe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yf}}}function Spe(e,t){switch(t.type){case dn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case dn.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case dn.DragEnd:case dn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case dn.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new yf(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case dn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const a=new yf(e.droppable.containers);return a.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case dn.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new yf(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function xpe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=p.useContext(dP),o=wS(r),a=wS(n==null?void 0:n.id);return p.useEffect(()=>{if(!t&&!r&&o&&a!=null){if(!OF(o)||document.activeElement===o.target)return;const s=i.get(a);if(!s)return;const{activatorNode:l,node:u}=s;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const f=ghe(c);if(f){f.focus();break}}})}},[r,t,i,a,o]),null}function Epe(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function Ppe(e){return p.useMemo(()=>({draggable:{...bm.draggable,...e==null?void 0:e.draggable},droppable:{...bm.droppable,...e==null?void 0:e.droppable},dragOverlay:{...bm.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Ope(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=p.useRef(!1),{x:a,y:s}=typeof i=="boolean"?{x:i,y:i}:i;va(()=>{if(!a&&!s||!t){o.current=!1;return}if(o.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const c=n(u),f=CF(c,r);if(a||(f.x=0),s||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const d=RF(u);d&&d.scrollBy({top:f.y,left:f.x})}},[t,a,s,r,n])}const VF=p.createContext({...Qr,scaleX:1,scaleY:1});var Mo;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Mo||(Mo={}));const WF=p.memo(function(t){var n,r,i,o;let{id:a,accessibility:s,autoScroll:l=!0,children:u,sensors:c=vpe,collisionDetection:f=The,measuring:d,modifiers:h,...v}=t;const m=p.useReducer(Spe,void 0,_pe),[b,g]=m,[y,w]=xhe(),[_,S]=p.useState(Mo.Uninitialized),E=_===Mo.Initialized,{draggable:{active:P,nodes:O,translate:C},droppable:{containers:I}}=b,N=P?O.get(P):null,M=p.useRef({initial:null,translated:null}),V=p.useMemo(()=>{var ee;return P!=null?{id:P,data:(ee=N==null?void 0:N.data)!=null?ee:gpe,rect:M}:null},[P,N]),D=p.useRef(null),[$,k]=p.useState(null),[F,A]=p.useState(null),R=aP(v,Object.values(v)),j=sP("DndDescribedBy",a),U=p.useMemo(()=>I.getEnabled(),[I]),z=Ppe(d),{droppableRects:K,measureDroppableContainers:J,measuringScheduled:Ce}=ipe(U,{dragging:E,dependencies:[C.x,C.y],config:z.droppable}),q=npe(O,P),Y=p.useMemo(()=>F?_S(F):null,[F]),_e=Q(),Ne=ope(q,z.draggable.measure);Ope({activeNode:P?O.get(P):null,config:_e.layoutShiftCompensation,initialRect:Ne,measure:z.draggable.measure});const me=mT(q,z.draggable.measure,Ne),le=mT(q?q.parentElement:null),ye=p.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),tt=I.getNodeFor((n=ye.current.over)==null?void 0:n.id),Le=mpe({measure:z.dragOverlay.measure}),Ot=(r=Le.nodeRef.current)!=null?r:q,$t=E?(i=Le.rect)!=null?i:me:null,Dn=!!(Le.nodeRef.current&&Le.rect),Mn=lpe(Dn?null:me),Zt=UF(Ot?Gn(Ot):null),Ht=upe(E?tt??q:null),jt=hpe(Ht),mr=Epe(h,{transform:{x:C.x-Mn.x,y:C.y-Mn.y,scaleX:1,scaleY:1},activatorEvent:F,active:V,activeNodeRect:me,containerNodeRect:le,draggingNodeRect:$t,over:ye.current.over,overlayNodeRect:Le.rect,scrollableAncestors:Ht,scrollableAncestorRects:jt,windowRect:Zt}),Ct=Y?ou(Y,C):null,ni=cpe(Ht),So=gT(ni),Ar=gT(ni,[me]),vr=ou(mr,So),Qn=$t?Dhe($t,mr):null,jn=V&&Qn?f({active:V,collisionRect:Qn,droppableRects:K,droppableContainers:U,pointerCoordinates:Ct}):null,ce=Rhe(jn,"id"),[de,Ie]=p.useState(null),$e=Dn?mr:ou(mr,Ar),We=Ahe($e,(o=de==null?void 0:de.rect)!=null?o:null,me),qe=p.useCallback((ee,ie)=>{let{sensor:se,options:oe}=ie;if(D.current==null)return;const Z=O.get(D.current);if(!Z)return;const Se=ee.nativeEvent,Re=new se({active:D.current,activeNode:Z,event:Se,options:oe,context:ye,onStart(xe){const ze=D.current;if(ze==null)return;const Pn=O.get(ze);if(!Pn)return;const{onDragStart:Nn}=R.current,gr={active:{id:ze,data:Pn.data,rect:M}};pn.unstable_batchedUpdates(()=>{Nn==null||Nn(gr),S(Mo.Initializing),g({type:dn.DragStart,initialCoordinates:xe,active:ze}),y({type:"onDragStart",event:gr})})},onMove(xe){g({type:dn.DragMove,coordinates:xe})},onEnd:we(dn.DragEnd),onCancel:we(dn.DragCancel)});pn.unstable_batchedUpdates(()=>{k(Re),A(ee.nativeEvent)});function we(xe){return async function(){const{active:Pn,collisions:Nn,over:gr,scrollAdjustedTranslate:xo}=ye.current;let en=null;if(Pn&&xo){const{cancelDrop:tn}=R.current;en={activatorEvent:Se,active:Pn,collisions:Nn,delta:xo,over:gr},xe===dn.DragEnd&&typeof tn=="function"&&await Promise.resolve(tn(en))&&(xe=dn.DragCancel)}D.current=null,pn.unstable_batchedUpdates(()=>{g({type:xe}),S(Mo.Uninitialized),Ie(null),k(null),A(null);const tn=xe===dn.DragEnd?"onDragEnd":"onDragCancel";if(en){const ri=R.current[tn];ri==null||ri(en),y({type:tn,event:en})}})}}},[O]),wt=p.useCallback((ee,ie)=>(se,oe)=>{const Z=se.nativeEvent,Se=O.get(oe);if(D.current!==null||!Se||Z.dndKit||Z.defaultPrevented)return;const Re={active:Se};ee(se,ie.options,Re)===!0&&(Z.dndKit={capturedBy:ie.sensor},D.current=oe,qe(se,ie))},[O,qe]),L=rpe(c,wt);fpe(c),va(()=>{me&&_===Mo.Initializing&&S(Mo.Initialized)},[me,_]),p.useEffect(()=>{const{onDragMove:ee}=R.current,{active:ie,activatorEvent:se,collisions:oe,over:Z}=ye.current;if(!ie||!se)return;const Se={active:ie,activatorEvent:se,collisions:oe,delta:{x:vr.x,y:vr.y},over:Z};pn.unstable_batchedUpdates(()=>{ee==null||ee(Se),y({type:"onDragMove",event:Se})})},[vr.x,vr.y]),p.useEffect(()=>{const{active:ee,activatorEvent:ie,collisions:se,droppableContainers:oe,scrollAdjustedTranslate:Z}=ye.current;if(!ee||D.current==null||!ie||!Z)return;const{onDragOver:Se}=R.current,Re=oe.get(ce),we=Re&&Re.rect.current?{id:Re.id,rect:Re.rect.current,data:Re.data,disabled:Re.disabled}:null,xe={active:ee,activatorEvent:ie,collisions:se,delta:{x:Z.x,y:Z.y},over:we};pn.unstable_batchedUpdates(()=>{Ie(we),Se==null||Se(xe),y({type:"onDragOver",event:xe})})},[ce]),va(()=>{ye.current={activatorEvent:F,active:V,activeNode:q,collisionRect:Qn,collisions:jn,droppableRects:K,draggableNodes:O,draggingNode:Ot,draggingNodeRect:$t,droppableContainers:I,over:de,scrollableAncestors:Ht,scrollAdjustedTranslate:vr},M.current={initial:$t,translated:Qn}},[V,q,jn,Qn,O,Ot,$t,K,I,de,Ht,vr]),Zhe({..._e,delta:C,draggingRect:Qn,pointerCoordinates:Ct,scrollableAncestors:Ht,scrollableAncestorRects:jt});const B=p.useMemo(()=>({active:V,activeNode:q,activeNodeRect:me,activatorEvent:F,collisions:jn,containerNodeRect:le,dragOverlay:Le,draggableNodes:O,droppableContainers:I,droppableRects:K,over:de,measureDroppableContainers:J,scrollableAncestors:Ht,scrollableAncestorRects:jt,measuringConfiguration:z,measuringScheduled:Ce,windowRect:Zt}),[V,q,me,F,jn,le,Le,O,I,K,de,J,Ht,jt,z,Ce,Zt]),W=p.useMemo(()=>({activatorEvent:F,activators:L,active:V,activeNodeRect:me,ariaDescribedById:{draggable:j},dispatch:g,draggableNodes:O,over:de,measureDroppableContainers:J}),[F,L,V,me,g,j,O,de,J]);return G.createElement($F.Provider,{value:w},G.createElement(dP.Provider,{value:W},G.createElement(wpe.Provider,{value:B},G.createElement(VF.Provider,{value:We},u)),G.createElement(xpe,{disabled:(s==null?void 0:s.restoreFocus)===!1})),G.createElement(Ohe,{...s,hiddenTextDescribedById:j}));function Q(){const ee=($==null?void 0:$.autoScrollEnabled)===!1,ie=typeof l=="object"?l.enabled===!1:l===!1,se=E&&!ee&&!ie;return typeof l=="object"?{...l,enabled:se}:{enabled:se}}}),$pe=p.createContext(null),yT="button",Cpe="Droppable";function zF(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=sP(Cpe),{activators:a,activatorEvent:s,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:f,over:d}=p.useContext(dP),{role:h=yT,roleDescription:v="draggable",tabIndex:m=0}=i??{},b=(l==null?void 0:l.id)===t,g=p.useContext(b?VF:$pe),[y,w]=bS(),[_,S]=bS(),E=dpe(a,t),P=aP(n);va(()=>(f.set(t,{id:t,key:o,node:y,activatorNode:_,data:P}),()=>{const C=f.get(t);C&&C.key===o&&f.delete(t)}),[f,t]);const O=p.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":r,"aria-pressed":b&&h===yT?!0:void 0,"aria-roledescription":v,"aria-describedby":c.draggable}),[r,h,m,b,v,c.draggable]);return{active:l,activatorEvent:s,activeNodeRect:u,attributes:O,isDragging:b,listeners:r?void 0:E,node:y,over:d,setNodeRef:w,setActivatorNodeRef:S,transform:g}}const PS=20,Rpe=({children:e})=>{const t=$he(uT(FF,{activationConstraint:{distance:PS}}),uT(LF,{activationConstraint:{distance:PS}}));return x.jsx(WF,{sensors:t,children:e})},KF=p.createContext(void 0),kpe=p.memo(({children:e})=>{const[t,n]=p.useState([]),[r,i]=p.useState(0),[o,a]=p.useState([]),[s,l]=p.useState(null),u=h=>{const v=Hie(h||s||[]);n(v),i(v.length-1),a([])},c=h=>{n(v=>{const m=v.filter(g=>g.id!==(h==null?void 0:h.id)),b=v.findIndex(g=>g.id===h.id);return b===-1||i(g=>v[g]&&g>=b?g-1:g),m}),a(v=>v.filter(m=>m.id!==(h==null?void 0:h.id)))},f=h=>{n(v=>{var y;const m=[...v],b=v.findIndex(w=>w.id===h.id);if(b===-1)return v;const g=(y=m[b])==null?void 0:y.getLatest();return g?(m[b]=g,m):v})},d=Hr.useRxCollection("cards");return p.useEffect(()=>{const h=d==null?void 0:d.find().$.subscribe(b=>{l(g=>{const y=g&&b.length<g.length,w=g&&b.length===g.length;return(!g||!y&&!w)&&u(b),b})}),v=d==null?void 0:d.update$.subscribe(({documentData:b})=>f(b)),m=d==null?void 0:d.remove$.subscribe(({documentData:b})=>c(b));return()=>{h==null||h.unsubscribe(),v==null||v.unsubscribe(),m==null||m.unsubscribe()}},[d]),x.jsx(KF.Provider,{value:{shuffledCards:t,setShuffledCards:n,activeItemIndex:r,setActiveItemIndex:i,notGuessedCards:o,setNotGuessedCards:a,reset:u,allCards:s},children:e})}),Fb=()=>p.useContext(KF),Tpe=({children:e})=>{const{shuffledCards:t,activeItemIndex:n,notGuessedCards:r,allCards:i}=Fb(),o=Xt(),a=t[n],s=!i;return p.useEffect(()=>{if(!s){if(!i.length)return o("/cards/no-cards");if(!a&&!r.length)return o("/cards/finish");if(!a&&r.length)return o("/cards/no-cards-in-stack")}},[i==null?void 0:i.length,s]),s||!a?null:e},Ape=(e,t)=>e.replace(new RegExp(`(${t.join("|")})`,"gi"),'<strong style="font-weight: 900">$1</strong>'),HF=p.forwardRef(({front:e,back:t,examples:n,className:r,onClick:i,innerContainerClassName:o,pronunciation:a,...s},l)=>{const[u,c]=p.useState(!0);return x.jsx("article",{ref:l,className:be("group mx-auto h-full w-[90vw] max-w-md [perspective:1000px] max-h-[50vh]",r),onClick:f=>{c(!u),i==null||i(f)},...s,children:x.jsxs("div",{className:be("relative h-full w-full rounded-3xl border border-slate-100 dark:border-slate-700 transition-all duration-1000 [transform-style:preserve-3d]",u||"[transform:rotateY(180deg)]",o),children:[x.jsx("h3",{className:"absolute inset-0 flex h-full w-full items-center justify-center rounded-3xl bg-slate-100 p-4 text-center text-3xl font-medium [backface-visibility:hidden] [overflow-wrap:anywhere] dark:bg-slate-800",children:e}),x.jsx("div",{className:"text-slate absolute inset-0 h-full w-full rounded-3xl bg-slate-100 p-2 text-center [backface-visibility:hidden] [transform:rotateY(180deg)] dark:border-slate-700 dark:bg-slate-800",children:x.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-4 overflow-hidden",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"break-all text-3xl font-medium",children:t}),x.jsx("p",{className:"break-all text-base",children:a})]}),n&&x.jsx("p",{dangerouslySetInnerHTML:{__html:Ape(n,[t,e])},className:"text-zink-700 px-4 text-left indent-4 text-base"})]})})]})})}),Av=e=>e>0,qF=e=>Math.abs(e)<=PS;var Ipe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Dpe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jt=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:s,...l},u)=>p.createElement("svg",{ref:u,...Ipe,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:`lucide lucide-${Dpe(e)}`,...l},[...t.map(([c,f])=>p.createElement(c,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},Mpe=Jt("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),GF=Jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),jpe=Jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Npe=Jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Lpe=Jt("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]),Fpe=Jt("FileDiff",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"M9 10h6",key:"9gxzsh"}],["path",{d:"M9 17h6",key:"r8uit2"}]]),Bpe=Jt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Upe=Jt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Vpe=Jt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Wpe=Jt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),zpe=Jt("PlusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Kpe=Jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Hpe=Jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qpe=Jt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Gpe=Jt("Speech",[["path",{d:"M8.8 20v-4.1l1.9.2a2.3 2.3 0 0 0 2.164-2.1V8.3A5.37 5.37 0 0 0 2 8.25c0 2.8.656 3.054 1 4.55a5.77 5.77 0 0 1 .029 2.758L2 20",key:"11atix"}],["path",{d:"M19.8 17.8a7.5 7.5 0 0 0 .003-10.603",key:"yol142"}],["path",{d:"M17 15a3.5 3.5 0 0 0-.025-4.975",key:"ssbmkc"}]]),hP=Jt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Ype=Jt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),Qpe=Jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),YF=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Bb=p.createContext({}),pP=p.createContext(null),Ub=typeof document<"u",Xpe=Ub?p.useLayoutEffect:p.useEffect,QF=p.createContext({strict:!1}),mP=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Jpe="framerAppearId",XF="data-"+mP(Jpe);function Zpe(e,t,n,r){const{visualElement:i}=p.useContext(Bb),o=p.useContext(QF),a=p.useContext(pP),s=p.useContext(YF).reducedMotion,l=p.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;p.useInsertionEffect(()=>{u&&u.update(n,a)});const c=p.useRef(!!(n[XF]&&!window.HandoffComplete));return Xpe(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Ul(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function eme(e,t,n){return p.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ul(n)&&(n.current=r))},[t])}function hd(e){return typeof e=="string"||Array.isArray(e)}function Vb(e){return typeof e=="object"&&typeof e.start=="function"}const vP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gP=["initial",...vP];function Wb(e){return Vb(e.animate)||gP.some(t=>hd(e[t]))}function JF(e){return!!(Wb(e)||e.variants)}function tme(e,t){if(Wb(e)){const{initial:n,animate:r}=e;return{initial:n===!1||hd(n)?n:void 0,animate:hd(r)?r:void 0}}return e.inherit!==!1?t:{}}function nme(e){const{initial:t,animate:n}=tme(e,p.useContext(Bb));return p.useMemo(()=>({initial:t,animate:n}),[bT(t),bT(n)])}function bT(e){return Array.isArray(e)?e.join(" "):e}const wT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pd={};for(const e in wT)pd[e]={isEnabled:t=>wT[e].some(n=>!!t[n])};function rme(e){for(const t in e)pd[t]={...pd[t],...e[t]}}const ZF=p.createContext({}),e3=p.createContext({}),ime=Symbol.for("motionComponentSymbol");function ome({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&rme(e);function o(s,l){let u;const c={...p.useContext(YF),...s,layoutId:ame(s)},{isStatic:f}=c,d=nme(s),h=r(s,f);if(!f&&Ub){d.visualElement=Zpe(i,h,c,t);const v=p.useContext(e3),m=p.useContext(QF).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,m,e,v))}return p.createElement(Bb.Provider,{value:d},u&&d.visualElement?p.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,s,eme(h,d.visualElement,l),h,f,d.visualElement))}const a=p.forwardRef(o);return a[ime]=i,a}function ame({layoutId:e}){const t=p.useContext(ZF).id;return t&&e!==void 0?t+"-"+e:e}function sme(e){function t(r,i={}){return ome(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const lme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yP(e){return typeof e!="string"||e.includes("-")?!1:!!(lme.indexOf(e)>-1||/[A-Z]/.test(e))}const Iv={};function ume(e){Object.assign(Iv,e)}const jh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(jh);function t3(e,{layout:t,layoutId:n}){return ol.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Iv[e]||e==="opacity")}const Hn=e=>!!(e&&e.getVelocity),cme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fme=jh.length;function dme(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let a=0;a<fme;a++){const s=jh[a];if(e[s]!==void 0){const l=cme[s]||s;o+=`${l}(${e[s]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const n3=e=>t=>typeof t=="string"&&t.startsWith(e),r3=n3("--"),OS=n3("var(--"),hme=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,pme=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ga=(e,t,n)=>Math.min(Math.max(n,e),t),al={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bf={...al,transform:e=>ga(0,1,e)},Pp={...al,default:1},wf=e=>Math.round(e*1e5)/1e5,zb=/(-)?([\d]*\.?[\d])+/g,i3=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,mme=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nh(e){return typeof e=="string"}const Lh=e=>({test:t=>Nh(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Co=Lh("deg"),gi=Lh("%"),he=Lh("px"),vme=Lh("vh"),gme=Lh("vw"),_T={...gi,parse:e=>gi.parse(e)/100,transform:e=>gi.transform(e*100)},ST={...al,transform:Math.round},o3={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,size:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,rotate:Co,rotateX:Co,rotateY:Co,rotateZ:Co,scale:Pp,scaleX:Pp,scaleY:Pp,scaleZ:Pp,skew:Co,skewX:Co,skewY:Co,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:bf,originX:_T,originY:_T,originZ:he,zIndex:ST,fillOpacity:bf,strokeOpacity:bf,numOctaves:ST};function bP(e,t,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=e;let l=!1,u=!1,c=!0;for(const f in t){const d=t[f];if(r3(f)){o[f]=d;continue}const h=o3[f],v=pme(d,h);if(ol.has(f)){if(l=!0,a[f]=v,!c)continue;d!==(h.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,s[f]=v):i[f]=v}if(t.transform||(l||r?i.transform=dme(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:h=0}=s;i.transformOrigin=`${f} ${d} ${h}`}}const wP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function a3(e,t,n){for(const r in t)!Hn(t[r])&&!t3(r,n)&&(e[r]=t[r])}function yme({transformTemplate:e},t,n){return p.useMemo(()=>{const r=wP();return bP(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function bme(e,t,n){const r=e.style||{},i={};return a3(i,r,e),Object.assign(i,yme(e,t,n)),e.transformValues?e.transformValues(i):i}function wme(e,t,n){const r={},i=bme(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const _me=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Dv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||_me.has(e)}let s3=e=>!Dv(e);function Sme(e){e&&(s3=t=>t.startsWith("on")?!Dv(t):e(t))}try{Sme(require("@emotion/is-prop-valid").default)}catch{}function xme(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(s3(i)||n===!0&&Dv(i)||!t&&!Dv(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function xT(e,t,n){return typeof e=="string"?e:he.transform(t+n*e)}function Eme(e,t,n){const r=xT(t,e.x,e.width),i=xT(n,e.y,e.height);return`${r} ${i}`}const Pme={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ome={offset:"strokeDashoffset",array:"strokeDasharray"};function $me(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?Pme:Ome;e[o.offset]=he.transform(-r);const a=he.transform(t),s=he.transform(n);e[o.array]=`${a} ${s}`}function _P(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...u},c,f,d){if(bP(e,u,c,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:v,dimensions:m}=e;h.transform&&(m&&(v.transform=h.transform),delete h.transform),m&&(i!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=Eme(m,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&$me(h,a,s,l,!1)}const l3=()=>({...wP(),attrs:{}}),SP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Cme(e,t,n,r){const i=p.useMemo(()=>{const o=l3();return _P(o,t,{enableHardwareAcceleration:!1},SP(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};a3(o,e.style,e),i.style={...o,...i.style}}return i}function Rme(e=!1){return(n,r,i,{latestValues:o},a)=>{const l=(yP(n)?Cme:wme)(r,o,a,n),c={...xme(r,typeof n=="string",e),...l,ref:i},{children:f}=r,d=p.useMemo(()=>Hn(f)?f.get():f,[f]);return p.createElement(n,{...c,children:d})}}function u3(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const c3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function f3(e,t,n,r){u3(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(c3.has(i)?i:mP(i),t.attrs[i])}function xP(e,t){const{style:n}=e,r={};for(const i in n)(Hn(n[i])||t.style&&Hn(t.style[i])||t3(i,e))&&(r[i]=n[i]);return r}function d3(e,t){const n=xP(e,t);for(const r in e)if(Hn(e[r])||Hn(t[r])){const i=jh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function EP(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function kme(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Mv=e=>Array.isArray(e),Tme=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Ame=e=>Mv(e)?e[e.length-1]||0:e;function wm(e){const t=Hn(e)?e.get():e;return Tme(t)?t.toValue():t}function Ime({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const a={latestValues:Dme(r,i,o,e),renderState:t()};return n&&(a.mount=s=>n(r,s,a)),a}const h3=e=>(t,n)=>{const r=p.useContext(Bb),i=p.useContext(pP),o=()=>Ime(e,t,r,i);return n?o():kme(o)};function Dme(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=wm(o[d]);let{initial:a,animate:s}=e;const l=Wb(e),u=JF(e);t&&u&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),s===void 0&&(s=t.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const f=c?s:a;return f&&typeof f!="boolean"&&!Vb(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const v=EP(e,h);if(!v)return;const{transitionEnd:m,transition:b,...g}=v;for(const y in g){let w=g[y];if(Array.isArray(w)){const _=c?w.length-1:0;w=w[_]}w!==null&&(i[y]=w)}for(const y in m)i[y]=m[y]}),i}const bt=e=>e;class ET{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Mme(e){let t=new ET,n=new ET,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(l,u=!1,c=!1)=>{const f=c&&i,d=f?t:n;return u&&a.add(l),d.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),a.has(c)&&(s.schedule(c),e())}i=!1,o&&(o=!1,s.process(l))}};return s}const Op=["prepare","read","update","preRender","render","postRender"],jme=40;function Nme(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Op.reduce((f,d)=>(f[d]=Mme(()=>n=!0),f),{}),a=f=>o[f].process(i),s=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,jme),1),i.timestamp=f,i.isProcessing=!0,Op.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,i.isProcessing||e(s)};return{schedule:Op.reduce((f,d)=>{const h=o[d];return f[d]=(v,m=!1,b=!1)=>(n||l(),h.schedule(v,m,b)),f},{}),cancel:f=>Op.forEach(d=>o[d].cancel(f)),state:i,steps:o}}const{schedule:ct,cancel:lo,state:fn,steps:Ow}=Nme(typeof requestAnimationFrame<"u"?requestAnimationFrame:bt,!0),Lme={useVisualState:h3({scrapeMotionValuesFromProps:d3,createRenderState:l3,onMount:(e,t,{renderState:n,latestValues:r})=>{ct.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ct.render(()=>{_P(n,r,{enableHardwareAcceleration:!1},SP(t.tagName),e.transformTemplate),f3(t,n)})}})},Fme={useVisualState:h3({scrapeMotionValuesFromProps:xP,createRenderState:wP})};function Bme(e,{forwardMotionProps:t=!1},n,r){return{...yP(e)?Lme:Fme,preloadedFeatures:n,useRender:Rme(t),createVisualElement:r,Component:e}}function Bi(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const p3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Kb(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Ume=e=>t=>p3(t)&&e(t,Kb(t));function Gi(e,t,n,r){return Bi(e,t,Ume(n),r)}const Vme=(e,t)=>n=>t(e(n)),na=(...e)=>e.reduce(Vme);function m3(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const PT=m3("dragHorizontal"),OT=m3("dragVertical");function v3(e){let t=!1;if(e==="y")t=OT();else if(e==="x")t=PT();else{const n=PT(),r=OT();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function g3(){const e=v3(!0);return e?(e(),!1):!0}class Ma{constructor(t){this.isMounted=!1,this.node=t}update(){}}function $T(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,a)=>{if(o.type==="touch"||g3())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&ct.update(()=>s[r](o,a))};return Gi(e.current,n,i,{passive:!e.getProps()[r]})}class Wme extends Ma{mount(){this.unmount=na($T(this.node,!0),$T(this.node,!1))}unmount(){}}class zme extends Ma{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=na(Bi(this.node.current,"focus",()=>this.onFocus()),Bi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const y3=(e,t)=>t?e===t?!0:y3(e,t.parentElement):!1;function $w(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Kb(n))}class Kme extends Ma{constructor(){super(...arguments),this.removeStartListeners=bt,this.removeEndListeners=bt,this.removeAccessibleListeners=bt,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),o=Gi(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();ct.update(()=>{y3(this.node.current,s.target)?u&&u(s,l):c&&c(s,l)})},{passive:!(r.onTap||r.onPointerUp)}),a=Gi(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=na(o,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=s=>{s.key!=="Enter"||!this.checkPressEnd()||$w("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&ct.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Bi(this.node.current,"keyup",a),$w("down",(s,l)=>{this.startPress(s,l)})},n=Bi(this.node.current,"keydown",t),r=()=>{this.isPressing&&$w("cancel",(o,a)=>this.cancelPress(o,a))},i=Bi(this.node.current,"blur",r);this.removeAccessibleListeners=na(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ct.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!g3()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ct.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Gi(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Bi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=na(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const $S=new WeakMap,Cw=new WeakMap,Hme=e=>{const t=$S.get(e.target);t&&t(e)},qme=e=>{e.forEach(Hme)};function Gme({root:e,...t}){const n=e||document;Cw.has(n)||Cw.set(n,{});const r=Cw.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(qme,{root:e,...t})),r[i]}function Yme(e,t,n){const r=Gme(t);return $S.set(e,n),r.observe(e),()=>{$S.delete(e),r.unobserve(e)}}const Qme={some:0,all:1};class Xme extends Ma{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Qme[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return Yme(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Jme(t,n))&&this.startObserver()}unmount(){}}function Jme({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Zme={inView:{Feature:Xme},tap:{Feature:Kme},focus:{Feature:zme},hover:{Feature:Wme}};function b3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function eve(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function tve(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Hb(e,t,n){const r=e.getProps();return EP(r,t,n!==void 0?n:r.custom,eve(e),tve(e))}let nve=bt,PP=bt;const ra=e=>e*1e3,Yi=e=>e/1e3,rve={current:!1},w3=e=>Array.isArray(e)&&typeof e[0]=="number";function _3(e){return!!(!e||typeof e=="string"&&S3[e]||w3(e)||Array.isArray(e)&&e.every(_3))}const Kc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,S3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kc([0,.65,.55,1]),circOut:Kc([.55,0,1,.45]),backIn:Kc([.31,.01,.66,-.59]),backOut:Kc([.33,1.53,.69,.99])};function x3(e){if(e)return w3(e)?Kc(e):Array.isArray(e)?e.map(x3):S3[e]}function ive(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:s,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=x3(s);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function ove(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const E3=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ave=1e-7,sve=12;function lve(e,t,n,r,i){let o,a,s=0;do a=t+(n-t)/2,o=E3(a,r,i)-e,o>0?n=a:t=a;while(Math.abs(o)>ave&&++s<sve);return a}function Fh(e,t,n,r){if(e===t&&n===r)return bt;const i=o=>lve(o,0,1,e,n);return o=>o===0||o===1?o:E3(i(o),t,r)}const uve=Fh(.42,0,1,1),cve=Fh(0,0,.58,1),P3=Fh(.42,0,.58,1),fve=e=>Array.isArray(e)&&typeof e[0]!="number",O3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$3=e=>t=>1-e(1-t),OP=e=>1-Math.sin(Math.acos(e)),C3=$3(OP),dve=O3(OP),R3=Fh(.33,1.53,.69,.99),$P=$3(R3),hve=O3($P),pve=e=>(e*=2)<1?.5*$P(e):.5*(2-Math.pow(2,-10*(e-1))),mve={linear:bt,easeIn:uve,easeInOut:P3,easeOut:cve,circIn:OP,circInOut:dve,circOut:C3,backIn:$P,backInOut:hve,backOut:R3,anticipate:pve},CT=e=>{if(Array.isArray(e)){PP(e.length===4);const[t,n,r,i]=e;return Fh(t,n,r,i)}else if(typeof e=="string")return mve[e];return e},CP=(e,t)=>n=>!!(Nh(n)&&mme.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),k3=(e,t,n)=>r=>{if(!Nh(r))return r;const[i,o,a,s]=r.match(zb);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},vve=e=>ga(0,255,e),Rw={...al,transform:e=>Math.round(vve(e))},is={test:CP("rgb","red"),parse:k3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Rw.transform(e)+", "+Rw.transform(t)+", "+Rw.transform(n)+", "+wf(bf.transform(r))+")"};function gve(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const CS={test:CP("#"),parse:gve,transform:is.transform},Vl={test:CP("hsl","hue"),parse:k3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+gi.transform(wf(t))+", "+gi.transform(wf(n))+", "+wf(bf.transform(r))+")"},On={test:e=>is.test(e)||CS.test(e)||Vl.test(e),parse:e=>is.test(e)?is.parse(e):Vl.test(e)?Vl.parse(e):CS.parse(e),transform:e=>Nh(e)?e:e.hasOwnProperty("red")?is.transform(e):Vl.transform(e)},mt=(e,t,n)=>-n*e+n*t+e;function kw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yve({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,a=0;if(!t)i=o=a=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=kw(l,s,e+1/3),o=kw(l,s,e),a=kw(l,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}const Tw=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},bve=[CS,is,Vl],wve=e=>bve.find(t=>t.test(e));function RT(e){const t=wve(e);let n=t.parse(e);return t===Vl&&(n=yve(n)),n}const T3=(e,t)=>{const n=RT(e),r=RT(t),i={...n};return o=>(i.red=Tw(n.red,r.red,o),i.green=Tw(n.green,r.green,o),i.blue=Tw(n.blue,r.blue,o),i.alpha=mt(n.alpha,r.alpha,o),is.transform(i))};function _ve(e){var t,n;return isNaN(e)&&Nh(e)&&(((t=e.match(zb))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(i3))===null||n===void 0?void 0:n.length)||0)>0}const A3={regex:hme,countKey:"Vars",token:"${v}",parse:bt},I3={regex:i3,countKey:"Colors",token:"${c}",parse:On.parse},D3={regex:zb,countKey:"Numbers",token:"${n}",parse:al.parse};function Aw(e,{regex:t,countKey:n,token:r,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function jv(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Aw(n,A3),Aw(n,I3),Aw(n,D3),n}function M3(e){return jv(e).values}function j3(e){const{values:t,numColors:n,numVars:r,tokenised:i}=jv(e),o=t.length;return a=>{let s=i;for(let l=0;l<o;l++)l<r?s=s.replace(A3.token,a[l]):l<r+n?s=s.replace(I3.token,On.transform(a[l])):s=s.replace(D3.token,wf(a[l]));return s}}const Sve=e=>typeof e=="number"?0:e;function xve(e){const t=M3(e);return j3(e)(t.map(Sve))}const ya={test:_ve,parse:M3,createTransformer:j3,getAnimatableNone:xve},N3=(e,t)=>n=>`${n>0?t:e}`;function L3(e,t){return typeof e=="number"?n=>mt(e,t,n):On.test(e)?T3(e,t):e.startsWith("var(")?N3(e,t):B3(e,t)}const F3=(e,t)=>{const n=[...e],r=n.length,i=e.map((o,a)=>L3(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}},Eve=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=L3(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},B3=(e,t)=>{const n=ya.createTransformer(t),r=jv(e),i=jv(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?na(F3(r.values,i.values),n):N3(e,t)},md=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},kT=(e,t)=>n=>mt(e,t,n);function Pve(e){return typeof e=="number"?kT:typeof e=="string"?On.test(e)?T3:B3:Array.isArray(e)?F3:typeof e=="object"?Eve:kT}function Ove(e,t,n){const r=[],i=n||Pve(e[0]),o=e.length-1;for(let a=0;a<o;a++){let s=i(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||bt:t;s=na(l,s)}r.push(s)}return r}function U3(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(PP(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Ove(t,r,i),s=a.length,l=u=>{let c=0;if(s>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const f=md(e[c],e[c+1],u);return a[c](f)};return n?u=>l(ga(e[0],e[o-1],u)):l}function $ve(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=md(0,t,r);e.push(mt(n,1,i))}}function Cve(e){const t=[0];return $ve(t,e.length-1),t}function Rve(e,t){return e.map(n=>n*t)}function kve(e,t){return e.map(()=>t||P3).splice(0,e.length-1)}function Nv({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=fve(r)?r.map(CT):CT(r),o={done:!1,value:t[0]},a=Rve(n&&n.length===t.length?n:Cve(t),e),s=U3(a,t,{ease:Array.isArray(i)?i:kve(t,i)});return{calculatedDuration:e,next:l=>(o.value=s(l),o.done=l>=e,o)}}function V3(e,t){return t?e*(1e3/t):0}const Tve=5;function W3(e,t,n){const r=Math.max(t-Tve,0);return V3(n-e(r),t-r)}const Iw=.001,Ave=.01,TT=10,Ive=.05,Dve=1;function Mve({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o;nve(e<=ra(TT));let a=1-t;a=ga(Ive,Dve,a),e=ga(Ave,TT,Yi(e)),a<1?(i=u=>{const c=u*a,f=c*e,d=c-n,h=RS(u,a),v=Math.exp(-f);return Iw-d/h*v},o=u=>{const f=u*a*e,d=f*n+n,h=Math.pow(a,2)*Math.pow(u,2)*e,v=Math.exp(-f),m=RS(Math.pow(u,2),a);return(-i(u)+Iw>0?-1:1)*((d-h)*v)/m}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-Iw+c*f},o=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const s=5/e,l=Nve(i,o,s);if(e=ra(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const jve=12;function Nve(e,t,n){let r=n;for(let i=1;i<jve;i++)r=r-e(r)/t(r);return r}function RS(e,t){return e*Math.sqrt(1-t*t)}const Lve=["duration","bounce"],Fve=["stiffness","damping","mass"];function AT(e,t){return t.some(n=>e[n]!==void 0)}function Bve(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!AT(e,Fve)&&AT(e,Lve)){const n=Mve(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function z3({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],a={done:!1,value:i},{stiffness:s,damping:l,mass:u,velocity:c,duration:f,isResolvedFromDuration:d}=Bve(r),h=c?-Yi(c):0,v=l/(2*Math.sqrt(s*u)),m=o-i,b=Yi(Math.sqrt(s/u)),g=Math.abs(m)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let y;if(v<1){const w=RS(b,v);y=_=>{const S=Math.exp(-v*b*_);return o-S*((h+v*b*m)/w*Math.sin(w*_)+m*Math.cos(w*_))}}else if(v===1)y=w=>o-Math.exp(-b*w)*(m+(h+b*m)*w);else{const w=b*Math.sqrt(v*v-1);y=_=>{const S=Math.exp(-v*b*_),E=Math.min(w*_,300);return o-S*((h+v*b*m)*Math.sinh(E)+w*m*Math.cosh(E))/w}}return{calculatedDuration:d&&f||null,next:w=>{const _=y(w);if(d)a.done=w>=f;else{let S=h;w!==0&&(v<1?S=W3(y,w,_):S=0);const E=Math.abs(S)<=n,P=Math.abs(o-_)<=t;a.done=E&&P}return a.value=a.done?o:_,a}}}function IT({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],d={done:!1,value:f},h=O=>s!==void 0&&O<s||l!==void 0&&O>l,v=O=>s===void 0?l:l===void 0||Math.abs(s-O)<Math.abs(l-O)?s:l;let m=n*t;const b=f+m,g=a===void 0?b:a(b);g!==b&&(m=g-f);const y=O=>-m*Math.exp(-O/r),w=O=>g+y(O),_=O=>{const C=y(O),I=w(O);d.done=Math.abs(C)<=u,d.value=d.done?g:I};let S,E;const P=O=>{h(d.value)&&(S=O,E=z3({keyframes:[d.value,v(d.value)],velocity:W3(w,O,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return P(0),{calculatedDuration:null,next:O=>{let C=!1;return!E&&S===void 0&&(C=!0,_(O),P(O)),S!==void 0&&O>S?E.next(O-S):(!C&&_(O),d)}}}const Uve=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ct.update(t,!0),stop:()=>lo(t),now:()=>fn.isProcessing?fn.timestamp:performance.now()}},DT=2e4;function MT(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<DT;)t+=n,r=e.next(t);return t>=DT?1/0:t}const Vve={decay:IT,inertia:IT,tween:Nv,keyframes:Nv,spring:z3};function Lv({autoplay:e=!0,delay:t=0,driver:n=Uve,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...d}){let h=1,v=!1,m,b;const g=()=>{b=new Promise(U=>{m=U})};g();let y;const w=Vve[i]||Nv;let _;w!==Nv&&typeof r[0]!="number"&&(_=U3([0,100],r,{clamp:!1}),r=[0,100]);const S=w({...d,keyframes:r});let E;s==="mirror"&&(E=w({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let P="idle",O=null,C=null,I=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=MT(S));const{calculatedDuration:N}=S;let M=1/0,V=1/0;N!==null&&(M=N+a,V=M*(o+1)-a);let D=0;const $=U=>{if(C===null)return;h>0&&(C=Math.min(C,U)),h<0&&(C=Math.min(U-V/h,C)),O!==null?D=O:D=Math.round(U-C)*h;const z=D-t*(h>=0?1:-1),K=h>=0?z<0:z>V;D=Math.max(z,0),P==="finished"&&O===null&&(D=V);let J=D,Ce=S;if(o){const Ne=D/M;let me=Math.floor(Ne),le=Ne%1;!le&&Ne>=1&&(le=1),le===1&&me--,me=Math.min(me,o+1);const ye=!!(me%2);ye&&(s==="reverse"?(le=1-le,a&&(le-=a/M)):s==="mirror"&&(Ce=E));let tt=ga(0,1,le);D>V&&(tt=s==="reverse"&&ye?1:0),J=tt*M}const q=K?{done:!1,value:r[0]}:Ce.next(J);_&&(q.value=_(q.value));let{done:Y}=q;!K&&N!==null&&(Y=h>=0?D>=V:D<=0);const _e=O===null&&(P==="finished"||P==="running"&&Y);return f&&f(q.value),_e&&A(),q},k=()=>{y&&y.stop(),y=void 0},F=()=>{P="idle",k(),m(),g(),C=I=null},A=()=>{P="finished",c&&c(),k(),m()},R=()=>{if(v)return;y||(y=n($));const U=y.now();l&&l(),O!==null?C=U-O:(!C||P==="finished")&&(C=U),P==="finished"&&g(),I=C,O=null,P="running",y.start()};e&&R();const j={then(U,z){return b.then(U,z)},get time(){return Yi(D)},set time(U){U=ra(U),D=U,O!==null||!y||h===0?O=U:C=y.now()-U/h},get duration(){const U=S.calculatedDuration===null?MT(S):S.calculatedDuration;return Yi(U)},get speed(){return h},set speed(U){U===h||!y||(h=U,j.time=Yi(D))},get state(){return P},play:R,pause:()=>{P="paused",O=D},stop:()=>{v=!0,P!=="idle"&&(P="idle",u&&u(),F())},cancel:()=>{I!==null&&$(I),F()},complete:()=>{P="finished"},sample:U=>(C=0,$(U))};return j}function Wve(e){let t;return()=>(t===void 0&&(t=e()),t)}const zve=Wve(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Kve=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$p=10,Hve=2e4,qve=(e,t)=>t.type==="spring"||e==="backgroundColor"||!_3(t.ease);function Gve(e,t,{onUpdate:n,onComplete:r,...i}){if(!(zve()&&Kve.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,s,l;const u=()=>{l=new Promise(y=>{s=y})};u();let{keyframes:c,duration:f=300,ease:d,times:h}=i;if(qve(t,i)){const y=Lv({...i,repeat:0,delay:0});let w={done:!1,value:c[0]};const _=[];let S=0;for(;!w.done&&S<Hve;)w=y.sample(S),_.push(w.value),S+=$p;h=void 0,c=_,f=S-$p,d="linear"}const v=ive(e.owner.current,t,c,{...i,duration:f,ease:d,times:h}),m=()=>v.cancel(),b=()=>{ct.update(m),s(),u()};return v.onfinish=()=>{e.set(ove(c,i)),r&&r(),b()},{then(y,w){return l.then(y,w)},attachTimeline(y){return v.timeline=y,v.onfinish=null,bt},get time(){return Yi(v.currentTime||0)},set time(y){v.currentTime=ra(y)},get speed(){return v.playbackRate},set speed(y){v.playbackRate=y},get duration(){return Yi(f)},play:()=>{a||(v.play(),lo(m))},pause:()=>v.pause(),stop:()=>{if(a=!0,v.playState==="idle")return;const{currentTime:y}=v;if(y){const w=Lv({...i,autoplay:!1});e.setWithVelocity(w.sample(y-$p).value,w.sample(y).value,$p)}b()},complete:()=>v.finish(),cancel:b}}function Yve({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:bt,pause:bt,stop:bt,then:o=>(o(),Promise.resolve()),cancel:bt,complete:bt});return t?Lv({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Qve={type:"spring",stiffness:500,damping:25,restSpeed:10},Xve=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Jve={type:"keyframes",duration:.8},Zve={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ege=(e,{keyframes:t})=>t.length>2?Jve:ol.has(e)?e.startsWith("scale")?Xve(t[1]):Qve:Zve,kS=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ya.test(t)||t==="0")&&!t.startsWith("url(")),tge=new Set(["brightness","contrast","saturate","opacity"]);function nge(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(zb)||[];if(!r)return e;const i=n.replace(r,"");let o=tge.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const rge=/([a-z-]*)\(.*?\)/g,TS={...ya,getAnimatableNone:e=>{const t=e.match(rge);return t?t.map(nge).join(" "):e}},ige={...o3,color:On,backgroundColor:On,outlineColor:On,fill:On,stroke:On,borderColor:On,borderTopColor:On,borderRightColor:On,borderBottomColor:On,borderLeftColor:On,filter:TS,WebkitFilter:TS},RP=e=>ige[e];function K3(e,t){let n=RP(e);return n!==TS&&(n=ya),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const H3=e=>/^0[^.\s]+$/.test(e);function oge(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||H3(e)}function age(e,t,n,r){const i=kS(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=r.from!==void 0?r.from:e.get();let s;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?a:o[u-1]),oge(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(s=o[u]);if(i&&l.length&&s)for(let u=0;u<l.length;u++){const c=l[u];o[c]=K3(t,s)}return o}function sge({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function kP(e,t){return e[t]||e.default||e}const TP=(e,t,n,r={})=>i=>{const o=kP(r,e)||{},a=o.delay||r.delay||0;let{elapsed:s=0}=r;s=s-ra(a);const l=age(t,e,n,o),u=l[0],c=l[l.length-1],f=kS(e,u),d=kS(e,c);let h={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-s,onUpdate:v=>{t.set(v),o.onUpdate&&o.onUpdate(v)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(sge(o)||(h={...h,...ege(e,h)}),h.duration&&(h.duration=ra(h.duration)),h.repeatDelay&&(h.repeatDelay=ra(h.repeatDelay)),!f||!d||rve.current||o.type===!1)return Yve(h);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=Gve(t,e,h);if(v)return v}return Lv(h)};function Fv(e){return!!(Hn(e)&&e.add)}const q3=e=>/^\-?\d*\.?\d+$/.test(e);function AP(e,t){e.indexOf(t)===-1&&e.push(t)}function IP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class DP{constructor(){this.subscriptions=[]}add(t){return AP(this.subscriptions,t),()=>IP(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lge=e=>!isNaN(parseFloat(e));class uge{constructor(t,n={}){this.version="10.16.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:a}=fn;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,ct.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ct.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=lge(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new DP);const r=this.events[t].add(n);return t==="change"?()=>{r(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?V3(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Iu(e,t){return new uge(e,t)}const G3=e=>t=>t.test(e),cge={test:e=>e==="auto",parse:e=>e},Y3=[al,he,gi,Co,gme,vme,cge],Mc=e=>Y3.find(G3(e)),fge=[...Y3,On,ya],dge=e=>fge.find(G3(e));function hge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Iu(n))}function pge(e,t){const n=Hb(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){const s=Ame(o[a]);hge(e,a,s)}}function mge(e,t,n){var r,i;const o=Object.keys(t).filter(s=>!e.hasValue(s)),a=o.length;if(a)for(let s=0;s<a;s++){const l=o[s],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(q3(c)||H3(c))?c=parseFloat(c):!dge(c)&&ya.test(u)&&(c=K3(l,u)),e.addValue(l,Iu(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function vge(e,t){return t?(t[e]||t.default||t).from:void 0}function gge(e,t,n){const r={};for(const i in e){const o=vge(i,t);if(o!==void 0)r[i]=o;else{const a=n.getValue(i);a&&(r[i]=a.get())}}return r}function yge({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function bge(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Q3(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const f in s){const d=e.getValue(f),h=s[f];if(!d||h===void 0||c&&yge(c,f))continue;const v={delay:n,elapsed:0,...kP(o||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[XF];if(g){const y=window.HandoffAppearAnimations(g,f,d,ct);y!==null&&(v.elapsed=y,v.isHandoff=!0)}}let m=!v.isHandoff&&!bge(d,h);if(v.type==="spring"&&(d.getVelocity()||v.velocity)&&(m=!1),d.animation&&(m=!1),m)continue;d.start(TP(f,d,h,e.shouldReduceMotion&&ol.has(f)?{type:!1}:v));const b=d.animation;Fv(l)&&(l.add(f),b.then(()=>l.remove(f))),u.push(b)}return a&&Promise.all(u).then(()=>{a&&pge(e,a)}),u}function AS(e,t,n={}){const r=Hb(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(Q3(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return wge(e,t,u+l,c,f,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,u]=s==="beforeChildren"?[o,a]:[a,o];return l().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function wge(e,t,n=0,r=0,i=1,o){const a=[],s=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(e.variantChildren).sort(_ge).forEach((u,c)=>{u.notify("AnimationStart",t),a.push(AS(u,t,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function _ge(e,t){return e.sortNodePosition(t)}function Sge(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>AS(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=AS(e,t,n);else{const i=typeof t=="function"?Hb(e,t,n.custom):t;r=Promise.all(Q3(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const xge=[...vP].reverse(),Ege=vP.length;function Pge(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Sge(e,n,r)))}function Oge(e){let t=Pge(e);const n=Cge();let r=!0;const i=(l,u)=>{const c=Hb(e,u);if(c){const{transition:f,transitionEnd:d,...h}=c;l={...l,...h,...d}}return l};function o(l){t=l(e)}function a(l,u){const c=e.getProps(),f=e.getVariantContext(!0)||{},d=[],h=new Set;let v={},m=1/0;for(let g=0;g<Ege;g++){const y=xge[g],w=n[y],_=c[y]!==void 0?c[y]:f[y],S=hd(_),E=y===u?w.isActive:null;E===!1&&(m=g);let P=_===f[y]&&_!==c[y]&&S;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...v},!w.isActive&&E===null||!_&&!w.prevProp||Vb(_)||typeof _=="boolean")continue;const O=$ge(w.prevProp,_);let C=O||y===u&&w.isActive&&!P&&S||g>m&&S;const I=Array.isArray(_)?_:[_];let N=I.reduce(i,{});E===!1&&(N={});const{prevResolvedValues:M={}}=w,V={...M,...N},D=$=>{C=!0,h.delete($),w.needsAnimating[$]=!0};for(const $ in V){const k=N[$],F=M[$];v.hasOwnProperty($)||(k!==F?Mv(k)&&Mv(F)?!b3(k,F)||O?D($):w.protectedKeys[$]=!0:k!==void 0?D($):h.add($):k!==void 0&&h.has($)?D($):w.protectedKeys[$]=!0)}w.prevProp=_,w.prevResolvedValues=N,w.isActive&&(v={...v,...N}),r&&e.blockInitialAnimation&&(C=!1),C&&!P&&d.push(...I.map($=>({animation:$,options:{type:y,...l}})))}if(h.size){const g={};h.forEach(y=>{const w=e.getBaseTarget(y);w!==void 0&&(g[y]=w)}),d.push({animation:g})}let b=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(d):Promise.resolve()}function s(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var v;return(v=h.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const d=a(c,l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>n}}function $ge(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!b3(t,e):!1}function Va(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cge(){return{animate:Va(!0),whileInView:Va(),whileHover:Va(),whileTap:Va(),whileDrag:Va(),whileFocus:Va(),exit:Va()}}class Rge extends Ma{constructor(t){super(t),t.animationState||(t.animationState=Oge(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Vb(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let kge=0;class Tge extends Ma{constructor(){super(...arguments),this.id=kge++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Age={animation:{Feature:Rge},exit:{Feature:Tge}},jT=(e,t)=>Math.abs(e-t);function Ige(e,t){const n=jT(e.x,t.x),r=jT(e.y,t.y);return Math.sqrt(n**2+r**2)}class X3{constructor(t,n,{transformPagePoint:r,contextWindow:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Mw(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,d=Ige(c.offset,{x:0,y:0})>=3;if(!f&&!d)return;const{point:h}=c,{timestamp:v}=fn;this.history.push({...h,timestamp:v});const{onStart:m,onMove:b}=this.handlers;f||(m&&m(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,c)},this.handlePointerMove=(c,f)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Dw(f,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(c,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:h}=this.handlers,v=Mw(c.type==="pointercancel"?this.lastMoveEventInfo:Dw(f,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,v),h&&h(c,v)},!p3(t))return;this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Kb(t),a=Dw(o,this.transformPagePoint),{point:s}=a,{timestamp:l}=fn;this.history=[{...s,timestamp:l}];const{onSessionStart:u}=n;u&&u(t,Mw(a,this.history)),this.removeListeners=na(Gi(this.contextWindow,"pointermove",this.handlePointerMove),Gi(this.contextWindow,"pointerup",this.handlePointerUp),Gi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),lo(this.updatePoint)}}function Dw(e,t){return t?{point:t(e.point)}:e}function NT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Mw({point:e},t){return{point:e,delta:NT(e,J3(t)),offset:NT(e,Dge(t)),velocity:Mge(t,.1)}}function Dge(e){return e[0]}function J3(e){return e[e.length-1]}function Mge(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=J3(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ra(t)));)n--;if(!r)return{x:0,y:0};const o=Yi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function cr(e){return e.max-e.min}function IS(e,t=0,n=.01){return Math.abs(e-t)<=n}function LT(e,t,n,r=.5){e.origin=r,e.originPoint=mt(t.min,t.max,e.origin),e.scale=cr(n)/cr(t),(IS(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=mt(n.min,n.max,e.origin)-e.originPoint,(IS(e.translate)||isNaN(e.translate))&&(e.translate=0)}function _f(e,t,n,r){LT(e.x,t.x,n.x,r?r.originX:void 0),LT(e.y,t.y,n.y,r?r.originY:void 0)}function FT(e,t,n){e.min=n.min+t.min,e.max=e.min+cr(t)}function jge(e,t,n){FT(e.x,t.x,n.x),FT(e.y,t.y,n.y)}function BT(e,t,n){e.min=t.min-n.min,e.max=e.min+cr(t)}function Sf(e,t,n){BT(e.x,t.x,n.x),BT(e.y,t.y,n.y)}function Nge(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?mt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?mt(n,e,r.max):Math.min(e,n)),e}function UT(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Lge(e,{top:t,left:n,bottom:r,right:i}){return{x:UT(e.x,n,i),y:UT(e.y,t,r)}}function VT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Fge(e,t){return{x:VT(e.x,t.x),y:VT(e.y,t.y)}}function Bge(e,t){let n=.5;const r=cr(e),i=cr(t);return i>r?n=md(t.min,t.max-r,e.min):r>i&&(n=md(e.min,e.max-i,t.min)),ga(0,1,n)}function Uge(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const DS=.35;function Vge(e=DS){return e===!1?e=0:e===!0&&(e=DS),{x:WT(e,"left","right"),y:WT(e,"top","bottom")}}function WT(e,t,n){return{min:zT(e,t),max:zT(e,n)}}function zT(e,t){return typeof e=="number"?e:e[t]||0}const KT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wl=()=>({x:KT(),y:KT()}),HT=()=>({min:0,max:0}),Rt=()=>({x:HT(),y:HT()});function si(e){return[e("x"),e("y")]}function Z3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Wge({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zge(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jw(e){return e===void 0||e===1}function MS({scale:e,scaleX:t,scaleY:n}){return!jw(e)||!jw(t)||!jw(n)}function qa(e){return MS(e)||e4(e)||e.z||e.rotate||e.rotateX||e.rotateY}function e4(e){return qT(e.x)||qT(e.y)}function qT(e){return e&&e!=="0%"}function Bv(e,t,n){const r=e-n,i=t*r;return n+i}function GT(e,t,n,r,i){return i!==void 0&&(e=Bv(e,i,r)),Bv(e,n,r)+t}function jS(e,t=0,n=1,r,i){e.min=GT(e.min,t,n,r,i),e.max=GT(e.max,t,n,r,i)}function t4(e,{x:t,y:n}){jS(e.x,t.translate,t.scale,t.originPoint),jS(e.y,n.translate,n.scale,n.originPoint)}function Kge(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,a;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&zl(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,t4(e,a)),r&&qa(o.latestValues)&&zl(e,o.latestValues))}t.x=YT(t.x),t.y=YT(t.y)}function YT(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function jo(e,t){e.min=e.min+t,e.max=e.max+t}function QT(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,a=mt(e.min,e.max,o);jS(e,t[n],t[r],a,t.scale)}const Hge=["x","scaleX","originX"],qge=["y","scaleY","originY"];function zl(e,t){QT(e.x,t,Hge),QT(e.y,t,qge)}function n4(e,t){return Z3(zge(e.getBoundingClientRect(),t))}function Gge(e,t,n){const r=n4(e,n),{scroll:i}=t;return i&&(jo(r.x,i.offset.x),jo(r.y,i.offset.y)),r}const r4=({current:e})=>e?e.ownerDocument.defaultView:null,Yge=new WeakMap;class Qge{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Kb(l,"page").point)},o=(l,u)=>{const{drag:c,dragPropagation:f,onDragStart:d}=this.getProps();if(c&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=v3(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(v=>{let m=this.getAxisMotionValue(v).get()||0;if(gi.test(m)){const{projection:b}=this.visualElement;if(b&&b.layout){const g=b.layout.layoutBox[v];g&&(m=cr(g)*(parseFloat(m)/100))}}this.originPoint[v]=m}),d&&ct.update(()=>d(l,u),!1,!0);const{animationState:h}=this.visualElement;h&&h.setActive("whileDrag",!0)},a=(l,u)=>{const{dragPropagation:c,dragDirectionLock:f,onDirectionLock:d,onDrag:h}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=Xge(v),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),h&&h(l,u)},s=(l,u)=>this.stop(l,u);this.panSession=new X3(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:r4(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ct.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Cp(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=Nge(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Ul(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Lge(i.layoutBox,n):this.constraints=!1,this.elastic=Vge(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&si(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=Uge(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ul(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Gge(r,i.root,this.visualElement.getTransformPagePoint());let a=Fge(i.layout.layoutBox,o);if(n){const s=n(Wge(a));this.hasMutatedConstraints=!!s,s&&(a=Z3(s))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=si(c=>{if(!Cp(c,n,this.currentDirection))return;let f=l&&l[c]||{};a&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,v={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(TP(t,r,0,n))}stopAnimation(){si(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){si(n=>{const{drag:r}=this.getProps();if(!Cp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[n];o.set(t[n]-mt(a,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ul(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};si(a=>{const s=this.getAxisMotionValue(a);if(s){const l=s.get();i[a]=Bge({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),si(a=>{if(!Cp(a,t,null))return;const s=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];s.set(mt(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;Yge.set(this.visualElement,this);const t=this.visualElement.current,n=Gi(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ul(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=Bi(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(si(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=DS,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}}function Cp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Xge(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Jge extends Ma{constructor(t){super(t),this.removeGroupControls=bt,this.removeListeners=bt,this.controls=new Qge(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const XT=e=>(t,n)=>{e&&ct.update(()=>e(t,n))};class Zge extends Ma{constructor(){super(...arguments),this.removePointerDownListener=bt}onPointerDown(t){this.session=new X3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:XT(t),onStart:XT(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&ct.update(()=>i(o,a))}}}mount(){this.removePointerDownListener=Gi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function eye(){const e=p.useContext(pP);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=p.useId();return p.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const _m={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const jc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(he.test(e))e=parseFloat(e);else return e;const n=JT(e,t.target.x),r=JT(e,t.target.y);return`${n}% ${r}%`}},tye={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ya.parse(e);if(i.length>5)return r;const o=ya.createTransformer(e),a=typeof i[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=s,i[1+a]/=l;const u=mt(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),o(i)}};class nye extends G.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;ume(rye),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),_m.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,i||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||ct.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function i4(e){const[t,n]=eye(),r=p.useContext(ZF);return G.createElement(nye,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(e3),isPresent:t,safeToRemove:n})}const rye={borderRadius:{...jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jc,borderTopRightRadius:jc,borderBottomLeftRadius:jc,borderBottomRightRadius:jc,boxShadow:tye},o4=["TopLeft","TopRight","BottomLeft","BottomRight"],iye=o4.length,ZT=e=>typeof e=="string"?parseFloat(e):e,eA=e=>typeof e=="number"||he.test(e);function oye(e,t,n,r,i,o){i?(e.opacity=mt(0,n.opacity!==void 0?n.opacity:1,aye(r)),e.opacityExit=mt(t.opacity!==void 0?t.opacity:1,0,sye(r))):o&&(e.opacity=mt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<iye;a++){const s=`border${o4[a]}Radius`;let l=tA(t,s),u=tA(n,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||eA(l)===eA(u)?(e[s]=Math.max(mt(ZT(l),ZT(u),r),0),(gi.test(u)||gi.test(l))&&(e[s]+="%")):e[s]=u}(t.rotate||n.rotate)&&(e.rotate=mt(t.rotate||0,n.rotate||0,r))}function tA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aye=a4(0,.5,C3),sye=a4(.5,.95,bt);function a4(e,t,n){return r=>r<e?0:r>t?1:n(md(e,t,r))}function nA(e,t){e.min=t.min,e.max=t.max}function yr(e,t){nA(e.x,t.x),nA(e.y,t.y)}function rA(e,t,n,r,i){return e-=t,e=Bv(e,1/n,r),i!==void 0&&(e=Bv(e,1/i,r)),e}function lye(e,t=0,n=1,r=.5,i,o=e,a=e){if(gi.test(t)&&(t=parseFloat(t),t=mt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let s=mt(o.min,o.max,r);e===o&&(s-=t),e.min=rA(e.min,t,n,s,i),e.max=rA(e.max,t,n,s,i)}function iA(e,t,[n,r,i],o,a){lye(e,t[n],t[r],t[i],t.scale,o,a)}const uye=["x","scaleX","originX"],cye=["y","scaleY","originY"];function oA(e,t,n,r){iA(e.x,t,uye,n?n.x:void 0,r?r.x:void 0),iA(e.y,t,cye,n?n.y:void 0,r?r.y:void 0)}function aA(e){return e.translate===0&&e.scale===1}function s4(e){return aA(e.x)&&aA(e.y)}function fye(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function l4(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function sA(e){return cr(e.x)/cr(e.y)}class dye{constructor(){this.members=[]}add(t){AP(this.members,t),t.scheduleRender()}remove(t){if(IP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lA(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const a=e.x.scale*t.x,s=e.y.scale*t.y;return(a!==1||s!==1)&&(r+=`scale(${a}, ${s})`),r||"none"}const hye=(e,t)=>e.depth-t.depth;class pye{constructor(){this.children=[],this.isDirty=!1}add(t){AP(this.children,t),this.isDirty=!0}remove(t){IP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(hye),this.isDirty=!1,this.children.forEach(t)}}function mye(e,t){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(lo(r),e(o-t))};return ct.read(r,!0),()=>lo(r)}function vye(e){window.MotionDebug&&window.MotionDebug.record(e)}function gye(e){return e instanceof SVGElement&&e.tagName!=="svg"}function yye(e,t,n){const r=Hn(e)?e:Iu(e);return r.start(TP("",r,t,n)),r.animation}const uA=["","X","Y","Z"],bye={visibility:"hidden"},cA=1e3;let wye=0;const Ga={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function u4({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=t==null?void 0:t()){this.id=wye++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ga.totalNodes=Ga.resolvedTargetDeltas=Ga.recalculatedProjection=0,this.nodes.forEach(xye),this.nodes.forEach(Cye),this.nodes.forEach(Rye),this.nodes.forEach(Eye),vye(Ga)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pye)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new DP),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gye(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=mye(d,250),_m.hasAnimatedSinceResize&&(_m.hasAnimatedSinceResize=!1,this.nodes.forEach(dA))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||Dye,{onLayoutAnimationStart:b,onLayoutAnimationComplete:g}=c.getProps(),y=!this.targetLayout||!l4(this.targetLayout,v)||h,w=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const _={...kP(m,"layout"),onPlay:b,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else d||dA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,lo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kye),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fA);return}this.isUpdating||this.nodes.forEach(Oye),this.isUpdating=!1,this.nodes.forEach($ye),this.nodes.forEach(_ye),this.nodes.forEach(Sye),this.clearAllSnapshots();const s=performance.now();fn.delta=ga(0,1e3/60,s-fn.timestamp),fn.timestamp=s,fn.isProcessing=!0,Ow.update.process(fn),Ow.preRender.process(fn),Ow.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Pye),this.sharedNodes.forEach(Tye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!s4(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(s||qa(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),Mye(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Rt();const s=a.measureViewportBox(),{scroll:l}=this.root;return l&&(jo(s.x,l.offset.x),jo(s.y,l.offset.y)),s}removeElementScroll(a){const s=Rt();yr(s,a);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){yr(s,a);const{scroll:d}=this.root;d&&(jo(s.x,-d.offset.x),jo(s.y,-d.offset.y))}jo(s.x,c.offset.x),jo(s.y,c.offset.y)}}return s}applyTransform(a,s=!1){const l=Rt();yr(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&zl(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),qa(c.latestValues)&&zl(l,c.latestValues)}return qa(this.latestValues)&&zl(l,this.latestValues),l}removeTransform(a){const s=Rt();yr(s,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!qa(u.latestValues))continue;MS(u.latestValues)&&u.updateSnapshot();const c=Rt(),f=u.measurePageBox();yr(c,f),oA(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return qa(this.latestValues)&&oA(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Sf(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),t4(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Sf(this.relativeTargetOrigin,this.target,h.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ga.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||MS(this.parent.latestValues)||e4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;yr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;Kge(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:v}=s;if(!v){this.projectionTransform&&(this.projectionDelta=Wl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Wl(),this.projectionDeltaWithTransform=Wl());const m=this.projectionTransform;_f(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=lA(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==d||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ga.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,s=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Wl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const d=Rt(),h=l?l.source:void 0,v=this.layout?this.layout.source:void 0,m=h!==v,b=this.getStack(),g=!b||b.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(Iye));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const S=_/1e3;hA(f.x,a.x,S),hA(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sf(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Aye(this.relativeTarget,this.relativeTargetOrigin,d,S),w&&fye(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Rt()),yr(w,this.relativeTarget)),m&&(this.animationValues=c,oye(c,u,this.latestValues,S,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(lo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{_m.hasAnimatedSinceResize=!0,this.currentAnimation=yye(0,cA,{...a,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:c}=a;if(!(!s||!l||!u)){if(this!==a&&this.layout&&u&&c4(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Rt();const f=cr(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const d=cr(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}yr(s,l),zl(s,c),_f(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new dye),this.sharedNodes.get(a).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const u={};for(let c=0;c<uA.length;c++){const f="rotate"+uA[c];l[f]&&(u[f]=l[f],a.setStaticValue(f,0))}a.render();for(const c in u)a.setStaticValue(c,u[c]);a.scheduleRender()}getProjectionStyles(a){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bye;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=wm(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=wm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!qa(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=lA(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:h,y:v}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=d.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in Iv){if(d[m]===void 0)continue;const{correct:b,applyTo:g}=Iv[m],y=u.transform==="none"?d[m]:b(d[m],f);if(g){const w=g.length;for(let _=0;_<w;_++)u[g[_]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?wm(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(fA),this.root.sharedNodes.clear()}}}function _ye(e){e.updateLayout()}function Sye(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,a=n.source!==e.layout.source;o==="size"?si(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],h=cr(d);d.min=r[f].min,d.max=d.min+h}):c4(o,n.layoutBox,r)&&si(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],h=cr(r[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const s=Wl();_f(s,r,n.layoutBox);const l=Wl();a?_f(l,e.applyTransform(i,!0),n.measuredBox):_f(l,r,n.layoutBox);const u=!s4(s);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const v=Rt();Sf(v,n.layoutBox,d.layoutBox);const m=Rt();Sf(m,r,h.layoutBox),l4(v,m)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function xye(e){Ga.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Eye(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Pye(e){e.clearSnapshot()}function fA(e){e.clearMeasurements()}function Oye(e){e.isLayoutDirty=!1}function $ye(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Cye(e){e.resolveTargetDelta()}function Rye(e){e.calcProjection()}function kye(e){e.resetRotation()}function Tye(e){e.removeLeadSnapshot()}function hA(e,t,n){e.translate=mt(t.translate,0,n),e.scale=mt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function pA(e,t,n,r){e.min=mt(t.min,n.min,r),e.max=mt(t.max,n.max,r)}function Aye(e,t,n,r){pA(e.x,t.x,n.x,r),pA(e.y,t.y,n.y,r)}function Iye(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Dye={duration:.45,ease:[.4,0,.1,1]},mA=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),vA=mA("applewebkit/")&&!mA("chrome/")?Math.round:bt;function gA(e){e.min=vA(e.min),e.max=vA(e.max)}function Mye(e){gA(e.x),gA(e.y)}function c4(e,t,n){return e==="position"||e==="preserve-aspect"&&!IS(sA(t),sA(n),.2)}const jye=u4({attachResizeListener:(e,t)=>Bi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nw={current:void 0},f4=u4({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Nw.current){const e=new jye({});e.mount(window),e.setOptions({layoutScroll:!0}),Nw.current=e}return Nw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Nye={pan:{Feature:Zge},drag:{Feature:Jge,ProjectionNode:f4,MeasureLayout:i4}},Lye=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Fye(e){const t=Lye.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function NS(e,t,n=1){const[r,i]=Fye(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return q3(a)?parseFloat(a):a}else return OS(i)?NS(i,t,n+1):i}function Bye(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!OS(o))return;const a=NS(o,r);a&&i.set(a)});for(const i in t){const o=t[i];if(!OS(o))continue;const a=NS(o,r);a&&(t[i]=a,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const Uye=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),d4=e=>Uye.has(e),Vye=e=>Object.keys(e).some(d4),yA=e=>e===al||e===he,bA=(e,t)=>parseFloat(e.split(", ")[t]),wA=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return bA(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?bA(o[1],e):0}},Wye=new Set(["x","y","z"]),zye=jh.filter(e=>!Wye.has(e));function Kye(e){const t=[];return zye.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Du={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:wA(4,13),y:wA(5,14)};Du.translateX=Du.x;Du.translateY=Du.y;const Hye=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,s={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{s[u]=Du[u](r,o)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(s[u]),e[u]=Du[u](l,o)}),e},qye=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(d4);let o=[],a=!1;const s=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],f=Mc(c);const d=t[l];let h;if(Mv(d)){const v=d.length,m=d[0]===null?1:0;c=d[m],f=Mc(c);for(let b=m;b<v&&d[b]!==null;b++)h?PP(Mc(d[b])===h):h=Mc(d[b])}else h=Mc(d);if(f!==h)if(yA(f)&&yA(h)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof d=="string"?t[l]=parseFloat(d):Array.isArray(d)&&h===he&&(t[l]=d.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(c===0||d===0)?c===0?u.set(h.transform(c)):t[l]=f.transform(d):(a||(o=Kye(e),a=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(d))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=Hye(t,e,s);return o.length&&o.forEach(([c,f])=>{e.getValue(c).set(f)}),e.render(),Ub&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Gye(e,t,n,r){return Vye(t)?qye(e,t,n,r):{target:t,transitionEnd:r}}const Yye=(e,t,n,r)=>{const i=Bye(e,t,r);return t=i.target,r=i.transitionEnd,Gye(e,t,n,r)},LS={current:null},h4={current:!1};function Qye(){if(h4.current=!0,!!Ub)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>LS.current=e.matches;e.addListener(t),t()}else LS.current=!1}function Xye(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],a=n[i];if(Hn(o))e.addValue(i,o),Fv(r)&&r.add(i);else if(Hn(a))e.addValue(i,Iu(o,{owner:e})),Fv(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){const s=e.getValue(i);!s.hasAnimated&&s.set(o)}else{const s=e.getStaticValue(i);e.addValue(i,Iu(s!==void 0?s:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const _A=new WeakMap,p4=Object.keys(pd),Jye=p4.length,SA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Zye=gP.length;class ebe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ct.render(this.render,!1,!0);const{latestValues:s,renderState:l}=o;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=Wb(n),this.isVariantNode=JF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const d=c[f];s[f]!==void 0&&Hn(d)&&(d.set(s[f],!1),Fv(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,_A.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),h4.current||Qye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:LS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_A.delete(this.current),this.projection&&this.projection.unmount(),lo(this.notifyUpdate),lo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=ol.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ct.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let a,s;for(let l=0;l<Jye;l++){const u=p4[l],{isEnabled:c,Feature:f,ProjectionNode:d,MeasureLayout:h}=pd[u];d&&(a=d),c(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),h&&(s=h))}if(!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&Ul(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:h})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SA.length;r++){const i=SA[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Xye(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Zye;r++){const i=gP[r],o=this.props[i];(hd(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Iu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=EP(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Hn(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new DP),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class m4 extends ebe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},o){let a=gge(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),a&&(a=i(a))),o){mge(this,r,a);const s=Yye(this,r,a,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function tbe(e){return window.getComputedStyle(e)}class nbe extends m4{readValueFromInstance(t,n){if(ol.has(n)){const r=RP(n);return r&&r.default||0}else{const r=tbe(t),i=(r3(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return n4(t,n)}build(t,n,r,i){bP(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return xP(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Hn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){u3(t,n,r,i)}}class rbe extends m4{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ol.has(n)){const r=RP(n);return r&&r.default||0}return n=c3.has(n)?n:mP(n),t.getAttribute(n)}measureInstanceViewportBox(){return Rt()}scrapeMotionValuesFromProps(t,n){return d3(t,n)}build(t,n,r,i){_P(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){f3(t,n,r,i)}mount(t){this.isSVGTag=SP(t.tagName),super.mount(t)}}const ibe=(e,t)=>yP(e)?new rbe(t,{enableHardwareAcceleration:!1}):new nbe(t,{enableHardwareAcceleration:!0}),obe={layout:{ProjectionNode:f4,MeasureLayout:i4}},abe={...Age,...Zme,...Nye,...obe},MP=sme((e,t)=>Bme(e,t,abe,ibe)),Kl=({children:e})=>x.jsx(MP.div,{whileHover:{scale:1.1},whileTap:{scale:.8},children:e}),xA=e=>speechSynthesis.getVoices().find(t=>t.lang.startsWith(e)),sbe=e=>{const[t,n]=p.useState(()=>xA(e));return p.useEffect(()=>{const r=()=>n(xA(e));return speechSynthesis.addEventListener("voiceschanged",r),()=>speechSynthesis.removeEventListener("voiceschanged",r)},[e]),t},lbe=({activeCard:e,settings:t,onChangeCardsFront:n,onDelete:r,revertLastCard:i,isRevertLastCard:o})=>{const a=sbe(t.learnLanguage.value),{t:s}=je(),l=()=>{if(!a)return;const u=new SpeechSynthesisUtterance(e.learnText);u.voice=a,u.pitch=1,u.rate=1,speechSynthesis.speak(u)};return x.jsxs("div",{className:"flex justify-between gap-2",children:[x.jsx("div",{className:"flex-1",children:o&&x.jsx(ge,{"aria-label":s("return previous card"),onClick:i,size:"iconLg",variant:"icon",children:x.jsx(Ype,{})})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Kl,{children:x.jsx(ge,{"aria-label":s("edit current card"),size:"iconLg",variant:"icon",asChild:!0,children:x.jsx(Qe,{state:{active:e.id},to:"/upsert",children:x.jsx(Wpe,{})})})}),x.jsx(Kl,{children:x.jsx(ge,{"aria-label":s("reverse front side text"),onClick:()=>t.patch({cardsFront:t.cardsFront==="learn"?"native":"learn"}).then(n),size:"iconLg",variant:"icon",children:x.jsx(Mpe,{})})}),a&&x.jsx(Kl,{children:x.jsx(ge,{"aria-label":s("pronounce the learn text"),onClick:l,size:"iconLg",variant:"icon",children:x.jsx(Gpe,{})})})]}),x.jsx("div",{className:"flex flex-1 justify-end",children:x.jsx(Kl,{children:x.jsx(ge,{"aria-label":s("delete active card"),className:"text-destructive-foreground hover:bg-destructive/90 bg-orange-900",onClick:()=>e.remove().then(r),size:"iconLg",variant:"icon",children:x.jsx(hP,{})})})})]})},EA=({id:e="draggable",innerContainerClassName:t,fadingDurationClass:n="duration-500",onCardNotGuessed:r,onFadingEnd:i,onFadingStart:o,className:a,...s})=>{const[l,u]=p.useState(!1),c=p.useRef(!0),f=S=>{i==null||i(S),u(!1)};Lb({onDragEnd(S){var P;if(S.active.id!==e||qF(S.delta.x))return;Av(S.delta.x)||r==null||r(),c.current=Av(S.delta.x);const E=(P=n.match(/duration-\[?(\d+)/))==null?void 0:P[1];setTimeout(()=>f(S.delta.x),E?+E:500),u(!0),o==null||o(S.delta.x)}});const{attributes:d,listeners:h,setNodeRef:v,transform:m}=zF({id:e}),b=p.useRef(null),g=m||b.current,y=c.current?" rotate(60deg)":" rotate(-60deg)",w=c.current?300:-300,_=g?{transform:`translate3d(${g.x+(l?w:0)}px, ${l?g.y+150:g.y}px, 0)${l?y:""}`}:void 0;return m&&(b.current=m),x.jsx(HF,{className:ut("touch-manipulation",l&&"rotate-90 opacity-0 transition",l&&n,a),innerContainerClassName:ut("border",t),...s,ref:v,style:_,...h,...d})},ube=({guessedNumber:e,notGuessedNumber:t,className:n,activeCardNumber:r,cardsLength:i})=>{const[o,a]=p.useState(!1),[s,l]=p.useState(!1),u=()=>{a(!1),l(!1)};return Lb({onDragMove(c){if(qF(c.delta.x)){a(!1),l(!1);return}return Av(c.delta.x)?(a(!0),l(!1)):(l(!0),a(!1))},onDragEnd(){return u()}}),x.jsxs("section",{className:be("relative flex justify-between w-full px-2 text-lg",n),children:[x.jsxs("div",{children:[x.jsx("p",{className:ut("w-fit text-xl font-semibold text-orange-800 transition-transform",s&&"scale-150",t||s||"invisible"),children:t+(s?1:0)}),x.jsx("p",{className:ut("text-orange-800 transition-opacity duration-500",s||"opacity-0"),children:"+ Unknown"})]}),x.jsx("p",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:`${r} / ${i}`}),x.jsxs("div",{className:"flex flex-col items-end",children:[x.jsx("p",{className:ut("w-fit text-xl font-semibold text-lime-800 transition-transform",o&&"scale-150",e||o||"invisible"),children:e+(o?1:0)}),x.jsx("p",{className:ut("text-lime-800 transition-opacity duration-500",o||"opacity-0"),children:"+ Known"})]})]})},Lw=(e,t)=>({front:t==="learn"?e.learnText.trim():e.nativeText.trim(),back:t==="learn"?e.nativeText.trim():e.learnText.trim()}),cbe=()=>{const{result:[e],isFetching:t}=Hr.useRxData("settings",h=>h.find({})),{shuffledCards:n,activeItemIndex:r,reset:i,setActiveItemIndex:o,setNotGuessedCards:a,notGuessedCards:s}=Fb(),[l,u]=p.useState(null),c=Xt(),f=n[r];if(t||!e||!f)return null;const d=n.length!==r+1;return x.jsxs("div",{className:"relative flex h-full flex-col justify-between gap-4",children:[x.jsx(ube,{activeCardNumber:n.length-r,cardsLength:n.length,guessedNumber:n.length-r-s.length-1,notGuessedNumber:s.length}),x.jsxs("div",{className:"relative mx-auto h-full max-h-[50vh]",children:[n.slice(0,r).map((h,v)=>x.jsx(HF,{className:ut("absolute",v%2?"translate-x-1 translate-y-1":"-translate-x-1 -translate-y-1"),id:h.id,innerContainerClassName:ut(v===r-1&&"shadow-lg"),...Lw(h,e.cardsFront)},h.id)),x.jsx("div",{className:ut("h-full",r%2?"translate-x-1 translate-y-1":"-translate-x-1 -translate-y-1"),children:x.jsx(EA,{examples:f.examples,id:f.id,innerContainerClassName:"shadow-lg",onCardNotGuessed:()=>a([...s,n[r]]),onFadingEnd:()=>u(null),onFadingStart:h=>{u(f),o(m=>m-1);const v=!r;if(v&&!s.length&&Av(h))return c("/cards/finish");if(v)return c("/cards/no-cards-in-stack")},pronunciation:f.pronunciation,...Lw(f,e.cardsFront)})},f.id),l&&x.jsx("div",{className:ut("pointer-events-none absolute top-0 h-full",(r+1)%2?"translate-x-1 translate-y-1":"-translate-x-1 -translate-y-1"),children:x.jsx(EA,{examples:l.examples,id:l.id,innerContainerClassName:"shadow-lg",pronunciation:l.pronunciation,...Lw(l,e.cardsFront)})},l.id)]}),x.jsx(lbe,{activeCard:f,isRevertLastCard:d,onChangeCardsFront:()=>i(),revertLastCard:()=>{var m;if(!d)return;o(b=>b+1);const h=n[r+1];if(!h)return;h.id===((m=s.at(-1))==null?void 0:m.id)&&a(s.slice(0,-1))},settings:e})]})},fbe=()=>x.jsx(Tpe,{children:x.jsx(Rpe,{children:x.jsx(cbe,{})})}),dbe=()=>{const{t:e}=je(),{reset:t}=Fb();return x.jsx("main",{className:"flex h-full w-full items-center justify-center",children:x.jsx(ge,{asChild:!0,children:x.jsx(Qe,{onClick:()=>t(),to:"/cards",children:e("Repeat Stack")})})})},hbe=()=>{const{t:e}=je();return x.jsx("div",{className:"relative flex h-full items-center justify-center overflow-hidden",children:x.jsx(ge,{asChild:!0,children:x.jsx(Qe,{to:"/upsert",children:e("Add new cards")})})})},pbe=()=>{const{t:e}=je(),{notGuessedCards:t,reset:n}=Fb(),r=Xt();return x.jsxs("div",{className:"flex h-full items-center justify-center gap-4 overflow-hidden",children:[x.jsx(ge,{onClick:()=>{n(),r("/cards")},children:e("Repeat Stack")}),x.jsx(ge,{onClick:()=>{n(t),r("/cards")},children:e("Review Unknown")})]})},mbe=()=>{const e=Xt(),n=vo().key==="default",{t:r}=je();return x.jsxs("div",{className:"fixed mx-auto h-full max-w-2xl overflow-auto p-4",children:[x.jsx("h1",{className:"mb-4 text-3xl font-bold",children:r("Lingo-Cards Privacy Policy")}),x.jsx("p",{children:r("Welcome to Lingo-Cards This Privacy Policy outlines how we collect use and protect your data when you use our services")}),x.jsxs("div",{className:"mt-4",children:[x.jsxs("h2",{className:"mb-2 text-xl font-bold",children:["1. ",r("Information We Collect")]}),x.jsx("p",{children:r("Lingo-Cards uses the following information from your Google account")}),x.jsxs("ul",{className:"list-disc pl-5",children:[x.jsx("li",{children:r("Email Used for authentication purposes")}),x.jsx("li",{children:r("Given Name and Family Name Concatenated to create a username")})]})]}),x.jsxs("div",{className:"mt-4",children:[x.jsxs("h2",{className:"mb-2 text-xl font-bold",children:["2. ",r("How We Use Your Information")]}),x.jsx("p",{children:r("We use the collected information to")}),x.jsxs("ul",{className:"list-disc pl-5",children:[x.jsx("li",{children:r("Authenticate your identity using your Google email")}),x.jsx("li",{children:r("Create a personalized username for your account")}),x.jsx("li",{children:r("Include the username in email templates for personalized messages")})]})]}),x.jsxs("div",{className:"mt-4",children:[x.jsxs("h2",{className:"mb-2 text-xl font-bold",children:["3. ",r("Data Security")]}),x.jsx("p",{children:r("We take the security of your data seriously We implement measures to protect your information from unauthorized access or disclosure")})]}),x.jsxs("div",{className:"mt-4",children:[x.jsxs("h2",{className:"mb-2 text-xl font-bold",children:["4. ",r("Your Choices")]}),x.jsx("p",{children:r("You can choose not to provide certain information but this may limit your access to certain features of Lingo-Cards")})]}),x.jsxs("div",{className:"mt-4",children:[x.jsxs("h2",{className:"mb-2 text-xl font-bold",children:["5. ",r("Third-Party Access")]}),x.jsx("p",{children:r("We do not share your data with third parties without your consent except as required by law")})]}),x.jsxs("div",{className:"mt-4",children:[x.jsxs("h2",{className:"mb-2 text-xl font-bold",children:["6. ",r("Updates to This Policy")]}),x.jsx("p",{children:r("This Privacy Policy may be updated periodically Please review it occasionally for any changes")})]}),x.jsxs("div",{className:"mt-4",children:[x.jsxs("h2",{className:"mb-2 text-xl font-bold",children:["7. ",r("Contact Us")]}),x.jsxs("p",{children:[r("If you have any questions or concerns about this Privacy Policy please contact us at"),x.jsx("a",{className:"text-blue-500",href:"mailto:lingo-cards-ar@gmail.com",children:"lingo-cards-ar@gmail.com"}),"."]}),x.jsx("p",{className:"mt-2",children:r("Last Updated 1 February 2024")})]}),x.jsx("div",{className:"mt-2 flex justify-center gap-2",children:x.jsxs(ge,{className:"flex w-36 items-center gap-1",onClick:()=>e(n?"/auth/login":-1),children:[!n&&x.jsx(Npe,{}),r(n?"To login page":"Back")]})})]})},vbe=ax.useId||(()=>{});let gbe=0;function ms(e){const[t,n]=p.useState(vbe());return _n(()=>{e||n(r=>r??String(gbe++))},[e]),e||(t?`radix-${t}`:"")}const Fw="focusScope.autoFocusOnMount",Bw="focusScope.autoFocusOnUnmount",PA={bubbles:!1,cancelable:!0},jP=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=p.useState(null),u=ar(i),c=ar(o),f=p.useRef(null),d=Je(t,m=>l(m)),h=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let y=function(E){if(h.paused||!s)return;const P=E.target;s.contains(P)?f.current=P:Ro(f.current,{select:!0})},w=function(E){if(h.paused||!s)return;const P=E.relatedTarget;P!==null&&(s.contains(P)||Ro(f.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const O of E)O.removedNodes.length>0&&Ro(s)};var m=y,b=w,g=_;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const S=new MutationObserver(_);return s&&S.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),S.disconnect()}}},[r,s,h.paused]),p.useEffect(()=>{if(s){$A.add(h);const m=document.activeElement;if(!s.contains(m)){const g=new CustomEvent(Fw,PA);s.addEventListener(Fw,u),s.dispatchEvent(g),g.defaultPrevented||(ybe(xbe(v4(s)),{select:!0}),document.activeElement===m&&Ro(s))}return()=>{s.removeEventListener(Fw,u),setTimeout(()=>{const g=new CustomEvent(Bw,PA);s.addEventListener(Bw,c),s.dispatchEvent(g),g.defaultPrevented||Ro(m??document.body,{select:!0}),s.removeEventListener(Bw,c),$A.remove(h)},0)}}},[s,u,c,h]);const v=p.useCallback(m=>{if(!n&&!r||h.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(b&&g){const y=m.currentTarget,[w,_]=bbe(y);w&&_?!m.shiftKey&&g===_?(m.preventDefault(),n&&Ro(w,{select:!0})):m.shiftKey&&g===w&&(m.preventDefault(),n&&Ro(_,{select:!0})):g===y&&m.preventDefault()}},[n,r,h.paused]);return p.createElement(Ae.div,Me({tabIndex:-1},a,{ref:d,onKeyDown:v}))});function ybe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ro(r,{select:t}),document.activeElement!==n)return}function bbe(e){const t=v4(e),n=OA(t,e),r=OA(t.reverse(),e);return[n,r]}function v4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function OA(e,t){for(const n of e)if(!wbe(n,{upTo:t}))return n}function wbe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _be(e){return e instanceof HTMLInputElement&&"select"in e}function Ro(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&_be(e)&&t&&e.select()}}const $A=Sbe();function Sbe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=CA(e,t),e.unshift(t)},remove(t){var n;e=CA(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function CA(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function xbe(e){return e.filter(t=>t.tagName!=="A")}let Uw=0;function NP(){p.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:RA()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:RA()),Uw++,()=>{Uw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Uw--}},[])}function RA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var xf="right-scroll-bar-position",Ef="width-before-scroll-bar",Ebe="with-scroll-bars-hidden",Pbe="--removed-body-scroll-bar-size";function Obe(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $be(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}function g4(e,t){return $be(t||null,function(n){return e.forEach(function(r){return Obe(r,n)})})}function Cbe(e){return e}function Rbe(e,t){t===void 0&&(t=Cbe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var c=a;a=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){a.push(c),u()},filter:function(c){return a=a.filter(c),n}}}};return i}function y4(e){e===void 0&&(e={});var t=Rbe(null);return t.options=vn({async:!0,ssr:!1},e),t}var b4=function(e){var t=e.sideCar,n=gE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,vn({},n))};b4.isSideCarExport=!0;function w4(e,t){return e.useMedium(t),b4}var _4=y4(),Vw=function(){},qb=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Vw,onWheelCapture:Vw,onTouchMoveCapture:Vw}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,v=e.inert,m=e.allowPinchZoom,b=e.as,g=b===void 0?"div":b,y=gE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=d,_=g4([n,t]),S=vn(vn({},y),i);return p.createElement(p.Fragment,null,c&&p.createElement(w,{sideCar:_4,removeScrollBar:u,shards:f,noIsolation:h,inert:v,setCallbacks:o,allowPinchZoom:!!m,lockRef:n}),a?p.cloneElement(p.Children.only(s),vn(vn({},S),{ref:_})):p.createElement(g,vn({},S,{className:l,ref:_}),s))});qb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qb.classNames={fullWidth:Ef,zeroRight:xf};var kA,kbe=function(){if(kA)return kA;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tbe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kbe();return t&&e.setAttribute("nonce",t),e}function Abe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ibe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Dbe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Tbe())&&(Abe(t,n),Ibe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Mbe=function(){var e=Dbe();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},LP=function(){var e=Mbe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},jbe={left:0,top:0,right:0,gap:0},Ww=function(e){return parseInt(e||"",10)||0},Nbe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Ww(n),Ww(r),Ww(i)]},Lbe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jbe;var t=Nbe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Fbe=LP(),Bbe=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ebe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xf,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Ef,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(xf," .").concat(xf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ef," .").concat(Ef,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(Pbe,": ").concat(s,`px;
  }
`)},S4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r,o=p.useMemo(function(){return Lbe(i)},[i]);return p.createElement(Fbe,{styles:Bbe(o,!t,i,n?"":"!important")})},FS=!1;if(typeof window<"u")try{var Rp=Object.defineProperty({},"passive",{get:function(){return FS=!0,!0}});window.addEventListener("test",Rp,Rp),window.removeEventListener("test",Rp,Rp)}catch{FS=!1}var gl=FS?{passive:!1}:!1,Ube=function(e){return e.tagName==="TEXTAREA"},x4=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ube(e)&&n[t]==="visible")},Vbe=function(e){return x4(e,"overflowY")},Wbe=function(e){return x4(e,"overflowX")},TA=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=E4(e,n);if(r){var i=P4(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},zbe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Kbe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},E4=function(e,t){return e==="v"?Vbe(t):Wbe(t)},P4=function(e,t){return e==="v"?zbe(t):Kbe(t)},Hbe=function(e,t){return e==="h"&&t==="rtl"?-1:1},qbe=function(e,t,n,r,i){var o=Hbe(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),u=!1,c=a>0,f=0,d=0;do{var h=P4(e,s),v=h[0],m=h[1],b=h[2],g=m-b-o*v;(v||g)&&E4(e,s)&&(f+=g,d+=v),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(c&&(i&&f===0||!i&&a>f)||!c&&(i&&d===0||!i&&-a>d))&&(u=!0),u},kp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},AA=function(e){return[e.deltaX,e.deltaY]},IA=function(e){return e&&"current"in e?e.current:e},Gbe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ybe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Qbe=0,yl=[];function Xbe(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(Qbe++)[0],o=p.useState(function(){return LP()})[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=yi([e.lockRef.current],(e.shards||[]).map(IA),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=p.useCallback(function(m,b){if("touches"in m&&m.touches.length===2)return!a.current.allowPinchZoom;var g=kp(m),y=n.current,w="deltaX"in m?m.deltaX:y[0]-g[0],_="deltaY"in m?m.deltaY:y[1]-g[1],S,E=m.target,P=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&P==="h"&&E.type==="range")return!1;var O=TA(P,E);if(!O)return!0;if(O?S=P:(S=P==="v"?"h":"v",O=TA(P,E)),!O)return!1;if(!r.current&&"changedTouches"in m&&(w||_)&&(r.current=S),!S)return!0;var C=r.current||S;return qbe(C,b,m,C==="h"?w:_,!0)},[]),l=p.useCallback(function(m){var b=m;if(!(!yl.length||yl[yl.length-1]!==o)){var g="deltaY"in b?AA(b):kp(b),y=t.current.filter(function(S){return S.name===b.type&&S.target===b.target&&Gbe(S.delta,g)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(a.current.shards||[]).map(IA).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=w.length>0?s(b,w[0]):!a.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(m,b,g,y){var w={name:m,delta:b,target:g,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),c=p.useCallback(function(m){n.current=kp(m),r.current=void 0},[]),f=p.useCallback(function(m){u(m.type,AA(m),m.target,s(m,e.lockRef.current))},[]),d=p.useCallback(function(m){u(m.type,kp(m),m.target,s(m,e.lockRef.current))},[]);p.useEffect(function(){return yl.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,gl),document.addEventListener("touchmove",l,gl),document.addEventListener("touchstart",c,gl),function(){yl=yl.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,gl),document.removeEventListener("touchmove",l,gl),document.removeEventListener("touchstart",c,gl)}},[]);var h=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(o,{styles:Ybe(i)}):null,h?p.createElement(S4,{gapMode:"margin"}):null)}const Jbe=w4(_4,Xbe);var O4=p.forwardRef(function(e,t){return p.createElement(qb,vn({},e,{ref:t,sideCar:Jbe}))});O4.classNames=qb.classNames;const FP=O4;var Zbe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bl=new WeakMap,Tp=new WeakMap,Ap={},zw=0,$4=function(e){return e&&(e.host||$4(e.parentNode))},e0e=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=$4(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},t0e=function(e,t,n,r){var i=e0e(t,Array.isArray(e)?e:[e]);Ap[n]||(Ap[n]=new WeakMap);var o=Ap[n],a=[],s=new Set,l=new Set(i),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};i.forEach(u);var c=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(s.has(d))c(d);else{var h=d.getAttribute(r),v=h!==null&&h!=="false",m=(bl.get(d)||0)+1,b=(o.get(d)||0)+1;bl.set(d,m),o.set(d,b),a.push(d),m===1&&v&&Tp.set(d,!0),b===1&&d.setAttribute(n,"true"),v||d.setAttribute(r,"true")}})};return c(t),s.clear(),zw++,function(){a.forEach(function(f){var d=bl.get(f)-1,h=o.get(f)-1;bl.set(f,d),o.set(f,h),d||(Tp.has(f)||f.removeAttribute(r),Tp.delete(f)),h||f.removeAttribute(n)}),zw--,zw||(bl=new WeakMap,bl=new WeakMap,Tp=new WeakMap,Ap={})}},Gb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||Zbe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),t0e(r,i,n,"aria-hidden")):function(){return null}};const C4="Dialog",[R4,mEe]=Oa(C4),[n0e,ti]=R4(C4),r0e=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=p.useRef(null),l=p.useRef(null),[u=!1,c]=xs({prop:r,defaultProp:i,onChange:o});return p.createElement(n0e,{scope:t,triggerRef:s,contentRef:l,contentId:ms(),titleId:ms(),descriptionId:ms(),open:u,onOpenChange:c,onOpenToggle:p.useCallback(()=>c(f=>!f),[c]),modal:a},n)},i0e="DialogTrigger",o0e=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ti(i0e,n),o=Je(t,i.triggerRef);return p.createElement(Ae.button,Oe({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":BP(i.open)},r,{ref:o,onClick:Pe(e.onClick,i.onOpenToggle)}))}),k4="DialogPortal",[a0e,T4]=R4(k4,{forceMount:void 0}),s0e=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=ti(k4,t);return p.createElement(a0e,{scope:t,forceMount:n},p.Children.map(r,a=>p.createElement($a,{present:n||o.open},p.createElement(hg,{asChild:!0,container:i},a))))},BS="DialogOverlay",l0e=p.forwardRef((e,t)=>{const n=T4(BS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=ti(BS,e.__scopeDialog);return o.modal?p.createElement($a,{present:r||o.open},p.createElement(u0e,Oe({},i,{ref:t}))):null}),u0e=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ti(BS,n);return p.createElement(FP,{as:sa,allowPinchZoom:!0,shards:[i.contentRef]},p.createElement(Ae.div,Oe({"data-state":BP(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),vd="DialogContent",c0e=p.forwardRef((e,t)=>{const n=T4(vd,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=ti(vd,e.__scopeDialog);return p.createElement($a,{present:r||o.open},o.modal?p.createElement(f0e,Oe({},i,{ref:t})):p.createElement(d0e,Oe({},i,{ref:t})))}),f0e=p.forwardRef((e,t)=>{const n=ti(vd,e.__scopeDialog),r=p.useRef(null),i=Je(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return Gb(o)},[]),p.createElement(A4,Oe({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,o=>o.preventDefault())}))}),d0e=p.forwardRef((e,t)=>{const n=ti(vd,e.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return p.createElement(A4,Oe({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,o),!o.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var a,s;(a=e.onInteractOutside)===null||a===void 0||a.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),A4=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=ti(vd,n),l=p.useRef(null),u=Je(t,l);return NP(),p.createElement(p.Fragment,null,p.createElement(jP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},p.createElement(dg,Oe({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":BP(s.open)},a,{ref:u,onDismiss:()=>s.onOpenChange(!1)}))),!1)}),h0e="DialogTitle",p0e=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ti(h0e,n);return p.createElement(Ae.h2,Oe({id:i.titleId},r,{ref:t}))}),m0e="DialogDescription",v0e=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ti(m0e,n);return p.createElement(Ae.p,Oe({id:i.descriptionId},r,{ref:t}))}),g0e="DialogClose",y0e=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ti(g0e,n);return p.createElement(Ae.button,Oe({type:"button"},r,{ref:t,onClick:Pe(e.onClick,()=>i.onOpenChange(!1))}))});function BP(e){return e?"open":"closed"}const b0e=r0e,w0e=o0e,_0e=s0e,S0e=l0e,x0e=c0e,E0e=p0e,P0e=v0e,O0e=y0e;function au(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function $0e(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function I4(...e){return t=>e.forEach(n=>$0e(n,t))}function Bh(...e){return p.useCallback(I4(...e),e)}function C0e(e,t=[]){let n=[];function r(o,a){const s=p.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:d,children:h,...v}=f,m=(d==null?void 0:d[e][l])||s,b=p.useMemo(()=>v,Object.values(v));return p.createElement(m.Provider,{value:b},h)}function c(f,d){const h=(d==null?void 0:d[e][l])||s,v=p.useContext(h);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(a=>p.createContext(a));return function(s){const l=(s==null?void 0:s[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,R0e(i,...t)]}function R0e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...s,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}const US=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},k0e=ax.useId||(()=>{});let T0e=0;function Kw(e){const[t,n]=p.useState(k0e());return US(()=>{e||n(r=>r??String(T0e++))},[e]),e||(t?`radix-${t}`:"")}function Ls(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function A0e({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=I0e({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,s=Ls(n),l=p.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&s(f)}else i(u)},[o,e,i,s]);return[a,l]}function I0e({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,i=p.useRef(r),o=Ls(t);return p.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const UP=p.forwardRef((e,t)=>{const{children:n,...r}=e,i=p.Children.toArray(n),o=i.find(M0e);if(o){const a=o.props.children,s=i.map(l=>l===o?p.Children.count(a)>1?p.Children.only(null):p.isValidElement(a)?a.props.children:null:l);return p.createElement(VS,Me({},r,{ref:t}),p.isValidElement(a)?p.cloneElement(a,void 0,s):null)}return p.createElement(VS,Me({},r,{ref:t}),n)});UP.displayName="Slot";const VS=p.forwardRef((e,t)=>{const{children:n,...r}=e;return p.isValidElement(n)?p.cloneElement(n,{...j0e(r,n.props),ref:I4(t,n.ref)}):p.Children.count(n)>1?p.Children.only(null):null});VS.displayName="SlotClone";const D0e=({children:e})=>p.createElement(p.Fragment,null,e);function M0e(e){return p.isValidElement(e)&&e.type===D0e}function j0e(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...s)=>{o==null||o(...s),i==null||i(...s)}:r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const N0e=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],Yb=N0e.reduce((e,t)=>{const n=p.forwardRef((r,i)=>{const{asChild:o,...a}=r,s=o?UP:t;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(s,Me({},a,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function L0e(e,t){e&&pn.flushSync(()=>e.dispatchEvent(t))}function F0e(e){const t=Ls(e);p.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const WS="dismissableLayer.update",B0e="dismissableLayer.pointerDownOutside",U0e="dismissableLayer.focusOutside";let DA;const V0e=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W0e=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,u=p.useContext(V0e),[c,f]=p.useState(null),[,d]=p.useState({}),h=Bh(t,E=>f(E)),v=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(m),g=c?v.indexOf(c):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,w=g>=b,_=z0e(E=>{const P=E.target,O=[...u.branches].some(C=>C.contains(P));!w||O||(i==null||i(E),a==null||a(E),E.defaultPrevented||s==null||s())}),S=K0e(E=>{const P=E.target;[...u.branches].some(C=>C.contains(P))||(o==null||o(E),a==null||a(E),E.defaultPrevented||s==null||s())});return F0e(E=>{g===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))}),p.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DA=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),MA(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=DA)}},[c,n,u]),p.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),MA())},[c,u]),p.useEffect(()=>{const E=()=>d({});return document.addEventListener(WS,E),()=>document.removeEventListener(WS,E)},[]),p.createElement(Yb.div,Me({},l,{ref:h,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:au(e.onFocusCapture,S.onFocusCapture),onBlurCapture:au(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:au(e.onPointerDownCapture,_.onPointerDownCapture)}))});function z0e(e){const t=Ls(e),n=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let u=function(){D4(B0e,t,l,{discrete:!0})};var s=u;const l={originalEvent:a};a.pointerType==="touch"?(document.removeEventListener("click",r.current),r.current=u,document.addEventListener("click",r.current,{once:!0})):u()}n.current=!1},o=window.setTimeout(()=>{document.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),document.removeEventListener("pointerdown",i),document.removeEventListener("click",r.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function K0e(e){const t=Ls(e),n=p.useRef(!1);return p.useEffect(()=>{const r=i=>{i.target&&!n.current&&D4(U0e,t,{originalEvent:i},{discrete:!1})};return document.addEventListener("focusin",r),()=>document.removeEventListener("focusin",r)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function MA(){const e=new CustomEvent(WS);document.dispatchEvent(e)}function D4(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?L0e(i,o):i.dispatchEvent(o)}const Hw="focusScope.autoFocusOnMount",qw="focusScope.autoFocusOnUnmount",jA={bubbles:!1,cancelable:!0},H0e=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=p.useState(null),u=Ls(i),c=Ls(o),f=p.useRef(null),d=Bh(t,m=>l(m)),h=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(w){if(h.paused||!s)return;const _=w.target;s.contains(_)?f.current=_:Ya(f.current,{select:!0})},y=function(w){h.paused||!s||s.contains(w.relatedTarget)||Ya(f.current,{select:!0})};var m=g,b=y;return document.addEventListener("focusin",g),document.addEventListener("focusout",y),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y)}}},[r,s,h.paused]),p.useEffect(()=>{if(s){LA.add(h);const m=document.activeElement;if(!s.contains(m)){const g=new CustomEvent(Hw,jA);s.addEventListener(Hw,u),s.dispatchEvent(g),g.defaultPrevented||(q0e(J0e(M4(s)),{select:!0}),document.activeElement===m&&Ya(s))}return()=>{s.removeEventListener(Hw,u),setTimeout(()=>{const g=new CustomEvent(qw,jA);s.addEventListener(qw,c),s.dispatchEvent(g),g.defaultPrevented||Ya(m??document.body,{select:!0}),s.removeEventListener(qw,c),LA.remove(h)},0)}}},[s,u,c,h]);const v=p.useCallback(m=>{if(!n&&!r||h.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(b&&g){const y=m.currentTarget,[w,_]=G0e(y);w&&_?!m.shiftKey&&g===_?(m.preventDefault(),n&&Ya(w,{select:!0})):m.shiftKey&&g===w&&(m.preventDefault(),n&&Ya(_,{select:!0})):g===y&&m.preventDefault()}},[n,r,h.paused]);return p.createElement(Yb.div,Me({tabIndex:-1},a,{ref:d,onKeyDown:v}))});function q0e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ya(r,{select:t}),document.activeElement!==n)return}function G0e(e){const t=M4(e),n=NA(t,e),r=NA(t.reverse(),e);return[n,r]}function M4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function NA(e,t){for(const n of e)if(!Y0e(n,{upTo:t}))return n}function Y0e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Q0e(e){return e instanceof HTMLInputElement&&"select"in e}function Ya(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Q0e(e)&&t&&e.select()}}const LA=X0e();function X0e(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=FA(e,t),e.unshift(t)},remove(t){var n;e=FA(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function FA(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function J0e(e){return e.filter(t=>t.tagName!=="A")}const Z0e=p.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?UM.createPortal(p.createElement(Yb.div,Me({},i,{ref:t})),r):null});function ewe(e,t){return p.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Qb=e=>{const{present:t,children:n}=e,r=twe(t),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Bh(r.ref,i.ref);return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:o}):null};Qb.displayName="Presence";function twe(e){const[t,n]=p.useState(),r=p.useRef({}),i=p.useRef(e),o=p.useRef("none"),a=e?"mounted":"unmounted",[s,l]=ewe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Ip(r.current);o.current=s==="mounted"?u:"none"},[s]),US(()=>{const u=r.current,c=i.current;if(c!==e){const d=o.current,h=Ip(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),US(()=>{if(t){const u=f=>{const h=Ip(r.current).includes(f.animationName);f.target===t&&h&&pn.flushSync(()=>l("ANIMATION_END"))},c=f=>{f.target===t&&(o.current=Ip(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Ip(e){return(e==null?void 0:e.animationName)||"none"}let Gw=0;function nwe(){p.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:BA()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:BA()),Gw++,()=>{Gw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Gw--}},[])}function BA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var j4=y4(),Yw=function(){},Xb=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Yw,onWheelCapture:Yw,onTouchMoveCapture:Yw}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,v=e.inert,m=e.allowPinchZoom,b=e.as,g=b===void 0?"div":b,y=gE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=d,_=g4([n,t]),S=vn(vn({},y),i);return p.createElement(p.Fragment,null,c&&p.createElement(w,{sideCar:j4,removeScrollBar:u,shards:f,noIsolation:h,inert:v,setCallbacks:o,allowPinchZoom:!!m,lockRef:n}),a?p.cloneElement(p.Children.only(s),vn(vn({},S),{ref:_})):p.createElement(g,vn({},S,{className:l,ref:_}),s))});Xb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xb.classNames={fullWidth:Ef,zeroRight:xf};var zS=!1;if(typeof window<"u")try{var Dp=Object.defineProperty({},"passive",{get:function(){return zS=!0,!0}});window.addEventListener("test",Dp,Dp),window.removeEventListener("test",Dp,Dp)}catch{zS=!1}var wl=zS?{passive:!1}:!1,rwe=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},iwe=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},UA=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=N4(e,n);if(r){var i=L4(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},owe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},awe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},N4=function(e,t){return e==="v"?rwe(t):iwe(t)},L4=function(e,t){return e==="v"?owe(t):awe(t)},swe=function(e,t){return e==="h"&&t==="rtl"?-1:1},lwe=function(e,t,n,r,i){var o=swe(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),u=!1,c=a>0,f=0,d=0;do{var h=L4(e,s),v=h[0],m=h[1],b=h[2],g=m-b-o*v;(v||g)&&N4(e,s)&&(f+=g,d+=v),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(c&&(i&&f===0||!i&&a>f)||!c&&(i&&d===0||!i&&-a>d))&&(u=!0),u},Mp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},VA=function(e){return[e.deltaX,e.deltaY]},WA=function(e){return e&&"current"in e?e.current:e},uwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cwe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fwe=0,_l=[];function dwe(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(fwe++)[0],o=p.useState(function(){return LP()})[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=yi([e.lockRef.current],(e.shards||[]).map(WA),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=p.useCallback(function(m,b){if("touches"in m&&m.touches.length===2)return!a.current.allowPinchZoom;var g=Mp(m),y=n.current,w="deltaX"in m?m.deltaX:y[0]-g[0],_="deltaY"in m?m.deltaY:y[1]-g[1],S,E=m.target,P=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&P==="h"&&E.type==="range")return!1;var O=UA(P,E);if(!O)return!0;if(O?S=P:(S=P==="v"?"h":"v",O=UA(P,E)),!O)return!1;if(!r.current&&"changedTouches"in m&&(w||_)&&(r.current=S),!S)return!0;var C=r.current||S;return lwe(C,b,m,C==="h"?w:_,!0)},[]),l=p.useCallback(function(m){var b=m;if(!(!_l.length||_l[_l.length-1]!==o)){var g="deltaY"in b?VA(b):Mp(b),y=t.current.filter(function(S){return S.name===b.type&&S.target===b.target&&uwe(S.delta,g)})[0];if(y&&y.should){b.preventDefault();return}if(!y){var w=(a.current.shards||[]).map(WA).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=w.length>0?s(b,w[0]):!a.current.noIsolation;_&&b.preventDefault()}}},[]),u=p.useCallback(function(m,b,g,y){var w={name:m,delta:b,target:g,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),c=p.useCallback(function(m){n.current=Mp(m),r.current=void 0},[]),f=p.useCallback(function(m){u(m.type,VA(m),m.target,s(m,e.lockRef.current))},[]),d=p.useCallback(function(m){u(m.type,Mp(m),m.target,s(m,e.lockRef.current))},[]);p.useEffect(function(){return _l.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,wl),document.addEventListener("touchmove",l,wl),document.addEventListener("touchstart",c,wl),function(){_l=_l.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,wl),document.removeEventListener("touchmove",l,wl),document.removeEventListener("touchstart",c,wl)}},[]);var h=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(o,{styles:cwe(i)}):null,h?p.createElement(S4,{gapMode:"margin"}):null)}const hwe=w4(j4,dwe);var F4=p.forwardRef(function(e,t){return p.createElement(Xb,vn({},e,{ref:t,sideCar:hwe}))});F4.classNames=Xb.classNames;const pwe=F4,B4="Dialog",[U4,vEe]=C0e(B4),[mwe,sl]=U4(B4),vwe=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=p.useRef(null),l=p.useRef(null),[u=!1,c]=A0e({prop:r,defaultProp:i,onChange:o});return p.createElement(mwe,{scope:t,triggerRef:s,contentRef:l,contentId:Kw(),titleId:Kw(),descriptionId:Kw(),open:u,onOpenChange:c,onOpenToggle:p.useCallback(()=>c(f=>!f),[c]),modal:a},n)},V4="DialogPortal",[gwe,W4]=U4(V4,{forceMount:void 0}),ywe=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=sl(V4,t);return p.createElement(gwe,{scope:t,forceMount:n},p.Children.map(r,a=>p.createElement(Qb,{present:n||o.open},p.createElement(Z0e,{asChild:!0,container:i},a))))},KS="DialogOverlay",bwe=p.forwardRef((e,t)=>{const n=W4(KS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=sl(KS,e.__scopeDialog);return o.modal?p.createElement(Qb,{present:r||o.open},p.createElement(wwe,Kr({},i,{ref:t}))):null}),wwe=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=sl(KS,n);return p.createElement(pwe,{as:UP,allowPinchZoom:!0,shards:[i.contentRef]},p.createElement(Yb.div,Kr({"data-state":K4(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),gd="DialogContent",_we=p.forwardRef((e,t)=>{const n=W4(gd,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=sl(gd,e.__scopeDialog);return p.createElement(Qb,{present:r||o.open},o.modal?p.createElement(Swe,Kr({},i,{ref:t})):p.createElement(xwe,Kr({},i,{ref:t})))}),Swe=p.forwardRef((e,t)=>{const n=sl(gd,e.__scopeDialog),r=p.useRef(null),i=Bh(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return Gb(o)},[]),p.createElement(z4,Kr({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:au(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:au(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:au(e.onFocusOutside,o=>o.preventDefault())}))}),xwe=p.forwardRef((e,t)=>{const n=sl(gd,e.__scopeDialog),r=p.useRef(!1);return p.createElement(z4,Kr({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),i.preventDefault()}r.current=!1},onInteractOutside:i=>{var o,a;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(r.current=!0);const s=i.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(s))&&i.preventDefault()}}))}),z4=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=sl(gd,n),l=p.useRef(null),u=Bh(t,l);return nwe(),p.createElement(p.Fragment,null,p.createElement(H0e,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},p.createElement(W0e,Kr({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":K4(s.open)},a,{ref:u,onDismiss:()=>s.onOpenChange(!1)}))),!1)});function K4(e){return e?"open":"closed"}const Ewe=vwe,Pwe=ywe,Owe=bwe,$we=_we;var zA=1,Cwe=.9,Rwe=.3,Qw=.1,kwe=0,Xw=.999,Twe=.9999,Awe=.99,KA=/[\\\/\-_+.# \t"@\[\(\{&]/,Iwe=/[\\\/\-_+.# \t"@\[\(\{&]/g;function HS(e,t,n,r,i,o){if(o===t.length)return i===e.length?zA:Awe;for(var a=r.charAt(o),s=n.indexOf(a,i),l=0,u,c,f;s>=0;)u=HS(e,t,n,r,s+1,o+1),u>l&&(s===i?u*=zA:KA.test(e.charAt(s-1))?(u*=Cwe,f=e.slice(i,s-1).match(Iwe),f&&i>0&&(u*=Math.pow(Xw,f.length))):KA.test(e.slice(i,s-1))?(u*=kwe,i>0&&(u*=Math.pow(Xw,s-i))):(u*=Rwe,i>0&&(u*=Math.pow(Xw,s-i))),e.charAt(s)!==t.charAt(o)&&(u*=Twe)),u<Qw&&n.charAt(s-1)===r.charAt(o+1)&&n.charAt(s-1)!==r.charAt(o)&&(c=HS(e,t,n,r,s+1,o+2),c*Qw>u&&(u=c*Qw)),u>l&&(l=u),s=n.indexOf(a,s+1);return l}function Dwe(e,t){return HS(e,t,e.toLowerCase(),t.toLowerCase(),0,0)}var Mwe=Dwe;const jwe=_d(Mwe);var Nwe='[cmdk-list-sizer=""]',Nc='[cmdk-group=""]',Jw='[cmdk-group-items=""]',Lwe='[cmdk-group-heading=""]',H4='[cmdk-item=""]',HA=`${H4}:not([aria-disabled="true"])`,qS="cmdk-item-select",ko="data-value",Fwe=(e,t)=>jwe(e,t),q4=p.createContext(void 0),Uh=()=>p.useContext(q4),G4=p.createContext(void 0),VP=()=>p.useContext(G4),Y4=p.createContext(void 0),Q4=p.forwardRef((e,t)=>{let n=p.useRef(null),r=El(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),i=El(()=>new Set),o=El(()=>new Map),a=El(()=>new Map),s=El(()=>new Set),l=X4(e),{label:u,children:c,value:f,onValueChange:d,filter:h,shouldFilter:v,...m}=e,b=p.useId(),g=p.useId(),y=p.useId(),w=Qwe();ac(()=>{if(f!==void 0){let R=f.trim().toLowerCase();r.current.value=R,w(6,I),_.emit()}},[f]);let _=p.useMemo(()=>({subscribe:R=>(s.current.add(R),()=>s.current.delete(R)),snapshot:()=>r.current,setState:(R,j,U)=>{var z,K,J;if(!Object.is(r.current[R],j)){if(r.current[R]=j,R==="search")C(),P(),w(1,O);else if(R==="value")if(((z=l.current)==null?void 0:z.value)!==void 0){(J=(K=l.current).onValueChange)==null||J.call(K,j);return}else U||w(5,I);_.emit()}},emit:()=>{s.current.forEach(R=>R())}}),[]),S=p.useMemo(()=>({value:(R,j)=>{j!==a.current.get(R)&&(a.current.set(R,j),r.current.filtered.items.set(R,E(j)),w(2,()=>{P(),_.emit()}))},item:(R,j)=>(i.current.add(R),j&&(o.current.has(j)?o.current.get(j).add(R):o.current.set(j,new Set([R]))),w(3,()=>{C(),P(),r.current.value||O(),_.emit()}),()=>{a.current.delete(R),i.current.delete(R),r.current.filtered.items.delete(R),w(4,()=>{C(),O(),_.emit()})}),group:R=>(o.current.has(R)||o.current.set(R,new Set),()=>{a.current.delete(R),o.current.delete(R)}),filter:()=>l.current.shouldFilter,label:u||e["aria-label"],listId:b,inputId:y,labelId:g}),[]);function E(R){var j;let U=((j=l.current)==null?void 0:j.filter)??Fwe;return R?U(R,r.current.search):0}function P(){if(!n.current||!r.current.search||l.current.shouldFilter===!1)return;let R=r.current.filtered.items,j=[];r.current.filtered.groups.forEach(z=>{let K=o.current.get(z),J=0;K.forEach(Ce=>{let q=R.get(Ce);J=Math.max(q,J)}),j.push([z,J])});let U=n.current.querySelector(Nwe);M().sort((z,K)=>{let J=z.getAttribute(ko),Ce=K.getAttribute(ko);return(R.get(Ce)??0)-(R.get(J)??0)}).forEach(z=>{let K=z.closest(Jw);K?K.appendChild(z.parentElement===K?z:z.closest(`${Jw} > *`)):U.appendChild(z.parentElement===U?z:z.closest(`${Jw} > *`))}),j.sort((z,K)=>K[1]-z[1]).forEach(z=>{let K=n.current.querySelector(`${Nc}[${ko}="${z[0]}"]`);K==null||K.parentElement.appendChild(K)})}function O(){let R=M().find(U=>!U.ariaDisabled),j=R==null?void 0:R.getAttribute(ko);_.setState("value",j||void 0)}function C(){if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=i.current.size;return}r.current.filtered.groups=new Set;let R=0;for(let j of i.current){let U=a.current.get(j),z=E(U);r.current.filtered.items.set(j,z),z>0&&R++}for(let[j,U]of o.current)for(let z of U)if(r.current.filtered.items.get(z)>0){r.current.filtered.groups.add(j);break}r.current.filtered.count=R}function I(){var R,j,U;let z=N();z&&(((R=z.parentElement)==null?void 0:R.firstChild)===z&&((U=(j=z.closest(Nc))==null?void 0:j.querySelector(Lwe))==null||U.scrollIntoView({block:"nearest"})),z.scrollIntoView({block:"nearest"}))}function N(){return n.current.querySelector(`${H4}[aria-selected="true"]`)}function M(){return Array.from(n.current.querySelectorAll(HA))}function V(R){let j=M()[R];j&&_.setState("value",j.getAttribute(ko))}function D(R){var j;let U=N(),z=M(),K=z.findIndex(Ce=>Ce===U),J=z[K+R];(j=l.current)!=null&&j.loop&&(J=K+R<0?z[z.length-1]:K+R===z.length?z[0]:z[K+R]),J&&_.setState("value",J.getAttribute(ko))}function $(R){let j=N(),U=j==null?void 0:j.closest(Nc),z;for(;U&&!z;)U=R>0?Gwe(U,Nc):Ywe(U,Nc),z=U==null?void 0:U.querySelector(HA);z?_.setState("value",z.getAttribute(ko)):D(R)}let k=()=>V(M().length-1),F=R=>{R.preventDefault(),R.metaKey?k():R.altKey?$(1):D(1)},A=R=>{R.preventDefault(),R.metaKey?V(0):R.altKey?$(-1):D(-1)};return p.createElement("div",{ref:Vh([n,t]),...m,"cmdk-root":"",onKeyDown:R=>{var j;if((j=m.onKeyDown)==null||j.call(m,R),!R.defaultPrevented)switch(R.key){case"n":case"j":{R.ctrlKey&&F(R);break}case"ArrowDown":{F(R);break}case"p":case"k":{R.ctrlKey&&A(R);break}case"ArrowUp":{A(R);break}case"Home":{R.preventDefault(),V(0);break}case"End":{R.preventDefault(),k();break}case"Enter":{R.preventDefault();let U=N();if(U){let z=new Event(qS);U.dispatchEvent(z)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:Xwe},u),p.createElement(G4.Provider,{value:_},p.createElement(q4.Provider,{value:S},c)))}),Bwe=p.forwardRef((e,t)=>{let n=p.useId(),r=p.useRef(null),i=p.useContext(Y4),o=Uh(),a=X4(e);ac(()=>o.item(n,i),[]);let s=J4(n,r,[e.value,e.children,r]),l=VP(),u=Mu(g=>g.value&&g.value===s.current),c=Mu(g=>o.filter()===!1?!0:g.search?g.filtered.items.get(n)>0:!0);p.useEffect(()=>{let g=r.current;if(!(!g||e.disabled))return g.addEventListener(qS,f),()=>g.removeEventListener(qS,f)},[c,e.onSelect,e.disabled]);function f(){var g,y;(y=(g=a.current).onSelect)==null||y.call(g,s.current)}function d(){l.setState("value",s.current,!0)}if(!c)return null;let{disabled:h,value:v,onSelect:m,...b}=e;return p.createElement("div",{ref:Vh([r,t]),...b,"cmdk-item":"",role:"option","aria-disabled":h||void 0,"aria-selected":u||void 0,"data-selected":u||void 0,onPointerMove:h?void 0:d,onClick:h?void 0:f},e.children)}),Uwe=p.forwardRef((e,t)=>{let{heading:n,children:r,...i}=e,o=p.useId(),a=p.useRef(null),s=p.useRef(null),l=p.useId(),u=Uh(),c=Mu(d=>u.filter()===!1?!0:d.search?d.filtered.groups.has(o):!0);ac(()=>u.group(o),[]),J4(o,a,[e.value,e.heading,s]);let f=p.createElement(Y4.Provider,{value:o},r);return p.createElement("div",{ref:Vh([a,t]),...i,"cmdk-group":"",role:"presentation",hidden:c?void 0:!0},n&&p.createElement("div",{ref:s,"cmdk-group-heading":"","aria-hidden":!0,id:l},n),p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?l:void 0},f))}),Vwe=p.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=p.useRef(null),o=Mu(a=>!a.search);return!n&&!o?null:p.createElement("div",{ref:Vh([i,t]),...r,"cmdk-separator":"",role:"separator"})}),Wwe=p.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=VP(),a=Mu(l=>l.search),s=Uh();return p.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),p.createElement("input",{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":s.listId,"aria-labelledby":s.labelId,id:s.inputId,type:"text",value:i?e.value:a,onChange:l=>{i||o.setState("search",l.target.value),n==null||n(l.target.value)}})}),zwe=p.forwardRef((e,t)=>{let{children:n,...r}=e,i=p.useRef(null),o=p.useRef(null),a=Uh();return p.useEffect(()=>{if(o.current&&i.current){let s=o.current,l=i.current,u,c=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let f=s.getBoundingClientRect().height;l.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return c.observe(s),()=>{cancelAnimationFrame(u),c.unobserve(s)}}},[]),p.createElement("div",{ref:Vh([i,t]),...r,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:a.listId,"aria-labelledby":a.inputId},p.createElement("div",{ref:o,"cmdk-list-sizer":""},n))}),Kwe=p.forwardRef((e,t)=>{let{open:n,onOpenChange:r,container:i,...o}=e;return p.createElement(Ewe,{open:n,onOpenChange:r},p.createElement(Pwe,{container:i},p.createElement(Owe,{"cmdk-overlay":""}),p.createElement($we,{"aria-label":e.label,"cmdk-dialog":""},p.createElement(Q4,{ref:t,...o}))))}),Hwe=p.forwardRef((e,t)=>{let n=p.useRef(!0),r=Mu(i=>i.filtered.count===0);return p.useEffect(()=>{n.current=!1},[]),n.current||!r?null:p.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),qwe=p.forwardRef((e,t)=>{let{progress:n,children:r,...i}=e;return p.createElement("div",{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},p.createElement("div",{"aria-hidden":!0},r))}),Yn=Object.assign(Q4,{List:zwe,Item:Bwe,Input:Wwe,Group:Uwe,Separator:Vwe,Dialog:Kwe,Empty:Hwe,Loading:qwe});function Gwe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Ywe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function X4(e){let t=p.useRef(e);return ac(()=>{t.current=e}),t}var ac=typeof window>"u"?p.useEffect:p.useLayoutEffect;function El(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Vh(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Mu(e){let t=VP(),n=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,n,n)}function J4(e,t,n){let r=p.useRef(),i=Uh();return ac(()=>{var o;let a=(()=>{var s;for(let l of n){if(typeof l=="string")return l.trim().toLowerCase();if(typeof l=="object"&&"current"in l&&l.current)return(s=l.current.textContent)==null?void 0:s.trim().toLowerCase()}})();i.value(e,a),(o=t.current)==null||o.setAttribute(ko,a),r.current=a}),r}var Qwe=()=>{let[e,t]=p.useState(),n=El(()=>new Map);return ac(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}},Xwe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Z4=p.forwardRef(({className:e,...t},n)=>x.jsx(Yn,{ref:n,className:be("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Z4.displayName=Yn.displayName;const e5=p.forwardRef(({className:e,...t},n)=>x.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[x.jsx(B9,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),x.jsx(Yn.Input,{ref:n,className:be("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));e5.displayName=Yn.Input.displayName;const Jwe=p.forwardRef(({className:e,...t},n)=>x.jsx(Yn.List,{ref:n,className:be("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Jwe.displayName=Yn.List.displayName;const t5=p.forwardRef((e,t)=>x.jsx(Yn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));t5.displayName=Yn.Empty.displayName;const n5=p.forwardRef(({className:e,...t},n)=>x.jsx(Yn.Group,{ref:n,className:be("p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground overflow-auto",e),...t}));n5.displayName=Yn.Group.displayName;const Zwe=p.forwardRef(({className:e,...t},n)=>x.jsx(Yn.Separator,{ref:n,className:be("-mx-1 h-px bg-border",e),...t}));Zwe.displayName=Yn.Separator.displayName;const r5=p.forwardRef(({className:e,...t},n)=>x.jsx(Yn.Item,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));r5.displayName=Yn.Item.displayName;const e1e=["top","right","bottom","left"],ba=Math.min,er=Math.max,Uv=Math.round,jp=Math.floor,wa=e=>({x:e,y:e}),t1e={left:"right",right:"left",bottom:"top",top:"bottom"},n1e={start:"end",end:"start"};function GS(e,t,n){return er(e,ba(t,n))}function uo(e,t){return typeof e=="function"?e(t):e}function co(e){return e.split("-")[0]}function sc(e){return e.split("-")[1]}function WP(e){return e==="x"?"y":"x"}function zP(e){return e==="y"?"height":"width"}function lc(e){return["top","bottom"].includes(co(e))?"y":"x"}function KP(e){return WP(lc(e))}function r1e(e,t,n){n===void 0&&(n=!1);const r=sc(e),i=KP(e),o=zP(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Vv(a)),[a,Vv(a)]}function i1e(e){const t=Vv(e);return[YS(e),t,YS(t)]}function YS(e){return e.replace(/start|end/g,t=>n1e[t])}function o1e(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function a1e(e,t,n,r){const i=sc(e);let o=o1e(co(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(YS)))),o}function Vv(e){return e.replace(/left|right|bottom|top/g,t=>t1e[t])}function s1e(e){return{top:0,right:0,bottom:0,left:0,...e}}function i5(e){return typeof e!="number"?s1e(e):{top:e,right:e,bottom:e,left:e}}function Wv(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function qA(e,t,n){let{reference:r,floating:i}=e;const o=lc(t),a=KP(t),s=zP(a),l=co(t),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(sc(t)){case"start":h[a]-=d*(n&&u?-1:1);break;case"end":h[a]+=d*(n&&u?-1:1);break}return h}const l1e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=qA(u,r,l),d=r,h={},v=0;for(let m=0;m<s.length;m++){const{name:b,fn:g}=s[m],{x:y,y:w,data:_,reset:S}=await g({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});if(c=y??c,f=w??f,h={...h,[b]:{...h[b],..._}},S&&v<=50){v++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:c,y:f}=qA(u,d,l)),m=-1;continue}}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function yd(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=uo(t,e),v=i5(h),b=s[d?f==="floating"?"reference":"floating":f],g=Wv(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=f==="floating"?{...a.floating,x:r,y:i}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Wv(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:l}):y);return{top:(g.top-S.top+v.top)/_.y,bottom:(S.bottom-g.bottom+v.bottom)/_.y,left:(g.left-S.left+v.left)/_.x,right:(S.right-g.right+v.right)/_.x}}const GA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=uo(e,t)||{};if(u==null)return{};const f=i5(c),d={x:n,y:r},h=KP(i),v=zP(h),m=await a.getDimensions(u),b=h==="y",g=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=o.reference[v]+o.reference[h]-d[h]-o.floating[v],S=d[h]-o.reference[h],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let P=E?E[w]:0;(!P||!await(a.isElement==null?void 0:a.isElement(E)))&&(P=s.floating[w]||o.floating[v]);const O=_/2-S/2,C=P/2-m[v]/2-1,I=ba(f[g],C),N=ba(f[y],C),M=I,V=P-m[v]-N,D=P/2-m[v]/2+O,$=GS(M,D,V),k=!l.arrow&&sc(i)!=null&&D!=$&&o.reference[v]/2-(D<M?I:N)-m[v]/2<0,F=k?D<M?D-M:D-V:0;return{[h]:d[h]+F,data:{[h]:$,centerOffset:D-$-F,...k&&{alignmentOffset:F}},reset:k}}}),u1e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...b}=uo(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=co(i),y=co(s)===s,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=d||(y||!m?[Vv(s)]:i1e(s));!d&&v!=="none"&&_.push(...a1e(s,m,v,w));const S=[s,..._],E=await yd(t,b),P=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&P.push(E[g]),f){const M=r1e(i,a,w);P.push(E[M[0]],E[M[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(M=>M<=0)){var C,I;const M=(((C=o.flip)==null?void 0:C.index)||0)+1,V=S[M];if(V)return{data:{index:M,overflows:O},reset:{placement:V}};let D=(I=O.filter($=>$.overflows[0]<=0).sort(($,k)=>$.overflows[1]-k.overflows[1])[0])==null?void 0:I.placement;if(!D)switch(h){case"bestFit":{var N;const $=(N=O.map(k=>[k.placement,k.overflows.filter(F=>F>0).reduce((F,A)=>F+A,0)]).sort((k,F)=>k[1]-F[1])[0])==null?void 0:N[0];$&&(D=$);break}case"initialPlacement":D=s;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function YA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function QA(e){return e1e.some(t=>e[t]>=0)}const c1e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=uo(e,t);switch(r){case"referenceHidden":{const o=await yd(t,{...i,elementContext:"reference"}),a=YA(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:QA(a)}}}case"escaped":{const o=await yd(t,{...i,altBoundary:!0}),a=YA(o,n.floating);return{data:{escapedOffsets:a,escaped:QA(a)}}}default:return{}}}}};async function f1e(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=co(n),s=sc(n),l=lc(n)==="y",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,f=uo(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return s&&typeof v=="number"&&(h=s==="end"?v*-1:v),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const d1e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await f1e(t,e);return{x:n+i.x,y:r+i.y,data:i}}}},h1e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:b=>{let{x:g,y}=b;return{x:g,y}}},...l}=uo(e,t),u={x:n,y:r},c=await yd(t,l),f=lc(co(i)),d=WP(f);let h=u[d],v=u[f];if(o){const b=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=h+c[b],w=h-c[g];h=GS(y,h,w)}if(a){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=v+c[b],w=v-c[g];v=GS(y,v,w)}const m=s.fn({...t,[d]:h,[f]:v});return{...m,data:{x:m.x-n,y:m.y-r}}}}},p1e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=uo(e,t),c={x:n,y:r},f=lc(i),d=WP(f);let h=c[d],v=c[f];const m=uo(s,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=d==="y"?"height":"width",_=o.reference[d]-o.floating[w]+b.mainAxis,S=o.reference[d]+o.reference[w]-b.mainAxis;h<_?h=_:h>S&&(h=S)}if(u){var g,y;const w=d==="y"?"width":"height",_=["top","left"].includes(co(i)),S=o.reference[f]-o.floating[w]+(_&&((g=a.offset)==null?void 0:g[f])||0)+(_?0:b.crossAxis),E=o.reference[f]+o.reference[w]+(_?0:((y=a.offset)==null?void 0:y[f])||0)-(_?b.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[d]:h,[f]:v}}}},m1e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:a=()=>{},...s}=uo(e,t),l=await yd(t,s),u=co(n),c=sc(n),f=lc(n)==="y",{width:d,height:h}=r.floating;let v,m;u==="top"||u==="bottom"?(v=u,m=c===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(m=u,v=c==="end"?"top":"bottom");const b=h-l[v],g=d-l[m],y=!t.middlewareData.shift;let w=b,_=g;if(f){const E=d-l.left-l.right;_=c||y?ba(g,E):E}else{const E=h-l.top-l.bottom;w=c||y?ba(b,E):E}if(y&&!c){const E=er(l.left,0),P=er(l.right,0),O=er(l.top,0),C=er(l.bottom,0);f?_=d-2*(E!==0||P!==0?E+P:er(l.left,l.right)):w=h-2*(O!==0||C!==0?O+C:er(l.top,l.bottom))}await a({...t,availableWidth:_,availableHeight:w});const S=await i.getDimensions(o.floating);return d!==S.width||h!==S.height?{reset:{rects:!0}}:{}}}};function _a(e){return o5(e)?(e.nodeName||"").toLowerCase():"#document"}function ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wo(e){var t;return(t=(o5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function o5(e){return e instanceof Node||e instanceof ir(e).Node}function fo(e){return e instanceof Element||e instanceof ir(e).Element}function bi(e){return e instanceof HTMLElement||e instanceof ir(e).HTMLElement}function XA(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ir(e).ShadowRoot}function Wh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=kr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function v1e(e){return["table","td","th"].includes(_a(e))}function HP(e){const t=qP(),n=kr(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function g1e(e){let t=ju(e);for(;bi(t)&&!Jb(t);){if(HP(t))return t;t=ju(t)}return null}function qP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jb(e){return["html","body","#document"].includes(_a(e))}function kr(e){return ir(e).getComputedStyle(e)}function Zb(e){return fo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ju(e){if(_a(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XA(e)&&e.host||wo(e);return XA(t)?t.host:t}function a5(e){const t=ju(e);return Jb(t)?e.ownerDocument?e.ownerDocument.body:e.body:bi(t)&&Wh(t)?t:a5(t)}function bd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=a5(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=ir(i);return o?t.concat(a,a.visualViewport||[],Wh(i)?i:[],a.frameElement&&n?bd(a.frameElement):[]):t.concat(i,bd(i,[],n))}function s5(e){const t=kr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=bi(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=Uv(n)!==o||Uv(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function GP(e){return fo(e)?e:e.contextElement}function su(e){const t=GP(e);if(!bi(t))return wa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=s5(t);let a=(o?Uv(n.width):n.width)/r,s=(o?Uv(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const y1e=wa(0);function l5(e){const t=ir(e);return!qP()||!t.visualViewport?y1e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function b1e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ir(e)?!1:t}function Fs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=GP(e);let a=wa(1);t&&(r?fo(r)&&(a=su(r)):a=su(e));const s=b1e(o,n,r)?l5(o):wa(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,f=i.height/a.y;if(o){const d=ir(o),h=r&&fo(r)?ir(r):r;let v=d.frameElement;for(;v&&r&&h!==d;){const m=su(v),b=v.getBoundingClientRect(),g=kr(v),y=b.left+(v.clientLeft+parseFloat(g.paddingLeft))*m.x,w=b.top+(v.clientTop+parseFloat(g.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,f*=m.y,l+=y,u+=w,v=ir(v).frameElement}}return Wv({width:c,height:f,x:l,y:u})}function w1e(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=bi(n),o=wo(n);if(n===o)return t;let a={scrollLeft:0,scrollTop:0},s=wa(1);const l=wa(0);if((i||!i&&r!=="fixed")&&((_a(n)!=="body"||Wh(o))&&(a=Zb(n)),bi(n))){const u=Fs(n);s=su(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}}function _1e(e){return Array.from(e.getClientRects())}function u5(e){return Fs(wo(e)).left+Zb(e).scrollLeft}function S1e(e){const t=wo(e),n=Zb(e),r=e.ownerDocument.body,i=er(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=er(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+u5(e);const s=-n.scrollTop;return kr(r).direction==="rtl"&&(a+=er(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function x1e(e,t){const n=ir(e),r=wo(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=qP();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function E1e(e,t){const n=Fs(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=bi(e)?su(e):wa(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:a,height:s,x:l,y:u}}function JA(e,t,n){let r;if(t==="viewport")r=x1e(e,n);else if(t==="document")r=S1e(wo(e));else if(fo(t))r=E1e(t,n);else{const i=l5(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Wv(r)}function c5(e,t){const n=ju(e);return n===t||!fo(n)||Jb(n)?!1:kr(n).position==="fixed"||c5(n,t)}function P1e(e,t){const n=t.get(e);if(n)return n;let r=bd(e,[],!1).filter(s=>fo(s)&&_a(s)!=="body"),i=null;const o=kr(e).position==="fixed";let a=o?ju(e):e;for(;fo(a)&&!Jb(a);){const s=kr(a),l=HP(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Wh(a)&&!l&&c5(e,a))?r=r.filter(c=>c!==a):i=s,a=ju(a)}return t.set(e,r),r}function O1e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?P1e(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,c)=>{const f=JA(t,c,i);return u.top=er(f.top,u.top),u.right=ba(f.right,u.right),u.bottom=ba(f.bottom,u.bottom),u.left=er(f.left,u.left),u},JA(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function $1e(e){return s5(e)}function C1e(e,t,n){const r=bi(t),i=wo(t),o=n==="fixed",a=Fs(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=wa(0);if(r||!r&&!o)if((_a(t)!=="body"||Wh(i))&&(s=Zb(t)),r){const u=Fs(t,!0,o,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else i&&(l.x=u5(i));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function ZA(e,t){return!bi(e)||kr(e).position==="fixed"?null:t?t(e):e.offsetParent}function f5(e,t){const n=ir(e);if(!bi(e))return n;let r=ZA(e,t);for(;r&&v1e(r)&&kr(r).position==="static";)r=ZA(r,t);return r&&(_a(r)==="html"||_a(r)==="body"&&kr(r).position==="static"&&!HP(r))?n:r||g1e(e)||n}const R1e=async function(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||f5,o=this.getDimensions;return{reference:C1e(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}};function k1e(e){return kr(e).direction==="rtl"}const T1e={convertOffsetParentRelativeRectToViewportRelativeRect:w1e,getDocumentElement:wo,getClippingRect:O1e,getOffsetParent:f5,getElementRects:R1e,getClientRects:_1e,getDimensions:$1e,getScale:su,isElement:fo,isRTL:k1e};function A1e(e,t){let n=null,r;const i=wo(e);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h=jp(c),v=jp(i.clientWidth-(u+f)),m=jp(i.clientHeight-(c+d)),b=jp(u),y={rootMargin:-h+"px "+-v+"px "+-m+"px "+-b+"px",threshold:er(0,ba(1,l))||1};let w=!0;function _(S){const E=S[0].intersectionRatio;if(E!==l){if(!w)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(_,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,y)}n.observe(e)}return a(!0),o}function I1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=GP(e),c=i||o?[...u?bd(u):[],...bd(t)]:[];c.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const f=u&&s?A1e(u,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{h&&h.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let v,m=l?Fs(e):null;l&&b();function b(){const g=Fs(e);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&n(),m=g,v=requestAnimationFrame(b)}return n(),()=>{c.forEach(g=>{i&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),f&&f(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(v)}}const D1e=(e,t,n)=>{const r=new Map,i={platform:T1e,...n},o={...i.platform,_c:r};return l1e(e,t,{...i,platform:o})},M1e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?GA({element:r.current,padding:i}).fn(n):{}:r?GA({element:r,padding:i}).fn(n):{}}}};var Sm=typeof document<"u"?p.useLayoutEffect:p.useEffect;function zv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!zv(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!zv(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function d5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eI(e,t){const n=d5(e);return Math.round(t*n)/n}function tI(e){const t=p.useRef(e);return Sm(()=>{t.current=e}),t}function j1e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=p.useState(r);zv(d,r)||h(r);const[v,m]=p.useState(null),[b,g]=p.useState(null),y=p.useCallback(k=>{k!=E.current&&(E.current=k,m(k))},[m]),w=p.useCallback(k=>{k!==P.current&&(P.current=k,g(k))},[g]),_=o||v,S=a||b,E=p.useRef(null),P=p.useRef(null),O=p.useRef(c),C=tI(l),I=tI(i),N=p.useCallback(()=>{if(!E.current||!P.current)return;const k={placement:t,strategy:n,middleware:d};I.current&&(k.platform=I.current),D1e(E.current,P.current,k).then(F=>{const A={...F,isPositioned:!0};M.current&&!zv(O.current,A)&&(O.current=A,pn.flushSync(()=>{f(A)}))})},[d,t,n,I]);Sm(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[u]);const M=p.useRef(!1);Sm(()=>(M.current=!0,()=>{M.current=!1}),[]),Sm(()=>{if(_&&(E.current=_),S&&(P.current=S),_&&S){if(C.current)return C.current(_,S,N);N()}},[_,S,N,C]);const V=p.useMemo(()=>({reference:E,floating:P,setReference:y,setFloating:w}),[y,w]),D=p.useMemo(()=>({reference:_,floating:S}),[_,S]),$=p.useMemo(()=>{const k={position:n,left:0,top:0};if(!D.floating)return k;const F=eI(D.floating,c.x),A=eI(D.floating,c.y);return s?{...k,transform:"translate("+F+"px, "+A+"px)",...d5(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:A}},[n,s,D.floating,c.x,c.y]);return p.useMemo(()=>({...c,update:N,refs:V,elements:D,floatingStyles:$}),[c,N,V,D,$])}function h5(e){const[t,n]=p.useState(void 0);return _n(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,s=u.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const p5="Popper",[m5,e0]=Oa(p5),[N1e,v5]=m5(p5),L1e=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return p.createElement(N1e,{scope:t,anchor:r,onAnchorChange:i},n)},F1e="PopperAnchor",B1e=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=v5(F1e,n),a=p.useRef(null),s=Je(t,a);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:p.createElement(Ae.div,Me({},i,{ref:s}))}),g5="PopperContent",[U1e,gEe]=m5(g5),V1e=p.forwardRef((e,t)=>{var n,r,i,o,a,s,l,u;const{__scopePopper:c,side:f="bottom",sideOffset:d=0,align:h="center",alignOffset:v=0,arrowPadding:m=0,avoidCollisions:b=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:_=!1,updatePositionStrategy:S="optimized",onPlaced:E,...P}=e,O=v5(g5,c),[C,I]=p.useState(null),N=Je(t,Ot=>I(Ot)),[M,V]=p.useState(null),D=h5(M),$=(n=D==null?void 0:D.width)!==null&&n!==void 0?n:0,k=(r=D==null?void 0:D.height)!==null&&r!==void 0?r:0,F=f+(h!=="center"?"-"+h:""),A=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},R=Array.isArray(g)?g:[g],j=R.length>0,U={padding:A,boundary:R.filter(W1e),altBoundary:j},{refs:z,floatingStyles:K,placement:J,isPositioned:Ce,middlewareData:q}=j1e({strategy:"fixed",placement:F,whileElementsMounted:(...Ot)=>I1e(...Ot,{animationFrame:S==="always"}),elements:{reference:O.anchor},middleware:[d1e({mainAxis:d+k,alignmentAxis:v}),b&&h1e({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?p1e():void 0,...U}),b&&u1e({...U}),m1e({...U,apply:({elements:Ot,rects:$t,availableWidth:Dn,availableHeight:Mn})=>{const{width:Zt,height:Ht}=$t.reference,jt=Ot.floating.style;jt.setProperty("--radix-popper-available-width",`${Dn}px`),jt.setProperty("--radix-popper-available-height",`${Mn}px`),jt.setProperty("--radix-popper-anchor-width",`${Zt}px`),jt.setProperty("--radix-popper-anchor-height",`${Ht}px`)}}),M&&M1e({element:M,padding:m}),z1e({arrowWidth:$,arrowHeight:k}),_&&c1e({strategy:"referenceHidden",...U})]}),[Y,_e]=y5(J),Ne=ar(E);_n(()=>{Ce&&(Ne==null||Ne())},[Ce,Ne]);const me=(i=q.arrow)===null||i===void 0?void 0:i.x,le=(o=q.arrow)===null||o===void 0?void 0:o.y,ye=((a=q.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[tt,Le]=p.useState();return _n(()=>{C&&Le(window.getComputedStyle(C).zIndex)},[C]),p.createElement("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:Ce?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(s=q.transformOrigin)===null||s===void 0?void 0:s.x,(l=q.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},p.createElement(U1e,{scope:c,placedSide:Y,onArrowChange:V,arrowX:me,arrowY:le,shouldHideArrow:ye},p.createElement(Ae.div,Me({"data-side":Y,"data-align":_e},P,{ref:N,style:{...P.style,animation:Ce?void 0:"none",opacity:(u=q.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function W1e(e){return e!==null}const z1e=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,a;const{placement:s,rects:l,middlewareData:u}=t,f=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,d=f?0:e.arrowWidth,h=f?0:e.arrowHeight,[v,m]=y5(s),b={start:"0%",center:"50%",end:"100%"}[m],g=((r=(i=u.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+d/2,y=((o=(a=u.arrow)===null||a===void 0?void 0:a.y)!==null&&o!==void 0?o:0)+h/2;let w="",_="";return v==="bottom"?(w=f?b:`${g}px`,_=`${-h}px`):v==="top"?(w=f?b:`${g}px`,_=`${l.floating.height+h}px`):v==="right"?(w=`${-h}px`,_=f?b:`${y}px`):v==="left"&&(w=`${l.floating.width+h}px`,_=f?b:`${y}px`),{data:{x:w,y:_}}}});function y5(e){const[t,n="center"]=e.split("-");return[t,n]}const b5=L1e,w5=B1e,_5=V1e,S5="Popover",[x5,yEe]=Oa(S5,[e0]),YP=e0(),[K1e,uc]=x5(S5),H1e=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!1}=e,s=YP(t),l=p.useRef(null),[u,c]=p.useState(!1),[f=!1,d]=xs({prop:r,defaultProp:i,onChange:o});return p.createElement(b5,s,p.createElement(K1e,{scope:t,contentId:ms(),triggerRef:l,open:f,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>c(!0),[]),onCustomAnchorRemove:p.useCallback(()=>c(!1),[]),modal:a},n))},q1e="PopoverTrigger",G1e=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=uc(q1e,n),o=YP(n),a=Je(t,i.triggerRef),s=p.createElement(Ae.button,Oe({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":O5(i.open)},r,{ref:a,onClick:Pe(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?s:p.createElement(w5,Oe({asChild:!0},o),s)}),E5="PopoverPortal",[Y1e,Q1e]=x5(E5,{forceMount:void 0}),X1e=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=uc(E5,t);return p.createElement(Y1e,{scope:t,forceMount:n},p.createElement($a,{present:n||o.open},p.createElement(hg,{asChild:!0,container:i},r)))},wd="PopoverContent",J1e=p.forwardRef((e,t)=>{const n=Q1e(wd,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=uc(wd,e.__scopePopover);return p.createElement($a,{present:r||o.open},o.modal?p.createElement(Z1e,Oe({},i,{ref:t})):p.createElement(e_e,Oe({},i,{ref:t})))}),Z1e=p.forwardRef((e,t)=>{const n=uc(wd,e.__scopePopover),r=p.useRef(null),i=Je(t,r),o=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return Gb(a)},[]),p.createElement(FP,{as:sa,allowPinchZoom:!0},p.createElement(P5,Oe({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),o.current||(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,u=s.button===2||l;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Pe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})))}),e_e=p.forwardRef((e,t)=>{const n=uc(wd,e.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return p.createElement(P5,Oe({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,o),!o.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var a,s;(a=e.onInteractOutside)===null||a===void 0||a.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),P5=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...f}=e,d=uc(wd,n),h=YP(n);return NP(),p.createElement(jP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},p.createElement(dg,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:c,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>d.onOpenChange(!1)},p.createElement(_5,Oe({"data-state":O5(d.open),role:"dialog",id:d.contentId},h,f,{ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function O5(e){return e?"open":"closed"}const t_e=H1e,n_e=G1e,r_e=X1e,$5=J1e,i_e=t_e,o_e=n_e,C5=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>x.jsx(r_e,{children:x.jsx($5,{ref:i,align:t,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),sideOffset:n,...r})}));C5.displayName=$5.displayName;const nI=({options:e,placeholder:t,onSelect:n,defaultOption:r})=>{var l;const[i,o]=p.useState(!1),[a,s]=p.useState(r==null?void 0:r.value);return x.jsxs(i_e,{onOpenChange:o,open:i,children:[x.jsx(o_e,{asChild:!0,children:x.jsxs(ge,{"aria-expanded":i,className:"w-[200px] justify-between",role:"combobox",variant:"outline",children:[a?(l=e.find(u=>u.value===a))==null?void 0:l.label:t,x.jsx(L9,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),x.jsx(C5,{className:"w-[200px] p-0",children:x.jsxs(Z4,{className:"max-h-[var(--radix-popover-content-available-height)]",children:[x.jsx(e5,{placeholder:t}),x.jsx(t5,{children:"Nothing found."}),x.jsx(n5,{children:e.map(u=>x.jsxs(r5,{onSelect:c=>{var d;const f=(d=e.find(h=>h.label.toLowerCase()===c))==null?void 0:d.value;f&&(n(u),s(f===a?"":f),o(!1))},value:u.label,children:[x.jsx(xj,{className:be("mr-2 h-4 w-4",a===u.value?"opacity-100":"opacity-0")}),u.label]},u.value))})]})})]})},rI=({className:e,...t})=>x.jsx("div",{className:be("animate-pulse rounded-md bg-primary/10",e),...t}),R5=({defaultLearnLanguage:e,defaultNativeLanguage:t})=>{const[n,r]=p.useState(null),[i,o]=p.useState(t),[a,s]=p.useState(e),l=Hr.useRxCollection("settings"),u=Xt(),{t:c}=je();return p.useEffect(()=>{Qt("translation/languages").then(({data:f})=>{if(!f)return;const d=Object.keys(f).map(v=>({value:v,label:f[v]}));r(d);const h=navigator.language.split("-")[0];o(v=>v||d.find(m=>m.value===h)),s(v=>{if(v)return v;if(h!=="en")return d.find(m=>m.value==="en")})})},[]),n?x.jsxs("form",{className:"flex flex-col gap-4",onSubmit:async f=>{f.preventDefault(),await(l==null?void 0:l.upsert({id:"settings",nativeLanguage:i,learnLanguage:a,cardsFront:"native"})),u("/cards")},children:[x.jsx(nI,{defaultOption:i,onSelect:o,options:n,placeholder:c("Native language")}),x.jsx(nI,{defaultOption:a,onSelect:s,options:n,placeholder:c("Language to learn")}),x.jsx(ge,{disabled:!i||!a,type:"submit",children:c("Save")})]}):x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsx(rI,{className:"h-10 w-[200px]"}),x.jsx(rI,{className:"h-10 w-[200px]"}),x.jsx(ge,{disabled:!0,children:c("Save")})]})},a_e=p.forwardRef((e,t)=>p.createElement(Ae.label,Oe({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),k5=a_e,s_e=oE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Hl=p.forwardRef(({className:e,...t},n)=>x.jsx(k5,{ref:n,className:be(s_e(),e),...t}));Hl.displayName=k5.displayName;const QP=p.forwardRef(({className:e,...t},n)=>x.jsx("textarea",{ref:n,className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t}));QP.displayName="Textarea";const QS=({children:e})=>x.jsx("main",{className:"flex h-full justify-center gap-4",children:x.jsx("section",{className:"flex h-full w-full max-w-md grow flex-col justify-end gap-4 overflow-auto p-2 md:justify-center",children:e})}),T5=p.createContext(void 0),XP=()=>p.useContext(T5),l_e=({children:e})=>{const[t,n]=p.useState(),r=Xt();return p.useEffect(()=>{localStorage.getItem(Kn)&&Qt("user/me").then(({data:i,res:o})=>{var a,s;o.status>=400||(i!=null&&i.user&&!((s=(a=i==null?void 0:i.user)==null?void 0:a.subscription)!=null&&s.id)&&r("/subscription",{replace:!0}),i!=null&&i.jwt&&localStorage.setItem(Kn,i==null?void 0:i.jwt),n(i==null?void 0:i.user))})},[]),x.jsx(T5.Provider,{value:{user:t,setUser:n},children:e})},u_e=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(!1),{user:i}=XP(),{toast:o}=Tr(),{t:a}=je(),s=l=>{var v,m,b,g;l.preventDefault();const u=l.currentTarget,c=(v=u.elements.namedItem("name"))==null?void 0:v.value,f=(m=u.elements.namedItem("email"))==null?void 0:m.value,d=(b=u.elements.namedItem("subject"))==null?void 0:b.value,h=(g=u.elements.namedItem("message"))==null?void 0:g.value;t(!0),Qt("/contact",{body:JSON.stringify({username:c||(i==null?void 0:i.username),email:f||(i==null?void 0:i.email),subject:d,message:h}),method:"POST"}).then(({res:y})=>{if(y.status<400)return r(!0);o({variant:"destructive",title:a("Something went wrong")})}).finally(()=>t(!1))};return n?x.jsxs(QS,{children:[x.jsx("h2",{className:"text-center text-2xl font-bold",children:a("Thank you for reaching out")}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("Your message has been received, and we'll get back to you as soon as possible. We appreciate your interest and look forward to assisting you.")}),x.jsx(ge,{variant:"outline",asChild:!0,children:x.jsx(Qe,{to:"/settings",children:a("Back to settings")})})]}):x.jsxs(QS,{children:[x.jsx("h2",{className:"text-center text-2xl font-bold",children:a("Contact Form")}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("Reach out to us by completing the form below We ll respond promptly to assist you")}),x.jsxs("form",{className:"flex flex-col gap-3",onSubmit:s,children:[!(i!=null&&i.id)&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx(Hl,{htmlFor:"name",children:a("Name")}),x.jsx(bn,{id:"name",name:"name",placeholder:a("Enter your name"),required:!0})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx(Hl,{htmlFor:"email",children:a("Email")}),x.jsx(bn,{id:"email",name:"email",placeholder:a("Enter your email"),type:"email",required:!0})]})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx(Hl,{htmlFor:"subject",children:a("Subject")}),x.jsx(bn,{id:"subject",name:"subject",placeholder:a("Enter the subject"),required:!0})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx(Hl,{htmlFor:"message",children:a("Message")}),x.jsx(QP,{className:"min-h-[100px]",id:"message",name:"message",placeholder:a("Enter your message"),required:!0})]}),x.jsx(Ah,{className:"w-full",isLoading:e,type:"submit",children:a("Submit Your Message")})]}),x.jsx(ge,{variant:"outline",asChild:!0,children:x.jsx(Qe,{to:"/settings",children:a("Back")})})]})},Kv="app-was-installed",A5=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,I5=()=>/^((?!chrome|android|CriOS).)*safari/i.test(navigator.userAgent),JP=()=>"standalone"in window.navigator&&!!window.navigator.standalone,c_e=()=>{const[e,t]=p.useState(!1),n=Xt(),{t:r}=je();return p.useEffect(()=>{const i=A5()&&I5()&&!localStorage.getItem(Kv)&&!JP();t(i),i||n("/")},[]),e?x.jsxs("main",{className:"flex h-full w-full flex-col items-center justify-end gap-10",children:[x.jsxs("section",{className:"flex flex-col items-center gap-2",children:[x.jsx("h3",{className:"max-w-xs text-center text-xl",children:r("Install this application on your home screen for a better experience")}),x.jsxs("p",{className:"flex items-center gap-3",children:[r("Tap")," ",x.jsx(qpe,{className:"stroke-blue-500"})]}),r("then"),x.jsxs("p",{className:"flex items-center gap-3",children:[r("Add to Home Screen")," ",x.jsx(zpe,{})]})]}),x.jsxs("section",{className:"flex flex-col gap-3",children:[x.jsx(ge,{className:"w-[200px]",onClick:()=>localStorage.setItem(Kv,"true"),variant:"secondary",asChild:!0,children:x.jsx(Qe,{to:"/",children:r("Already installed")})}),x.jsx(ge,{className:"w-[200px]",variant:"outline",asChild:!0,children:x.jsx(Qe,{to:"/settings",children:r("Back")})})]})]}):null},f_e=()=>{const{result:[e],isFetching:t}=Hr.useRxData("settings",r=>r.find({})),{t:n}=je();return t?null:x.jsxs("main",{className:"flex h-full w-full flex-col items-center justify-center gap-4",children:[x.jsx(R5,{defaultLearnLanguage:e==null?void 0:e.learnLanguage,defaultNativeLanguage:e==null?void 0:e.nativeLanguage}),x.jsx(ge,{className:"w-[200px]",variant:"outline",asChild:!0,children:x.jsx(Qe,{to:"/settings",children:n("Back")})})]})};function iI(e,[t,n]){return Math.min(n,Math.max(t,e))}const d_e=p.createContext(void 0);function h_e(e){const t=p.useContext(d_e);return e||t||"ltr"}function D5(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const p_e=[" ","Enter","ArrowUp","ArrowDown"],m_e=[" ","Enter"],t0="Select",[n0,r0,v_e]=ij(t0),[cc,bEe]=Oa(t0,[v_e,e0]),ZP=e0(),[g_e,ll]=cc(t0),[y_e,b_e]=cc(t0),w_e=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:u,name:c,autoComplete:f,disabled:d,required:h}=e,v=ZP(t),[m,b]=p.useState(null),[g,y]=p.useState(null),[w,_]=p.useState(!1),S=h_e(u),[E=!1,P]=xs({prop:r,defaultProp:i,onChange:o}),[O,C]=xs({prop:a,defaultProp:s,onChange:l}),I=p.useRef(null),N=m?!!m.closest("form"):!0,[M,V]=p.useState(new Set),D=Array.from(M).map($=>$.props.value).join(";");return p.createElement(b5,v,p.createElement(g_e,{required:h,scope:t,trigger:m,onTriggerChange:b,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:_,contentId:ms(),value:O,onValueChange:C,open:E,onOpenChange:P,dir:S,triggerPointerDownPosRef:I,disabled:d},p.createElement(n0.Provider,{scope:t},p.createElement(y_e,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback($=>{V(k=>new Set(k).add($))},[]),onNativeOptionRemove:p.useCallback($=>{V(k=>{const F=new Set(k);return F.delete($),F})},[])},n)),N?p.createElement(F5,{key:D,"aria-hidden":!0,required:h,tabIndex:-1,name:c,autoComplete:f,value:O,onChange:$=>C($.target.value),disabled:d},O===void 0?p.createElement("option",{value:""}):null,Array.from(M)):null))},__e="SelectTrigger",S_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=ZP(n),a=ll(__e,n),s=a.disabled||r,l=Je(t,a.onTriggerChange),u=r0(n),[c,f,d]=B5(v=>{const m=u().filter(y=>!y.disabled),b=m.find(y=>y.value===a.value),g=U5(m,v,b);g!==void 0&&a.onValueChange(g.value)}),h=()=>{s||(a.onOpenChange(!0),d())};return p.createElement(w5,Me({asChild:!0},o),p.createElement(Ae.button,Me({type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":L5(a.value)?"":void 0},i,{ref:l,onClick:Pe(i.onClick,v=>{v.currentTarget.focus()}),onPointerDown:Pe(i.onPointerDown,v=>{const m=v.target;m.hasPointerCapture(v.pointerId)&&m.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(h(),a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)},v.preventDefault())}),onKeyDown:Pe(i.onKeyDown,v=>{const m=c.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(m&&v.key===" ")&&p_e.includes(v.key)&&(h(),v.preventDefault())})})))}),x_e="SelectValue",E_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=e,l=ll(x_e,n),{onValueNodeHasChildrenChange:u}=l,c=o!==void 0,f=Je(t,l.onValueNodeChange);return _n(()=>{u(c)},[u,c]),p.createElement(Ae.span,Me({},s,{ref:f,style:{pointerEvents:"none"}}),L5(l.value)?p.createElement(p.Fragment,null,a):o)}),P_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return p.createElement(Ae.span,Me({"aria-hidden":!0},i,{ref:t}),r||"▼")}),O_e=e=>p.createElement(hg,Me({asChild:!0},e)),Nu="SelectContent",$_e=p.forwardRef((e,t)=>{const n=ll(Nu,e.__scopeSelect),[r,i]=p.useState();if(_n(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?pn.createPortal(p.createElement(M5,{scope:e.__scopeSelect},p.createElement(n0.Slot,{scope:e.__scopeSelect},p.createElement("div",null,e.children))),o):null}return p.createElement(C_e,Me({},e,{ref:t}))}),Ti=10,[M5,ul]=cc(Nu),C_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:u,alignOffset:c,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:b,...g}=e,y=ll(Nu,n),[w,_]=p.useState(null),[S,E]=p.useState(null),P=Je(t,Y=>_(Y)),[O,C]=p.useState(null),[I,N]=p.useState(null),M=r0(n),[V,D]=p.useState(!1),$=p.useRef(!1);p.useEffect(()=>{if(w)return Gb(w)},[w]),NP();const k=p.useCallback(Y=>{const[_e,...Ne]=M().map(ye=>ye.ref.current),[me]=Ne.slice(-1),le=document.activeElement;for(const ye of Y)if(ye===le||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===_e&&S&&(S.scrollTop=0),ye===me&&S&&(S.scrollTop=S.scrollHeight),ye==null||ye.focus(),document.activeElement!==le))return},[M,S]),F=p.useCallback(()=>k([O,w]),[k,O,w]);p.useEffect(()=>{V&&F()},[V,F]);const{onOpenChange:A,triggerPointerDownPosRef:R}=y;p.useEffect(()=>{if(w){let Y={x:0,y:0};const _e=me=>{var le,ye,tt,Le;Y={x:Math.abs(Math.round(me.pageX)-((le=(ye=R.current)===null||ye===void 0?void 0:ye.x)!==null&&le!==void 0?le:0)),y:Math.abs(Math.round(me.pageY)-((tt=(Le=R.current)===null||Le===void 0?void 0:Le.y)!==null&&tt!==void 0?tt:0))}},Ne=me=>{Y.x<=10&&Y.y<=10?me.preventDefault():w.contains(me.target)||A(!1),document.removeEventListener("pointermove",_e),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[w,A,R]),p.useEffect(()=>{const Y=()=>A(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[A]);const[j,U]=B5(Y=>{const _e=M().filter(le=>!le.disabled),Ne=_e.find(le=>le.ref.current===document.activeElement),me=U5(_e,Y,Ne);me&&setTimeout(()=>me.ref.current.focus())}),z=p.useCallback((Y,_e,Ne)=>{const me=!$.current&&!Ne;(y.value!==void 0&&y.value===_e||me)&&(C(Y),me&&($.current=!0))},[y.value]),K=p.useCallback(()=>w==null?void 0:w.focus(),[w]),J=p.useCallback((Y,_e,Ne)=>{const me=!$.current&&!Ne;(y.value!==void 0&&y.value===_e||me)&&N(Y)},[y.value]),Ce=r==="popper"?oI:R_e,q=Ce===oI?{side:s,sideOffset:l,align:u,alignOffset:c,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:b}:{};return p.createElement(M5,{scope:n,content:w,viewport:S,onViewportChange:E,itemRefCallback:z,selectedItem:O,onItemLeave:K,itemTextRefCallback:J,focusSelectedItem:F,selectedItemText:I,position:r,isPositioned:V,searchRef:j},p.createElement(FP,{as:sa,allowPinchZoom:!0},p.createElement(jP,{asChild:!0,trapped:y.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Pe(i,Y=>{var _e;(_e=y.trigger)===null||_e===void 0||_e.focus({preventScroll:!0}),Y.preventDefault()})},p.createElement(dg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},p.createElement(Ce,Me({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Y=>Y.preventDefault()},g,q,{onPlaced:()=>D(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Pe(g.onKeyDown,Y=>{const _e=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!_e&&Y.key.length===1&&U(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let me=M().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const le=Y.target,ye=me.indexOf(le);me=me.slice(ye+1)}setTimeout(()=>k(me)),Y.preventDefault()}})}))))))}),R_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=ll(Nu,n),a=ul(Nu,n),[s,l]=p.useState(null),[u,c]=p.useState(null),f=Je(t,P=>c(P)),d=r0(n),h=p.useRef(!1),v=p.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:g,focusSelectedItem:y}=a,w=p.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&u&&m&&b&&g){const P=o.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),I=g.getBoundingClientRect();if(o.dir!=="rtl"){const le=I.left-O.left,ye=C.left-le,tt=P.left-ye,Le=P.width+tt,Ot=Math.max(Le,O.width),$t=window.innerWidth-Ti,Dn=iI(ye,[Ti,$t-Ot]);s.style.minWidth=Le+"px",s.style.left=Dn+"px"}else{const le=O.right-I.right,ye=window.innerWidth-C.right-le,tt=window.innerWidth-P.right-ye,Le=P.width+tt,Ot=Math.max(Le,O.width),$t=window.innerWidth-Ti,Dn=iI(ye,[Ti,$t-Ot]);s.style.minWidth=Le+"px",s.style.right=Dn+"px"}const N=d(),M=window.innerHeight-Ti*2,V=m.scrollHeight,D=window.getComputedStyle(u),$=parseInt(D.borderTopWidth,10),k=parseInt(D.paddingTop,10),F=parseInt(D.borderBottomWidth,10),A=parseInt(D.paddingBottom,10),R=$+k+V+A+F,j=Math.min(b.offsetHeight*5,R),U=window.getComputedStyle(m),z=parseInt(U.paddingTop,10),K=parseInt(U.paddingBottom,10),J=P.top+P.height/2-Ti,Ce=M-J,q=b.offsetHeight/2,Y=b.offsetTop+q,_e=$+k+Y,Ne=R-_e;if(_e<=J){const le=b===N[N.length-1].ref.current;s.style.bottom="0px";const ye=u.clientHeight-m.offsetTop-m.offsetHeight,tt=Math.max(Ce,q+(le?K:0)+ye+F),Le=_e+tt;s.style.height=Le+"px"}else{const le=b===N[0].ref.current;s.style.top="0px";const tt=Math.max(J,$+m.offsetTop+(le?z:0)+q)+Ne;s.style.height=tt+"px",m.scrollTop=_e-J+m.offsetTop}s.style.margin=`${Ti}px 0`,s.style.minHeight=j+"px",s.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[d,o.trigger,o.valueNode,s,u,m,b,g,o.dir,r]);_n(()=>w(),[w]);const[_,S]=p.useState();_n(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=p.useCallback(P=>{P&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return p.createElement(k_e,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:E},p.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_}},p.createElement(Ae.div,Me({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),oI=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ti,...o}=e,a=ZP(n);return p.createElement(_5,Me({},a,o,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[k_e,eO]=cc(Nu,{}),aI="SelectViewport",T_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ul(aI,n),o=eO(aI,n),a=Je(t,i.onViewportChange),s=p.useRef(0);return p.createElement(p.Fragment,null,p.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),p.createElement(n0.Slot,{scope:n},p.createElement(Ae.div,Me({"data-radix-select-viewport":"",role:"presentation"},r,{ref:a,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Pe(r.onScroll,l=>{const u=l.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&c){const d=Math.abs(s.current-u.scrollTop);if(d>0){const h=window.innerHeight-Ti*2,v=parseFloat(c.style.minHeight),m=parseFloat(c.style.height),b=Math.max(v,m);if(b<h){const g=b+d,y=Math.min(h,g),w=g-y;c.style.height=y+"px",c.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,c.style.justifyContent="flex-end")}}}s.current=u.scrollTop})}))))}),A_e="SelectGroup",[wEe,I_e]=cc(A_e),D_e="SelectLabel",M_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=I_e(D_e,n);return p.createElement(Ae.div,Me({id:i.id},r,{ref:t}))}),XS="SelectItem",[j_e,j5]=cc(XS),N_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=e,s=ll(XS,n),l=ul(XS,n),u=s.value===r,[c,f]=p.useState(o??""),[d,h]=p.useState(!1),v=Je(t,g=>{var y;return(y=l.itemRefCallback)===null||y===void 0?void 0:y.call(l,g,r,i)}),m=ms(),b=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.createElement(j_e,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:p.useCallback(g=>{f(y=>{var w;return y||((w=g==null?void 0:g.textContent)!==null&&w!==void 0?w:"").trim()})},[])},p.createElement(n0.ItemSlot,{scope:n,value:r,disabled:i,textValue:c},p.createElement(Ae.div,Me({role:"option","aria-labelledby":m,"data-highlighted":d?"":void 0,"aria-selected":u&&d,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},a,{ref:v,onFocus:Pe(a.onFocus,()=>h(!0)),onBlur:Pe(a.onBlur,()=>h(!1)),onPointerUp:Pe(a.onPointerUp,b),onPointerMove:Pe(a.onPointerMove,g=>{if(i){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}else g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(a.onPointerLeave,g=>{if(g.currentTarget===document.activeElement){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}}),onKeyDown:Pe(a.onKeyDown,g=>{var y;((y=l.searchRef)===null||y===void 0?void 0:y.current)!==""&&g.key===" "||(m_e.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})}))))}),Np="SelectItemText",L_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,a=ll(Np,n),s=ul(Np,n),l=j5(Np,n),u=b_e(Np,n),[c,f]=p.useState(null),d=Je(t,g=>f(g),l.onItemTextChange,g=>{var y;return(y=s.itemTextRefCallback)===null||y===void 0?void 0:y.call(s,g,l.value,l.disabled)}),h=c==null?void 0:c.textContent,v=p.useMemo(()=>p.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},h),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=u;return _n(()=>(m(v),()=>b(v)),[m,b,v]),p.createElement(p.Fragment,null,p.createElement(Ae.span,Me({id:l.textId},o,{ref:d})),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?pn.createPortal(o.children,a.valueNode):null)}),F_e="SelectItemIndicator",B_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return j5(F_e,n).isSelected?p.createElement(Ae.span,Me({"aria-hidden":!0},r,{ref:t})):null}),sI="SelectScrollUpButton",U_e=p.forwardRef((e,t)=>{const n=ul(sI,e.__scopeSelect),r=eO(sI,e.__scopeSelect),[i,o]=p.useState(!1),a=Je(t,r.onScrollButtonChange);return _n(()=>{if(n.viewport&&n.isPositioned){let u=function(){const c=l.scrollTop>0;o(c)};var s=u;const l=n.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?p.createElement(N5,Me({},e,{ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}})):null}),lI="SelectScrollDownButton",V_e=p.forwardRef((e,t)=>{const n=ul(lI,e.__scopeSelect),r=eO(lI,e.__scopeSelect),[i,o]=p.useState(!1),a=Je(t,r.onScrollButtonChange);return _n(()=>{if(n.viewport&&n.isPositioned){let u=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;o(f)};var s=u;const l=n.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?p.createElement(N5,Me({},e,{ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}})):null}),N5=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=ul("SelectScrollButton",n),a=p.useRef(null),s=r0(n),l=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),_n(()=>{var u;const c=s().find(f=>f.ref.current===document.activeElement);c==null||(u=c.ref.current)===null||u===void 0||u.scrollIntoView({block:"nearest"})},[s]),p.createElement(Ae.div,Me({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:Pe(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Pe(i.onPointerMove,()=>{var u;(u=o.onItemLeave)===null||u===void 0||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Pe(i.onPointerLeave,()=>{l()})}))}),W_e=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return p.createElement(Ae.div,Me({"aria-hidden":!0},r,{ref:t}))});function L5(e){return e===""||e===void 0}const F5=p.forwardRef((e,t)=>{const{value:n,...r}=e,i=p.useRef(null),o=Je(t,i),a=D5(n);return p.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&c){const f=new Event("change",{bubbles:!0});c.call(s,n),s.dispatchEvent(f)}},[a,n]),p.createElement(rE,{asChild:!0},p.createElement("select",Me({},r,{ref:o,defaultValue:n})))});F5.displayName="BubbleSelect";function B5(e){const t=ar(e),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(a=>{const s=n.current+a;t(s),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function U5(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=z_e(e,Math.max(o,0));i.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function z_e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const K_e=w_e,V5=S_e,H_e=E_e,q_e=P_e,G_e=O_e,W5=$_e,Y_e=T_e,z5=M_e,K5=N_e,Q_e=L_e,X_e=B_e,H5=U_e,q5=V_e,G5=W_e,J_e=K_e,Z_e=H_e,Y5=p.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(V5,{ref:r,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,x.jsx(q_e,{asChild:!0,children:x.jsx(Ej,{className:"h-4 w-4 opacity-50"})})]}));Y5.displayName=V5.displayName;const Q5=p.forwardRef(({className:e,...t},n)=>x.jsx(H5,{ref:n,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(N9,{className:"h-4 w-4"})}));Q5.displayName=H5.displayName;const X5=p.forwardRef(({className:e,...t},n)=>x.jsx(q5,{ref:n,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(Ej,{className:"h-4 w-4"})}));X5.displayName=q5.displayName;const J5=p.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>x.jsx(G_e,{children:x.jsxs(W5,{ref:i,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[x.jsx(Q5,{}),x.jsx(Y_e,{className:be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),x.jsx(X5,{})]})}));J5.displayName=W5.displayName;const eSe=p.forwardRef(({className:e,...t},n)=>x.jsx(z5,{ref:n,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));eSe.displayName=z5.displayName;const Pl=p.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(K5,{ref:r,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(X_e,{children:x.jsx(xj,{className:"h-4 w-4"})})}),x.jsx(Q_e,{children:t})]}));Pl.displayName=K5.displayName;const tSe=p.forwardRef(({className:e,...t},n)=>x.jsx(G5,{ref:n,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));tSe.displayName=G5.displayName;const Z5=({isLoading:e,className:t})=>x.jsx("div",{className:ut("h-0.5 w-full",e?"animate-[horizontalBgSlide_1s_linear_infinite] bg-[linear-gradient(to_right,theme(colors.primary.DEFAULT),theme(colors.secondary.DEFAULT),theme(colors.destructive.DEFAULT),theme(colors.primary.DEFAULT))] bg-[length:200%]":"bg-transparent",t)}),nSe=()=>{const{i18n:e,t}=je(),{toast:n}=Tr(),[r,i]=p.useState(!1);p.useEffect(()=>{const a=()=>n({variant:"destructive",title:t("Can t load translations They will be loaded later")});return e.on("failedLoading",a),()=>e.off("failedLoading",a)},[]);const o=a=>{i(!0),e.changeLanguage(a).finally(()=>i(!1))};return x.jsxs("div",{children:[x.jsxs(J_e,{defaultValue:Jj(e.language),onValueChange:o,children:[x.jsx(Y5,{className:"w-fit min-w-[10rem]",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Bpe,{}),x.jsx(Z_e,{})]})}),x.jsxs(J5,{children:[x.jsx(Pl,{value:"en",children:"English"}),x.jsx(Pl,{value:"de",children:"Deutsche"}),x.jsx(Pl,{value:"uk",children:"Українська"}),x.jsx(Pl,{value:"ru",children:"Русский"}),x.jsx(Pl,{value:"tr",children:"Türkçe"})]})]}),x.jsx(Z5,{isLoading:r})]})},rSe="isWebAuthnRegistered",e6=e=>`${rSe}_${e}`,iSe=e=>localStorage.getItem(e6(e))==="true",uI=(e,t)=>localStorage.setItem(e6(e),`${t}`),oSe=()=>{const{toast:e}=Tr(),{user:t}=XP(),[n,r]=p.useState(!1),{t:i}=je();if(!cd()||!t||iSe(t.email)||n)return null;const o=async()=>{try{const{data:a}=await Qt("/webauthn/register");if(!a)return;const s=await the(a),{data:{verified:l}={}}=await Qt("/webauthn/register-complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(l)return uI((t==null?void 0:t.email)||"",!0),r(!0),e({title:i("Authenticator was registered")});e({variant:"destructive",title:i("Something went wrong")})}catch(a){if(typeof a=="object"&&a&&"name"in a&&a.name==="InvalidStateError")return console.error("Authenticator was probably already registered"),uI((t==null?void 0:t.email)||"",!0),r(!0);console.error(a),e({variant:"destructive",title:a.message||i("Something went wrong")})}};return x.jsx(ge,{onClick:o,type:"button",children:i("Enable passwordless login")})},t6=()=>{const{beforeInstallPromptEvent:e}=eN();return!e||JP()},n6=({onClick:e})=>{const{beforeInstallPromptEvent:t,reset:n}=eN(),{t:r}=je();return t6()?null:x.jsx(ge,{onClick:async i=>{if(e==null||e(i),!t)return;t.prompt();const{outcome:o}=await t.userChoice;o!=="dismissed"&&(localStorage.setItem(Kv,"true"),n())},variant:"secondary",children:r("Install")})},r6="Switch",[aSe,_Ee]=Oa(r6),[sSe,lSe]=aSe(r6),uSe=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:u,...c}=e,[f,d]=p.useState(null),h=Je(t,y=>d(y)),v=p.useRef(!1),m=f?!!f.closest("form"):!0,[b=!1,g]=xs({prop:i,defaultProp:o,onChange:u});return p.createElement(sSe,{scope:n,checked:b,disabled:s},p.createElement(Ae.button,Oe({type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":i6(b),"data-disabled":s?"":void 0,disabled:s,value:l},c,{ref:h,onClick:Pe(e.onClick,y=>{g(w=>!w),m&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})})),m&&p.createElement(dSe,{control:f,bubbles:!v.current,name:r,value:l,checked:b,required:a,disabled:s,style:{transform:"translateX(-100%)"}}))}),cSe="SwitchThumb",fSe=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=lSe(cSe,n);return p.createElement(Ae.span,Oe({"data-state":i6(i.checked),"data-disabled":i.disabled?"":void 0},r,{ref:t}))}),dSe=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=p.useRef(null),a=D5(n),s=h5(t);return p.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const d=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(d)}},[a,n,r]),p.createElement("input",Oe({type:"checkbox","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function i6(e){return e?"checked":"unchecked"}const o6=uSe,hSe=fSe,a6=p.forwardRef(({className:e,...t},n)=>x.jsx(o6,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:x.jsx(hSe,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));a6.displayName=o6.displayName;const pSe=()=>{const e=p.useId(),[t,n]=p.useState(vF()),{t:r}=je();return x.jsxs("section",{className:"flex items-center gap-2",children:[x.jsx(a6,{checked:t,id:e,onCheckedChange:i=>{if(n(i),i)return localStorage.theme="dark",document.documentElement.classList.add("dark"),yS(gS(vS("--background")));localStorage.theme="light",document.documentElement.classList.remove("dark"),yS(gS(vS("--background")))}}),x.jsx(Hl,{htmlFor:e,children:r("Dark Mode")})]})},s6=()=>A5()&&I5()&&!localStorage.getItem(Kv)&&!JP(),l6=({onClick:e})=>{const{t}=je();return s6()?null:x.jsx(ge,{onClick:e,variant:"secondary",asChild:!0,children:x.jsx(Qe,{to:"/settings/ios-install",children:t("Install")})})},mSe=()=>{const e=Xt(),{t}=je();return x.jsxs(QS,{children:[x.jsx(ge,{asChild:!0,children:x.jsx(Qe,{to:"/settings/languages",children:t("Cards languages")})}),x.jsx(ge,{asChild:!0,children:x.jsx(Qe,{to:"/settings/contact-us",children:t("Contact us")})}),!fd()&&x.jsx(ge,{onClick:()=>localStorage.removeItem(nP),asChild:!0,children:x.jsx(Qe,{to:"/auth/login",children:t("Login to use advanced")})}),x.jsx(oSe,{}),x.jsx(n6,{}),x.jsx(l6,{}),fd()&&x.jsx(ge,{onClick:()=>{localStorage.removeItem(Kn),e("/auth/login")},variant:"secondary",children:t("Logout")}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx(pSe,{}),x.jsx(nSe,{})]}),x.jsx(Qe,{className:"self-end whitespace-nowrap text-base font-bold underline",to:"/privacy-policy",children:t("Privacy Policy")})]})},vSe={children:[{path:"",element:x.jsx(mSe,{})},{path:"languages",element:x.jsx(f_e,{})},{path:"ios-install",element:x.jsx(c_e,{})},{path:"contact-us",element:x.jsx(u_e,{})}]},gSe=[{id:1,name:"Basic Plan",price:0,translationCount:4e3,textCount:3e3,speechToTextMs:2e6},{id:2,name:"Free Plan",price:0,translationCount:0,textCount:0,speechToTextMs:0}],u6=p.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:be("rounded-xl border bg-card text-card-foreground shadow",e),...t}));u6.displayName="Card";const c6=p.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:be("flex flex-col space-y-1.5 md:p-6 p-4",e),...t}));c6.displayName="CardHeader";const f6=p.forwardRef(({className:e,...t},n)=>x.jsx("h3",{ref:n,className:be("font-semibold leading-none tracking-tight text-center text-lg",e),...t}));f6.displayName="CardTitle";const ySe=p.forwardRef(({className:e,...t},n)=>x.jsx("p",{ref:n,className:be("text-sm text-muted-foreground",e),...t}));ySe.displayName="CardDescription";const d6=p.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:be("md:p-6 p-4 pt-0",e),...t}));d6.displayName="CardContent";const bSe=p.forwardRef(({className:e,...t},n)=>x.jsx("div",{ref:n,className:be("flex items-center md:p-6 p-4 pt-0",e),...t}));bSe.displayName="CardFooter";const wSe=({bulletPoints:e,price:t,title:n,crossedPrice:r,onSelect:i,className:o})=>{const{t:a}=je();return x.jsxs(u6,{className:ut("w-full max-w-md transition duration-300 hover:scale-105 hover:shadow-lg",o),children:[x.jsx(c6,{children:x.jsx(f6,{children:n})}),x.jsxs(d6,{children:[x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("div",{className:"flex gap-2 max-md:items-end md:flex-col",children:[x.jsx("div",{className:"text-4xl font-bold",children:`$${t}`}),x.jsx("div",{className:"text-sm text-gray-500",children:a("per month")})]}),!!r&&x.jsx("div",{className:"text-sm text-gray-500 line-through",children:`$${r}/month`})]}),!!e.length&&x.jsx("ul",{className:"grid gap-2 py-4",children:e.map(({label:s,isNegative:l})=>x.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[l?x.jsx(Qpe,{className:"stroke-red-700"}):x.jsx(GF,{className:"stroke-green-700"}),s]},s))}),x.jsx(ge,{className:"w-full",onClick:i,children:a("Get Started")})]})]})},_Se=e=>e==="Free Plan"?[{label:"Access to Basic Features"},{label:"Clean and Simple Interface"},{label:"No Data Syncing",isNegative:!0},{label:"No Translation Suggestions",isNegative:!0},{label:"No AI Enhancements",isNegative:!0}]:[{label:"AI Enhancements"},{label:"Cross-Device Syncing"},{label:"Translation Suggestions"},{label:"Advanced Features Limited",isNegative:!0}],SSe=()=>{const{toast:e}=Tr(),t=Xt(),{t:n}=je();return x.jsxs("main",{className:"fixed flex h-full w-full flex-col items-center gap-6 overflow-auto p-6",children:[x.jsxs("header",{className:"text-center",children:[x.jsx("h1",{className:"text-4xl font-bold",children:n("Select Your Plan")}),x.jsx("p",{className:"text-lg text-gray-500",children:n("Choose the plan that best suits you")})]}),x.jsx("section",{className:"flex w-full flex-wrap justify-center gap-4 md:gap-8",children:gSe.map(r=>x.jsx(wSe,{bulletPoints:_Se(r.name),className:ut(r.name==="Basic Plan"&&"bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-blue-900 dark:to-indigo-900"),crossedPrice:r.name==="Basic Plan"?1:void 0,onSelect:()=>Qt("subscription",{method:"POST",body:JSON.stringify({planId:r.id}),onBadResponse:()=>e({variant:"destructive",title:n("Something went wrong")})}).then(({data:i})=>{i!=null&&i.jwtToken&&localStorage.setItem(Kn,i.jwtToken),t("cards")}),price:0,title:r.name},r.id))}),x.jsxs("section",{className:"flex max-w-md flex-col gap-4",children:[x.jsx(ge,{asChild:!0,children:x.jsx(Qe,{to:"/auth/login",children:n("To login page")})}),x.jsx(ge,{onClick:()=>{localStorage.removeItem(Kn),t("/upsert")},variant:"secondary",children:n("Use without subscription")})]})]})};let Lp;const xSe=new Uint8Array(16);function ESe(){if(!Lp&&(Lp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lp(xSe)}const nn=[];for(let e=0;e<256;++e)nn.push((e+256).toString(16).slice(1));function PSe(e,t=0){return nn[e[t+0]]+nn[e[t+1]]+nn[e[t+2]]+nn[e[t+3]]+"-"+nn[e[t+4]]+nn[e[t+5]]+"-"+nn[e[t+6]]+nn[e[t+7]]+"-"+nn[e[t+8]]+nn[e[t+9]]+"-"+nn[e[t+10]]+nn[e[t+11]]+nn[e[t+12]]+nn[e[t+13]]+nn[e[t+14]]+nn[e[t+15]]}const OSe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cI={randomUUID:OSe};function $Se(e,t,n){if(cI.randomUUID&&!t&&!e)return cI.randomUUID();e=e||{};const r=e.random||(e.rng||ESe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return PSe(r)}const CSe=e=>{const[t,n]=p.useState(null);return p.useEffect(()=>{t&&e(t)},[t,e]),n},RSe=({isLoading:e,children:t})=>x.jsxs("div",{className:ut("relative p-0.5"),children:[x.jsx("div",{className:ut("absolute left-0 top-0 h-full w-full overflow-hidden rounded-full",e?"animate-spin bg-[linear-gradient(to_right,theme(colors.primary.DEFAULT),theme(colors.secondary.DEFAULT),theme(colors.destructive.DEFAULT),theme(colors.primary.DEFAULT))]":"bg-transparent")}),x.jsx("div",{className:"relative",children:t})]}),kSe=e=>(window.addEventListener("offline",e),window.addEventListener("online",e),()=>{window.removeEventListener("offline",e),window.removeEventListener("online",e)}),TSe=()=>navigator.onLine,h6=()=>p.useSyncExternalStore(kSe,TSe),ASe=({translations:e,onSuggestionSelect:t,className:n})=>{const[r,i]=p.useState(0);return p.useEffect(()=>{const o=a=>{a.code==="ArrowUp"&&i(s=>Math.max(0,s-1)),a.code==="ArrowDown"&&i(s=>Math.min(e.length-1,s+1)),a.code==="Enter"&&(a.stopPropagation(),a.preventDefault(),t(e[r]))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[r]),x.jsx("ul",{className:ut("border-input z-50 flex w-full flex-wrap justify-between gap-1 overflow-hidden rounded-md border border-slate-500 bg-white dark:border-slate-800 dark:bg-slate-800 dark:shadow-slate-700","max-sm:mb-2 sm:absolute sm:-top-1 sm:-translate-y-full sm:flex-col",n),children:e.map((o,a)=>x.jsx("li",{className:"grow basis-1/4",children:x.jsx("button",{className:be("border-input h-full w-full sm:border-b px-2 py-1 sm:text-start text-center",a===r?"md:bg-blue-200 md:dark:bg-slate-500":"hover:bg-blue-100 dark:bg-slate-800 dark:hover:bg-slate-600"),onClick:()=>{t(o)},onMouseDown:s=>s.preventDefault(),tabIndex:-1,children:o})},o))})},ISe=e=>{e=e.replace(/-/g,"+").replace(/_/g,"/");const t=e.length%4;if(t){if(t===1)throw new Error("InvalidLengthError: Input base64url string is the wrong length to be decoded");e+=new Array(5-t).join("=")}return atob(e)},DSe=e=>{try{const t=e.split(".");if(t.length!==3)throw new Error("InvalidTokenError: JWT must have 3 parts");const n=t[1],r=ISe(n);return JSON.parse(r)}catch(t){return console.error("Failed to decode token:",t),null}},MSe=()=>{const e=fd();return e?DSe(e):null},p6=new WeakMap,JS=new WeakMap;function Tt(e){const t=p6.get(e);return console.assert(t!=null,"'this' is expected an Event object, but got",e),t}function Lu(e,t){p6.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const n=Object.keys(t);for(let r=0;r<n.length;++r){const i=n[r];i in this||Object.defineProperty(this,i,m6(i))}}Lu.prototype={get type(){return Tt(this).event.type},get target(){return Tt(this).eventTarget},get currentTarget(){return Tt(this).currentTarget},composedPath(){const e=Tt(this).currentTarget;return e==null?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Tt(this).eventPhase},stopPropagation(){const e=Tt(this);typeof e.event.stopPropagation=="function"&&e.event.stopPropagation()},stopImmediatePropagation(){const e=Tt(this);e.stopped=!0,typeof e.event.stopImmediatePropagation=="function"&&e.event.stopImmediatePropagation()},get bubbles(){return!!Tt(this).event.bubbles},get cancelable(){return!!Tt(this).event.cancelable},preventDefault(){const e=Tt(this);if(e.passiveListener!=null){console.warn("Event#preventDefault() was called from a passive listener:",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,typeof e.event.preventDefault=="function"&&e.event.preventDefault())},get defaultPrevented(){return Tt(this).canceled},get composed(){return!!Tt(this).event.composed},get timeStamp(){return Tt(this).timeStamp}};Object.defineProperty(Lu.prototype,"constructor",{value:Lu,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(Lu.prototype,window.Event.prototype),JS.set(window.Event.prototype,Lu));function m6(e){return{get(){return Tt(this).event[e]},set(t){Tt(this).event[e]=t},configurable:!0,enumerable:!0}}function jSe(e){return{value(){const t=Tt(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function NSe(e,t){const n=Object.keys(t);if(n.length===0)return e;function r(i,o){e.call(this,i,o)}r.prototype=Object.create(e.prototype,{constructor:{value:r,configurable:!0,writable:!0}});for(let i=0;i<n.length;++i){const o=n[i];if(!(o in e.prototype)){const s=typeof Object.getOwnPropertyDescriptor(t,o).value=="function";Object.defineProperty(r.prototype,o,s?jSe(o):m6(o))}}return r}function v6(e){if(e==null||e===Object.prototype)return Lu;let t=JS.get(e);return t==null&&(t=NSe(v6(Object.getPrototypeOf(e)),e),JS.set(e,t)),t}function LSe(e,t){const n=v6(Object.getPrototypeOf(t));return new n(e,t)}function FSe(e){return Tt(e).stopped}function BSe(e,t){Tt(e).eventPhase=t}function USe(e,t){Tt(e).currentTarget=t}function fI(e,t){Tt(e).passiveListener=t}const g6=new WeakMap,dI=1,hI=2,xm=3;function Em(e){return e!==null&&typeof e=="object"}function Pf(e){const t=g6.get(e);if(t==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function VSe(e){return{get(){let n=Pf(this).get(e);for(;n!=null;){if(n.listenerType===xm)return n.listener;n=n.next}return null},set(t){typeof t!="function"&&!Em(t)&&(t=null);const n=Pf(this);let r=null,i=n.get(e);for(;i!=null;)i.listenerType===xm?r!==null?r.next=i.next:i.next!==null?n.set(e,i.next):n.delete(e):r=i,i=i.next;if(t!==null){const o={listener:t,listenerType:xm,passive:!1,once:!1,next:null};r===null?n.set(e,o):r.next=o}},configurable:!0,enumerable:!0}}function y6(e,t){Object.defineProperty(e,`on${t}`,VSe(t))}function pI(e){function t(){ho.call(this)}t.prototype=Object.create(ho.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let n=0;n<e.length;++n)y6(t.prototype,e[n]);return t}function ho(){if(this instanceof ho){g6.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return pI(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return pI(e)}throw new TypeError("Cannot call a class as a function")}ho.prototype={addEventListener(e,t,n){if(t==null)return!1;if(typeof t!="function"&&!Em(t))throw new TypeError("'listener' should be a function or an object.");const r=Pf(this),i=Em(n),a=(i?!!n.capture:!!n)?dI:hI,s={listener:t,listenerType:a,passive:i&&!!n.passive,once:i&&!!n.once,next:null};let l=r.get(e);if(l===void 0)return r.set(e,s),!0;let u=null;for(;l!=null;){if(l.listener===t&&l.listenerType===a)return!1;u=l,l=l.next}return u.next=s,!0},removeEventListener(e,t,n){if(t==null)return!1;const r=Pf(this),o=(Em(n)?!!n.capture:!!n)?dI:hI;let a=null,s=r.get(e);for(;s!=null;){if(s.listener===t&&s.listenerType===o)return a!==null?a.next=s.next:s.next!==null?r.set(e,s.next):r.delete(e),!0;a=s,s=s.next}return!1},dispatchEvent(e){if(e==null||typeof e.type!="string")throw new TypeError('"event.type" should be a string.');const t=Pf(this),n=e.type;let r=t.get(n);if(r==null)return!0;const i=LSe(this,e);let o=null;for(;r!=null;){if(r.once?o!==null?o.next=r.next:r.next!==null?t.set(n,r.next):t.delete(n):o=r,fI(i,r.passive?r.listener:null),typeof r.listener=="function")try{r.listener.call(this,i)}catch(a){typeof console<"u"&&typeof console.error=="function"&&console.error(a)}else r.listenerType!==xm&&typeof r.listener.handleEvent=="function"&&r.listener.handleEvent(i);if(FSe(i))break;r=r.next}return fI(i,null),BSe(i,0),USe(i,null),!i.defaultPrevented}};Object.defineProperty(ho.prototype,"constructor",{value:ho,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(ho.prototype,window.EventTarget.prototype);const WSe=Object.freeze(Object.defineProperty({__proto__:null,EventTarget:ho,default:ho,defineEventAttribute:y6},Symbol.toStringTag,{value:"Module"})),zSe=JB(WSe);var _o={},KSe=T&&T.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(_o,"__esModule",{value:!0});var b6=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r}return e}();_o.BrowserInfo=b6;var w6=function(){function e(t){this.version=t,this.name="node",this.os=process.platform}return e}();_o.NodeInfo=w6;var _6=function(){function e(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}();_o.BotInfo=_6;var HSe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,qSe=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,mI=3,GSe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",HSe]],vI=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",qSe]];function YSe(e){return e?ZS(e):typeof navigator<"u"?ZS(navigator.userAgent):x6()}_o.detect=YSe;function ZS(e){var t=e!==""&&GSe.reduce(function(o,a){var s=a[0],l=a[1];if(o)return o;var u=l.exec(e);return!!u&&[s,u]},!1);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new _6;var i=r[1]&&r[1].split(/[._]/).slice(0,3);return i?i.length<mI&&(i=KSe(i,QSe(mI-i.length))):i=[],new b6(n,i.join("."),S6(e))}_o.parseUserAgent=ZS;function S6(e){for(var t=0,n=vI.length;t<n;t++){var r=vI[t],i=r[0],o=r[1],a=o.test(e);if(a)return i}return null}_o.detectOS=S6;function x6(){var e=typeof process<"u"&&process.version;return e?new w6(process.version.slice(1)):null}_o.getNodeVersion=x6;function QSe(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}const{EventTarget:XSe,defineEventAttribute:JSe}=zSe,{detect:ZSe}=_o,Hv=ZSe();T.AudioContext||T.webkitAudioContext;const exe=4096;class Bo extends XSe{constructor(t,n={},r={}){const{mimeType:i,audioBitsPerSecond:o,videoBitsPerSecond:a,bitsPerSecond:s}=n,{encoderWorkerFactory:l,OggOpusEncoderWasmPath:u,WebMOpusEncoderWasmPath:c}=r;if(super(),this._stream=t,this._state="inactive",this._mimeType=i||"",this._audioBitsPerSecond=o||s,this.workerState="inactive",!Bo.isTypeSupported(this._mimeType))throw new TypeError("invalid arguments, a MIME Type is not supported");switch(Bo._parseType(this._mimeType).subtype){case"wave":case"wav":this._mimeType="audio/wave";break;case"webm":this._mimeType="audio/webm";break;case"ogg":this._mimeType="audio/ogg";break;default:switch(Hv&&Hv.name){case"chrome":this._mimeType="audio/webm";break;case"firefox":this._mimeType="audio/ogg";break;case"edge":this._mimeType="audio/webm";break;case"ios":case"safari":this._mimeType="audio/wave";break;default:this._mimeType="audio/webm"}}switch(this._mimeType){case"audio/wave":this._wasmPath="";break;case"audio/webm":this._wasmPath=c||"";break;case"audio/ogg":this._wasmPath=u||"";break;default:throw new Error(`Internal Error: Unexpected MIME Type: ${this._mimeType}`)}let f="";document.currentScript?f=document.currentScript.src:self.location&&(f=self.location.href),f=f.substr(0,f.lastIndexOf("/"))+"/encoderWorker.umd.js",typeof Bo.encoderWorker=="function"&&(f=URL.createObjectURL(new Blob([`(${Bo.encoderWorker})()`]))),this._workerFactory=typeof l=="function"?l:d=>new Worker(f),this._spawnWorker()}get stream(){return this._stream}get mimeType(){return this._mimeType}get state(){return this._state}get videoBitsPerSecond(){}get audioBitsPerSecond(){return this._audioBitsPerSecond}_spawnWorker(){this.worker=this._workerFactory(),this.worker.onmessage=t=>this._onmessageFromWorker(t),this.worker.onerror=t=>this._onerrorFromWorker(t),this._postMessageToWorker("loadEncoder",{mimeType:this._mimeType,wasmPath:this._wasmPath})}_postMessageToWorker(t,n={}){switch(t){case"loadEncoder":let{mimeType:r,wasmPath:i}=n;this.worker.postMessage({command:t,mimeType:r,wasmPath:i});break;case"init":let{sampleRate:o,channelCount:a,bitsPerSecond:s}=n;this.worker.postMessage({command:t,sampleRate:o,channelCount:a,bitsPerSecond:s}),this.workerState="encoding",this.source.connect(this.processor),this.processor.connect(this.context.destination);let l=new T.Event("start");this.dispatchEvent(l);break;case"pushInputData":let{channelBuffers:u,length:c,duration:f}=n;this.worker.postMessage({command:t,channelBuffers:u,length:c,duration:f});break;case"getEncodedData":this.worker.postMessage({command:t});break;case"done":this.worker.postMessage({command:t});break;default:throw new Error("Internal Error: Incorrect postMessage requested.")}}_onmessageFromWorker(t){const{command:n,buffers:r}=t.data;let i;switch(n){case"readyToInit":const{sampleRate:o,channelCount:a}=this;this.workerState="readyToInit",this.state==="recording"&&this._postMessageToWorker("init",{sampleRate:o,channelCount:a,bitsPerSecond:this.audioBitsPerSecond});break;case"encodedData":case"lastEncodedData":let s=new Blob(r,{type:this._mimeType});i=new T.Event("dataavailable"),i.data=s,this.dispatchEvent(i),n==="lastEncodedData"&&(i=new T.Event("stop"),this.dispatchEvent(i),this.workerState="closed");break}}_onerrorFromWorker(t){this.source.disconnect(),this.processor.disconnect(),this.worker.terminate(),this.workerState="closed";let n=["FileName: "+t.filename,"LineNumber: "+t.lineno,"Message: "+t.message].join(" - "),r=new T.Event("error");r.name="UnknownError",r.message=n,this.dispatchEvent(r)}_enableAudioProcessCallback(t){let n=0;this.processor.onaudioprocess=r=>{const{inputBuffer:i,playbackTime:o}=r,{sampleRate:a,length:s,duration:l,numberOfChannels:u}=i,c=new Array(u);for(let d=0;d<u;d++)c[d]=i.getChannelData(d);const f={channelBuffers:c,length:s,duration:l};this._postMessageToWorker("pushInputData",f),n+=l,n>=t&&(this._postMessageToWorker("getEncodedData"),n=0)}}start(t=Number.MAX_SAFE_INTEGER){if(this.state!=="inactive")throw new Error("DOMException: INVALID_STATE_ERR, state must be inactive.");if(t<0)throw new TypeError("invalid arguments, timeslice should be 0 or higher.");t/=1e3,this.workerState==="closed"&&this._spawnWorker(),this.context=new window.AudioContext;let n=this.stream.getAudioTracks();if(!n[0])throw new Error("DOMException: UnkownError, media track not found.");if(this.channelCount=n[0].getSettings().channelCount||1,this.sampleRate=this.context.sampleRate,this.source=this.context.createMediaStreamSource(this.stream),this.processor=this.context.createScriptProcessor(exe,this.channelCount,this.channelCount),this._state="recording",this._enableAudioProcessCallback(t),this.workerState==="readyToInit"){const{sampleRate:r,channelCount:i}=this;this._postMessageToWorker("init",{sampleRate:r,channelCount:i,bitsPerSecond:this.audioBitsPerSecond})}}stop(){if(this.state==="inactive")throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this.source.disconnect(),this.processor.disconnect(),this.context.close(),this._postMessageToWorker("done"),this._state="inactive"}pause(){if(this.state==="inactive")throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this.source.disconnect(),this.processor.disconnect();let t=new T.Event("pause");this.dispatchEvent(t),this._state="paused"}resume(){if(this.state==="inactive")throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this.source.connect(this.processor),this.processor.connect(this.context.destination);let t=new T.Event("resume");this.dispatchEvent(t),this._state="recording"}requestData(){if(this.state==="inactive")throw new Error("DOMException: INVALID_STATE_ERR, state must NOT be inactive.");this._postMessageToWorker("getEncodedData")}static isTypeSupported(t){if(typeof t=="string"&&!t)return!0;try{var{type:n,subtype:r,codec:i}=Bo._parseType(t)}catch{return!1}if(n!=="audio"||!(r==="ogg"||r==="webm"||r==="wave"||r==="wav"))return!1;switch(r){case"ogg":if(i!=="opus"&&i)return!1;break;case"webm":if(i!=="opus"&&i)return!1;break;case"wave":case"wav":if(i)return!1;break}return!0}static _parseType(t){try{const o=/^(\w+)\/(\w+)(;\s*codecs=(\w+))?$/;var[,n,r,,i]=t.match(o)}catch{return typeof t=="string"&&!t?{type:"",subtype:"",codec:""}:null}return{type:n,subtype:r,codec:i}}}["start","stop","dataavailable","pause","resume","error"].forEach(e=>JSe(Bo.prototype,e));Hv&&Hv.name==="edge"&&function(){var e=Worker.prototype.postMessage;Worker.prototype.postMessage=function(t,n=null){e.apply(this,[t])}}();var txe=Bo;const nxe=_d(txe),rxe="/assets/encoderWorker.umd-VP_jscyZ.js",ixe="/assets/OggOpusEncoder-Ndu9281v.wasm",oxe="/assets/WebMOpusEncoder-dDKpBtff.wasm",axe=(e,t=3e3)=>{const[n,r]=p.useState(!1),i=p.useRef(null),o=p.useRef([]),a=p.useRef(null),s=p.useRef(0),l=p.useRef(null),u=p.useMemo(()=>({encoderWorkerFactory:()=>new Worker(rxe),OggOpusEncoderWasmPath:ixe,WebMOpusEncoderWasmPath:oxe}),[]),c=()=>{var b;o.current=[],i.current=null,(((b=l.current)==null?void 0:b.getTracks())||[]).forEach(g=>{g.stop()}),l.current=null},f=async()=>{if(a.current)return v();s.current=Date.now();const m=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(g=>console.error("Error accessing microphone:",g));if(!m){console.error("Can't initiate an audio stream");return}l.current=m;const b=new nxe(m,{mimeType:"audio/ogg"},u);b.ondataavailable=g=>{o.current.push(g.data)},b.onstop=()=>{const g=new Blob(o.current,{type:"audio/ogg; codecs=opus"});e(g),c()},i.current=b,b.start(),r(!0),a.current=setTimeout(()=>{v(),h()},t)},d=()=>{i.current&&(h(),i.current.ondataavailable=null,i.current.onstop=null,i.current.stop(),i.current=null,c(),r(!1))},h=()=>{a.current&&(clearTimeout(a.current),a.current=null)},v=async()=>{var m;h(),r(!1),((m=i.current)==null?void 0:m.state)==="recording"&&i.current.stop()};return{isRecording:n,startRecording:f,stopRecording:v,cancelRecording:d}},sxe=({onAudioGenerated:e})=>{const{isRecording:t,cancelRecording:n,stopRecording:r,startRecording:i}=axe(e),o=p.useRef(!1),a=p.useId(),{attributes:s,listeners:l,setNodeRef:u,transform:c,isDragging:f}=zF({id:a}),d=f&&t?{transform:`translateX(${c==null?void 0:c.x}px)`}:{};return Lb({onDragMove(h){h.delta.x<=-60&&n(),h.delta.x>=60&&r()}}),x.jsxs("div",{className:ut("relative",t&&"scale-110 transition-[transform]"),children:[x.jsxs("div",{className:ut("absolute left-1/2 top-1/2 box-content flex h-full w-56 -translate-x-1/2 -translate-y-1/2 items-center justify-between gap-4 rounded-md bg-slate-100 p-2 dark:bg-slate-600",!t&&"hidden"),children:[t&&x.jsx("div",{className:"absolute left-0 z-0 flex h-full w-0 animate-[progress_3s_linear] justify-center rounded-md bg-slate-200 dark:bg-slate-700"}),x.jsx(hP,{className:"z-10 stroke-red-700",onClick:n}),x.jsx(GF,{className:"z-10 stroke-green-600",onClick:r})]}),x.jsx(ge,{ref:u,className:"relative touch-none select-none overflow-hidden",onMouseDown:()=>{o.current||i()},onTouchStart:()=>{o.current=!0,i()},size:"iconLg",style:d,type:"button",variant:"icon",...s,...l,children:x.jsx(Vpe,{className:"z-10"})})]})},lxe=e=>x.jsx(WF,{children:x.jsx(sxe,{...e})}),uxe=({settings:e,setIsLoading:t,onTextFetched:n})=>{const r=h6(),{toast:i}=Tr(),{t:o}=je(),a=MSe();return x.jsx("div",{onClick:()=>{r||i({variant:"destructive",title:o("This feature only works with internet")}),a!=null&&a.subscriptionId||i({variant:"destructive",title:o("This feature is for subscribers only")})},children:x.jsx("div",{className:ut(!r&&!(a!=null&&a.subscriptionId)&&"pointer-events-none"),children:x.jsx(lxe,{onAudioGenerated:s=>{if(!e)return;const l=new FormData;l.append("file",s,"speech.ogg"),l.append("languageA",e.nativeLanguage.value),l.append("languageB",e.learnLanguage.value),t(!0),Qt("/speech",{body:l,method:"POST",headers:{},bodyParse:u=>u.text()}).then(({data:u="",res:c})=>{const f=u.trim();if(!f)return i({variant:"destructive",title:c.status===403?o("You have reached the subscription limit"):o("Cant process the audio Please try again later")});n(f)}).finally(()=>t(!1))}})})})},cxe=(e,t,n,r)=>{const i=new EventSource(new URL(`example/sse?text=${t}&translation=${n}${r}&token=${localStorage.getItem(Kn)}`,"http://192.168.1.118:4000"));let o="";i.onmessage=({data:a})=>{o=`${o}${a}`,e==null||e.incrementalPatch({examples:o})},i.onerror=()=>i.close()},fxe=(e,t,n)=>n?e?t("Enter text using selected languages"):t("Enter Lang text",{lang:n.nativeLanguage.label}):"",dxe=(e,t,n)=>n?e?t("Choose or enter translation"):t("Enter Lang text",{lang:n.learnLanguage.label}):"",hxe=({scrollToCard:e})=>{const t=Hr.useRxCollection("cards"),[n,r]=p.useState([]),[,i]=p.useTransition(),o=I=>i(()=>r(I)),a=p.useRef([]),[s,l]=p.useState(!1),{result:[u]}=Hr.useRxData("settings",I=>I.find({})),[c,f]=p.useState(!1),[d,h]=p.useState(!1),{t:v}=je(),m=p.useRef(null),b=p.useRef(null),[g,y]=p.useState(),w=h6(),_=CSe(e),S=I=>{b.current&&(b.current.value=I,o([]),l(!1),C())},E=()=>{m.current&&(m.current.value=""),b.current&&(b.current.value="")},P=async()=>{var M;const I=(M=m.current)==null?void 0:M.value;if(!I||!u)return;f(!0);const{data:N}=await Qt(`translation?text=${I}&languageA=${u.nativeLanguage.value}&languageB=${u.learnLanguage.value}`);f(!1),N&&(o(N.translations),a.current=N.translations,N.from&&y(N.from))},O=()=>{navigator.clipboard.readText().then(I=>{var N;m.current&&(m.current.value=I,P(),(N=b.current)==null||N.focus())})},C=async()=>{var U,z,K;const I=(U=m.current)==null?void 0:U.value,N=(z=b.current)==null?void 0:z.value,M=g===(u==null?void 0:u.learnLanguage.value);y(void 0);const V=M?N:I,D=M?I:N;if(!D||!V)return;const $={id:$Se(),nativeText:V,learnText:D,createdAt:new Date().getTime()};E(),document.activeElement===b.current&&((K=m.current)==null||K.focus());const F=await(t==null?void 0:t.upsert($));if(_($.id),!fd()||!N||!F)return;const A=u==null?void 0:u.learnLanguage.label,R=A?`&language=${A}`:"";cxe(F,D,V,R);const{data:j}=await Qt(`pronunciation?text=${D}${R}`,{bodyParse:J=>J.text()});await(F==null?void 0:F.incrementalPatch({pronunciation:j}))};return x.jsx("div",{className:"flex h-fit items-end",children:x.jsxs("form",{className:"flex w-full flex-col gap-2",onSubmit:I=>{I.preventDefault(),C()},children:[x.jsx(bn,{ref:m,"aria-label":v("Input for either native or learn text"),className:"grow",maxLength:100,onBlur:P,onFocus:()=>{o([]),y(void 0)},placeholder:fxe(w,v,u),required:!0}),x.jsxs("div",{className:"relative",children:[s&&!!n.length&&x.jsx(ASe,{onSuggestionSelect:S,translations:n}),x.jsx(bn,{ref:b,"aria-label":v("Translation of the text from the input above"),maxLength:100,onBlur:()=>l(!1),onChange:I=>o(a.current.filter(N=>N.toLowerCase().includes(I.currentTarget.value.toLowerCase()))),onFocus:()=>l(!0),placeholder:dxe(w,v,u),required:!0}),x.jsx(Z5,{className:"mx-auto w-[98%]",isLoading:c})]}),x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx(Kl,{children:x.jsx(ge,{"aria-label":v("paste text into the field button"),onClick:O,size:"iconLg",type:"button",variant:"icon",children:x.jsx(Lpe,{})})}),x.jsx(Kl,{children:x.jsx(ge,{"aria-label":v("submit adding an item"),size:"iconLg",type:"submit",variant:"icon",children:x.jsx(Kpe,{})})}),x.jsx(RSe,{isLoading:d,children:x.jsx(uxe,{onTextFetched:I=>{m.current&&(m.current.value=I),o([]),P(),l(!0)},setIsLoading:h,settings:u})})]})]})})},E6="Collapsible",[pxe,SEe]=Oa(E6),[mxe,tO]=pxe(E6),vxe=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:a,...s}=e,[l=!1,u]=xs({prop:r,defaultProp:i,onChange:a});return p.createElement(mxe,{scope:n,disabled:o,contentId:ms(),open:l,onOpenToggle:p.useCallback(()=>u(c=>!c),[u])},p.createElement(Ae.div,Oe({"data-state":nO(l),"data-disabled":o?"":void 0},s,{ref:t})))}),gxe="CollapsibleTrigger",yxe=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=tO(gxe,n);return p.createElement(Ae.button,Oe({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":nO(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r,{ref:t,onClick:Pe(e.onClick,i.onOpenToggle)}))}),P6="CollapsibleContent",bxe=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=tO(P6,e.__scopeCollapsible);return p.createElement($a,{present:n||i.open},({present:o})=>p.createElement(wxe,Oe({},r,{ref:t,present:o})))}),wxe=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,a=tO(P6,n),[s,l]=p.useState(r),u=p.useRef(null),c=Je(t,u),f=p.useRef(0),d=f.current,h=p.useRef(0),v=h.current,m=a.open||s,b=p.useRef(m),g=p.useRef();return p.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),_n(()=>{const y=u.current;if(y){g.current=g.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,h.current=w.width,b.current||(y.style.transitionDuration=g.current.transitionDuration,y.style.animationName=g.current.animationName),l(r)}},[a.open,r]),p.createElement(Ae.div,Oe({"data-state":nO(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!m},o,{ref:c,style:{"--radix-collapsible-content-height":d?`${d}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style}}),m&&i)});function nO(e){return e?"open":"closed"}const _xe=vxe,Sxe=_xe,xxe=yxe,Exe=bxe,Pxe=(e,t,n,r,i)=>{const o=n==="asc"?e.at(-1):e[0];p.useEffect(()=>{r||i||o!=null&&o.id&&t(o.id)},[r,i])},gI=({card:e,cardToFocus:t,scrollToCard:n})=>{const{t:r}=je();return x.jsx(Sxe,{asChild:!0,children:x.jsxs("li",{className:"animation-timeline h-fit animate-[linear_animateInAndOut] rounded-lg bg-slate-200 shadow-md dark:bg-slate-800/70 max-md:first:mt-auto md:grow md:basis-2/5",id:e.id,children:[x.jsxs("div",{className:"flex gap-2 p-2",children:[x.jsxs("div",{className:"grow",children:[x.jsx(bn,{autoFocus:e.id===t,className:"mb-2",onChange:i=>e.incrementalPatch({nativeText:i.currentTarget.value}),placeholder:r("Native text"),value:e.nativeText}),x.jsx(bn,{"aria-label":r("learn text input"),defaultValue:e.learnText,onChange:i=>e.incrementalPatch({learnText:i.currentTarget.value}),placeholder:r("Learn text")})]}),x.jsxs("div",{className:"flex flex-col items-center justify-between",children:[x.jsx(ge,{"aria-label":r("remove item button"),className:"text-orange-800 hover:text-orange-600",onClick:e.remove,size:"icon",variant:"ghost",children:x.jsx(hP,{})}),x.jsx(ge,{"aria-label":r("accordion toggle button"),size:"icon",variant:"ghost",asChild:!0,children:x.jsx(xxe,{className:"group w-full",children:x.jsx(jpe,{className:"group-radix-state-open:rotate-180 transition"})})})]})]}),x.jsxs(Exe,{className:"radix-state-open:animate-collapsible-down radix-state-closed:animate-collapsible-up group overflow-hidden p-2",onAnimationEnd:()=>n(e.id),children:[x.jsx(bn,{"aria-label":r("pronunciation text input"),className:"mb-2",defaultValue:e.pronunciation,onChange:i=>e.incrementalPatch({pronunciation:i.currentTarget.value}),placeholder:r("Pronunciation")}),x.jsx(QP,{"aria-label":r("Example text area input"),onChange:i=>e.incrementalPatch({examples:i.currentTarget.value}),placeholder:r("Example"),rows:5,value:e.examples})]})]})})},Oxe=({direction:e="asc",scrollToCard:t})=>{const{result:n,isFetching:r}=Hr.useRxData("cards",a=>a.find({sort:[{createdAt:e}]})),{state:i}=vo(),o=i==null?void 0:i.active;return Pxe(n,t,e,r,!!o),x.jsx("ul",{className:"flex grow gap-4 overflow-auto py-3 max-md:flex-col md:flex-wrap md:content-start",children:n==null?void 0:n.map(a=>a.id===o?x.jsx(MP.div,{animate:{rotate:[0,-6,6,-4,4,-2,2,0],transition:{duration:1,ease:"easeOut"}},className:"md:grow md:basis-2/5",children:x.jsx(gI,{card:a,cardToFocus:o,scrollToCard:t},a.id)}):x.jsx(gI,{card:a,cardToFocus:o,scrollToCard:t},a.id))})},$xe=()=>{const e=p.useCallback(t=>{const n=document.getElementById(t);n==null||n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},[]);return x.jsxs(x.Fragment,{children:[x.jsx(Oxe,{scrollToCard:e}),x.jsx(hxe,{scrollToCard:e})]})},yI=()=>{const{t:e}=je();return x.jsxs("main",{className:"flex h-screen flex-col items-center justify-center gap-4 px-4",children:[x.jsx("h3",{className:"text-lg",children:e("Something went wrong")}),x.jsxs("p",{children:[e("We apologize for the inconvenience")," ",x.jsx("br",{}),e("You can use report the issue to help us improve the application")," ",x.jsx(Qe,{className:"text-blue-600 underline",to:"/settings/contact-us",children:e("report")})]}),x.jsx(ge,{onClick:()=>window.location.reload(),children:e("Refresh the page")})]})},Cxe=()=>{const e=Xt(),[t]=nE(),n=t.get("token"),r=t.get("subscriptionId");return n&&localStorage.setItem(Kn,n),p.useEffect(()=>{if(r)return e("/cards",{replace:!0});e("/subscription",{replace:!0})},[r]),null},Rxe=()=>{const e=Xt();return p.useEffect(()=>{e("/upsert",{replace:!0})},[]),null};var O6=G.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),rO=()=>G.useContext(O6);function kxe(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}kxe(`[vaul-drawer]{touch-action:none;transition:transform .5s cubic-bezier(.32,.72,0,1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top],.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left],.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top],[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height, 0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left],[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height, 0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32,.72,0,1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]:after{content:"";position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]:after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]:after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]:after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]:after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay="true"]):not([data-state="closed"]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible="false"]){opacity:1}@keyframes fake-animation{}@media (hover: hover) and (pointer: fine){[vaul-drawer]{user-select:none}}
`);var Txe=typeof window<"u"?p.useLayoutEffect:p.useEffect;function ex(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function Axe(){return iO(/^Mac/)}function Ixe(){return iO(/^iPhone/)}function Dxe(){return iO(/^iPad/)||Axe()&&navigator.maxTouchPoints>1}function $6(){return Ixe()||Dxe()}function iO(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}var Zw=typeof document<"u"&&window.visualViewport;function bI(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function C6(e){for(bI(e)&&(e=e.parentElement);e&&!bI(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}var Mxe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),Fp=0,e1;function jxe(e={}){let{isDisabled:t}=e;Txe(()=>{if(!t)return Fp++,Fp===1&&($6()?e1=Lxe():e1=Nxe()),()=>{Fp--,Fp===0&&e1()}},[t])}function Nxe(){return ex(R6(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function Lxe(){let e,t=0,n=f=>{e=C6(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let d=f.changedTouches[0].pageY,h=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((h<=0&&d>t||h>=v&&d<t)&&f.preventDefault(),t=d)},i=f=>{let d=f.target;tx(d)&&d!==document.activeElement&&(f.preventDefault(),d.style.transform="translateY(-2000px)",d.focus(),requestAnimationFrame(()=>{d.style.transform=""}))},o=f=>{let d=f.target;tx(d)&&(d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",Zw&&(Zw.height<window.innerHeight?requestAnimationFrame(()=>{wI(d)}):Zw.addEventListener("resize",()=>wI(d),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},s=window.pageXOffset,l=window.pageYOffset,u=ex(R6(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let c=ex(Lc(document,"touchstart",n,{passive:!1,capture:!0}),Lc(document,"touchmove",r,{passive:!1,capture:!0}),Lc(document,"touchend",i,{passive:!1,capture:!0}),Lc(document,"focus",o,!0),Lc(window,"scroll",a));return()=>{u(),c(),window.scrollTo(s,l)}}function R6(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Lc(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function wI(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=C6(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom,a=n.getBoundingClientRect().bottom;o>a&&(n.scrollTop+=i-r)}e=n.parentElement}}function tx(e){return e instanceof HTMLInputElement&&!Mxe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Fxe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Bxe(...e){return t=>e.forEach(n=>Fxe(n,t))}function k6(...e){return p.useCallback(Bxe(...e),e)}var Oo=null;function Uxe({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:i}){let[o,a]=G.useState(typeof window<"u"?window.location.href:""),s=G.useRef(0),l=G.useCallback(()=>{if(Oo===null&&e){Oo={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};let{scrollX:c,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),document.body.style.top=`${-s.current}px`,document.body.style.left=`${-c}px`,document.body.style.right="0px",document.body.style.height="auto",setTimeout(()=>requestAnimationFrame(()=>{let d=f-window.innerHeight;d&&s.current>=f&&(document.body.style.top=`${-(s.current+d)}px`)}),300)}},[e]),u=G.useCallback(()=>{if(Oo!==null){let c=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);document.body.style.position=Oo.position,document.body.style.top=Oo.top,document.body.style.left=Oo.left,document.body.style.height=Oo.height,document.body.style.right="unset",requestAnimationFrame(()=>{if(i&&o!==window.location.href){a(window.location.href);return}window.scrollTo(f,c)}),Oo=null}},[o]);return G.useEffect(()=>{function c(){s.current=window.scrollY}return c(),window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}},[]),G.useEffect(()=>{n||!r||(e?(l(),t||setTimeout(()=>{u()},500)):u())},[e,r,o,t,n,l,u]),{restorePositionSetting:u}}var T6=new WeakMap;function it(e,t,n=!1){if(!e||!(e instanceof HTMLElement)||!t)return;let r={};Object.entries(t).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}r[i]=e.style[i],e.style[i]=o}),!n&&T6.set(e,r)}function Bp(e,t){if(!e||!(e instanceof HTMLElement))return;let n=T6.get(e);n&&(t?e.style[t]=n[t]:Object.entries(n).forEach(([r,i])=>{e.style[r]=i}))}var kt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Up(e,t){let n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform,i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[kt(t)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[kt(t)?5:4]):null)}function Vxe(e){return 8*(Math.log(e+1)-2)}var Ge={DURATION:.5,EASE:[.32,.72,0,1]},A6=.4;function I6(e){let t=G.useRef(e);return G.useEffect(()=>{t.current=e}),G.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Wxe({defaultProp:e,onChange:t}){let n=G.useState(e),[r]=n,i=G.useRef(r),o=I6(t);return G.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function zxe({prop:e,defaultProp:t,onChange:n=()=>{}}){let[r,i]=Wxe({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,s=I6(n),l=G.useCallback(u=>{if(o){let c=typeof u=="function"?u(e):u;c!==e&&s(c)}else i(u)},[o,e,i,s]);return[a,l]}function Kxe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:o,onSnapPointChange:a,direction:s="bottom"}){let[l,u]=zxe({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),c=G.useMemo(()=>l===(n==null?void 0:n[n.length-1])||null,[n,l]),f=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===l||!n,d=G.useMemo(()=>n==null?void 0:n.findIndex(w=>w===l),[n,l]),h=G.useMemo(()=>{var w;return(w=n==null?void 0:n.map(_=>{let S=typeof window<"u",E=typeof _=="string",P=0;if(E&&(P=parseInt(_,10)),kt(s)){let C=E?P:S?_*window.innerHeight:0;return S?s==="bottom"?window.innerHeight-C:-window.innerHeight+C:C}let O=E?P:S?_*window.innerWidth:0;return S?s==="right"?window.innerWidth-O:-window.innerWidth+O:O}))!=null?w:[]},[n]),v=G.useMemo(()=>d!==null?h==null?void 0:h[d]:null,[h,d]),m=G.useCallback(w=>{var _;let S=(_=h==null?void 0:h.findIndex(E=>E===w))!=null?_:null;a(S),it(r.current,{transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,transform:kt(s)?`translate3d(0, ${w}px, 0)`:`translate3d(${w}px, 0, 0)`}),h&&S!==h.length-1&&S!==o?it(i.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,opacity:"0"}):it(i.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,opacity:"1"}),u(S!==null?n==null?void 0:n[S]:null)},[r.current,n,h,o,i,u]);G.useEffect(()=>{var w;if(e){let _=(w=n==null?void 0:n.findIndex(S=>S===e))!=null?w:-1;h&&_!==-1&&typeof h[_]=="number"&&m(h[_])}},[e,n,h,m]);function b({draggedDistance:w,closeDrawer:_,velocity:S,dismissible:E}){if(o===void 0)return;let P=s==="bottom"||s==="right"?(v??0)-w:(v??0)+w,O=d===o-1,C=d===0,I=w>0;if(O&&it(i.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`}),S>2&&!I){E?_():m(h[0]);return}if(S>2&&I&&h&&n){m(h[n.length-1]);return}let N=h==null?void 0:h.reduce((V,D)=>typeof V!="number"||typeof D!="number"?V:Math.abs(D-P)<Math.abs(V-P)?D:V),M=kt(s)?window.innerHeight:window.innerWidth;if(S>A6&&Math.abs(w)<M*.4){let V=I?1:-1;if(V>0&&c){m(h[n.length-1]);return}if(C&&V<0&&E&&_(),d===null)return;m(h[d+V]);return}m(N)}function g({draggedDistance:w}){if(v===null)return;let _=s==="bottom"||s==="right"?v-w:v+w;(s==="bottom"||s==="right")&&_<h[h.length-1]||(s==="top"||s==="left")&&_>h[h.length-1]||it(r.current,{transform:kt(s)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`})}function y(w,_){if(!n||typeof d!="number"||!h||o===void 0)return null;let S=d===o-1;if(d>=o&&_)return 0;if(S&&!_)return 1;if(!f&&!S)return null;let E=S?d+1:d-1,P=S?h[E]-h[E-1]:h[E+1]-h[E],O=w/Math.abs(P);return S?1-O:O}return{isLastSnapPoint:c,activeSnapPoint:l,shouldFade:f,getPercentageDragged:y,setActiveSnapPoint:u,activeSnapPointIndex:d,onRelease:b,onDrag:g,snapPointsOffset:h}}var Hxe=.25,qxe=100,_I=8,Wa=16,SI=26,xI="vaul-dragging";function D6({open:e,onOpenChange:t,children:n,shouldScaleBackground:r,onDrag:i,onRelease:o,snapPoints:a,nested:s=!1,closeThreshold:l=Hxe,scrollLockTimeout:u=qxe,dismissible:c=!0,fadeFromIndex:f=a&&a.length-1,activeSnapPoint:d,setActiveSnapPoint:h,fixed:v,modal:m=!0,onClose:b,direction:g="bottom",preventScrollRestoration:y=!0}){var w;let[_=!1,S]=G.useState(!1),[E,P]=G.useState(!1),[O,C]=G.useState(!1),[I,N]=G.useState(!1),[M,V]=G.useState(!1),[D,$]=G.useState(!1),k=G.useRef(null),F=G.useRef(null),A=G.useRef(null),R=G.useRef(null),j=G.useRef(null),U=G.useRef(!1),z=G.useRef(null),K=G.useRef(0),J=G.useRef(!1),Ce=G.useRef(0),q=G.useRef(null),Y=G.useRef(((w=q.current)==null?void 0:w.getBoundingClientRect().height)||0),_e=G.useRef(0),Ne=G.useCallback(ce=>{a&&ce===Le.length-1&&(F.current=new Date)},[]),{activeSnapPoint:me,activeSnapPointIndex:le,setActiveSnapPoint:ye,onRelease:tt,snapPointsOffset:Le,onDrag:Ot,shouldFade:$t,getPercentageDragged:Dn}=Kxe({snapPoints:a,activeSnapPointProp:d,setActiveSnapPointProp:h,drawerRef:q,fadeFromIndex:f,overlayRef:k,onSnapPointChange:Ne,direction:g});jxe({isDisabled:!_||M||!m||D||!E});let{restorePositionSetting:Mn}=Uxe({isOpen:_,modal:m,nested:s,hasBeenOpened:E,preventScrollRestoration:y});function Zt(){return(window.innerWidth-SI)/window.innerWidth}function Ht(ce){var de;!c&&!a||q.current&&!q.current.contains(ce.target)||(Y.current=((de=q.current)==null?void 0:de.getBoundingClientRect().height)||0,V(!0),A.current=new Date,$6()&&window.addEventListener("touchend",()=>U.current=!1,{once:!0}),ce.target.setPointerCapture(ce.pointerId),K.current=kt(g)?ce.screenY:ce.screenX)}function jt(ce,de){var Ie;let $e=ce,We=(Ie=window.getSelection())==null?void 0:Ie.toString(),qe=q.current?Up(q.current,g):null,wt=new Date;if($e.hasAttribute("data-vaul-no-drag"))return!1;if(g==="right"||g==="left")return!0;if(F.current&&wt.getTime()-F.current.getTime()<500)return!1;if(qe!==null&&(g==="bottom"?qe>0:qe<0))return!0;if(We&&We.length>0)return!1;if(j.current&&wt.getTime()-j.current.getTime()<u&&qe===0||de)return j.current=wt,!1;for(;$e;){if($e.scrollHeight>$e.clientHeight){if($e.scrollTop!==0)return j.current=new Date,!1;if($e.getAttribute("role")==="dialog")return!0}$e=$e.parentNode}return!0}function mr(ce){if(q.current&&M){let de=g==="bottom"||g==="right"?1:-1,Ie=(K.current-(kt(g)?ce.screenY:ce.screenX))*de,$e=Ie>0;if(a&&le===0&&!c||!U.current&&!jt(ce.target,$e))return;if(q.current.classList.add(xI),U.current=!0,it(q.current,{transition:"none"}),it(k.current,{transition:"none"}),a&&Ot({draggedDistance:Ie}),$e&&!a){let W=Vxe(Ie),Q=Math.min(W*-1,0)*de;it(q.current,{transform:kt(g)?`translate3d(0, ${Q}px, 0)`:`translate3d(${Q}px, 0, 0)`});return}let We=Math.abs(Ie),qe=document.querySelector("[vaul-drawer-wrapper]"),wt=We/Y.current,L=Dn(We,$e);L!==null&&(wt=L);let B=1-wt;if(($t||f&&le===f-1)&&(i==null||i(ce,wt),it(k.current,{opacity:`${B}`,transition:"none"},!0)),qe&&k.current&&r){let W=Math.min(Zt()+wt*(1-Zt()),1),Q=8-wt*8,ee=Math.max(0,14-wt*14);it(qe,{borderRadius:`${Q}px`,transform:kt(g)?`scale(${W}) translate3d(0, ${ee}px, 0)`:`scale(${W}) translate3d(${ee}px, 0, 0)`,transition:"none"},!0)}if(!a){let W=We*de;it(q.current,{transform:kt(g)?`translate3d(0, ${W}px, 0)`:`translate3d(${W}px, 0, 0)`})}}}G.useEffect(()=>()=>{Ar(!1),Mn()},[]),G.useEffect(()=>{var ce;function de(){var Ie;if(!q.current)return;let $e=document.activeElement;if(tx($e)||J.current){let We=((Ie=window.visualViewport)==null?void 0:Ie.height)||0,qe=window.innerHeight-We,wt=q.current.getBoundingClientRect().height||0;_e.current||(_e.current=wt);let L=q.current.getBoundingClientRect().top;if(Math.abs(Ce.current-qe)>60&&(J.current=!J.current),a&&a.length>0&&Le&&le){let B=Le[le]||0;qe+=B}if(Ce.current=qe,wt>We||J.current){let B=q.current.getBoundingClientRect().height,W=B;B>We&&(W=We-SI),v?q.current.style.height=`${B-Math.max(qe,0)}px`:q.current.style.height=`${Math.max(W,We-L)}px`}else q.current.style.height=`${_e.current}px`;a&&a.length>0&&!J.current?q.current.style.bottom="0px":q.current.style.bottom=`${Math.max(qe,0)}px`}}return(ce=window.visualViewport)==null||ce.addEventListener("resize",de),()=>{var Ie;return(Ie=window.visualViewport)==null?void 0:Ie.removeEventListener("resize",de)}},[le,a,Le]);function Ct(){q.current&&(b==null||b(),it(q.current,{transform:kt(g)?`translate3d(0, ${g==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${g==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`}),it(k.current,{opacity:"0",transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`}),Ar(!1),setTimeout(()=>{C(!1),S(!1)},300),setTimeout(()=>{a&&ye(a[0])},Ge.DURATION*1e3))}G.useEffect(()=>{if(!_&&r){let ce=setTimeout(()=>{Bp(document.body)},200);return()=>clearTimeout(ce)}},[_,r]),G.useEffect(()=>{e?(S(!0),P(!0)):Ct()},[e]),G.useEffect(()=>{I&&(t==null||t(_))},[_]),G.useEffect(()=>{N(!0)},[]);function ni(){if(!q.current)return;let ce=document.querySelector("[vaul-drawer-wrapper]"),de=Up(q.current,g);it(q.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`}),it(k.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,opacity:"1"}),r&&de&&de>0&&_&&it(ce,{borderRadius:`${_I}px`,overflow:"hidden",...kt(g)?{transform:`scale(${Zt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Zt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ge.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ge.EASE.join(",")})`},!0)}function So(ce){var de;if(!M||!q.current)return;q.current.classList.remove(xI),U.current=!1,V(!1),R.current=new Date;let Ie=Up(q.current,g);if(!jt(ce.target,!1)||!Ie||Number.isNaN(Ie)||A.current===null)return;let $e=R.current.getTime()-A.current.getTime(),We=K.current-(kt(g)?ce.screenY:ce.screenX),qe=Math.abs(We)/$e;if(qe>.05&&($(!0),setTimeout(()=>{$(!1)},200)),a){tt({draggedDistance:We*(g==="bottom"||g==="right"?1:-1),closeDrawer:Ct,velocity:qe,dismissible:c}),o==null||o(ce,!0);return}if(g==="bottom"||g==="right"?We>0:We<0){ni(),o==null||o(ce,!0);return}if(qe>A6){Ct(),o==null||o(ce,!1);return}let wt=Math.min((de=q.current.getBoundingClientRect().height)!=null?de:0,window.innerHeight);if(Ie>=wt*l){Ct(),o==null||o(ce,!1);return}o==null||o(ce,!0),ni()}G.useEffect(()=>{_&&(it(document.documentElement,{scrollBehavior:"auto"}),F.current=new Date,Ar(!0))},[_]),G.useEffect(()=>{var ce;if(q.current&&O){let de=(ce=q==null?void 0:q.current)==null?void 0:ce.querySelectorAll("*");de==null||de.forEach(Ie=>{let $e=Ie;($e.scrollHeight>$e.clientHeight||$e.scrollWidth>$e.clientWidth)&&$e.classList.add("vaul-scrollable")})}},[O]);function Ar(ce){let de=document.querySelector("[vaul-drawer-wrapper]");!de||!r||(ce?(it(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),it(document.body,{background:"black"},!0),it(de,{borderRadius:`${_I}px`,overflow:"hidden",...kt(g)?{transform:`scale(${Zt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Zt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ge.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ge.EASE.join(",")})`})):(Bp(de,"overflow"),Bp(de,"transform"),Bp(de,"borderRadius"),it(de,{transitionProperty:"transform, border-radius",transitionDuration:`${Ge.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ge.EASE.join(",")})`})))}function vr(ce){let de=ce?(window.innerWidth-Wa)/window.innerWidth:1,Ie=ce?-Wa:0;z.current&&window.clearTimeout(z.current),it(q.current,{transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,transform:`scale(${de}) translate3d(0, ${Ie}px, 0)`}),!ce&&q.current&&(z.current=setTimeout(()=>{let $e=Up(q.current,g);it(q.current,{transition:"none",transform:kt(g)?`translate3d(0, ${$e}px, 0)`:`translate3d(${$e}px, 0, 0)`})},500))}function Qn(ce,de){if(de<0)return;let Ie=kt(g)?window.innerHeight:window.innerWidth,$e=(Ie-Wa)/Ie,We=$e+de*(1-$e),qe=-Wa+de*Wa;it(q.current,{transform:kt(g)?`scale(${We}) translate3d(0, ${qe}px, 0)`:`scale(${We}) translate3d(${qe}px, 0, 0)`,transition:"none"})}function jn(ce,de){let Ie=kt(g)?window.innerHeight:window.innerWidth,$e=de?(Ie-Wa)/Ie:1,We=de?-Wa:0;de&&it(q.current,{transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,transform:kt(g)?`scale(${$e}) translate3d(0, ${We}px, 0)`:`scale(${$e}) translate3d(${We}px, 0, 0)`})}return G.createElement(b0e,{modal:m,onOpenChange:ce=>{if(e!==void 0){t==null||t(ce);return}ce?(P(!0),S(ce)):Ct()},open:_},G.createElement(O6.Provider,{value:{visible:O,activeSnapPoint:me,snapPoints:a,setActiveSnapPoint:ye,drawerRef:q,overlayRef:k,scaleBackground:Ar,onOpenChange:t,onPress:Ht,setVisible:C,onRelease:So,onDrag:mr,dismissible:c,isOpen:_,shouldFade:$t,closeDrawer:Ct,onNestedDrag:Qn,onNestedOpenChange:vr,onNestedRelease:jn,keyboardIsOpen:J,openProp:e,modal:m,snapPointsOffset:Le,direction:g}},n))}var M6=G.forwardRef(function({children:e,...t},n){let{overlayRef:r,snapPoints:i,onRelease:o,shouldFade:a,isOpen:s,visible:l}=rO(),u=k6(n,r),c=i&&i.length>0;return G.createElement(S0e,{onMouseUp:o,ref:u,"vaul-drawer-visible":l?"true":"false","vaul-overlay":"","vaul-snap-points":s&&c?"true":"false","vaul-snap-points-overlay":s&&a?"true":"false",...t})});M6.displayName="Drawer.Overlay";var j6=G.forwardRef(function({onOpenAutoFocus:e,onPointerDownOutside:t,onAnimationEnd:n,style:r,...i},o){let{drawerRef:a,onPress:s,onRelease:l,onDrag:u,dismissible:c,keyboardIsOpen:f,snapPointsOffset:d,visible:h,closeDrawer:v,modal:m,openProp:b,onOpenChange:g,setVisible:y,direction:w}=rO(),_=k6(o,a);return G.useEffect(()=>{y(!0)},[]),G.createElement(x0e,{onOpenAutoFocus:S=>{var E;e?e(S):(S.preventDefault(),(E=a.current)==null||E.focus())},onPointerDown:s,onPointerDownOutside:S=>{if(t==null||t(S),!m||S.defaultPrevented){S.preventDefault();return}f.current&&(f.current=!1),S.preventDefault(),g==null||g(!1),!(!c||b!==void 0)&&v()},onPointerMove:u,onPointerUp:l,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...r}:r,...i,"vaul-drawer":"","vaul-drawer-direction":w,"vaul-drawer-visible":h?"true":"false"})});j6.displayName="Drawer.Content";function Gxe({onDrag:e,onOpenChange:t,...n}){let{onNestedDrag:r,onNestedOpenChange:i,onNestedRelease:o}=rO();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return G.createElement(D6,{nested:!0,onClose:()=>{i(!1)},onDrag:(a,s)=>{r(a,s),e==null||e(a,s)},onOpenChange:a=>{a&&i(a),t==null||t(a)},onRelease:o,...n})}var $i={Root:D6,NestedRoot:Gxe,Content:j6,Overlay:M6,Trigger:w0e,Portal:_0e,Close:O0e,Title:E0e,Description:P0e};const oO=({shouldScaleBackground:e=!0,...t})=>x.jsx($i.Root,{shouldScaleBackground:e,...t});oO.displayName="Drawer";const Yxe=$i.Portal,N6=$i.Close,L6=p.forwardRef(({className:e,...t},n)=>x.jsx($i.Overlay,{ref:n,className:be("fixed inset-0 z-50 bg-black/80",e),...t}));L6.displayName=$i.Overlay.displayName;const aO=p.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(Yxe,{children:[x.jsx(L6,{}),x.jsxs($i.Content,{ref:r,className:be("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[x.jsx("div",{className:"bg-muted mx-auto mt-4 h-2 w-[100px] rounded-full"}),t]})]}));aO.displayName="DrawerContent";const sO=({className:e,...t})=>x.jsx("div",{className:be("grid gap-1.5 p-4 text-center sm:text-left",e),...t});sO.displayName="DrawerHeader";const lO=({className:e,...t})=>x.jsx("div",{className:be("mt-auto flex flex-col gap-2 p-4",e),...t});lO.displayName="DrawerFooter";const uO=p.forwardRef(({className:e,...t},n)=>x.jsx($i.Title,{ref:n,className:be("text-lg font-semibold leading-none tracking-tight",e),...t}));uO.displayName=$i.Title.displayName;const cO=p.forwardRef(({className:e,...t},n)=>x.jsx($i.Description,{ref:n,className:be("text-sm text-muted-foreground",e),...t}));cO.displayName=$i.Description.displayName;const EI="isInstallPromptDisplayed",Qxe=()=>{const[e,t]=p.useState(!1),{t:n}=je(),i=!(t6()||s6())||localStorage.getItem(EI);if(p.useEffect(()=>{i||setTimeout(()=>t(!0),5*60*1e3)},[]),i)return null;const o=()=>localStorage.setItem(EI,"true");return x.jsx(oO,{onClose:o,open:e,children:x.jsx(aO,{children:x.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[x.jsxs(sO,{children:[x.jsx(uO,{children:n("Install")}),x.jsx(cO,{children:n("You can add the app to your home screen")})]}),x.jsxs(lO,{children:[x.jsx(l6,{onClick:o}),x.jsx(n6,{onClick:o}),x.jsx(N6,{asChild:!0,children:x.jsx(ge,{onClick:()=>t(!1),variant:"outline",children:n("Cancel")})})]})]})})})},PI=e=>ofe({collection:e,replicationIdentifier:"http://192.168.1.118:4000",live:!1,retryTime:5*1e3,waitForLeadership:!0,autoStart:!0,deletedField:"deleted",push:{async handler(t){const{data:n=[]}=await Qt("replication/push",{method:"POST",body:JSON.stringify({docs:t})});return n},batchSize:5},pull:{async handler(t,n){const r=(t==null?void 0:t.updatedAt)||0,{data:i=[]}=await Qt(`replication/pull?minUpdatedAt=${r}&limit=${n}`),o=i.at(-1),a=o?{id:o.id,updatedAt:o.updatedAt}:t||null;return{documents:i,checkpoint:a}},batchSize:10}}),Xxe=e=>{const t=e.collections.cards,{user:{id:n}={}}=XP();p.useEffect(()=>{t&&n&&PI(t)},[t,n]),p.useEffect(()=>{if(!t||!n)return;const r=()=>document.visibilityState==="hidden"&&PI(t);return document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)},[t,n])},Jxe=()=>{const e=Hr.useRxDB();return Xxe(e),null},Zxe="modulepreload",eEe=function(e){return"/"+e},OI={},tEe=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link");i=Promise.all(n.map(a=>{if(a=eEe(a),a in OI)return;OI[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let f=o.length-1;f>=0;f--){const d=o[f];if(d.href===a&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":Zxe,s||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),s)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};function nEe(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:a}=e;let s,l,u;const c=async(d=!0)=>{await l,await(u==null?void 0:u())};async function f(){if("serviceWorker"in navigator){const{Workbox:d}=await tEe(()=>import("./workbox-window.prod.es5-prqDwDSL.js"),__vite__mapDeps([]));s=new d("/sw.js",{scope:"/",type:"classic"}),u=async()=>{await(s==null?void 0:s.messageSkipWaiting())};{let h=!1;const v=()=>{h=!0,s==null||s.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()}),n==null||n()};s.addEventListener("installed",m=>{typeof m.isUpdate>"u"?typeof m.isExternal<"u"?m.isExternal?v():!h&&(r==null||r()):m.isExternal?window.location.reload():!h&&(r==null||r()):m.isUpdate||r==null||r()}),s.addEventListener("waiting",v),s.addEventListener("externalwaiting",v)}s.register({immediate:t}).then(h=>{o?o("/sw.js",h):i==null||i(h)}).catch(h=>{a==null||a(h)})}}return l=f(),c}function rEe(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:a}=e,[s,l]=p.useState(!1),[u,c]=p.useState(!1),[f]=p.useState(()=>nEe({immediate:t,onOfflineReady(){c(!0),r==null||r()},onNeedRefresh(){l(!0),n==null||n()},onRegistered:i,onRegisteredSW:o,onRegisterError:a}));return{needRefresh:[s,l],offlineReady:[u,c],updateServiceWorker:f}}const iEe=()=>{const{t:e}=je(),{updateServiceWorker:t,needRefresh:[n,r]}=rEe();return n?x.jsx(oO,{onClose:()=>r(!1),open:!0,children:x.jsx(aO,{children:x.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[x.jsxs(sO,{children:[x.jsx(uO,{children:e("Update")}),x.jsx(cO,{children:e("A new app update is available")})]}),x.jsxs("div",{className:"p-4 pb-0",children:[x.jsx("p",{className:"text-center text-sm",children:e("Apply will refresh the app You may lose the progress if any")}),x.jsx("p",{className:"text-center text-sm",children:e("Cancel will install the update next time you visit the app")})]}),x.jsxs(lO,{children:[x.jsx(ge,{onClick:()=>{r(!1),t(!0)},children:e("Apply")}),x.jsx(N6,{asChild:!0,children:x.jsx(ge,{onClick:()=>r(!1),variant:"outline",children:e("Cancel")})})]})]})})}):null},oEe=(e=!1)=>{const t=Xt(),{result:n,isFetching:r}=Hr.useRxData("settings",o=>o.find({})),i=!n[0];return p.useEffect(()=>{if(!e&&!r&&i)return t("/onboard",{replace:!0})},[r,i]),!e&&!r&&i},t1=({Icon:e,label:t,to:n})=>x.jsx(KV,{className:"flex-1",to:n,children:({isActive:r})=>x.jsxs("div",{className:ut("group flex flex-col items-center justify-center p-2 transition",r&&"scale-110"),children:[x.jsx(e,{className:ut("h-7 w-7",r?"stroke-black dark:stroke-white":"stroke-slate-500 font-medium transition group-hover:scale-125")}),x.jsx("span",{className:ut("text-xs",r?"font-bold":"text-slate-500"),children:t})]})}),aEe=()=>{const{t:e}=je();return x.jsxs("div",{className:"shrink-0",children:[x.jsx("div",{className:"mb-1 h-[1px] w-full bg-gradient-to-r from-slate-200 via-slate-500 to-slate-200 dark:from-slate-800 dark:via-slate-500 dark:to-slate-800"}),x.jsxs("nav",{className:"flex",children:[x.jsx(t1,{Icon:Upe,label:e("cards"),to:"cards"}),x.jsx(t1,{Icon:Fpe,label:e("upsert"),to:"upsert"}),x.jsx(t1,{Icon:Hpe,label:e("settings"),to:"settings"})]})]})},sEe=({children:e})=>{const{pathname:t}=vo();return x.jsx(MP.section,{animate:{opacity:1,y:0},className:"mx-auto flex w-full max-w-4xl grow flex-col justify-between gap-4 overflow-hidden p-2",initial:{opacity:0,y:10},children:e},t)},lEe=()=>{const e=she(),t=oEe(e);return e||t?null:x.jsxs(l_e,{children:[x.jsx(Jxe,{}),x.jsx(iEe,{}),x.jsx(Qxe,{}),x.jsxs("main",{className:"pb-safe flex flex-col justify-between gap-4 supports-[height:100cqh]:h-[100cqh] supports-[height:100svh]:h-[100svh]",children:[x.jsx(kpe,{children:x.jsx(sEe,{children:x.jsx(tE,{})})}),x.jsx(aEe,{})]})]})},uEe=[{element:x.jsx(qde,{}),errorElement:x.jsx(yI,{}),children:[{element:x.jsx(gF,{}),children:[{path:"onboard",element:x.jsx(R5,{})},{path:"token-to-ls",element:x.jsx(Cxe,{})}]},{element:x.jsx(lEe,{}),children:[{errorElement:x.jsx(yI,{}),children:[{path:"cards",element:x.jsx(fbe,{})},{path:"cards/finish",element:x.jsx(dbe,{})},{path:"cards/no-cards",element:x.jsx(hbe,{})},{path:"cards/no-cards-in-stack",element:x.jsx(pbe,{})},{path:"upsert",element:x.jsx($xe,{})},{path:"settings",...vSe}]}]},{path:"auth",...dhe},{path:"subscription",element:x.jsx(SSe,{})},{path:"privacy-policy",element:x.jsx(mbe,{})},{path:"*",element:x.jsx(Rxe,{})}]}],cEe=MV(uEe);n1.createRoot(document.getElementById("root")).render(x.jsx(p.StrictMode,{children:x.jsx(UV,{router:cEe})}));
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}