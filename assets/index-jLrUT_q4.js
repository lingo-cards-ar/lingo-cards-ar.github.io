var V6=Object.defineProperty;var W6=(e,t,n)=>t in e?V6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kh=(e,t,n)=>(W6(e,typeof t!="symbol"?t+"":t,n),n);function z6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uk={exports:{}},kv={},Vk={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd=Symbol.for("react.element"),K6=Symbol.for("react.portal"),H6=Symbol.for("react.fragment"),q6=Symbol.for("react.strict_mode"),G6=Symbol.for("react.profiler"),Y6=Symbol.for("react.provider"),Q6=Symbol.for("react.context"),X6=Symbol.for("react.forward_ref"),J6=Symbol.for("react.suspense"),Z6=Symbol.for("react.memo"),e5=Symbol.for("react.lazy"),zP=Symbol.iterator;function t5(e){return e===null||typeof e!="object"?null:(e=zP&&e[zP]||e["@@iterator"],typeof e=="function"?e:null)}var Wk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zk=Object.assign,Kk={};function Cl(e,t,n){this.props=e,this.context=t,this.refs=Kk,this.updater=n||Wk}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hk(){}Hk.prototype=Cl.prototype;function IS(e,t,n){this.props=e,this.context=t,this.refs=Kk,this.updater=n||Wk}var DS=IS.prototype=new Hk;DS.constructor=IS;zk(DS,Cl.prototype);DS.isPureReactComponent=!0;var KP=Array.isArray,qk=Object.prototype.hasOwnProperty,jS={current:null},Gk={key:!0,ref:!0,__self:!0,__source:!0};function Yk(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)qk.call(t,r)&&!Gk.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:rd,type:e,key:i,ref:a,props:o,_owner:jS.current}}function n5(e,t){return{$$typeof:rd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function NS(e){return typeof e=="object"&&e!==null&&e.$$typeof===rd}function r5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var HP=/\/+/g;function Vb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?r5(""+e.key):t.toString(36)}function Cp(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case rd:case K6:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Vb(a,0):r,KP(o)?(n="",e!=null&&(n=e.replace(HP,"$&/")+"/"),Cp(o,t,n,"",function(l){return l})):o!=null&&(NS(o)&&(o=n5(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(HP,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",KP(e))for(var s=0;s<e.length;s++){i=e[s];var u=r+Vb(i,s);a+=Cp(i,t,n,u,o)}else if(u=t5(e),typeof u=="function")for(e=u.call(e),s=0;!(i=e.next()).done;)i=i.value,u=r+Vb(i,s++),a+=Cp(i,t,n,u,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Mh(e,t,n){if(e==null)return e;var r=[],o=0;return Cp(e,r,"","",function(i){return t.call(n,i,o++)}),r}function o5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gn={current:null},Op={transition:null},i5={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:Op,ReactCurrentOwner:jS};Pe.Children={map:Mh,forEach:function(e,t,n){Mh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mh(e,function(){t++}),t},toArray:function(e){return Mh(e,function(t){return t})||[]},only:function(e){if(!NS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Cl;Pe.Fragment=H6;Pe.Profiler=G6;Pe.PureComponent=IS;Pe.StrictMode=q6;Pe.Suspense=J6;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i5;Pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zk({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=jS.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)qk.call(t,u)&&!Gk.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:rd,type:e.type,key:o,ref:i,props:r,_owner:a}};Pe.createContext=function(e){return e={$$typeof:Q6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Y6,_context:e},e.Consumer=e};Pe.createElement=Yk;Pe.createFactory=function(e){var t=Yk.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:X6,render:e}};Pe.isValidElement=NS;Pe.lazy=function(e){return{$$typeof:e5,_payload:{_status:-1,_result:e},_init:o5}};Pe.memo=function(e,t){return{$$typeof:Z6,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=Op.transition;Op.transition={};try{e()}finally{Op.transition=t}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(e,t){return gn.current.useCallback(e,t)};Pe.useContext=function(e){return gn.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return gn.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return gn.current.useEffect(e,t)};Pe.useId=function(){return gn.current.useId()};Pe.useImperativeHandle=function(e,t,n){return gn.current.useImperativeHandle(e,t,n)};Pe.useInsertionEffect=function(e,t){return gn.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return gn.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return gn.current.useMemo(e,t)};Pe.useReducer=function(e,t,n){return gn.current.useReducer(e,t,n)};Pe.useRef=function(e){return gn.current.useRef(e)};Pe.useState=function(e){return gn.current.useState(e)};Pe.useSyncExternalStore=function(e,t,n){return gn.current.useSyncExternalStore(e,t,n)};Pe.useTransition=function(){return gn.current.useTransition()};Pe.version="18.2.0";Vk.exports=Pe;var g=Vk.exports;const He=MS(g),LS=z6({__proto__:null,default:He},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a5=g,s5=Symbol.for("react.element"),u5=Symbol.for("react.fragment"),l5=Object.prototype.hasOwnProperty,c5=a5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f5={key:!0,ref:!0,__self:!0,__source:!0};function Qk(e,t,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)l5.call(t,r)&&!f5.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:s5,type:e,key:i,ref:a,props:o,_owner:c5.current}}kv.Fragment=u5;kv.jsx=Qk;kv.jsxs=Qk;Uk.exports=kv;var C=Uk.exports,jw={},Xk={exports:{}},Xn={},Jk={exports:{}},Zk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,A){var D=I.length;I.push(A);e:for(;0<D;){var F=D-1>>>1,W=I[F];if(0<o(W,A))I[F]=A,I[D]=W,D=F;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var A=I[0],D=I.pop();if(D!==A){I[0]=D;e:for(var F=0,W=I.length,H=W>>>1;F<H;){var se=2*(F+1)-1,_e=I[se],te=se+1,de=I[te];if(0>o(_e,D))te<W&&0>o(de,_e)?(I[F]=de,I[te]=D,F=te):(I[F]=_e,I[se]=D,F=se);else if(te<W&&0>o(de,D))I[F]=de,I[te]=D,F=te;else break e}}return A}function o(I,A){var D=I.sortIndex-A.sortIndex;return D!==0?D:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,f=null,d=3,h=!1,m=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var A=n(l);A!==null;){if(A.callback===null)r(l);else if(A.startTime<=I)r(l),A.sortIndex=A.expirationTime,t(u,A);else break;A=n(l)}}function _(I){if(p=!1,w(I),!m)if(n(u)!==null)m=!0,N(S);else{var A=n(l);A!==null&&V(_,A.startTime-I)}}function S(I,A){m=!1,p&&(p=!1,v(P),P=-1),h=!0;var D=d;try{for(w(A),f=n(u);f!==null&&(!(f.expirationTime>A)||I&&!R());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var W=F(f.expirationTime<=A);A=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(u)&&r(u),w(A)}else r(u);f=n(u)}if(f!==null)var H=!0;else{var se=n(l);se!==null&&V(_,se.startTime-A),H=!1}return H}finally{f=null,d=D,h=!1}}var E=!1,x=null,P=-1,O=5,T=-1;function R(){return!(e.unstable_now()-T<O)}function M(){if(x!==null){var I=e.unstable_now();T=I;var A=!0;try{A=x(!0,I)}finally{A?U():(E=!1,x=null)}}else E=!1}var U;if(typeof y=="function")U=function(){y(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=M,U=function(){L.postMessage(null)}}else U=function(){b(M,0)};function N(I){x=I,E||(E=!0,U())}function V(I,A){P=b(function(){I(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,N(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(I){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var D=d;d=A;try{return I()}finally{d=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var D=d;d=I;try{return A()}finally{d=D}},e.unstable_scheduleCallback=function(I,A,D){var F=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,I){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=D+W,I={id:c++,callback:A,priorityLevel:I,startTime:D,expirationTime:W,sortIndex:-1},D>F?(I.sortIndex=D,t(l,I),n(u)===null&&I===n(l)&&(p?(v(P),P=-1):p=!0,V(_,D-F))):(I.sortIndex=W,t(u,I),m||h||(m=!0,N(S))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var A=d;return function(){var D=d;d=A;try{return I.apply(this,arguments)}finally{d=D}}}})(Zk);Jk.exports=Zk;var d5=Jk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM=g,Kn=d5;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tM=new Set,ff={};function As(e,t){Yu(e,t),Yu(e+"Capture",t)}function Yu(e,t){for(ff[e]=t,e=0;e<t.length;e++)tM.add(t[e])}var No=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nw=Object.prototype.hasOwnProperty,h5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qP={},GP={};function p5(e){return Nw.call(GP,e)?!0:Nw.call(qP,e)?!1:h5.test(e)?GP[e]=!0:(qP[e]=!0,!1)}function m5(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v5(e,t,n,r){if(t===null||typeof t>"u"||m5(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yn(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new yn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new yn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new yn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new yn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new yn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new yn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new yn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new yn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new yn(e,5,!1,e.toLowerCase(),null,!1,!1)});var FS=/[\-:]([a-z])/g;function BS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(FS,BS);Kt[t]=new yn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(FS,BS);Kt[t]=new yn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(FS,BS);Kt[t]=new yn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new yn(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new yn(e,1,!1,e.toLowerCase(),null,!0,!0)});function US(e,t,n,r){var o=Kt.hasOwnProperty(t)?Kt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v5(t,n,o,r)&&(n=null),r||o===null?p5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ei=eM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ih=Symbol.for("react.element"),hu=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),VS=Symbol.for("react.strict_mode"),Lw=Symbol.for("react.profiler"),nM=Symbol.for("react.provider"),rM=Symbol.for("react.context"),WS=Symbol.for("react.forward_ref"),Fw=Symbol.for("react.suspense"),Bw=Symbol.for("react.suspense_list"),zS=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),oM=Symbol.for("react.offscreen"),YP=Symbol.iterator;function ac(e){return e===null||typeof e!="object"?null:(e=YP&&e[YP]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,Wb;function Cc(e){if(Wb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wb=t&&t[1]||""}return`
`+Wb+e}var zb=!1;function Kb(e,t){if(!e||zb)return"";zb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var o=l.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==i[s]){var u=`
`+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=s);break}}}finally{zb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cc(e):""}function g5(e){switch(e.tag){case 5:return Cc(e.type);case 16:return Cc("Lazy");case 13:return Cc("Suspense");case 19:return Cc("SuspenseList");case 0:case 2:case 15:return e=Kb(e.type,!1),e;case 11:return e=Kb(e.type.render,!1),e;case 1:return e=Kb(e.type,!0),e;default:return""}}function Uw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pu:return"Fragment";case hu:return"Portal";case Lw:return"Profiler";case VS:return"StrictMode";case Fw:return"Suspense";case Bw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rM:return(e.displayName||"Context")+".Consumer";case nM:return(e._context.displayName||"Context")+".Provider";case WS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zS:return t=e.displayName||null,t!==null?t:Uw(e.type)||"Memo";case vi:t=e._payload,e=e._init;try{return Uw(e(t))}catch{}}return null}function y5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uw(t);case 8:return t===VS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function b5(e){var t=iM(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dh(e){e._valueTracker||(e._valueTracker=b5(e))}function aM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iM(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function um(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vw(e,t){var n=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function QP(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sM(e,t){t=t.checked,t!=null&&US(e,"checked",t,!1)}function Ww(e,t){sM(e,t);var n=Wi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zw(e,t.type,n):t.hasOwnProperty("defaultValue")&&zw(e,t.type,Wi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function XP(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zw(e,t,n){(t!=="number"||um(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Oc=Array.isArray;function Iu(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wi(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Kw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function JP(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Oc(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wi(n)}}function uM(e,t){var n=Wi(t.value),r=Wi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ZP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jh,cM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jh=jh||document.createElement("div"),jh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function df(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w5=["Webkit","ms","Moz","O"];Object.keys(Mc).forEach(function(e){w5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mc[t]=Mc[e]})});function fM(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mc.hasOwnProperty(e)&&Mc[e]?(""+t).trim():t+"px"}function dM(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=fM(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var _5=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qw(e,t){if(t){if(_5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function Gw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yw=null;function KS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qw=null,Du=null,ju=null;function eC(e){if(e=ad(e)){if(typeof Qw!="function")throw Error(K(280));var t=e.stateNode;t&&(t=Nv(t),Qw(e.stateNode,e.type,t))}}function hM(e){Du?ju?ju.push(e):ju=[e]:Du=e}function pM(){if(Du){var e=Du,t=ju;if(ju=Du=null,eC(e),t)for(e=0;e<t.length;e++)eC(t[e])}}function mM(e,t){return e(t)}function vM(){}var Hb=!1;function gM(e,t,n){if(Hb)return e(t,n);Hb=!0;try{return mM(e,t,n)}finally{Hb=!1,(Du!==null||ju!==null)&&(vM(),pM())}}function hf(e,t){var n=e.stateNode;if(n===null)return null;var r=Nv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Xw=!1;if(No)try{var sc={};Object.defineProperty(sc,"passive",{get:function(){Xw=!0}}),window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{Xw=!1}function S5(e,t,n,r,o,i,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ic=!1,lm=null,cm=!1,Jw=null,E5={onError:function(e){Ic=!0,lm=e}};function x5(e,t,n,r,o,i,a,s,u){Ic=!1,lm=null,S5.apply(E5,arguments)}function P5(e,t,n,r,o,i,a,s,u){if(x5.apply(this,arguments),Ic){if(Ic){var l=lm;Ic=!1,lm=null}else throw Error(K(198));cm||(cm=!0,Jw=l)}}function $s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tC(e){if($s(e)!==e)throw Error(K(188))}function C5(e){var t=e.alternate;if(!t){if(t=$s(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return tC(o),e;if(i===r)return tC(o),t;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function bM(e){return e=C5(e),e!==null?wM(e):null}function wM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wM(e);if(t!==null)return t;e=e.sibling}return null}var _M=Kn.unstable_scheduleCallback,nC=Kn.unstable_cancelCallback,O5=Kn.unstable_shouldYield,A5=Kn.unstable_requestPaint,ft=Kn.unstable_now,$5=Kn.unstable_getCurrentPriorityLevel,HS=Kn.unstable_ImmediatePriority,SM=Kn.unstable_UserBlockingPriority,fm=Kn.unstable_NormalPriority,T5=Kn.unstable_LowPriority,EM=Kn.unstable_IdlePriority,Mv=null,to=null;function R5(e){if(to&&typeof to.onCommitFiberRoot=="function")try{to.onCommitFiberRoot(Mv,e,void 0,(e.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:I5,k5=Math.log,M5=Math.LN2;function I5(e){return e>>>=0,e===0?32:31-(k5(e)/M5|0)|0}var Nh=64,Lh=4194304;function Ac(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~o;s!==0?r=Ac(s):(i&=a,i!==0&&(r=Ac(i)))}else a=n&~o,a!==0?r=Ac(a):i!==0&&(r=Ac(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cr(t),o=1<<n,r|=e[n],t&=~o;return r}function D5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j5(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Cr(i),s=1<<a,u=o[a];u===-1?(!(s&n)||s&r)&&(o[a]=D5(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}}function Zw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xM(){var e=Nh;return Nh<<=1,!(Nh&4194240)&&(Nh=64),e}function qb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function od(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cr(t),e[t]=n}function N5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Cr(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function qS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cr(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var De=0;function PM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var CM,GS,OM,AM,$M,e1=!1,Fh=[],Ti=null,Ri=null,ki=null,pf=new Map,mf=new Map,Ei=[],L5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rC(e,t){switch(e){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":pf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(t.pointerId)}}function uc(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ad(t),t!==null&&GS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function F5(e,t,n,r,o){switch(t){case"focusin":return Ti=uc(Ti,e,t,n,r,o),!0;case"dragenter":return Ri=uc(Ri,e,t,n,r,o),!0;case"mouseover":return ki=uc(ki,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return pf.set(i,uc(pf.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,mf.set(i,uc(mf.get(i)||null,e,t,n,r,o)),!0}return!1}function TM(e){var t=Na(e.target);if(t!==null){var n=$s(t);if(n!==null){if(t=n.tag,t===13){if(t=yM(n),t!==null){e.blockedOn=t,$M(e.priority,function(){OM(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ap(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=t1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yw=r,n.target.dispatchEvent(r),Yw=null}else return t=ad(n),t!==null&&GS(t),e.blockedOn=n,!1;t.shift()}return!0}function oC(e,t,n){Ap(e)&&n.delete(t)}function B5(){e1=!1,Ti!==null&&Ap(Ti)&&(Ti=null),Ri!==null&&Ap(Ri)&&(Ri=null),ki!==null&&Ap(ki)&&(ki=null),pf.forEach(oC),mf.forEach(oC)}function lc(e,t){e.blockedOn===t&&(e.blockedOn=null,e1||(e1=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,B5)))}function vf(e){function t(o){return lc(o,e)}if(0<Fh.length){lc(Fh[0],e);for(var n=1;n<Fh.length;n++){var r=Fh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ti!==null&&lc(Ti,e),Ri!==null&&lc(Ri,e),ki!==null&&lc(ki,e),pf.forEach(t),mf.forEach(t),n=0;n<Ei.length;n++)r=Ei[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)TM(n),n.blockedOn===null&&Ei.shift()}var Nu=ei.ReactCurrentBatchConfig,hm=!0;function U5(e,t,n,r){var o=De,i=Nu.transition;Nu.transition=null;try{De=1,YS(e,t,n,r)}finally{De=o,Nu.transition=i}}function V5(e,t,n,r){var o=De,i=Nu.transition;Nu.transition=null;try{De=4,YS(e,t,n,r)}finally{De=o,Nu.transition=i}}function YS(e,t,n,r){if(hm){var o=t1(e,t,n,r);if(o===null)r0(e,t,r,pm,n),rC(e,r);else if(F5(o,e,t,n,r))r.stopPropagation();else if(rC(e,r),t&4&&-1<L5.indexOf(e)){for(;o!==null;){var i=ad(o);if(i!==null&&CM(i),i=t1(e,t,n,r),i===null&&r0(e,t,r,pm,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else r0(e,t,r,null,n)}}var pm=null;function t1(e,t,n,r){if(pm=null,e=KS(r),e=Na(e),e!==null)if(t=$s(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yM(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pm=e,null}function RM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($5()){case HS:return 1;case SM:return 4;case fm:case T5:return 16;case EM:return 536870912;default:return 16}default:return 16}}var Ci=null,QS=null,$p=null;function kM(){if($p)return $p;var e,t=QS,n=t.length,r,o="value"in Ci?Ci.value:Ci.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);return $p=o.slice(e,1<r?1-r:void 0)}function Tp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bh(){return!0}function iC(){return!1}function Jn(e){function t(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bh:iC,this.isPropagationStopped=iC,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bh)},persist:function(){},isPersistent:Bh}),t}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XS=Jn(Ol),id=it({},Ol,{view:0,detail:0}),W5=Jn(id),Gb,Yb,cc,Iv=it({},id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cc&&(cc&&e.type==="mousemove"?(Gb=e.screenX-cc.screenX,Yb=e.screenY-cc.screenY):Yb=Gb=0,cc=e),Gb)},movementY:function(e){return"movementY"in e?e.movementY:Yb}}),aC=Jn(Iv),z5=it({},Iv,{dataTransfer:0}),K5=Jn(z5),H5=it({},id,{relatedTarget:0}),Qb=Jn(H5),q5=it({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),G5=Jn(q5),Y5=it({},Ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q5=Jn(Y5),X5=it({},Ol,{data:0}),sC=Jn(X5),J5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e8[e])?!!t[e]:!1}function JS(){return t8}var n8=it({},id,{key:function(e){if(e.key){var t=J5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JS,charCode:function(e){return e.type==="keypress"?Tp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),r8=Jn(n8),o8=it({},Iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uC=Jn(o8),i8=it({},id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JS}),a8=Jn(i8),s8=it({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),u8=Jn(s8),l8=it({},Iv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c8=Jn(l8),f8=[9,13,27,32],ZS=No&&"CompositionEvent"in window,Dc=null;No&&"documentMode"in document&&(Dc=document.documentMode);var d8=No&&"TextEvent"in window&&!Dc,MM=No&&(!ZS||Dc&&8<Dc&&11>=Dc),lC=" ",cC=!1;function IM(e,t){switch(e){case"keyup":return f8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mu=!1;function h8(e,t){switch(e){case"compositionend":return DM(t);case"keypress":return t.which!==32?null:(cC=!0,lC);case"textInput":return e=t.data,e===lC&&cC?null:e;default:return null}}function p8(e,t){if(mu)return e==="compositionend"||!ZS&&IM(e,t)?(e=kM(),$p=QS=Ci=null,mu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MM&&t.locale!=="ko"?null:t.data;default:return null}}var m8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m8[e.type]:t==="textarea"}function jM(e,t,n,r){hM(r),t=mm(t,"onChange"),0<t.length&&(n=new XS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jc=null,gf=null;function v8(e){qM(e,0)}function Dv(e){var t=yu(e);if(aM(t))return e}function g8(e,t){if(e==="change")return t}var NM=!1;if(No){var Xb;if(No){var Jb="oninput"in document;if(!Jb){var dC=document.createElement("div");dC.setAttribute("oninput","return;"),Jb=typeof dC.oninput=="function"}Xb=Jb}else Xb=!1;NM=Xb&&(!document.documentMode||9<document.documentMode)}function hC(){jc&&(jc.detachEvent("onpropertychange",LM),gf=jc=null)}function LM(e){if(e.propertyName==="value"&&Dv(gf)){var t=[];jM(t,gf,e,KS(e)),gM(v8,t)}}function y8(e,t,n){e==="focusin"?(hC(),jc=t,gf=n,jc.attachEvent("onpropertychange",LM)):e==="focusout"&&hC()}function b8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dv(gf)}function w8(e,t){if(e==="click")return Dv(t)}function _8(e,t){if(e==="input"||e==="change")return Dv(t)}function S8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kr=typeof Object.is=="function"?Object.is:S8;function yf(e,t){if(kr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Nw.call(t,o)||!kr(e[o],t[o]))return!1}return!0}function pC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mC(e,t){var n=pC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pC(n)}}function FM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BM(){for(var e=window,t=um();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=um(e.document)}return t}function eE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E8(e){var t=BM(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&FM(n.ownerDocument.documentElement,n)){if(r!==null&&eE(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=mC(n,i);var a=mC(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var x8=No&&"documentMode"in document&&11>=document.documentMode,vu=null,n1=null,Nc=null,r1=!1;function vC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;r1||vu==null||vu!==um(r)||(r=vu,"selectionStart"in r&&eE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nc&&yf(Nc,r)||(Nc=r,r=mm(n1,"onSelect"),0<r.length&&(t=new XS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vu)))}function Uh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gu={animationend:Uh("Animation","AnimationEnd"),animationiteration:Uh("Animation","AnimationIteration"),animationstart:Uh("Animation","AnimationStart"),transitionend:Uh("Transition","TransitionEnd")},Zb={},UM={};No&&(UM=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function jv(e){if(Zb[e])return Zb[e];if(!gu[e])return e;var t=gu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in UM)return Zb[e]=t[n];return e}var VM=jv("animationend"),WM=jv("animationiteration"),zM=jv("animationstart"),KM=jv("transitionend"),HM=new Map,gC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(e,t){HM.set(e,t),As(t,[e])}for(var e0=0;e0<gC.length;e0++){var t0=gC[e0],P8=t0.toLowerCase(),C8=t0[0].toUpperCase()+t0.slice(1);la(P8,"on"+C8)}la(VM,"onAnimationEnd");la(WM,"onAnimationIteration");la(zM,"onAnimationStart");la("dblclick","onDoubleClick");la("focusin","onFocus");la("focusout","onBlur");la(KM,"onTransitionEnd");Yu("onMouseEnter",["mouseout","mouseover"]);Yu("onMouseLeave",["mouseout","mouseover"]);Yu("onPointerEnter",["pointerout","pointerover"]);Yu("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O8=new Set("cancel close invalid load scroll toggle".split(" ").concat($c));function yC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,P5(r,t,void 0,e),e.currentTarget=null}function qM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;yC(o,s,l),i=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;yC(o,s,l),i=u}}}if(cm)throw e=Jw,cm=!1,Jw=null,e}function Ke(e,t){var n=t[u1];n===void 0&&(n=t[u1]=new Set);var r=e+"__bubble";n.has(r)||(GM(t,e,2,!1),n.add(r))}function n0(e,t,n){var r=0;t&&(r|=4),GM(n,e,r,t)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function bf(e){if(!e[Vh]){e[Vh]=!0,tM.forEach(function(n){n!=="selectionchange"&&(O8.has(n)||n0(n,!1,e),n0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vh]||(t[Vh]=!0,n0("selectionchange",!1,t))}}function GM(e,t,n,r){switch(RM(t)){case 1:var o=U5;break;case 4:o=V5;break;default:o=YS}n=o.bind(null,t,n,e),o=void 0,!Xw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function r0(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;a=a.return}for(;s!==null;){if(a=Na(s),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}s=s.parentNode}}r=r.return}gM(function(){var l=i,c=KS(n),f=[];e:{var d=HM.get(e);if(d!==void 0){var h=XS,m=e;switch(e){case"keypress":if(Tp(n)===0)break e;case"keydown":case"keyup":h=r8;break;case"focusin":m="focus",h=Qb;break;case"focusout":m="blur",h=Qb;break;case"beforeblur":case"afterblur":h=Qb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=aC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=K5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=a8;break;case VM:case WM:case zM:h=G5;break;case KM:h=u8;break;case"scroll":h=W5;break;case"wheel":h=c8;break;case"copy":case"cut":case"paste":h=Q5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=uC}var p=(t&4)!==0,b=!p&&e==="scroll",v=p?d!==null?d+"Capture":null:d;p=[];for(var y=l,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,v!==null&&(_=hf(y,v),_!=null&&p.push(wf(y,_,w)))),b)break;y=y.return}0<p.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:p}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==Yw&&(m=n.relatedTarget||n.fromElement)&&(Na(m)||m[Lo]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=l,m=m?Na(m):null,m!==null&&(b=$s(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=l),h!==m)){if(p=aC,_="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=uC,_="onPointerLeave",v="onPointerEnter",y="pointer"),b=h==null?d:yu(h),w=m==null?d:yu(m),d=new p(_,y+"leave",h,n,c),d.target=b,d.relatedTarget=w,_=null,Na(c)===l&&(p=new p(v,y+"enter",m,n,c),p.target=w,p.relatedTarget=b,_=p),b=_,h&&m)t:{for(p=h,v=m,y=0,w=p;w;w=nu(w))y++;for(w=0,_=v;_;_=nu(_))w++;for(;0<y-w;)p=nu(p),y--;for(;0<w-y;)v=nu(v),w--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=nu(p),v=nu(v)}p=null}else p=null;h!==null&&bC(f,d,h,p,!1),m!==null&&b!==null&&bC(f,b,m,p,!0)}}e:{if(d=l?yu(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=g8;else if(fC(d))if(NM)S=_8;else{S=b8;var E=y8}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=w8);if(S&&(S=S(e,l))){jM(f,S,n,c);break e}E&&E(e,d,l),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&zw(d,"number",d.value)}switch(E=l?yu(l):window,e){case"focusin":(fC(E)||E.contentEditable==="true")&&(vu=E,n1=l,Nc=null);break;case"focusout":Nc=n1=vu=null;break;case"mousedown":r1=!0;break;case"contextmenu":case"mouseup":case"dragend":r1=!1,vC(f,n,c);break;case"selectionchange":if(x8)break;case"keydown":case"keyup":vC(f,n,c)}var x;if(ZS)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else mu?IM(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(MM&&n.locale!=="ko"&&(mu||P!=="onCompositionStart"?P==="onCompositionEnd"&&mu&&(x=kM()):(Ci=c,QS="value"in Ci?Ci.value:Ci.textContent,mu=!0)),E=mm(l,P),0<E.length&&(P=new sC(P,e,null,n,c),f.push({event:P,listeners:E}),x?P.data=x:(x=DM(n),x!==null&&(P.data=x)))),(x=d8?h8(e,n):p8(e,n))&&(l=mm(l,"onBeforeInput"),0<l.length&&(c=new sC("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=x))}qM(f,t)})}function wf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mm(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=hf(e,n),i!=null&&r.unshift(wf(e,i,o)),i=hf(e,t),i!=null&&r.push(wf(e,i,o))),e=e.return}return r}function nu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bC(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&l!==null&&(s=l,o?(u=hf(n,i),u!=null&&a.unshift(wf(n,u,s))):o||(u=hf(n,i),u!=null&&a.push(wf(n,u,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var A8=/\r\n?/g,$8=/\u0000|\uFFFD/g;function wC(e){return(typeof e=="string"?e:""+e).replace(A8,`
`).replace($8,"")}function Wh(e,t,n){if(t=wC(t),wC(e)!==t&&n)throw Error(K(425))}function vm(){}var o1=null,i1=null;function a1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var s1=typeof setTimeout=="function"?setTimeout:void 0,T8=typeof clearTimeout=="function"?clearTimeout:void 0,_C=typeof Promise=="function"?Promise:void 0,R8=typeof queueMicrotask=="function"?queueMicrotask:typeof _C<"u"?function(e){return _C.resolve(null).then(e).catch(k8)}:s1;function k8(e){setTimeout(function(){throw e})}function o0(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),vf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);vf(t)}function Mi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function SC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Al=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Al,_f="__reactProps$"+Al,Lo="__reactContainer$"+Al,u1="__reactEvents$"+Al,M8="__reactListeners$"+Al,I8="__reactHandles$"+Al;function Na(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lo]||n[Xr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=SC(e);e!==null;){if(n=e[Xr])return n;e=SC(e)}return t}e=n,n=e.parentNode}return null}function ad(e){return e=e[Xr]||e[Lo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Nv(e){return e[_f]||null}var l1=[],bu=-1;function ca(e){return{current:e}}function Xe(e){0>bu||(e.current=l1[bu],l1[bu]=null,bu--)}function We(e,t){bu++,l1[bu]=e.current,e.current=t}var zi={},an=ca(zi),An=ca(!1),os=zi;function Qu(e,t){var n=e.type.contextTypes;if(!n)return zi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function $n(e){return e=e.childContextTypes,e!=null}function gm(){Xe(An),Xe(an)}function EC(e,t,n){if(an.current!==zi)throw Error(K(168));We(an,t),We(An,n)}function YM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(K(108,y5(e)||"Unknown",o));return it({},n,r)}function ym(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zi,os=an.current,We(an,e),We(An,An.current),!0}function xC(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=YM(e,t,os),r.__reactInternalMemoizedMergedChildContext=e,Xe(An),Xe(an),We(an,e)):Xe(An),We(An,n)}var wo=null,Lv=!1,i0=!1;function QM(e){wo===null?wo=[e]:wo.push(e)}function D8(e){Lv=!0,QM(e)}function fa(){if(!i0&&wo!==null){i0=!0;var e=0,t=De;try{var n=wo;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wo=null,Lv=!1}catch(o){throw wo!==null&&(wo=wo.slice(e+1)),_M(HS,fa),o}finally{De=t,i0=!1}}return null}var wu=[],_u=0,bm=null,wm=0,ar=[],sr=0,is=null,Po=1,Co="";function Ra(e,t){wu[_u++]=wm,wu[_u++]=bm,bm=e,wm=t}function XM(e,t,n){ar[sr++]=Po,ar[sr++]=Co,ar[sr++]=is,is=e;var r=Po;e=Co;var o=32-Cr(r)-1;r&=~(1<<o),n+=1;var i=32-Cr(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Po=1<<32-Cr(t)+o|n<<o|r,Co=i+e}else Po=1<<i|n<<o|r,Co=e}function tE(e){e.return!==null&&(Ra(e,1),XM(e,1,0))}function nE(e){for(;e===bm;)bm=wu[--_u],wu[_u]=null,wm=wu[--_u],wu[_u]=null;for(;e===is;)is=ar[--sr],ar[sr]=null,Co=ar[--sr],ar[sr]=null,Po=ar[--sr],ar[sr]=null}var Wn=null,Un=null,et=!1,Pr=null;function JM(e,t){var n=ur(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function PC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wn=e,Un=Mi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wn=e,Un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=is!==null?{id:Po,overflow:Co}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ur(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wn=e,Un=null,!0):!1;default:return!1}}function c1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function f1(e){if(et){var t=Un;if(t){var n=t;if(!PC(e,t)){if(c1(e))throw Error(K(418));t=Mi(n.nextSibling);var r=Wn;t&&PC(e,t)?JM(r,n):(e.flags=e.flags&-4097|2,et=!1,Wn=e)}}else{if(c1(e))throw Error(K(418));e.flags=e.flags&-4097|2,et=!1,Wn=e}}}function CC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wn=e}function zh(e){if(e!==Wn)return!1;if(!et)return CC(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!a1(e.type,e.memoizedProps)),t&&(t=Un)){if(c1(e))throw ZM(),Error(K(418));for(;t;)JM(e,t),t=Mi(t.nextSibling)}if(CC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Un=Mi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Un=null}}else Un=Wn?Mi(e.stateNode.nextSibling):null;return!0}function ZM(){for(var e=Un;e;)e=Mi(e.nextSibling)}function Xu(){Un=Wn=null,et=!1}function rE(e){Pr===null?Pr=[e]:Pr.push(e)}var j8=ei.ReactCurrentBatchConfig;function Sr(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var _m=ca(null),Sm=null,Su=null,oE=null;function iE(){oE=Su=Sm=null}function aE(e){var t=_m.current;Xe(_m),e._currentValue=t}function d1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lu(e,t){Sm=e,oE=Su=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(On=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(oE!==e)if(e={context:e,memoizedValue:t,next:null},Su===null){if(Sm===null)throw Error(K(308));Su=e,Sm.dependencies={lanes:0,firstContext:e}}else Su=Su.next=e;return t}var La=null;function sE(e){La===null?La=[e]:La.push(e)}function eI(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,sE(t)):(n.next=o.next,o.next=n),t.interleaved=n,Fo(e,r)}function Fo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gi=!1;function uE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $o(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Fo(e,n)}return o=r.interleaved,o===null?(t.next=t,sE(r)):(t.next=o.next,o.next=t),r.interleaved=t,Fo(e,n)}function Rp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qS(e,n)}}function OC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Em(e,t,n,r){var o=e.updateQueue;gi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?i=l:a.next=l,a=u;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(i!==null){var f=o.baseState;a=0,c=l=u=null,s=i;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,p=s;switch(d=t,h=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=it({},f,d);break e;case 2:gi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;d=s,s=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(c===null&&(u=f),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);ss|=a,e.lanes=a,e.memoizedState=f}}function AC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(K(191,o));o.call(r)}}}var nI=new eM.Component().refs;function h1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:it({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fv={isMounted:function(e){return(e=e._reactInternals)?$s(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mn(),o=ji(e),i=$o(r,o);i.payload=t,n!=null&&(i.callback=n),t=Ii(e,i,o),t!==null&&(Or(t,e,o,r),Rp(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mn(),o=ji(e),i=$o(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ii(e,i,o),t!==null&&(Or(t,e,o,r),Rp(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),r=ji(e),o=$o(n,r);o.tag=2,t!=null&&(o.callback=t),t=Ii(e,o,r),t!==null&&(Or(t,e,r,n),Rp(t,e,r))}};function $C(e,t,n,r,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!yf(n,r)||!yf(o,i):!0}function rI(e,t,n){var r=!1,o=zi,i=t.contextType;return typeof i=="object"&&i!==null?i=fr(i):(o=$n(t)?os:an.current,r=t.contextTypes,i=(r=r!=null)?Qu(e,o):zi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function TC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fv.enqueueReplaceState(t,t.state,null)}function p1(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=nI,uE(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=fr(i):(i=$n(t)?os:an.current,o.context=Qu(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(h1(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Fv.enqueueReplaceState(o,o.state,null),Em(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function fc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var s=o.refs;s===nI&&(s=o.refs={}),a===null?delete s[i]:s[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Kh(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function RC(e){var t=e._init;return t(e._payload)}function oI(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function o(v,y){return v=Ni(v,y),v.index=0,v.sibling=null,v}function i(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,y,w,_){return y===null||y.tag!==6?(y=d0(w,v.mode,_),y.return=v,y):(y=o(y,w),y.return=v,y)}function u(v,y,w,_){var S=w.type;return S===pu?c(v,y,w.props.children,_,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vi&&RC(S)===y.type)?(_=o(y,w.props),_.ref=fc(v,y,w),_.return=v,_):(_=Np(w.type,w.key,w.props,null,v.mode,_),_.ref=fc(v,y,w),_.return=v,_)}function l(v,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=h0(w,v.mode,_),y.return=v,y):(y=o(y,w.children||[]),y.return=v,y)}function c(v,y,w,_,S){return y===null||y.tag!==7?(y=Ga(w,v.mode,_,S),y.return=v,y):(y=o(y,w),y.return=v,y)}function f(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=d0(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ih:return w=Np(y.type,y.key,y.props,null,v.mode,w),w.ref=fc(v,null,y),w.return=v,w;case hu:return y=h0(y,v.mode,w),y.return=v,y;case vi:var _=y._init;return f(v,_(y._payload),w)}if(Oc(y)||ac(y))return y=Ga(y,v.mode,w,null),y.return=v,y;Kh(v,y)}return null}function d(v,y,w,_){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(v,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ih:return w.key===S?u(v,y,w,_):null;case hu:return w.key===S?l(v,y,w,_):null;case vi:return S=w._init,d(v,y,S(w._payload),_)}if(Oc(w)||ac(w))return S!==null?null:c(v,y,w,_,null);Kh(v,w)}return null}function h(v,y,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(w)||null,s(y,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ih:return v=v.get(_.key===null?w:_.key)||null,u(y,v,_,S);case hu:return v=v.get(_.key===null?w:_.key)||null,l(y,v,_,S);case vi:var E=_._init;return h(v,y,w,E(_._payload),S)}if(Oc(_)||ac(_))return v=v.get(w)||null,c(y,v,_,S,null);Kh(y,_)}return null}function m(v,y,w,_){for(var S=null,E=null,x=y,P=y=0,O=null;x!==null&&P<w.length;P++){x.index>P?(O=x,x=null):O=x.sibling;var T=d(v,x,w[P],_);if(T===null){x===null&&(x=O);break}e&&x&&T.alternate===null&&t(v,x),y=i(T,y,P),E===null?S=T:E.sibling=T,E=T,x=O}if(P===w.length)return n(v,x),et&&Ra(v,P),S;if(x===null){for(;P<w.length;P++)x=f(v,w[P],_),x!==null&&(y=i(x,y,P),E===null?S=x:E.sibling=x,E=x);return et&&Ra(v,P),S}for(x=r(v,x);P<w.length;P++)O=h(x,v,P,w[P],_),O!==null&&(e&&O.alternate!==null&&x.delete(O.key===null?P:O.key),y=i(O,y,P),E===null?S=O:E.sibling=O,E=O);return e&&x.forEach(function(R){return t(v,R)}),et&&Ra(v,P),S}function p(v,y,w,_){var S=ac(w);if(typeof S!="function")throw Error(K(150));if(w=S.call(w),w==null)throw Error(K(151));for(var E=S=null,x=y,P=y=0,O=null,T=w.next();x!==null&&!T.done;P++,T=w.next()){x.index>P?(O=x,x=null):O=x.sibling;var R=d(v,x,T.value,_);if(R===null){x===null&&(x=O);break}e&&x&&R.alternate===null&&t(v,x),y=i(R,y,P),E===null?S=R:E.sibling=R,E=R,x=O}if(T.done)return n(v,x),et&&Ra(v,P),S;if(x===null){for(;!T.done;P++,T=w.next())T=f(v,T.value,_),T!==null&&(y=i(T,y,P),E===null?S=T:E.sibling=T,E=T);return et&&Ra(v,P),S}for(x=r(v,x);!T.done;P++,T=w.next())T=h(x,v,P,T.value,_),T!==null&&(e&&T.alternate!==null&&x.delete(T.key===null?P:T.key),y=i(T,y,P),E===null?S=T:E.sibling=T,E=T);return e&&x.forEach(function(M){return t(v,M)}),et&&Ra(v,P),S}function b(v,y,w,_){if(typeof w=="object"&&w!==null&&w.type===pu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ih:e:{for(var S=w.key,E=y;E!==null;){if(E.key===S){if(S=w.type,S===pu){if(E.tag===7){n(v,E.sibling),y=o(E,w.props.children),y.return=v,v=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vi&&RC(S)===E.type){n(v,E.sibling),y=o(E,w.props),y.ref=fc(v,E,w),y.return=v,v=y;break e}n(v,E);break}else t(v,E);E=E.sibling}w.type===pu?(y=Ga(w.props.children,v.mode,_,w.key),y.return=v,v=y):(_=Np(w.type,w.key,w.props,null,v.mode,_),_.ref=fc(v,y,w),_.return=v,v=_)}return a(v);case hu:e:{for(E=w.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=o(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=h0(w,v.mode,_),y.return=v,v=y}return a(v);case vi:return E=w._init,b(v,y,E(w._payload),_)}if(Oc(w))return m(v,y,w,_);if(ac(w))return p(v,y,w,_);Kh(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=o(y,w),y.return=v,v=y):(n(v,y),y=d0(w,v.mode,_),y.return=v,v=y),a(v)):n(v,y)}return b}var Ju=oI(!0),iI=oI(!1),sd={},no=ca(sd),Sf=ca(sd),Ef=ca(sd);function Fa(e){if(e===sd)throw Error(K(174));return e}function lE(e,t){switch(We(Ef,t),We(Sf,e),We(no,sd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hw(t,e)}Xe(no),We(no,t)}function Zu(){Xe(no),Xe(Sf),Xe(Ef)}function aI(e){Fa(Ef.current);var t=Fa(no.current),n=Hw(t,e.type);t!==n&&(We(Sf,e),We(no,n))}function cE(e){Sf.current===e&&(Xe(no),Xe(Sf))}var nt=ca(0);function xm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var a0=[];function fE(){for(var e=0;e<a0.length;e++)a0[e]._workInProgressVersionPrimary=null;a0.length=0}var kp=ei.ReactCurrentDispatcher,s0=ei.ReactCurrentBatchConfig,as=0,ot=null,xt=null,It=null,Pm=!1,Lc=!1,xf=0,N8=0;function Gt(){throw Error(K(321))}function dE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kr(e[n],t[n]))return!1;return!0}function hE(e,t,n,r,o,i){if(as=i,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kp.current=e===null||e.memoizedState===null?U8:V8,e=n(r,o),Lc){i=0;do{if(Lc=!1,xf=0,25<=i)throw Error(K(301));i+=1,It=xt=null,t.updateQueue=null,kp.current=W8,e=n(r,o)}while(Lc)}if(kp.current=Cm,t=xt!==null&&xt.next!==null,as=0,It=xt=ot=null,Pm=!1,t)throw Error(K(300));return e}function pE(){var e=xf!==0;return xf=0,e}function Gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ot.memoizedState=It=e:It=It.next=e,It}function dr(){if(xt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=It===null?ot.memoizedState:It.next;if(t!==null)It=t,xt=e;else{if(e===null)throw Error(K(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},It===null?ot.memoizedState=It=e:It=It.next=e}return It}function Pf(e,t){return typeof t=="function"?t(e):t}function u0(e){var t=dr(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=xt,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=a=null,u=null,l=i;do{var c=l.lane;if((as&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=f,a=r):u=u.next=f,ot.lanes|=c,ss|=c}l=l.next}while(l!==null&&l!==i);u===null?a=r:u.next=s,kr(r,t.memoizedState)||(On=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ot.lanes|=i,ss|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function l0(e){var t=dr(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);kr(i,t.memoizedState)||(On=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function sI(){}function uI(e,t){var n=ot,r=dr(),o=t(),i=!kr(r.memoizedState,o);if(i&&(r.memoizedState=o,On=!0),r=r.queue,mE(fI.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Cf(9,cI.bind(null,n,r,o,t),void 0,null),Nt===null)throw Error(K(349));as&30||lI(n,t,o)}return o}function lI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cI(e,t,n,r){t.value=n,t.getSnapshot=r,dI(t)&&hI(e)}function fI(e,t,n){return n(function(){dI(t)&&hI(e)})}function dI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kr(e,n)}catch{return!0}}function hI(e){var t=Fo(e,1);t!==null&&Or(t,e,1,-1)}function kC(e){var t=Gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:e},t.queue=e,e=e.dispatch=B8.bind(null,ot,e),[t.memoizedState,e]}function Cf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pI(){return dr().memoizedState}function Mp(e,t,n,r){var o=Gr();ot.flags|=e,o.memoizedState=Cf(1|t,n,void 0,r===void 0?null:r)}function Bv(e,t,n,r){var o=dr();r=r===void 0?null:r;var i=void 0;if(xt!==null){var a=xt.memoizedState;if(i=a.destroy,r!==null&&dE(r,a.deps)){o.memoizedState=Cf(t,n,i,r);return}}ot.flags|=e,o.memoizedState=Cf(1|t,n,i,r)}function MC(e,t){return Mp(8390656,8,e,t)}function mE(e,t){return Bv(2048,8,e,t)}function mI(e,t){return Bv(4,2,e,t)}function vI(e,t){return Bv(4,4,e,t)}function gI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yI(e,t,n){return n=n!=null?n.concat([e]):null,Bv(4,4,gI.bind(null,t,e),n)}function vE(){}function bI(e,t){var n=dr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wI(e,t){var n=dr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _I(e,t,n){return as&21?(kr(n,t)||(n=xM(),ot.lanes|=n,ss|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,On=!0),e.memoizedState=n)}function L8(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=s0.transition;s0.transition={};try{e(!1),t()}finally{De=n,s0.transition=r}}function SI(){return dr().memoizedState}function F8(e,t,n){var r=ji(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},EI(e))xI(t,n);else if(n=eI(e,t,n,r),n!==null){var o=mn();Or(n,e,r,o),PI(n,t,r)}}function B8(e,t,n){var r=ji(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(EI(e))xI(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,kr(s,a)){var u=t.interleaved;u===null?(o.next=o,sE(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=eI(e,t,o,r),n!==null&&(o=mn(),Or(n,e,r,o),PI(n,t,r))}}function EI(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function xI(e,t){Lc=Pm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function PI(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qS(e,n)}}var Cm={readContext:fr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},U8={readContext:fr,useCallback:function(e,t){return Gr().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:MC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mp(4194308,4,gI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mp(4,2,e,t)},useMemo:function(e,t){var n=Gr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=F8.bind(null,ot,e),[r.memoizedState,e]},useRef:function(e){var t=Gr();return e={current:e},t.memoizedState=e},useState:kC,useDebugValue:vE,useDeferredValue:function(e){return Gr().memoizedState=e},useTransition:function(){var e=kC(!1),t=e[0];return e=L8.bind(null,e[1]),Gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ot,o=Gr();if(et){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),Nt===null)throw Error(K(349));as&30||lI(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,MC(fI.bind(null,r,i,e),[e]),r.flags|=2048,Cf(9,cI.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Gr(),t=Nt.identifierPrefix;if(et){var n=Co,r=Po;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=N8++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},V8={readContext:fr,useCallback:bI,useContext:fr,useEffect:mE,useImperativeHandle:yI,useInsertionEffect:mI,useLayoutEffect:vI,useMemo:wI,useReducer:u0,useRef:pI,useState:function(){return u0(Pf)},useDebugValue:vE,useDeferredValue:function(e){var t=dr();return _I(t,xt.memoizedState,e)},useTransition:function(){var e=u0(Pf)[0],t=dr().memoizedState;return[e,t]},useMutableSource:sI,useSyncExternalStore:uI,useId:SI,unstable_isNewReconciler:!1},W8={readContext:fr,useCallback:bI,useContext:fr,useEffect:mE,useImperativeHandle:yI,useInsertionEffect:mI,useLayoutEffect:vI,useMemo:wI,useReducer:l0,useRef:pI,useState:function(){return l0(Pf)},useDebugValue:vE,useDeferredValue:function(e){var t=dr();return xt===null?t.memoizedState=e:_I(t,xt.memoizedState,e)},useTransition:function(){var e=l0(Pf)[0],t=dr().memoizedState;return[e,t]},useMutableSource:sI,useSyncExternalStore:uI,useId:SI,unstable_isNewReconciler:!1};function el(e,t){try{var n="",r=t;do n+=g5(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function c0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function m1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var z8=typeof WeakMap=="function"?WeakMap:Map;function CI(e,t,n){n=$o(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Am||(Am=!0,P1=r),m1(e,t)},n}function OI(e,t,n){n=$o(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){m1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){m1(e,t),typeof r!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function IC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new z8;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=oU.bind(null,e,t,n),t.then(e,e))}function DC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jC(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$o(-1,1),t.tag=2,Ii(n,t,1))),n.lanes|=1),e)}var K8=ei.ReactCurrentOwner,On=!1;function dn(e,t,n,r){t.child=e===null?iI(t,null,n,r):Ju(t,e.child,n,r)}function NC(e,t,n,r,o){n=n.render;var i=t.ref;return Lu(t,o),r=hE(e,t,n,r,i,o),n=pE(),e!==null&&!On?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Bo(e,t,o)):(et&&n&&tE(t),t.flags|=1,dn(e,t,r,o),t.child)}function LC(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!xE(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,AI(e,t,i,r,o)):(e=Np(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:yf,n(a,r)&&e.ref===t.ref)return Bo(e,t,o)}return t.flags|=1,e=Ni(i,r),e.ref=t.ref,e.return=t,t.child=e}function AI(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(yf(i,r)&&e.ref===t.ref)if(On=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(On=!0);else return t.lanes=e.lanes,Bo(e,t,o)}return v1(e,t,n,r,o)}function $I(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(xu,Fn),Fn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(xu,Fn),Fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(xu,Fn),Fn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,We(xu,Fn),Fn|=r;return dn(e,t,o,n),t.child}function TI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function v1(e,t,n,r,o){var i=$n(n)?os:an.current;return i=Qu(t,i),Lu(t,o),n=hE(e,t,n,r,i,o),r=pE(),e!==null&&!On?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Bo(e,t,o)):(et&&r&&tE(t),t.flags|=1,dn(e,t,n,o),t.child)}function FC(e,t,n,r,o){if($n(n)){var i=!0;ym(t)}else i=!1;if(Lu(t,o),t.stateNode===null)Ip(e,t),rI(t,n,r),p1(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=fr(l):(l=$n(n)?os:an.current,l=Qu(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==l)&&TC(t,a,r,l),gi=!1;var d=t.memoizedState;a.state=d,Em(t,r,a,o),u=t.memoizedState,s!==r||d!==u||An.current||gi?(typeof c=="function"&&(h1(t,n,c,r),u=t.memoizedState),(s=gi||$C(t,n,s,r,d,u,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,tI(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Sr(t.type,s),a.props=l,f=t.pendingProps,d=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=fr(u):(u=$n(n)?os:an.current,u=Qu(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==u)&&TC(t,a,r,u),gi=!1,d=t.memoizedState,a.state=d,Em(t,r,a,o);var m=t.memoizedState;s!==f||d!==m||An.current||gi?(typeof h=="function"&&(h1(t,n,h,r),m=t.memoizedState),(l=gi||$C(t,n,l,r,d,m,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return g1(e,t,n,r,i,o)}function g1(e,t,n,r,o,i){TI(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&xC(t,n,!1),Bo(e,t,i);r=t.stateNode,K8.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ju(t,e.child,null,i),t.child=Ju(t,null,s,i)):dn(e,t,s,i),t.memoizedState=r.state,o&&xC(t,n,!0),t.child}function RI(e){var t=e.stateNode;t.pendingContext?EC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&EC(e,t.context,!1),lE(e,t.containerInfo)}function BC(e,t,n,r,o){return Xu(),rE(o),t.flags|=256,dn(e,t,n,r),t.child}var y1={dehydrated:null,treeContext:null,retryLane:0};function b1(e){return{baseLanes:e,cachePool:null,transitions:null}}function kI(e,t,n){var r=t.pendingProps,o=nt.current,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),We(nt,o&1),e===null)return f1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Wv(a,r,0,null),e=Ga(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=b1(n),t.memoizedState=y1,e):gE(t,a));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return H8(e,t,a,r,s,o,n);if(i){i=r.fallback,a=t.mode,o=e.child,s=o.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ni(o,u),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=Ni(s,i):(i=Ga(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?b1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=y1,r}return i=e.child,e=i.sibling,r=Ni(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gE(e,t){return t=Wv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hh(e,t,n,r){return r!==null&&rE(r),Ju(t,e.child,null,n),e=gE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H8(e,t,n,r,o,i,a){if(n)return t.flags&256?(t.flags&=-257,r=c0(Error(K(422))),Hh(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Wv({mode:"visible",children:r.children},o,0,null),i=Ga(i,o,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ju(t,e.child,null,a),t.child.memoizedState=b1(a),t.memoizedState=y1,i);if(!(t.mode&1))return Hh(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(K(419)),r=c0(i,r,void 0),Hh(e,t,a,r)}if(s=(a&e.childLanes)!==0,On||s){if(r=Nt,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Fo(e,o),Or(r,e,o,-1))}return EE(),r=c0(Error(K(421))),Hh(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=iU.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Un=Mi(o.nextSibling),Wn=t,et=!0,Pr=null,e!==null&&(ar[sr++]=Po,ar[sr++]=Co,ar[sr++]=is,Po=e.id,Co=e.overflow,is=t),t=gE(t,r.children),t.flags|=4096,t)}function UC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),d1(e.return,t,n)}function f0(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function MI(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(dn(e,t,r.children,n),r=nt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&UC(e,n,t);else if(e.tag===19)UC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(nt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&xm(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),f0(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xm(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}f0(t,!0,n,null,i);break;case"together":f0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ip(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ss|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function q8(e,t,n){switch(t.tag){case 3:RI(t),Xu();break;case 5:aI(t);break;case 1:$n(t.type)&&ym(t);break;case 4:lE(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;We(_m,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(nt,nt.current&1),t.flags|=128,null):n&t.child.childLanes?kI(e,t,n):(We(nt,nt.current&1),e=Bo(e,t,n),e!==null?e.sibling:null);We(nt,nt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return MI(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),We(nt,nt.current),r)break;return null;case 22:case 23:return t.lanes=0,$I(e,t,n)}return Bo(e,t,n)}var II,w1,DI,jI;II=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};w1=function(){};DI=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Fa(no.current);var i=null;switch(n){case"input":o=Vw(e,o),r=Vw(e,r),i=[];break;case"select":o=it({},o,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":o=Kw(e,o),r=Kw(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vm)}qw(n,r);var a;n=null;for(l in o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var s=o[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ff.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var u=r[l];if(s=o!=null?o[l]:void 0,r.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(i=i||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ff.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ke("scroll",e),i||s===u||(i=[])):(i=i||[]).push(l,u))}n&&(i=i||[]).push("style",n);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};jI=function(e,t,n,r){n!==r&&(t.flags|=4)};function dc(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function G8(e,t,n){var r=t.pendingProps;switch(nE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return $n(t.type)&&gm(),Yt(t),null;case 3:return r=t.stateNode,Zu(),Xe(An),Xe(an),fE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pr!==null&&(A1(Pr),Pr=null))),w1(e,t),Yt(t),null;case 5:cE(t);var o=Fa(Ef.current);if(n=t.type,e!==null&&t.stateNode!=null)DI(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return Yt(t),null}if(e=Fa(no.current),zh(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Xr]=t,r[_f]=i,e=(t.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(o=0;o<$c.length;o++)Ke($c[o],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":QP(r,i),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",r);break;case"textarea":JP(r,i),Ke("invalid",r)}qw(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Wh(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Wh(r.textContent,s,e),o=["children",""+s]):ff.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Dh(r),XP(r,i,!0);break;case"textarea":Dh(r),ZP(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vm)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lM(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Xr]=t,e[_f]=r,II(e,t,!1,!1),t.stateNode=e;e:{switch(a=Gw(n,r),n){case"dialog":Ke("cancel",e),Ke("close",e),o=r;break;case"iframe":case"object":case"embed":Ke("load",e),o=r;break;case"video":case"audio":for(o=0;o<$c.length;o++)Ke($c[o],e);o=r;break;case"source":Ke("error",e),o=r;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),o=r;break;case"details":Ke("toggle",e),o=r;break;case"input":QP(e,r),o=Vw(e,r),Ke("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=it({},r,{value:void 0}),Ke("invalid",e);break;case"textarea":JP(e,r),o=Kw(e,r),Ke("invalid",e);break;default:o=r}qw(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var u=s[i];i==="style"?dM(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cM(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&df(e,u):typeof u=="number"&&df(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ff.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ke("scroll",e):u!=null&&US(e,i,u,a))}switch(n){case"input":Dh(e),XP(e,r,!1);break;case"textarea":Dh(e),ZP(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wi(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Iu(e,!!r.multiple,i,!1):r.defaultValue!=null&&Iu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=vm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yt(t),null;case 6:if(e&&t.stateNode!=null)jI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=Fa(Ef.current),Fa(no.current),zh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,(i=r.nodeValue!==n)&&(e=Wn,e!==null))switch(e.tag){case 3:Wh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wh(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=t,t.stateNode=r}return Yt(t),null;case 13:if(Xe(nt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&Un!==null&&t.mode&1&&!(t.flags&128))ZM(),Xu(),t.flags|=98560,i=!1;else if(i=zh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Xr]=t}else Xu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),i=!1}else Pr!==null&&(A1(Pr),Pr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?Ct===0&&(Ct=3):EE())),t.updateQueue!==null&&(t.flags|=4),Yt(t),null);case 4:return Zu(),w1(e,t),e===null&&bf(t.stateNode.containerInfo),Yt(t),null;case 10:return aE(t.type._context),Yt(t),null;case 17:return $n(t.type)&&gm(),Yt(t),null;case 19:if(Xe(nt),i=t.memoizedState,i===null)return Yt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)dc(i,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=xm(e),a!==null){for(t.flags|=128,dc(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(nt,nt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ft()>tl&&(t.flags|=128,r=!0,dc(i,!1),t.lanes=4194304)}else{if(!r)if(e=xm(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),dc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!et)return Yt(t),null}else 2*ft()-i.renderingStartTime>tl&&n!==1073741824&&(t.flags|=128,r=!0,dc(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ft(),t.sibling=null,n=nt.current,We(nt,r?n&1|2:n&1),t):(Yt(t),null);case 22:case 23:return SE(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fn&1073741824&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function Y8(e,t){switch(nE(t),t.tag){case 1:return $n(t.type)&&gm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zu(),Xe(An),Xe(an),fE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cE(t),null;case 13:if(Xe(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Xu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(nt),null;case 4:return Zu(),null;case 10:return aE(t.type._context),null;case 22:case 23:return SE(),null;case 24:return null;default:return null}}var qh=!1,Zt=!1,Q8=typeof WeakSet=="function"?WeakSet:Set,X=null;function Eu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(e,t,r)}else n.current=null}function _1(e,t,n){try{n()}catch(r){at(e,t,r)}}var VC=!1;function X8(e,t){if(o1=hm,e=BM(),eE(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,s=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||o!==0&&f.nodeType!==3||(s=a+o),f!==i||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===o&&(s=a),d===i&&++c===r&&(u=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(i1={focusedElem:e,selectionRange:n},hm=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,b=m.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:Sr(t.type,p),b);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(_){at(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return m=VC,VC=!1,m}function Fc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&_1(t,n,i)}o=o.next}while(o!==r)}}function Uv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function S1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function NI(e){var t=e.alternate;t!==null&&(e.alternate=null,NI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xr],delete t[_f],delete t[u1],delete t[M8],delete t[I8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function LI(e){return e.tag===5||e.tag===3||e.tag===4}function WC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||LI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function E1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vm));else if(r!==4&&(e=e.child,e!==null))for(E1(e,t,n),e=e.sibling;e!==null;)E1(e,t,n),e=e.sibling}function x1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(x1(e,t,n),e=e.sibling;e!==null;)x1(e,t,n),e=e.sibling}var Vt=null,Er=!1;function li(e,t,n){for(n=n.child;n!==null;)FI(e,t,n),n=n.sibling}function FI(e,t,n){if(to&&typeof to.onCommitFiberUnmount=="function")try{to.onCommitFiberUnmount(Mv,n)}catch{}switch(n.tag){case 5:Zt||Eu(n,t);case 6:var r=Vt,o=Er;Vt=null,li(e,t,n),Vt=r,Er=o,Vt!==null&&(Er?(e=Vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(Er?(e=Vt,n=n.stateNode,e.nodeType===8?o0(e.parentNode,n):e.nodeType===1&&o0(e,n),vf(e)):o0(Vt,n.stateNode));break;case 4:r=Vt,o=Er,Vt=n.stateNode.containerInfo,Er=!0,li(e,t,n),Vt=r,Er=o;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&_1(n,t,a),o=o.next}while(o!==r)}li(e,t,n);break;case 1:if(!Zt&&(Eu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){at(n,t,s)}li(e,t,n);break;case 21:li(e,t,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,li(e,t,n),Zt=r):li(e,t,n);break;default:li(e,t,n)}}function zC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Q8),t.forEach(function(r){var o=aU.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function br(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Vt=s.stateNode,Er=!1;break e;case 3:Vt=s.stateNode.containerInfo,Er=!0;break e;case 4:Vt=s.stateNode.containerInfo,Er=!0;break e}s=s.return}if(Vt===null)throw Error(K(160));FI(i,a,o),Vt=null,Er=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(l){at(o,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)BI(t,e),t=t.sibling}function BI(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),qr(e),r&4){try{Fc(3,e,e.return),Uv(3,e)}catch(p){at(e,e.return,p)}try{Fc(5,e,e.return)}catch(p){at(e,e.return,p)}}break;case 1:br(t,e),qr(e),r&512&&n!==null&&Eu(n,n.return);break;case 5:if(br(t,e),qr(e),r&512&&n!==null&&Eu(n,n.return),e.flags&32){var o=e.stateNode;try{df(o,"")}catch(p){at(e,e.return,p)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&sM(o,i),Gw(s,a);var l=Gw(s,i);for(a=0;a<u.length;a+=2){var c=u[a],f=u[a+1];c==="style"?dM(o,f):c==="dangerouslySetInnerHTML"?cM(o,f):c==="children"?df(o,f):US(o,c,f,l)}switch(s){case"input":Ww(o,i);break;case"textarea":uM(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Iu(o,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?Iu(o,!!i.multiple,i.defaultValue,!0):Iu(o,!!i.multiple,i.multiple?[]:"",!1))}o[_f]=i}catch(p){at(e,e.return,p)}}break;case 6:if(br(t,e),qr(e),r&4){if(e.stateNode===null)throw Error(K(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(p){at(e,e.return,p)}}break;case 3:if(br(t,e),qr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vf(t.containerInfo)}catch(p){at(e,e.return,p)}break;case 4:br(t,e),qr(e);break;case 13:br(t,e),qr(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(wE=ft())),r&4&&zC(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Zt=(l=Zt)||c,br(t,e),Zt=l):br(t,e),qr(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(X=e,c=e.child;c!==null;){for(f=X=c;X!==null;){switch(d=X,h=d.child,d.tag){case 0:case 11:case 14:case 15:Fc(4,d,d.return);break;case 1:Eu(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){at(r,n,p)}}break;case 5:Eu(d,d.return);break;case 22:if(d.memoizedState!==null){HC(f);continue}}h!==null?(h.return=d,X=h):HC(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,l?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=fM("display",a))}catch(p){at(e,e.return,p)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(p){at(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:br(t,e),qr(e),r&4&&zC(e);break;case 21:break;default:br(t,e),qr(e)}}function qr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(LI(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(df(o,""),r.flags&=-33);var i=WC(e);x1(e,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,s=WC(e);E1(e,s,a);break;default:throw Error(K(161))}}catch(u){at(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function J8(e,t,n){X=e,UI(e)}function UI(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var o=X,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||qh;if(!a){var s=o.alternate,u=s!==null&&s.memoizedState!==null||Zt;s=qh;var l=Zt;if(qh=a,(Zt=u)&&!l)for(X=o;X!==null;)a=X,u=a.child,a.tag===22&&a.memoizedState!==null?qC(o):u!==null?(u.return=a,X=u):qC(o);for(;i!==null;)X=i,UI(i),i=i.sibling;X=o,qh=s,Zt=l}KC(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,X=i):KC(e)}}function KC(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zt||Uv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Sr(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&AC(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}AC(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&vf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Zt||t.flags&512&&S1(t)}catch(d){at(t,t.return,d)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function HC(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function qC(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uv(4,t)}catch(u){at(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){at(t,o,u)}}var i=t.return;try{S1(t)}catch(u){at(t,i,u)}break;case 5:var a=t.return;try{S1(t)}catch(u){at(t,a,u)}}}catch(u){at(t,t.return,u)}if(t===e){X=null;break}var s=t.sibling;if(s!==null){s.return=t.return,X=s;break}X=t.return}}var Z8=Math.ceil,Om=ei.ReactCurrentDispatcher,yE=ei.ReactCurrentOwner,lr=ei.ReactCurrentBatchConfig,Ce=0,Nt=null,mt=null,zt=0,Fn=0,xu=ca(0),Ct=0,Of=null,ss=0,Vv=0,bE=0,Bc=null,xn=null,wE=0,tl=1/0,yo=null,Am=!1,P1=null,Di=null,Gh=!1,Oi=null,$m=0,Uc=0,C1=null,Dp=-1,jp=0;function mn(){return Ce&6?ft():Dp!==-1?Dp:Dp=ft()}function ji(e){return e.mode&1?Ce&2&&zt!==0?zt&-zt:j8.transition!==null?(jp===0&&(jp=xM()),jp):(e=De,e!==0||(e=window.event,e=e===void 0?16:RM(e.type)),e):1}function Or(e,t,n,r){if(50<Uc)throw Uc=0,C1=null,Error(K(185));od(e,n,r),(!(Ce&2)||e!==Nt)&&(e===Nt&&(!(Ce&2)&&(Vv|=n),Ct===4&&xi(e,zt)),Tn(e,r),n===1&&Ce===0&&!(t.mode&1)&&(tl=ft()+500,Lv&&fa()))}function Tn(e,t){var n=e.callbackNode;j5(e,t);var r=dm(e,e===Nt?zt:0);if(r===0)n!==null&&nC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nC(n),t===1)e.tag===0?D8(GC.bind(null,e)):QM(GC.bind(null,e)),R8(function(){!(Ce&6)&&fa()}),n=null;else{switch(PM(r)){case 1:n=HS;break;case 4:n=SM;break;case 16:n=fm;break;case 536870912:n=EM;break;default:n=fm}n=YI(n,VI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function VI(e,t){if(Dp=-1,jp=0,Ce&6)throw Error(K(327));var n=e.callbackNode;if(Fu()&&e.callbackNode!==n)return null;var r=dm(e,e===Nt?zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Tm(e,r);else{t=r;var o=Ce;Ce|=2;var i=zI();(Nt!==e||zt!==t)&&(yo=null,tl=ft()+500,qa(e,t));do try{nU();break}catch(s){WI(e,s)}while(!0);iE(),Om.current=i,Ce=o,mt!==null?t=0:(Nt=null,zt=0,t=Ct)}if(t!==0){if(t===2&&(o=Zw(e),o!==0&&(r=o,t=O1(e,o))),t===1)throw n=Of,qa(e,0),xi(e,r),Tn(e,ft()),n;if(t===6)xi(e,r);else{if(o=e.current.alternate,!(r&30)&&!eU(o)&&(t=Tm(e,r),t===2&&(i=Zw(e),i!==0&&(r=i,t=O1(e,i))),t===1))throw n=Of,qa(e,0),xi(e,r),Tn(e,ft()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:ka(e,xn,yo);break;case 3:if(xi(e,r),(r&130023424)===r&&(t=wE+500-ft(),10<t)){if(dm(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){mn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=s1(ka.bind(null,e,xn,yo),t);break}ka(e,xn,yo);break;case 4:if(xi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-Cr(r);i=1<<a,a=t[a],a>o&&(o=a),r&=~i}if(r=o,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z8(r/1960))-r,10<r){e.timeoutHandle=s1(ka.bind(null,e,xn,yo),r);break}ka(e,xn,yo);break;case 5:ka(e,xn,yo);break;default:throw Error(K(329))}}}return Tn(e,ft()),e.callbackNode===n?VI.bind(null,e):null}function O1(e,t){var n=Bc;return e.current.memoizedState.isDehydrated&&(qa(e,t).flags|=256),e=Tm(e,t),e!==2&&(t=xn,xn=n,t!==null&&A1(t)),e}function A1(e){xn===null?xn=e:xn.push.apply(xn,e)}function eU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!kr(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xi(e,t){for(t&=~bE,t&=~Vv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cr(t),r=1<<n;e[n]=-1,t&=~r}}function GC(e){if(Ce&6)throw Error(K(327));Fu();var t=dm(e,0);if(!(t&1))return Tn(e,ft()),null;var n=Tm(e,t);if(e.tag!==0&&n===2){var r=Zw(e);r!==0&&(t=r,n=O1(e,r))}if(n===1)throw n=Of,qa(e,0),xi(e,t),Tn(e,ft()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ka(e,xn,yo),Tn(e,ft()),null}function _E(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(tl=ft()+500,Lv&&fa())}}function us(e){Oi!==null&&Oi.tag===0&&!(Ce&6)&&Fu();var t=Ce;Ce|=1;var n=lr.transition,r=De;try{if(lr.transition=null,De=1,e)return e()}finally{De=r,lr.transition=n,Ce=t,!(Ce&6)&&fa()}}function SE(){Fn=xu.current,Xe(xu)}function qa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,T8(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(nE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gm();break;case 3:Zu(),Xe(An),Xe(an),fE();break;case 5:cE(r);break;case 4:Zu();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:aE(r.type._context);break;case 22:case 23:SE()}n=n.return}if(Nt=e,mt=e=Ni(e.current,null),zt=Fn=t,Ct=0,Of=null,bE=Vv=ss=0,xn=Bc=null,La!==null){for(t=0;t<La.length;t++)if(n=La[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}La=null}return e}function WI(e,t){do{var n=mt;try{if(iE(),kp.current=Cm,Pm){for(var r=ot.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Pm=!1}if(as=0,It=xt=ot=null,Lc=!1,xf=0,yE.current=null,n===null||n.return===null){Ct=1,Of=t,mt=null;break}e:{var i=e,a=n.return,s=n,u=t;if(t=zt,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=DC(a);if(h!==null){h.flags&=-257,jC(h,a,s,i,t),h.mode&1&&IC(i,l,t),t=h,u=l;var m=t.updateQueue;if(m===null){var p=new Set;p.add(u),t.updateQueue=p}else m.add(u);break e}else{if(!(t&1)){IC(i,l,t),EE();break e}u=Error(K(426))}}else if(et&&s.mode&1){var b=DC(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),jC(b,a,s,i,t),rE(el(u,s));break e}}i=u=el(u,s),Ct!==4&&(Ct=2),Bc===null?Bc=[i]:Bc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=CI(i,u,t);OC(i,v);break e;case 1:s=u;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Di===null||!Di.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=OI(i,s,t);OC(i,_);break e}}i=i.return}while(i!==null)}HI(n)}catch(S){t=S,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function zI(){var e=Om.current;return Om.current=Cm,e===null?Cm:e}function EE(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Nt===null||!(ss&268435455)&&!(Vv&268435455)||xi(Nt,zt)}function Tm(e,t){var n=Ce;Ce|=2;var r=zI();(Nt!==e||zt!==t)&&(yo=null,qa(e,t));do try{tU();break}catch(o){WI(e,o)}while(!0);if(iE(),Ce=n,Om.current=r,mt!==null)throw Error(K(261));return Nt=null,zt=0,Ct}function tU(){for(;mt!==null;)KI(mt)}function nU(){for(;mt!==null&&!O5();)KI(mt)}function KI(e){var t=GI(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?HI(e):mt=t,yE.current=null}function HI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Y8(n,t),n!==null){n.flags&=32767,mt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,mt=null;return}}else if(n=G8(n,t,Fn),n!==null){mt=n;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);Ct===0&&(Ct=5)}function ka(e,t,n){var r=De,o=lr.transition;try{lr.transition=null,De=1,rU(e,t,n,r)}finally{lr.transition=o,De=r}return null}function rU(e,t,n,r){do Fu();while(Oi!==null);if(Ce&6)throw Error(K(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(N5(e,i),e===Nt&&(mt=Nt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gh||(Gh=!0,YI(fm,function(){return Fu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=lr.transition,lr.transition=null;var a=De;De=1;var s=Ce;Ce|=4,yE.current=null,X8(e,n),BI(n,e),E8(i1),hm=!!o1,i1=o1=null,e.current=n,J8(n),A5(),Ce=s,De=a,lr.transition=i}else e.current=n;if(Gh&&(Gh=!1,Oi=e,$m=o),i=e.pendingLanes,i===0&&(Di=null),R5(n.stateNode),Tn(e,ft()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Am)throw Am=!1,e=P1,P1=null,e;return $m&1&&e.tag!==0&&Fu(),i=e.pendingLanes,i&1?e===C1?Uc++:(Uc=0,C1=e):Uc=0,fa(),null}function Fu(){if(Oi!==null){var e=PM($m),t=lr.transition,n=De;try{if(lr.transition=null,De=16>e?16:e,Oi===null)var r=!1;else{if(e=Oi,Oi=null,$m=0,Ce&6)throw Error(K(331));var o=Ce;for(Ce|=4,X=e.current;X!==null;){var i=X,a=i.child;if(X.flags&16){var s=i.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(X=l;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:Fc(8,c,i)}var f=c.child;if(f!==null)f.return=c,X=f;else for(;X!==null;){c=X;var d=c.sibling,h=c.return;if(NI(c),c===l){X=null;break}if(d!==null){d.return=h,X=d;break}X=h}}}var m=i.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}X=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,X=a;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,X=v;break e}X=i.return}}var y=e.current;for(X=y;X!==null;){a=X;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,X=w;else e:for(a=y;X!==null;){if(s=X,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Uv(9,s)}}catch(S){at(s,s.return,S)}if(s===a){X=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,X=_;break e}X=s.return}}if(Ce=o,fa(),to&&typeof to.onPostCommitFiberRoot=="function")try{to.onPostCommitFiberRoot(Mv,e)}catch{}r=!0}return r}finally{De=n,lr.transition=t}}return!1}function YC(e,t,n){t=el(n,t),t=CI(e,t,1),e=Ii(e,t,1),t=mn(),e!==null&&(od(e,1,t),Tn(e,t))}function at(e,t,n){if(e.tag===3)YC(e,e,n);else for(;t!==null;){if(t.tag===3){YC(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Di===null||!Di.has(r))){e=el(n,e),e=OI(t,e,1),t=Ii(t,e,1),e=mn(),t!==null&&(od(t,1,e),Tn(t,e));break}}t=t.return}}function oU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mn(),e.pingedLanes|=e.suspendedLanes&n,Nt===e&&(zt&n)===n&&(Ct===4||Ct===3&&(zt&130023424)===zt&&500>ft()-wE?qa(e,0):bE|=n),Tn(e,t)}function qI(e,t){t===0&&(e.mode&1?(t=Lh,Lh<<=1,!(Lh&130023424)&&(Lh=4194304)):t=1);var n=mn();e=Fo(e,t),e!==null&&(od(e,t,n),Tn(e,n))}function iU(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qI(e,n)}function aU(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),qI(e,n)}var GI;GI=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||An.current)On=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return On=!1,q8(e,t,n);On=!!(e.flags&131072)}else On=!1,et&&t.flags&1048576&&XM(t,wm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ip(e,t),e=t.pendingProps;var o=Qu(t,an.current);Lu(t,n),o=hE(null,t,r,e,o,n);var i=pE();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$n(r)?(i=!0,ym(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,uE(t),o.updater=Fv,t.stateNode=o,o._reactInternals=t,p1(t,r,e,n),t=g1(null,t,r,!0,i,n)):(t.tag=0,et&&i&&tE(t),dn(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ip(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=uU(r),e=Sr(r,e),o){case 0:t=v1(null,t,r,e,n);break e;case 1:t=FC(null,t,r,e,n);break e;case 11:t=NC(null,t,r,e,n);break e;case 14:t=LC(null,t,r,Sr(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Sr(r,o),v1(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Sr(r,o),FC(e,t,r,o,n);case 3:e:{if(RI(t),e===null)throw Error(K(387));r=t.pendingProps,i=t.memoizedState,o=i.element,tI(e,t),Em(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=el(Error(K(423)),t),t=BC(e,t,r,n,o);break e}else if(r!==o){o=el(Error(K(424)),t),t=BC(e,t,r,n,o);break e}else for(Un=Mi(t.stateNode.containerInfo.firstChild),Wn=t,et=!0,Pr=null,n=iI(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xu(),r===o){t=Bo(e,t,n);break e}dn(e,t,r,n)}t=t.child}return t;case 5:return aI(t),e===null&&f1(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,a1(r,o)?a=null:i!==null&&a1(r,i)&&(t.flags|=32),TI(e,t),dn(e,t,a,n),t.child;case 6:return e===null&&f1(t),null;case 13:return kI(e,t,n);case 4:return lE(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ju(t,null,r,n):dn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Sr(r,o),NC(e,t,r,o,n);case 7:return dn(e,t,t.pendingProps,n),t.child;case 8:return dn(e,t,t.pendingProps.children,n),t.child;case 12:return dn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,We(_m,r._currentValue),r._currentValue=a,i!==null)if(kr(i.value,a)){if(i.children===o.children&&!An.current){t=Bo(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=$o(-1,n&-n),u.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),d1(i.return,n,t),s.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(K(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),d1(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}dn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Lu(t,n),o=fr(o),r=r(o),t.flags|=1,dn(e,t,r,n),t.child;case 14:return r=t.type,o=Sr(r,t.pendingProps),o=Sr(r.type,o),LC(e,t,r,o,n);case 15:return AI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Sr(r,o),Ip(e,t),t.tag=1,$n(r)?(e=!0,ym(t)):e=!1,Lu(t,n),rI(t,r,o),p1(t,r,o,n),g1(null,t,r,!0,e,n);case 19:return MI(e,t,n);case 22:return $I(e,t,n)}throw Error(K(156,t.tag))};function YI(e,t){return _M(e,t)}function sU(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,n,r){return new sU(e,t,n,r)}function xE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uU(e){if(typeof e=="function")return xE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===WS)return 11;if(e===zS)return 14}return 2}function Ni(e,t){var n=e.alternate;return n===null?(n=ur(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Np(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")xE(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case pu:return Ga(n.children,o,i,t);case VS:a=8,o|=8;break;case Lw:return e=ur(12,n,t,o|2),e.elementType=Lw,e.lanes=i,e;case Fw:return e=ur(13,n,t,o),e.elementType=Fw,e.lanes=i,e;case Bw:return e=ur(19,n,t,o),e.elementType=Bw,e.lanes=i,e;case oM:return Wv(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nM:a=10;break e;case rM:a=9;break e;case WS:a=11;break e;case zS:a=14;break e;case vi:a=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=ur(a,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Ga(e,t,n,r){return e=ur(7,e,r,t),e.lanes=n,e}function Wv(e,t,n,r){return e=ur(22,e,r,t),e.elementType=oM,e.lanes=n,e.stateNode={isHidden:!1},e}function d0(e,t,n){return e=ur(6,e,null,t),e.lanes=n,e}function h0(e,t,n){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lU(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qb(0),this.expirationTimes=qb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qb(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function PE(e,t,n,r,o,i,a,s,u){return e=new lU(e,t,n,s,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ur(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uE(i),e}function cU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function QI(e){if(!e)return zi;e=e._reactInternals;e:{if($s(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($n(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if($n(n))return YM(e,n,t)}return t}function XI(e,t,n,r,o,i,a,s,u){return e=PE(n,r,!0,e,o,i,a,s,u),e.context=QI(null),n=e.current,r=mn(),o=ji(n),i=$o(r,o),i.callback=t??null,Ii(n,i,o),e.current.lanes=o,od(e,o,r),Tn(e,r),e}function zv(e,t,n,r){var o=t.current,i=mn(),a=ji(o);return n=QI(n),t.context===null?t.context=n:t.pendingContext=n,t=$o(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ii(o,t,a),e!==null&&(Or(e,o,a,i),Rp(e,o,a)),a}function Rm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function QC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function CE(e,t){QC(e,t),(e=e.alternate)&&QC(e,t)}function fU(){return null}var JI=typeof reportError=="function"?reportError:function(e){console.error(e)};function OE(e){this._internalRoot=e}Kv.prototype.render=OE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));zv(e,t,null,null)};Kv.prototype.unmount=OE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;us(function(){zv(null,e,null,null)}),t[Lo]=null}};function Kv(e){this._internalRoot=e}Kv.prototype.unstable_scheduleHydration=function(e){if(e){var t=AM();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ei.length&&t!==0&&t<Ei[n].priority;n++);Ei.splice(n,0,e),n===0&&TM(e)}};function AE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function XC(){}function dU(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var l=Rm(a);i.call(l)}}var a=XI(t,r,e,0,null,!1,!1,"",XC);return e._reactRootContainer=a,e[Lo]=a.current,bf(e.nodeType===8?e.parentNode:e),us(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var l=Rm(u);s.call(l)}}var u=PE(e,0,!1,null,null,!1,!1,"",XC);return e._reactRootContainer=u,e[Lo]=u.current,bf(e.nodeType===8?e.parentNode:e),us(function(){zv(t,u,n,r)}),u}function qv(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var u=Rm(a);s.call(u)}}zv(t,a,e,o)}else a=dU(n,t,e,o,r);return Rm(a)}CM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ac(t.pendingLanes);n!==0&&(qS(t,n|1),Tn(t,ft()),!(Ce&6)&&(tl=ft()+500,fa()))}break;case 13:us(function(){var r=Fo(e,1);if(r!==null){var o=mn();Or(r,e,1,o)}}),CE(e,1)}};GS=function(e){if(e.tag===13){var t=Fo(e,134217728);if(t!==null){var n=mn();Or(t,e,134217728,n)}CE(e,134217728)}};OM=function(e){if(e.tag===13){var t=ji(e),n=Fo(e,t);if(n!==null){var r=mn();Or(n,e,t,r)}CE(e,t)}};AM=function(){return De};$M=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};Qw=function(e,t,n){switch(t){case"input":if(Ww(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Nv(r);if(!o)throw Error(K(90));aM(r),Ww(r,o)}}}break;case"textarea":uM(e,n);break;case"select":t=n.value,t!=null&&Iu(e,!!n.multiple,t,!1)}};mM=_E;vM=us;var hU={usingClientEntryPoint:!1,Events:[ad,yu,Nv,hM,pM,_E]},hc={findFiberByHostInstance:Na,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pU={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bM(e),e===null?null:e.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||fU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{Mv=Yh.inject(pU),to=Yh}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hU;Xn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AE(t))throw Error(K(200));return cU(e,t,null,n)};Xn.createRoot=function(e,t){if(!AE(e))throw Error(K(299));var n=!1,r="",o=JI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=PE(e,1,!1,null,null,n,!1,r,o),e[Lo]=t.current,bf(e.nodeType===8?e.parentNode:e),new OE(t)};Xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=bM(t),e=e===null?null:e.stateNode,e};Xn.flushSync=function(e){return us(e)};Xn.hydrate=function(e,t,n){if(!Hv(t))throw Error(K(200));return qv(null,e,t,!0,n)};Xn.hydrateRoot=function(e,t,n){if(!AE(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=JI;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=XI(t,null,e,1,n??null,o,!1,i,a),e[Lo]=t.current,bf(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Kv(t)};Xn.render=function(e,t,n){if(!Hv(t))throw Error(K(200));return qv(null,e,t,!1,n)};Xn.unmountComponentAtNode=function(e){if(!Hv(e))throw Error(K(40));return e._reactRootContainer?(us(function(){qv(null,null,e,!1,function(){e._reactRootContainer=null,e[Lo]=null})}),!0):!1};Xn.unstable_batchedUpdates=_E;Xn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hv(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return qv(e,t,n,!1,r)};Xn.version="18.2.0-next-9e3b772b8-20220608";function ZI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZI)}catch(e){console.error(e)}}ZI(),Xk.exports=Xn;var Cn=Xk.exports;const eD=MS(Cn);var JC=Cn;jw.createRoot=JC.createRoot,jw.hydrateRoot=JC.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}var lt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(lt||(lt={}));const ZC="popstate";function mU(e){e===void 0&&(e={});function t(r,o){let{pathname:i,search:a,hash:s}=r.location;return Af("",{pathname:i,search:a,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:cs(o)}return gU(t,n,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ls(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vU(){return Math.random().toString(36).substr(2,8)}function eO(e,t){return{usr:e.state,key:e.key,idx:t}}function Af(e,t,n,r){return n===void 0&&(n=null),tt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ti(t):t,{state:n,key:t&&t.key||r||vU()})}function cs(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ti(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function gU(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s=lt.Pop,u=null,l=c();l==null&&(l=0,a.replaceState(tt({},a.state,{idx:l}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=lt.Pop;let b=c(),v=b==null?null:b-l;l=b,u&&u({action:s,location:p.location,delta:v})}function d(b,v){s=lt.Push;let y=Af(p.location,b,v);n&&n(y,b),l=c()+1;let w=eO(y,l),_=p.createHref(y);try{a.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(_)}i&&u&&u({action:s,location:p.location,delta:1})}function h(b,v){s=lt.Replace;let y=Af(p.location,b,v);n&&n(y,b),l=c();let w=eO(y,l),_=p.createHref(y);a.replaceState(w,"",_),i&&u&&u({action:s,location:p.location,delta:0})}function m(b){let v=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof b=="string"?b:cs(b);return we(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let p={get action(){return s},get location(){return e(o,a)},listen(b){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(ZC,f),u=b,()=>{o.removeEventListener(ZC,f),u=null}},createHref(b){return t(o,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:h,go(b){return a.go(b)}};return p}var ct;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ct||(ct={}));const yU=new Set(["lazy","caseSensitive","path","id","index","children"]);function bU(e){return e.index===!0}function $1(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((o,i)=>{let a=[...n,i],s=typeof o.id=="string"?o.id:a.join("-");if(we(o.index!==!0||!o.children,"Cannot specify children on an index route"),we(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),bU(o)){let u=tt({},o,t(o),{id:s});return r[s]=u,u}else{let u=tt({},o,t(o),{id:s,children:void 0});return r[s]=u,o.children&&(u.children=$1(o.children,t,a,r)),u}})}function Pu(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ti(t):t,o=Ki(r.pathname||"/",n);if(o==null)return null;let i=tD(e);_U(i);let a=null;for(let s=0;a==null&&s<i.length;++s)a=TU(i[s],kU(o));return a}function wU(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function tD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,a,s)=>{let u={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(we(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=To([r,u.relativePath]),c=n.concat(u);i.children&&i.children.length>0&&(we(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),tD(i.children,t,c,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:AU(l,i.index),routesMeta:c})};return e.forEach((i,a)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))o(i,a);else for(let u of nD(i.path))o(i,a,u)}),t}function nD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=nD(r.join("/")),s=[];return s.push(...a.map(u=>u===""?i:[i,u].join("/"))),o&&s.push(...a),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function _U(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$U(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SU=/^:\w+$/,EU=3,xU=2,PU=1,CU=10,OU=-2,tO=e=>e==="*";function AU(e,t){let n=e.split("/"),r=n.length;return n.some(tO)&&(r+=OU),t&&(r+=xU),n.filter(o=>!tO(o)).reduce((o,i)=>o+(SU.test(i)?EU:i===""?PU:CU),r)}function $U(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function TU(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let a=0;a<n.length;++a){let s=n[a],u=a===n.length-1,l=o==="/"?t:t.slice(o.length)||"/",c=T1({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=s.route;i.push({params:r,pathname:To([o,c.pathname]),pathnameBase:jU(To([o,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(o=To([o,c.pathnameBase]))}return i}function T1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=RU(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((l,c,f)=>{if(c==="*"){let d=s[f]||"";a=i.slice(0,i.length-d.length).replace(/(.)\/+$/,"$1")}return l[c]=MU(s[f]||"",c),l},{}),pathname:i,pathnameBase:a,pattern:e}}function RU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ls(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function kU(e){try{return decodeURI(e)}catch(t){return ls(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function MU(e,t){try{return decodeURIComponent(e)}catch(n){return ls(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Ki(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function IU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?ti(e):e;return{pathname:n?n.startsWith("/")?n:DU(n,t):t,search:NU(r),hash:LU(o)}}function DU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function p0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $E(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=ti(e):(o=tt({},e),we(!o.pathname||!o.pathname.includes("?"),p0("?","pathname","search",o)),we(!o.pathname||!o.pathname.includes("#"),p0("#","pathname","hash",o)),we(!o.search||!o.search.includes("#"),p0("#","search","hash",o)));let i=e===""||o.pathname==="",a=i?"/":o.pathname,s;if(r||a==null)s=n;else{let f=t.length-1;if(a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;o.pathname=d.join("/")}s=f>=0?t[f]:"/"}let u=IU(o,s),l=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const To=e=>e.join("/").replace(/\/\/+/g,"/"),jU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,LU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class TE{constructor(t,n,r,o){o===void 0&&(o=!1),this.status=t,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function rD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oD=["post","put","patch","delete"],FU=new Set(oD),BU=["get",...oD],UU=new Set(BU),VU=new Set([301,302,303,307,308]),WU=new Set([307,308]),m0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zU={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},iD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KU=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),aD="remix-router-transitions";function HU(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;we(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let j=e.detectErrorBoundary;o=B=>({hasErrorBoundary:j(B)})}else o=KU;let i={},a=$1(e.routes,o,void 0,i),s,u=e.basename||"/",l=tt({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,f=new Set,d=null,h=null,m=null,p=e.hydrationData!=null,b=Pu(a,e.history.location,u),v=null;if(b==null){let j=or(404,{pathname:e.history.location.pathname}),{matches:B,route:z}=lO(a);b=B,v={[z.id]:j}}let y=!b.some(j=>j.route.lazy)&&(!b.some(j=>j.route.loader)||e.hydrationData!=null),w,_={historyAction:e.history.action,location:e.history.location,matches:b,initialized:y,navigation:m0,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||v,fetchers:new Map,blockers:new Map},S=lt.Pop,E=!1,x,P=!1,O=new Map,T=null,R=!1,M=!1,U=[],$=[],L=new Map,N=0,V=-1,I=new Map,A=new Set,D=new Map,F=new Map,W=new Map,H=!1;function se(){if(c=e.history.listen(j=>{let{action:B,location:z,delta:Y}=j;if(H){H=!1;return}ls(W.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Z=Sa({currentLocation:_.location,nextLocation:z,historyAction:B});if(Z&&Y!=null){H=!0,e.history.go(Y*-1),tr(Z,{state:"blocked",location:z,proceed(){tr(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),e.history.go(Y)},reset(){let re=new Map(_.blockers);re.set(Z,pc),de({blockers:re})}});return}return Ue(B,z)}),n){rV(t,O);let j=()=>oV(t,O);t.addEventListener("pagehide",j),T=()=>t.removeEventListener("pagehide",j)}return _.initialized||Ue(lt.Pop,_.location),w}function _e(){c&&c(),T&&T(),f.clear(),x&&x.abort(),_.fetchers.forEach((j,B)=>St(B)),_.blockers.forEach((j,B)=>yr(B))}function te(j){return f.add(j),()=>f.delete(j)}function de(j,B){_=tt({},_,j),f.forEach(z=>z(_,{unstable_viewTransitionOpts:B}))}function wt(j,B){var z,Y;let Z=_.actionData!=null&&_.navigation.formMethod!=null&&xr(_.navigation.formMethod)&&_.navigation.state==="loading"&&((z=j.state)==null?void 0:z._isRedirect)!==!0,re;B.actionData?Object.keys(B.actionData).length>0?re=B.actionData:re=null:Z?re=_.actionData:re=null;let ae=B.loaderData?uO(_.loaderData,B.loaderData,B.matches||[],B.errors):_.loaderData,oe=_.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((Ee,pe)=>oe.set(pe,pc)));let Q=E===!0||_.navigation.formMethod!=null&&xr(_.navigation.formMethod)&&((Y=j.state)==null?void 0:Y._isRedirect)!==!0;s&&(a=s,s=void 0),R||S===lt.Pop||(S===lt.Push?e.history.push(j,j.state):S===lt.Replace&&e.history.replace(j,j.state));let ve;if(S===lt.Pop){let Ee=O.get(_.location.pathname);Ee&&Ee.has(j.pathname)?ve={currentLocation:_.location,nextLocation:j}:O.has(j.pathname)&&(ve={currentLocation:j,nextLocation:_.location})}else if(P){let Ee=O.get(_.location.pathname);Ee?Ee.add(j.pathname):(Ee=new Set([j.pathname]),O.set(_.location.pathname,Ee)),ve={currentLocation:_.location,nextLocation:j}}de(tt({},B,{actionData:re,loaderData:ae,historyAction:S,location:j,initialized:!0,navigation:m0,revalidation:"idle",restoreScrollPosition:Ea(j,B.matches||_.matches),preventScrollReset:Q,blockers:oe}),ve),S=lt.Pop,E=!1,P=!1,R=!1,M=!1,U=[],$=[]}async function ht(j,B){if(typeof j=="number"){e.history.go(j);return}let z=R1(_.location,_.matches,u,l.v7_prependBasename,j,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:Y,submission:Z,error:re}=nO(l.v7_normalizeFormMethod,!1,z,B),ae=_.location,oe=Af(_.location,Y,B&&B.state);oe=tt({},oe,e.history.encodeLocation(oe));let Q=B&&B.replace!=null?B.replace:void 0,ve=lt.Push;Q===!0?ve=lt.Replace:Q===!1||Z!=null&&xr(Z.formMethod)&&Z.formAction===_.location.pathname+_.location.search&&(ve=lt.Replace);let Ee=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,pe=Sa({currentLocation:ae,nextLocation:oe,historyAction:ve});if(pe){tr(pe,{state:"blocked",location:oe,proceed(){tr(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),ht(j,B)},reset(){let ge=new Map(_.blockers);ge.set(pe,pc),de({blockers:ge})}});return}return await Ue(ve,oe,{submission:Z,pendingError:re,preventScrollReset:Ee,replace:B&&B.replace,enableViewTransition:B&&B.unstable_viewTransition})}function Be(){if(be(),de({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Ue(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Ue(S||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function Ue(j,B,z){x&&x.abort(),x=null,S=j,R=(z&&z.startUninterruptedRevalidation)===!0,ec(_.location,_.matches),E=(z&&z.preventScrollReset)===!0,P=(z&&z.enableViewTransition)===!0;let Y=s||a,Z=z&&z.overrideNavigation,re=Pu(Y,B,u);if(!re){let ge=or(404,{pathname:B.pathname}),{matches:Me,route:cn}=lO(Y);_n(),wt(B,{matches:Me,loaderData:{},errors:{[cn.id]:ge}});return}if(_.initialized&&!M&&XU(_.location,B)&&!(z&&z.submission&&xr(z.submission.formMethod))){wt(B,{matches:re});return}x=new AbortController;let ae=vc(e.history,B,x.signal,z&&z.submission),oe,Q;if(z&&z.pendingError)Q={[Cu(re).route.id]:z.pendingError};else if(z&&z.submission&&xr(z.submission.formMethod)){let ge=await _t(ae,B,z.submission,re,{replace:z.replace});if(ge.shortCircuited)return;oe=ge.pendingActionData,Q=ge.pendingActionError,Z=v0(B,z.submission),ae=new Request(ae.url,{signal:ae.signal})}let{shortCircuited:ve,loaderData:Ee,errors:pe}=await jn(ae,B,re,Z,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,oe,Q);ve||(x=null,wt(B,tt({matches:re},oe?{actionData:oe}:{},{loaderData:Ee,errors:pe})))}async function _t(j,B,z,Y,Z){Z===void 0&&(Z={}),be();let re=tV(B,z);de({navigation:re});let ae,oe=M1(Y,B);if(!oe.route.action&&!oe.route.lazy)ae={type:ct.error,error:or(405,{method:j.method,pathname:B.pathname,routeId:oe.route.id})};else if(ae=await mc("action",j,oe,Y,i,o,u),j.signal.aborted)return{shortCircuited:!0};if(Bu(ae)){let Q;return Z&&Z.replace!=null?Q=Z.replace:Q=ae.location===_.location.pathname+_.location.search,await Se(_,ae,{submission:z,replace:Q}),{shortCircuited:!0}}if(Vc(ae)){let Q=Cu(Y,oe.route.id);return(Z&&Z.replace)!==!0&&(S=lt.Push),{pendingActionData:{},pendingActionError:{[Q.route.id]:ae.error}}}if(Ba(ae))throw or(400,{type:"defer-action"});return{pendingActionData:{[oe.route.id]:ae.data}}}async function jn(j,B,z,Y,Z,re,ae,oe,Q){let ve=Y||v0(B,Z),Ee=Z||re||dO(ve),pe=s||a,[ge,Me]=rO(e.history,_,z,Ee,B,M,U,$,D,A,pe,u,oe,Q);if(_n(Te=>!(z&&z.some(Nn=>Nn.route.id===Te))||ge&&ge.some(Nn=>Nn.route.id===Te)),V=++N,ge.length===0&&Me.length===0){let Te=ai();return wt(B,tt({matches:z,loaderData:{},errors:Q||null},oe?{actionData:oe}:{},Te?{fetchers:new Map(_.fetchers)}:{})),{shortCircuited:!0}}if(!R){Me.forEach(Nn=>{let Hr=_.fetchers.get(Nn.key),ic=gc(void 0,Hr?Hr.data:void 0);_.fetchers.set(Nn.key,ic)});let Te=oe||_.actionData;de(tt({navigation:ve},Te?Object.keys(Te).length===0?{actionData:null}:{actionData:Te}:{},Me.length>0?{fetchers:new Map(_.fetchers)}:{}))}Me.forEach(Te=>{L.has(Te.key)&&Et(Te.key),Te.controller&&L.set(Te.key,Te.controller)});let cn=()=>Me.forEach(Te=>Et(Te.key));x&&x.signal.addEventListener("abort",cn);let{results:Sn,loaderResults:nr,fetcherResults:ui}=await me(_.matches,z,ge,Me,j);if(j.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",cn),Me.forEach(Te=>L.delete(Te.key));let Ft=cO(Sn);if(Ft){if(Ft.idx>=ge.length){let Te=Me[Ft.idx-ge.length].key;A.add(Te)}return await Se(_,Ft.result,{replace:ae}),{shortCircuited:!0}}let{loaderData:Bt,errors:Kr}=sO(_,z,ge,nr,Q,Me,ui,F);F.forEach((Te,Nn)=>{Te.subscribe(Hr=>{(Hr||Te.done)&&F.delete(Nn)})});let nc=ai(),rc=si(V),oc=nc||rc||Me.length>0;return tt({loaderData:Bt,errors:Kr},oc?{fetchers:new Map(_.fetchers)}:{})}function qt(j){return _.fetchers.get(j)||zU}function q(j,B,z,Y){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");L.has(j)&&Et(j);let Z=s||a,re=R1(_.location,_.matches,u,l.v7_prependBasename,z,B,Y==null?void 0:Y.relative),ae=Pu(Z,re,u);if(!ae){ke(j,B,or(404,{pathname:re}));return}let{path:oe,submission:Q,error:ve}=nO(l.v7_normalizeFormMethod,!0,re,Y);if(ve){ke(j,B,ve);return}let Ee=M1(ae,oe);if(E=(Y&&Y.preventScrollReset)===!0,Q&&xr(Q.formMethod)){ne(j,B,oe,Ee,ae,Q);return}D.set(j,{routeId:B,path:oe}),je(j,B,oe,Ee,ae,Q)}async function ne(j,B,z,Y,Z,re){if(be(),D.delete(j),!Y.route.action&&!Y.route.lazy){let ut=or(405,{method:re.formMethod,pathname:z,routeId:B});ke(j,B,ut);return}let ae=_.fetchers.get(j),oe=nV(re,ae);_.fetchers.set(j,oe),de({fetchers:new Map(_.fetchers)});let Q=new AbortController,ve=vc(e.history,z,Q.signal,re);L.set(j,Q);let Ee=N,pe=await mc("action",ve,Y,Z,i,o,u);if(ve.signal.aborted){L.get(j)===Q&&L.delete(j);return}if(Bu(pe))if(L.delete(j),V>Ee){let ut=cu(void 0);_.fetchers.set(j,ut),de({fetchers:new Map(_.fetchers)});return}else{A.add(j);let ut=gc(re);return _.fetchers.set(j,ut),de({fetchers:new Map(_.fetchers)}),Se(_,pe,{fetcherSubmission:re})}if(Vc(pe)){ke(j,B,pe.error);return}if(Ba(pe))throw or(400,{type:"defer-action"});let ge=_.navigation.location||_.location,Me=vc(e.history,ge,Q.signal),cn=s||a,Sn=_.navigation.state!=="idle"?Pu(cn,_.navigation.location,u):_.matches;we(Sn,"Didn't find any matches after fetcher action");let nr=++N;I.set(j,nr);let ui=gc(re,pe.data);_.fetchers.set(j,ui);let[Ft,Bt]=rO(e.history,_,Sn,re,ge,M,U,$,D,A,cn,u,{[Y.route.id]:pe.data},void 0);Bt.filter(ut=>ut.key!==j).forEach(ut=>{let xa=ut.key,Rh=_.fetchers.get(xa),Ub=gc(void 0,Rh?Rh.data:void 0);_.fetchers.set(xa,Ub),L.has(xa)&&Et(xa),ut.controller&&L.set(xa,ut.controller)}),de({fetchers:new Map(_.fetchers)});let Kr=()=>Bt.forEach(ut=>Et(ut.key));Q.signal.addEventListener("abort",Kr);let{results:nc,loaderResults:rc,fetcherResults:oc}=await me(_.matches,Sn,Ft,Bt,Me);if(Q.signal.aborted)return;Q.signal.removeEventListener("abort",Kr),I.delete(j),L.delete(j),Bt.forEach(ut=>L.delete(ut.key));let Te=cO(nc);if(Te){if(Te.idx>=Ft.length){let ut=Bt[Te.idx-Ft.length].key;A.add(ut)}return Se(_,Te.result)}let{loaderData:Nn,errors:Hr}=sO(_,_.matches,Ft,rc,void 0,Bt,oc,F);if(_.fetchers.has(j)){let ut=cu(pe.data);_.fetchers.set(j,ut)}let ic=si(nr);_.navigation.state==="loading"&&nr>V?(we(S,"Expected pending action"),x&&x.abort(),wt(_.navigation.location,{matches:Sn,loaderData:Nn,errors:Hr,fetchers:new Map(_.fetchers)})):(de(tt({errors:Hr,loaderData:uO(_.loaderData,Nn,Sn,Hr)},ic||Bt.length>0?{fetchers:new Map(_.fetchers)}:{})),M=!1)}async function je(j,B,z,Y,Z,re){let ae=_.fetchers.get(j),oe=gc(re,ae?ae.data:void 0);_.fetchers.set(j,oe),de({fetchers:new Map(_.fetchers)});let Q=new AbortController,ve=vc(e.history,z,Q.signal);L.set(j,Q);let Ee=N,pe=await mc("loader",ve,Y,Z,i,o,u);if(Ba(pe)&&(pe=await lD(pe,ve.signal,!0)||pe),L.get(j)===Q&&L.delete(j),ve.signal.aborted)return;if(Bu(pe))if(V>Ee){let Me=cu(void 0);_.fetchers.set(j,Me),de({fetchers:new Map(_.fetchers)});return}else{A.add(j),await Se(_,pe);return}if(Vc(pe)){let Me=Cu(_.matches,B);_.fetchers.delete(j),de({fetchers:new Map(_.fetchers),errors:{[Me.route.id]:pe.error}});return}we(!Ba(pe),"Unhandled fetcher deferred data");let ge=cu(pe.data);_.fetchers.set(j,ge),de({fetchers:new Map(_.fetchers)})}async function Se(j,B,z){let{submission:Y,fetcherSubmission:Z,replace:re}=z===void 0?{}:z;B.revalidate&&(M=!0);let ae=Af(j.location,B.location,{_isRedirect:!0});if(we(ae,"Expected a location on the redirect navigation"),n){let ge=!1;if(B.reloadDocument)ge=!0;else if(iD.test(B.location)){const Me=e.history.createURL(B.location);ge=Me.origin!==t.location.origin||Ki(Me.pathname,u)==null}if(ge){re?t.location.replace(B.location):t.location.assign(B.location);return}}x=null;let oe=re===!0?lt.Replace:lt.Push,{formMethod:Q,formAction:ve,formEncType:Ee}=j.navigation;!Y&&!Z&&Q&&ve&&Ee&&(Y=dO(j.navigation));let pe=Y||Z;if(WU.has(B.status)&&pe&&xr(pe.formMethod))await Ue(oe,ae,{submission:tt({},pe,{formAction:B.location}),preventScrollReset:E});else{let ge=v0(ae,Y);await Ue(oe,ae,{overrideNavigation:ge,fetcherSubmission:Z,preventScrollReset:E})}}async function me(j,B,z,Y,Z){let re=await Promise.all([...z.map(Q=>mc("loader",Z,Q,B,i,o,u)),...Y.map(Q=>Q.matches&&Q.match&&Q.controller?mc("loader",vc(e.history,Q.path,Q.controller.signal),Q.match,Q.matches,i,o,u):{type:ct.error,error:or(404,{pathname:Q.path})})]),ae=re.slice(0,z.length),oe=re.slice(z.length);return await Promise.all([fO(j,z,ae,ae.map(()=>Z.signal),!1,_.loaderData),fO(j,Y.map(Q=>Q.match),oe,Y.map(Q=>Q.controller?Q.controller.signal:null),!0)]),{results:re,loaderResults:ae,fetcherResults:oe}}function be(){M=!0,U.push(..._n()),D.forEach((j,B)=>{L.has(B)&&($.push(B),Et(B))})}function ke(j,B,z){let Y=Cu(_.matches,B);St(j),de({errors:{[Y.route.id]:z},fetchers:new Map(_.fetchers)})}function St(j){let B=_.fetchers.get(j);L.has(j)&&!(B&&B.state==="loading"&&I.has(j))&&Et(j),D.delete(j),I.delete(j),A.delete(j),_.fetchers.delete(j)}function Et(j){let B=L.get(j);we(B,"Expected fetch controller: "+j),B.abort(),L.delete(j)}function gr(j){for(let B of j){let z=qt(B),Y=cu(z.data);_.fetchers.set(B,Y)}}function ai(){let j=[],B=!1;for(let z of A){let Y=_.fetchers.get(z);we(Y,"Expected fetcher: "+z),Y.state==="loading"&&(A.delete(z),j.push(z),B=!0)}return gr(j),B}function si(j){let B=[];for(let[z,Y]of I)if(Y<j){let Z=_.fetchers.get(z);we(Z,"Expected fetcher: "+z),Z.state==="loading"&&(Et(z),I.delete(z),B.push(z))}return gr(B),B.length>0}function zr(j,B){let z=_.blockers.get(j)||pc;return W.get(j)!==B&&W.set(j,B),z}function yr(j){_.blockers.delete(j),W.delete(j)}function tr(j,B){let z=_.blockers.get(j)||pc;we(z.state==="unblocked"&&B.state==="blocked"||z.state==="blocked"&&B.state==="blocked"||z.state==="blocked"&&B.state==="proceeding"||z.state==="blocked"&&B.state==="unblocked"||z.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+z.state+" -> "+B.state);let Y=new Map(_.blockers);Y.set(j,B),de({blockers:Y})}function Sa(j){let{currentLocation:B,nextLocation:z,historyAction:Y}=j;if(W.size===0)return;W.size>1&&ls(!1,"A router only supports one blocker at a time");let Z=Array.from(W.entries()),[re,ae]=Z[Z.length-1],oe=_.blockers.get(re);if(!(oe&&oe.state==="proceeding")&&ae({currentLocation:B,nextLocation:z,historyAction:Y}))return re}function _n(j){let B=[];return F.forEach((z,Y)=>{(!j||j(Y))&&(z.cancel(),B.push(Y),F.delete(Y))}),B}function Js(j,B,z){if(d=j,m=B,h=z||null,!p&&_.navigation===m0){p=!0;let Y=Ea(_.location,_.matches);Y!=null&&de({restoreScrollPosition:Y})}return()=>{d=null,m=null,h=null}}function Zs(j,B){return h&&h(j,B.map(Y=>wU(Y,_.loaderData)))||j.key}function ec(j,B){if(d&&m){let z=Zs(j,B);d[z]=m()}}function Ea(j,B){if(d){let z=Zs(j,B),Y=d[z];if(typeof Y=="number")return Y}return null}function tc(j){i={},s=$1(j,o,void 0,i)}return w={get basename(){return u},get state(){return _},get routes(){return a},get window(){return t},initialize:se,subscribe:te,enableScrollRestoration:Js,navigate:ht,fetch:q,revalidate:Be,createHref:j=>e.history.createHref(j),encodeLocation:j=>e.history.encodeLocation(j),getFetcher:qt,deleteFetcher:St,dispose:_e,getBlocker:zr,deleteBlocker:yr,_internalFetchControllers:L,_internalActiveDeferreds:F,_internalSetRoutes:tc},w}function qU(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function R1(e,t,n,r,o,i,a){let s,u;if(i!=null&&a!=="path"){s=[];for(let c of t)if(s.push(c),c.route.id===i){u=c;break}}else s=t,u=t[t.length-1];let l=$E(o||".",Gv(s).map(c=>c.pathnameBase),Ki(e.pathname,n)||e.pathname,a==="path");return o==null&&(l.search=e.search,l.hash=e.hash),(o==null||o===""||o===".")&&u&&u.route.index&&!RE(l.search)&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(l.pathname=l.pathname==="/"?n:To([n,l.pathname])),cs(l)}function nO(e,t,n,r){if(!r||!qU(r))return{path:n};if(r.formMethod&&!eV(r.formMethod))return{path:n,error:or(405,{method:r.formMethod})};let o=()=>({path:n,error:or(400,{type:"invalid-body"})}),i=r.formMethod||"get",a=e?i.toUpperCase():i.toLowerCase(),s=uD(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!xr(a))return o();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,m)=>{let[p,b]=m;return""+h+p+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!xr(a))return o();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return o()}}}we(typeof FormData=="function","FormData is not available in this environment");let u,l;if(r.formData)u=k1(r.formData),l=r.formData;else if(r.body instanceof FormData)u=k1(r.body),l=r.body;else if(r.body instanceof URLSearchParams)u=r.body,l=aO(u);else if(r.body==null)u=new URLSearchParams,l=new FormData;else try{u=new URLSearchParams(r.body),l=aO(u)}catch{return o()}let c={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(xr(c.formMethod))return{path:n,submission:c};let f=ti(n);return t&&f.search&&RE(f.search)&&u.append("index",""),f.search="?"+u,{path:cs(f),submission:c}}function GU(e,t){let n=e;if(t){let r=e.findIndex(o=>o.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function rO(e,t,n,r,o,i,a,s,u,l,c,f,d,h){let m=h?Object.values(h)[0]:d?Object.values(d)[0]:void 0,p=e.createURL(t.location),b=e.createURL(o),v=h?Object.keys(h)[0]:void 0,w=GU(n,v).filter((S,E)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(YU(t.loaderData,t.matches[E],S)||a.some(O=>O===S.route.id))return!0;let x=t.matches[E],P=S;return oO(S,tt({currentUrl:p,currentParams:x.params,nextUrl:b,nextParams:P.params},r,{actionResult:m,defaultShouldRevalidate:i||p.pathname+p.search===b.pathname+b.search||p.search!==b.search||sD(x,P)}))}),_=[];return u.forEach((S,E)=>{if(!n.some(R=>R.route.id===S.routeId))return;let x=Pu(c,S.path,f);if(!x){_.push({key:E,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let P=t.fetchers.get(E),O=M1(x,S.path),T=!1;l.has(E)?T=!1:s.includes(E)?T=!0:P&&P.state!=="idle"&&P.data===void 0?T=i:T=oO(O,tt({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:i})),T&&_.push({key:E,routeId:S.routeId,path:S.path,matches:x,match:O,controller:new AbortController})}),[w,_]}function YU(e,t,n){let r=!t||n.route.id!==t.route.id,o=e[n.route.id]===void 0;return r||o}function sD(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function oO(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function iO(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let o=n[e.id];we(o,"No route found in manifest");let i={};for(let a in r){let u=o[a]!==void 0&&a!=="hasErrorBoundary";ls(!u,'Route "'+o.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!yU.has(a)&&(i[a]=r[a])}Object.assign(o,i),Object.assign(o,tt({},t(o),{lazy:void 0}))}async function mc(e,t,n,r,o,i,a,s){s===void 0&&(s={});let u,l,c,f=m=>{let p,b=new Promise((v,y)=>p=y);return c=()=>p(),t.signal.addEventListener("abort",c),Promise.race([m({request:t,params:n.params,context:s.requestContext}),b])};try{let m=n.route[e];if(n.route.lazy)if(m){let p,b=await Promise.all([f(m).catch(v=>{p=v}),iO(n.route,i,o)]);if(p)throw p;l=b[0]}else if(await iO(n.route,i,o),m=n.route[e],m)l=await f(m);else if(e==="action"){let p=new URL(t.url),b=p.pathname+p.search;throw or(405,{method:t.method,pathname:b,routeId:n.route.id})}else return{type:ct.data,data:void 0};else if(m)l=await f(m);else{let p=new URL(t.url),b=p.pathname+p.search;throw or(404,{pathname:b})}we(l!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(m){u=ct.error,l=m}finally{c&&t.signal.removeEventListener("abort",c)}if(ZU(l)){let m=l.status;if(VU.has(m)){let v=l.headers.get("Location");if(we(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!iD.test(v))v=R1(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,v);else if(!s.isStaticRequest){let y=new URL(t.url),w=v.startsWith("//")?new URL(y.protocol+v):new URL(v),_=Ki(w.pathname,a)!=null;w.origin===y.origin&&_&&(v=w.pathname+w.search+w.hash)}if(s.isStaticRequest)throw l.headers.set("Location",v),l;return{type:ct.redirect,status:m,location:v,revalidate:l.headers.get("X-Remix-Revalidate")!==null,reloadDocument:l.headers.get("X-Remix-Reload-Document")!==null}}if(s.isRouteRequest)throw{type:u===ct.error?ct.error:ct.data,response:l};let p,b=l.headers.get("Content-Type");return b&&/\bapplication\/json\b/.test(b)?p=await l.json():p=await l.text(),u===ct.error?{type:u,error:new TE(m,l.statusText,p),headers:l.headers}:{type:ct.data,data:p,statusCode:l.status,headers:l.headers}}if(u===ct.error)return{type:u,error:l};if(JU(l)){var d,h;return{type:ct.deferred,deferredData:l,statusCode:(d=l.init)==null?void 0:d.status,headers:((h=l.init)==null?void 0:h.headers)&&new Headers(l.init.headers)}}return{type:ct.data,data:l}}function vc(e,t,n,r){let o=e.createURL(uD(t)).toString(),i={signal:n};if(r&&xr(r.formMethod)){let{formMethod:a,formEncType:s}=r;i.method=a.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(r.json)):s==="text/plain"?i.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?i.body=k1(r.formData):i.body=r.formData}return new Request(o,i)}function k1(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function aO(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function QU(e,t,n,r,o){let i={},a=null,s,u=!1,l={};return n.forEach((c,f)=>{let d=t[f].route.id;if(we(!Bu(c),"Cannot handle redirect results in processLoaderData"),Vc(c)){let h=Cu(e,d),m=c.error;r&&(m=Object.values(r)[0],r=void 0),a=a||{},a[h.route.id]==null&&(a[h.route.id]=m),i[d]=void 0,u||(u=!0,s=rD(c.error)?c.error.status:500),c.headers&&(l[d]=c.headers)}else Ba(c)?(o.set(d,c.deferredData),i[d]=c.deferredData.data):i[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!u&&(s=c.statusCode),c.headers&&(l[d]=c.headers)}),r&&(a=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:a,statusCode:s||200,loaderHeaders:l}}function sO(e,t,n,r,o,i,a,s){let{loaderData:u,errors:l}=QU(t,n,r,o,s);for(let c=0;c<i.length;c++){let{key:f,match:d,controller:h}=i[c];we(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let m=a[c];if(!(h&&h.signal.aborted))if(Vc(m)){let p=Cu(e.matches,d==null?void 0:d.route.id);l&&l[p.route.id]||(l=tt({},l,{[p.route.id]:m.error})),e.fetchers.delete(f)}else if(Bu(m))we(!1,"Unhandled fetcher revalidation redirect");else if(Ba(m))we(!1,"Unhandled fetcher deferred data");else{let p=cu(m.data);e.fetchers.set(f,p)}}return{loaderData:u,errors:l}}function uO(e,t,n,r){let o=tt({},t);for(let i of n){let a=i.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(o[a]=t[a]):e[a]!==void 0&&i.route.loader&&(o[a]=e[a]),r&&r.hasOwnProperty(a))break}return o}function Cu(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function lO(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function or(e,t){let{pathname:n,routeId:r,method:o,type:i}=t===void 0?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(a="Bad Request",o&&n&&r?s="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?s="defer() is not supported in actions":i==="invalid-body"&&(s="Unable to encode submission body")):e===403?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",s='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",o&&n&&r?s="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(s='Invalid request method "'+o.toUpperCase()+'"')),new TE(e||500,a,new Error(s),!0)}function cO(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Bu(n))return{result:n,idx:t}}}function uD(e){let t=typeof e=="string"?ti(e):e;return cs(tt({},t,{hash:""}))}function XU(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Ba(e){return e.type===ct.deferred}function Vc(e){return e.type===ct.error}function Bu(e){return(e&&e.type)===ct.redirect}function JU(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function ZU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function eV(e){return UU.has(e.toLowerCase())}function xr(e){return FU.has(e.toLowerCase())}async function fO(e,t,n,r,o,i){for(let a=0;a<n.length;a++){let s=n[a],u=t[a];if(!u)continue;let l=e.find(f=>f.route.id===u.route.id),c=l!=null&&!sD(l,u)&&(i&&i[u.route.id])!==void 0;if(Ba(s)&&(o||c)){let f=r[a];we(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await lD(s,f,o).then(d=>{d&&(n[a]=d||n[a])})}}}async function lD(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:ct.data,data:e.deferredData.unwrappedData}}catch(o){return{type:ct.error,error:o}}return{type:ct.data,data:e.deferredData.data}}}function RE(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function M1(e,t){let n=typeof t=="string"?ti(t).search:t.search;if(e[e.length-1].route.index&&RE(n||""))return e[e.length-1];let r=Gv(e);return r[r.length-1]}function dO(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:a}=e;if(!(!t||!n||!r)){if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function v0(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tV(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function gc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nV(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function cu(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rV(e,t){try{let n=e.sessionStorage.getItem(aD);if(n){let r=JSON.parse(n);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(o,new Set(i||[]))}}catch{}}function oV(e,t){if(t.size>0){let n={};for(let[r,o]of t)n[r]=[...o];try{e.sessionStorage.setItem(aD,JSON.stringify(n))}catch(r){ls(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},km.apply(this,arguments)}const ud=g.createContext(null),kE=g.createContext(null),Ts=g.createContext(null),Yv=g.createContext(null),da=g.createContext({outlet:null,matches:[],isDataRoute:!1}),cD=g.createContext(null);function iV(e,t){let{relative:n}=t===void 0?{}:t;ld()||we(!1);let{basename:r,navigator:o}=g.useContext(Ts),{hash:i,pathname:a,search:s}=Qv(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:To([r,a])),o.createHref({pathname:u,search:s,hash:i})}function ld(){return g.useContext(Yv)!=null}function ha(){return ld()||we(!1),g.useContext(Yv).location}function fD(e){g.useContext(Ts).static||g.useLayoutEffect(e)}function ln(){let{isDataRoute:e}=g.useContext(da);return e?bV():aV()}function aV(){ld()||we(!1);let e=g.useContext(ud),{basename:t,navigator:n}=g.useContext(Ts),{matches:r}=g.useContext(da),{pathname:o}=ha(),i=JSON.stringify(Gv(r).map(u=>u.pathnameBase)),a=g.useRef(!1);return fD(()=>{a.current=!0}),g.useCallback(function(u,l){if(l===void 0&&(l={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let c=$E(u,JSON.parse(i),o,l.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:To([t,c.pathname])),(l.replace?n.replace:n.push)(c,l.state,l)},[t,n,i,o,e])}const sV=g.createContext(null);function uV(e){let t=g.useContext(da).outlet;return t&&g.createElement(sV.Provider,{value:e},t)}function Qv(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=g.useContext(da),{pathname:o}=ha(),i=JSON.stringify(Gv(r).map(a=>a.pathnameBase));return g.useMemo(()=>$E(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function lV(e,t,n){ld()||we(!1);let{navigator:r}=g.useContext(Ts),{matches:o}=g.useContext(da),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let s=i?i.pathnameBase:"/";i&&i.route;let u=ha(),l;if(t){var c;let p=typeof t=="string"?ti(t):t;s==="/"||(c=p.pathname)!=null&&c.startsWith(s)||we(!1),l=p}else l=u;let f=l.pathname||"/",d=s==="/"?f:f.slice(s.length)||"/",h=Pu(e,{pathname:d}),m=pV(h&&h.map(p=>Object.assign({},p,{params:Object.assign({},a,p.params),pathname:To([s,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?s:To([s,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n);return t&&m?g.createElement(Yv.Provider,{value:{location:km({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:lt.Pop}},m):m}function cV(){let e=yV(),t=rD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:o},n):null,i)}const fV=g.createElement(cV,null);class dV extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?g.createElement(da.Provider,{value:this.props.routeContext},g.createElement(cD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hV(e){let{routeContext:t,match:n,children:r}=e,o=g.useContext(ud);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(da.Provider,{value:t},r)}function pV(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let i=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let s=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id]));s>=0||we(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((s,u,l)=>{let c=u.route.id?a==null?void 0:a[u.route.id]:null,f=null;n&&(f=u.route.errorElement||fV);let d=t.concat(i.slice(0,l+1)),h=()=>{let m;return c?m=f:u.route.Component?m=g.createElement(u.route.Component,null):u.route.element?m=u.route.element:m=s,g.createElement(hV,{match:u,routeContext:{outlet:s,matches:d,isDataRoute:n!=null},children:m})};return n&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?g.createElement(dV,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:h(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):h()},null)}var dD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dD||{}),Mm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mm||{});function mV(e){let t=g.useContext(ud);return t||we(!1),t}function vV(e){let t=g.useContext(kE);return t||we(!1),t}function gV(e){let t=g.useContext(da);return t||we(!1),t}function hD(e){let t=gV(),n=t.matches[t.matches.length-1];return n.route.id||we(!1),n.route.id}function yV(){var e;let t=g.useContext(cD),n=vV(Mm.UseRouteError),r=hD(Mm.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function bV(){let{router:e}=mV(dD.UseNavigateStable),t=hD(Mm.UseNavigateStable),n=g.useRef(!1);return fD(()=>{n.current=!0}),g.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,km({fromRouteId:t},i)))},[e,t])}function ME(e){return uV(e.context)}function wV(e){let{basename:t="/",children:n=null,location:r,navigationType:o=lt.Pop,navigator:i,static:a=!1}=e;ld()&&we(!1);let s=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:s,navigator:i,static:a}),[s,i,a]);typeof r=="string"&&(r=ti(r));let{pathname:l="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,m=g.useMemo(()=>{let p=Ki(l,s);return p==null?null:{location:{pathname:p,search:c,hash:f,state:d,key:h},navigationType:o}},[s,l,c,f,d,h,o]);return m==null?null:g.createElement(Ts.Provider,{value:u},g.createElement(Yv.Provider,{children:n,value:m}))}new Promise(()=>{});function _V(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:g.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:g.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nl.apply(this,arguments)}function pD(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function SV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EV(e,t){return e.button===0&&(!t||t==="_self")&&!SV(e)}function I1(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function xV(e,t){let n=I1(e);return t&&t.forEach((r,o)=>{n.has(o)||t.getAll(o).forEach(i=>{n.append(o,i)})}),n}const PV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],CV=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];function OV(e,t){return HU({basename:t==null?void 0:t.basename,future:nl({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:mU({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||AV(),routes:e,mapRouteProperties:_V,window:t==null?void 0:t.window}).initialize()}function AV(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=nl({},t,{errors:$V(t.errors)})),t}function $V(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,o]of t)if(o&&o.__type==="RouteErrorResponse")n[r]=new TE(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let a=new i(o.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let i=new Error(o.message);i.stack="",n[r]=i}}else n[r]=o;return n}const mD=g.createContext({isTransitioning:!1}),TV="startTransition",hO=LS[TV];function RV(e){hO?hO(e):e()}class kV{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function MV(e){let{fallbackElement:t,router:n,future:r}=e,[o,i]=g.useState(n.state),[a,s]=g.useState(),[u,l]=g.useState({isTransitioning:!1}),[c,f]=g.useState(),[d,h]=g.useState(),[m,p]=g.useState(),{v7_startTransition:b}=r||{},v=g.useCallback(E=>{b?RV(E):E()},[b]),y=g.useCallback((E,x)=>{let{unstable_viewTransitionOpts:P}=x;!P||n.window==null||typeof n.window.document.startViewTransition!="function"?v(()=>i(E)):d&&c?(c.resolve(),d.skipTransition(),p({state:E,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(s(E),l({isTransitioning:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[v,d,c,n.window]);g.useLayoutEffect(()=>n.subscribe(y),[n,y]),g.useEffect(()=>{u.isTransitioning&&f(new kV)},[u.isTransitioning]),g.useEffect(()=>{if(c&&a&&n.window){let E=a,x=c.promise,P=n.window.document.startViewTransition(async()=>{v(()=>i(E)),await x});P.finished.finally(()=>{f(void 0),h(void 0),s(void 0),l({isTransitioning:!1})}),h(P)}},[v,a,c,n.window]),g.useEffect(()=>{c&&a&&o.location.key===a.location.key&&c.resolve()},[c,d,o.location,a]),g.useEffect(()=>{!u.isTransitioning&&m&&(s(m.state),l({isTransitioning:!0,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),p(void 0))},[u.isTransitioning,m]);let w=g.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,x,P)=>n.navigate(E,{state:x,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(E,x,P)=>n.navigate(E,{replace:!0,state:x,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),_=n.basename||"/",S=g.useMemo(()=>({router:n,navigator:w,static:!1,basename:_}),[n,w,_]);return g.createElement(g.Fragment,null,g.createElement(ud.Provider,{value:S},g.createElement(kE.Provider,{value:o},g.createElement(mD.Provider,{value:u},g.createElement(wV,{basename:_,location:o.location,navigationType:o.historyAction,navigator:w},o.initialized?g.createElement(IV,{routes:n.routes,state:o}):t)))),null)}function IV(e){let{routes:t,state:n}=e;return lV(t,void 0,n)}const DV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=g.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:s,target:u,to:l,preventScrollReset:c,unstable_viewTransition:f}=t,d=pD(t,PV),{basename:h}=g.useContext(Ts),m,p=!1;if(typeof l=="string"&&jV.test(l)&&(m=l,DV))try{let w=new URL(window.location.href),_=l.startsWith("//")?new URL(w.protocol+l):new URL(l),S=Ki(_.pathname,h);_.origin===w.origin&&S!=null?l=S+_.search+_.hash:p=!0}catch{}let b=iV(l,{relative:o}),v=FV(l,{replace:a,state:s,target:u,preventScrollReset:c,relative:o,unstable_viewTransition:f});function y(w){r&&r(w),w.defaultPrevented||v(w)}return g.createElement("a",nl({},d,{href:m||b,onClick:p||i?r:y,ref:n,target:u}))}),NV=g.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:a=!1,style:s,to:u,unstable_viewTransition:l,children:c}=t,f=pD(t,CV),d=Qv(u,{relative:f.relative}),h=ha(),m=g.useContext(kE),{navigator:p}=g.useContext(Ts),b=m!=null&&BV(d)&&l===!0,v=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,y=h.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(y=y.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase());let _=y===v||!a&&y.startsWith(v)&&y.charAt(v.length)==="/",S=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),E={isActive:_,isPending:S,isTransitioning:b},x=_?r:void 0,P;typeof i=="function"?P=i(E):P=[i,_?"active":null,S?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let O=typeof s=="function"?s(E):s;return g.createElement(Ye,nl({},f,{"aria-current":x,className:P,ref:n,style:O,to:u,unstable_viewTransition:l}),typeof c=="function"?c(E):c)});var D1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(D1||(D1={}));var pO;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pO||(pO={}));function LV(e){let t=g.useContext(ud);return t||we(!1),t}function FV(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,unstable_viewTransition:s}=t===void 0?{}:t,u=ln(),l=ha(),c=Qv(e,{relative:a});return g.useCallback(f=>{if(EV(f,n)){f.preventDefault();let d=r!==void 0?r:cs(l)===cs(c);u(e,{replace:d,state:o,preventScrollReset:i,relative:a,unstable_viewTransition:s})}},[l,u,c,r,o,n,e,i,a,s])}function IE(e){let t=g.useRef(I1(e)),n=g.useRef(!1),r=ha(),o=g.useMemo(()=>xV(r.search,n.current?null:t.current),[r.search]),i=ln(),a=g.useCallback((s,u)=>{const l=I1(typeof s=="function"?s(o):s);n.current=!0,i("?"+l,u)},[i,o]);return[o,a]}function BV(e,t){t===void 0&&(t={});let n=g.useContext(mD);n==null&&we(!1);let{basename:r}=LV(D1.useViewTransitionState),o=Qv(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Ki(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ki(n.nextLocation.pathname,r)||n.nextLocation.pathname;return T1(o.pathname,a)!=null||T1(o.pathname,i)!=null}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function Pt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function UV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function vD(...e){return t=>e.forEach(n=>UV(n,t))}function Rn(...e){return g.useCallback(vD(...e),e)}function $l(e,t=[]){let n=[];function r(i,a){const s=g.createContext(a),u=n.length;n=[...n,a];function l(f){const{scope:d,children:h,...m}=f,p=(d==null?void 0:d[e][u])||s,b=g.useMemo(()=>m,Object.values(m));return g.createElement(p.Provider,{value:b},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||s,m=g.useContext(h);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return l.displayName=i+"Provider",[l,c]}const o=()=>{const i=n.map(a=>g.createContext(a));return function(s){const u=(s==null?void 0:s[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...s,[e]:u}}),[s,u])}};return o.scopeName=e,[r,VV(o,...t)]}function VV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=r.reduce((s,{useScope:u,scopeName:l})=>{const f=u(i)[`__scope${l}`];return{...s,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}const rl=g.forwardRef((e,t)=>{const{children:n,...r}=e,o=g.Children.toArray(n),i=o.find(zV);if(i){const a=i.props.children,s=o.map(u=>u===i?g.Children.count(a)>1?g.Children.only(null):g.isValidElement(a)?a.props.children:null:u);return g.createElement(j1,Ne({},r,{ref:t}),g.isValidElement(a)?g.cloneElement(a,void 0,s):null)}return g.createElement(j1,Ne({},r,{ref:t}),n)});rl.displayName="Slot";const j1=g.forwardRef((e,t)=>{const{children:n,...r}=e;return g.isValidElement(n)?g.cloneElement(n,{...KV(r,n.props),ref:t?vD(t,n.ref):n.ref}):g.Children.count(n)>1?g.Children.only(null):null});j1.displayName="SlotClone";const WV=({children:e})=>g.createElement(g.Fragment,null,e);function zV(e){return g.isValidElement(e)&&e.type===WV}function KV(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...s)=>{i(...s),o(...s)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function HV(e){const t=e+"CollectionProvider",[n,r]=$l(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:m,children:p}=h,b=He.useRef(null),v=He.useRef(new Map).current;return He.createElement(o,{scope:m,itemMap:v,collectionRef:b},p)},s=e+"CollectionSlot",u=He.forwardRef((h,m)=>{const{scope:p,children:b}=h,v=i(s,p),y=Rn(m,v.collectionRef);return He.createElement(rl,{ref:y},b)}),l=e+"CollectionItemSlot",c="data-radix-collection-item",f=He.forwardRef((h,m)=>{const{scope:p,children:b,...v}=h,y=He.useRef(null),w=Rn(m,y),_=i(l,p);return He.useEffect(()=>(_.itemMap.set(y,{ref:y,...v}),()=>void _.itemMap.delete(y))),He.createElement(rl,{[c]:"",ref:w},b)});function d(h){const m=i(e+"CollectionConsumer",h);return He.useCallback(()=>{const b=m.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${c}]`));return Array.from(m.itemMap.values()).sort((_,S)=>v.indexOf(_.ref.current)-v.indexOf(S.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:u,ItemSlot:f},d,r]}function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(this,arguments)}const qV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bt=qV.reduce((e,t)=>{const n=g.forwardRef((r,o)=>{const{asChild:i,...a}=r,s=i?rl:t;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(s,Ht({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gD(e,t){e&&Cn.flushSync(()=>e.dispatchEvent(t))}function hr(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function GV(e,t=globalThis==null?void 0:globalThis.document){const n=hr(e);g.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const N1="dismissableLayer.update",YV="dismissableLayer.pointerDownOutside",QV="dismissableLayer.focusOutside";let mO;const yD=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bD=g.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:u,...l}=e,c=g.useContext(yD),[f,d]=g.useState(null),h=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,m]=g.useState({}),p=Rn(t,P=>d(P)),b=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(v),w=f?b.indexOf(f):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,E=JV(P=>{const O=P.target,T=[...c.branches].some(R=>R.contains(O));!S||T||(i==null||i(P),s==null||s(P),P.defaultPrevented||u==null||u())},h),x=ZV(P=>{const O=P.target;[...c.branches].some(R=>R.contains(O))||(a==null||a(P),s==null||s(P),P.defaultPrevented||u==null||u())},h);return GV(P=>{w===c.layers.size-1&&(o==null||o(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},h),g.useEffect(()=>{if(f)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),vO(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=mO)}},[f,h,r,c]),g.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),vO())},[f,c]),g.useEffect(()=>{const P=()=>m({});return document.addEventListener(N1,P),()=>document.removeEventListener(N1,P)},[]),g.createElement(bt.div,Ht({},l,{ref:p,style:{pointerEvents:_?S?"auto":"none":void 0,...e.style},onFocusCapture:Pt(e.onFocusCapture,x.onFocusCapture),onBlurCapture:Pt(e.onBlurCapture,x.onBlurCapture),onPointerDownCapture:Pt(e.onPointerDownCapture,E.onPointerDownCapture)}))}),XV=g.forwardRef((e,t)=>{const n=g.useContext(yD),r=g.useRef(null),o=Rn(t,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.createElement(bt.div,Ht({},e,{ref:o}))});function JV(e,t=globalThis==null?void 0:globalThis.document){const n=hr(e),r=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const i=s=>{if(s.target&&!r.current){let c=function(){wD(YV,n,l,{discrete:!0})};var u=c;const l={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ZV(e,t=globalThis==null?void 0:globalThis.document){const n=hr(e),r=g.useRef(!1);return g.useEffect(()=>{const o=i=>{i.target&&!r.current&&wD(QV,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vO(){const e=new CustomEvent(N1);document.dispatchEvent(e)}function wD(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?gD(o,i):o.dispatchEvent(i)}const eW=bD,tW=XV,_D=g.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?eD.createPortal(g.createElement(bt.div,Ht({},o,{ref:t})),r):null}),Hi=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{};function nW(e,t){return g.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const cd=e=>{const{present:t,children:n}=e,r=rW(t),o=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Rn(r.ref,o.ref);return typeof n=="function"||r.isPresent?g.cloneElement(o,{ref:i}):null};cd.displayName="Presence";function rW(e){const[t,n]=g.useState(),r=g.useRef({}),o=g.useRef(e),i=g.useRef("none"),a=e?"mounted":"unmounted",[s,u]=nW(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const l=Qh(r.current);i.current=s==="mounted"?l:"none"},[s]),Hi(()=>{const l=r.current,c=o.current;if(c!==e){const d=i.current,h=Qh(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),Hi(()=>{if(t){const l=f=>{const h=Qh(r.current).includes(f.animationName);f.target===t&&h&&Cn.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(i.current=Qh(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:g.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Qh(e){return(e==null?void 0:e.animationName)||"none"}function Xv({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=oW({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,s=hr(n),u=g.useCallback(l=>{if(i){const f=typeof l=="function"?l(e):l;f!==e&&s(f)}else o(l)},[i,e,o,s]);return[a,u]}function oW({defaultProp:e,onChange:t}){const n=g.useState(e),[r]=n,o=g.useRef(r),i=hr(t);return g.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}const SD=g.forwardRef((e,t)=>g.createElement(bt.span,Ht({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),ED="ToastProvider",[DE,iW,aW]=HV("Toast"),[xD,xEe]=$l("Toast",[aW]),[sW,Jv]=xD(ED),PD=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:a}=e,[s,u]=g.useState(null),[l,c]=g.useState(0),f=g.useRef(!1),d=g.useRef(!1);return g.createElement(DE.Provider,{scope:t},g.createElement(sW,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:i,toastCount:l,viewport:s,onViewportChange:u,onToastAdd:g.useCallback(()=>c(h=>h+1),[]),onToastRemove:g.useCallback(()=>c(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d},a))};PD.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${ED}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const uW="ToastViewport",lW=["F8"],L1="toast.viewportPause",F1="toast.viewportResume",cW=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=lW,label:o="Notifications ({hotkey})",...i}=e,a=Jv(uW,n),s=iW(n),u=g.useRef(null),l=g.useRef(null),c=g.useRef(null),f=g.useRef(null),d=Rn(t,f,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=a.toastCount>0;g.useEffect(()=>{const b=v=>{var y;r.every(_=>v[_]||v.code===_)&&((y=f.current)===null||y===void 0||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),g.useEffect(()=>{const b=u.current,v=f.current;if(m&&b&&v){const y=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(L1);v.dispatchEvent(E),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(F1);v.dispatchEvent(E),a.isClosePausedRef.current=!1}},_=E=>{!b.contains(E.relatedTarget)&&w()},S=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",_),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[m,a.isClosePausedRef]);const p=g.useCallback(({tabbingDirection:b})=>{const y=s().map(w=>{const _=w.ref.current,S=[_,...CW(_)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?y.reverse():y).flat()},[s]);return g.useEffect(()=>{const b=f.current;if(b){const v=y=>{const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const P=document.activeElement,O=y.shiftKey;if(y.target===b&&O){var S;(S=l.current)===null||S===void 0||S.focus();return}const M=p({tabbingDirection:O?"backwards":"forwards"}),U=M.findIndex($=>$===P);if(g0(M.slice(U+1)))y.preventDefault();else{var E,x;O?(E=l.current)===null||E===void 0||E.focus():(x=c.current)===null||x===void 0||x.focus()}}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[s,p]),g.createElement(tW,{ref:u,role:"region","aria-label":o.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"}},m&&g.createElement(gO,{ref:l,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"forwards"});g0(b)}}),g.createElement(DE.Slot,{scope:n},g.createElement(bt.ol,Ne({tabIndex:-1},i,{ref:d}))),m&&g.createElement(gO,{ref:c,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"backwards"});g0(b)}}))}),fW="ToastFocusProxy",gO=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,i=Jv(fW,n);return g.createElement(SD,Ne({"aria-hidden":!0,tabIndex:0},o,{ref:t,style:{position:"fixed"},onFocus:a=>{var s;const u=a.relatedTarget;!((s=i.viewport)!==null&&s!==void 0&&s.contains(u))&&r()}}))}),Zv="Toast",dW="toast.swipeStart",hW="toast.swipeMove",pW="toast.swipeCancel",mW="toast.swipeEnd",vW=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:i,...a}=e,[s=!0,u]=Xv({prop:r,defaultProp:o,onChange:i});return g.createElement(cd,{present:n||s},g.createElement(CD,Ne({open:s},a,{ref:t,onClose:()=>u(!1),onPause:hr(e.onPause),onResume:hr(e.onResume),onSwipeStart:Pt(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pt(e.onSwipeMove,l=>{const{x:c,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Pt(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pt(e.onSwipeEnd,l=>{const{x:c,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})))}),[gW,yW]=xD(Zv,{onClose(){}}),CD=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:i,onClose:a,onEscapeKeyDown:s,onPause:u,onResume:l,onSwipeStart:c,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...m}=e,p=Jv(Zv,n),[b,v]=g.useState(null),y=Rn(t,$=>v($)),w=g.useRef(null),_=g.useRef(null),S=o||p.duration,E=g.useRef(0),x=g.useRef(S),P=g.useRef(0),{onToastAdd:O,onToastRemove:T}=p,R=hr(()=>{var $;(b==null?void 0:b.contains(document.activeElement))&&(($=p.viewport)===null||$===void 0||$.focus()),a()}),M=g.useCallback($=>{!$||$===1/0||(window.clearTimeout(P.current),E.current=new Date().getTime(),P.current=window.setTimeout(R,$))},[R]);g.useEffect(()=>{const $=p.viewport;if($){const L=()=>{M(x.current),l==null||l()},N=()=>{const V=new Date().getTime()-E.current;x.current=x.current-V,window.clearTimeout(P.current),u==null||u()};return $.addEventListener(L1,N),$.addEventListener(F1,L),()=>{$.removeEventListener(L1,N),$.removeEventListener(F1,L)}}},[p.viewport,S,u,l,M]),g.useEffect(()=>{i&&!p.isClosePausedRef.current&&M(S)},[i,S,p.isClosePausedRef,M]),g.useEffect(()=>(O(),()=>T()),[O,T]);const U=g.useMemo(()=>b?TD(b):null,[b]);return p.viewport?g.createElement(g.Fragment,null,U&&g.createElement(bW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},U),g.createElement(gW,{scope:n,onClose:R},Cn.createPortal(g.createElement(DE.ItemSlot,{scope:n},g.createElement(eW,{asChild:!0,onEscapeKeyDown:Pt(s,()=>{p.isFocusedToastEscapeKeyDownRef.current||R(),p.isFocusedToastEscapeKeyDownRef.current=!1})},g.createElement(bt.li,Ne({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection},m,{ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pt(e.onKeyDown,$=>{$.key==="Escape"&&(s==null||s($.nativeEvent),$.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Pt(e.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:Pt(e.onPointerMove,$=>{if(!w.current)return;const L=$.clientX-w.current.x,N=$.clientY-w.current.y,V=!!_.current,I=["left","right"].includes(p.swipeDirection),A=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,D=I?A(0,L):0,F=I?0:A(0,N),W=$.pointerType==="touch"?10:2,H={x:D,y:F},se={originalEvent:$,delta:H};V?(_.current=H,Xh(hW,f,se,{discrete:!1})):yO(H,p.swipeDirection,W)?(_.current=H,Xh(dW,c,se,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(L)>W||Math.abs(N)>W)&&(w.current=null)}),onPointerUp:Pt(e.onPointerUp,$=>{const L=_.current,N=$.target;if(N.hasPointerCapture($.pointerId)&&N.releasePointerCapture($.pointerId),_.current=null,w.current=null,L){const V=$.currentTarget,I={originalEvent:$,delta:L};yO(L,p.swipeDirection,p.swipeThreshold)?Xh(mW,h,I,{discrete:!0}):Xh(pW,d,I,{discrete:!0}),V.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})))),p.viewport))):null});CD.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${Zv}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const bW=e=>{const{__scopeToast:t,children:n,...r}=e,o=Jv(Zv,t),[i,a]=g.useState(!1),[s,u]=g.useState(!1);return xW(()=>a(!0)),g.useEffect(()=>{const l=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(l)},[]),s?null:g.createElement(_D,{asChild:!0},g.createElement(SD,r,i&&g.createElement(g.Fragment,null,o.label," ",n)))},wW=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return g.createElement(bt.div,Ne({},r,{ref:t}))}),_W=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return g.createElement(bt.div,Ne({},r,{ref:t}))}),SW="ToastAction",OD=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n?g.createElement($D,{altText:n,asChild:!0},g.createElement(AD,Ne({},r,{ref:t}))):null});OD.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${SW}\``)}};const EW="ToastClose",AD=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=yW(EW,n);return g.createElement($D,{asChild:!0},g.createElement(bt.button,Ne({type:"button"},r,{ref:t,onClick:Pt(e.onClick,o.onClose)})))}),$D=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return g.createElement(bt.div,Ne({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},o,{ref:t}))});function TD(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),PW(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...TD(r))}}),t}function Xh(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?gD(o,i):o.dispatchEvent(i)}const yO=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),i=r>o;return t==="left"||t==="right"?i&&r>n:!i&&o>n};function xW(e=()=>{}){const t=hr(e);Hi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function PW(e){return e.nodeType===e.ELEMENT_NODE}function CW(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function g0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const OW=PD,RD=cW,kD=vW,MD=wW,ID=_W,DD=OD,jD=AD;function ND(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ND(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function jt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ND(e))&&(r&&(r+=" "),r+=t);return r}const bO=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,wO=jt,jE=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return wO(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,a=Object.keys(o).map(l=>{const c=n==null?void 0:n[l],f=i==null?void 0:i[l];if(c===null)return null;const d=bO(c)||bO(f);return o[l][d]}),s=n&&Object.entries(n).reduce((l,c)=>{let[f,d]=c;return d===void 0||(l[f]=d),l},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((l,c)=>{let{class:f,className:d,...h}=c;return Object.entries(h).every(m=>{let[p,b]=m;return Array.isArray(b)?b.includes({...i,...s}[p]):{...i,...s}[p]===b})?[...l,f,d]:l},[]);return wO(e,a,u,n==null?void 0:n.class,n==null?void 0:n.className)};var AW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $W=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fd=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:s,...u},l)=>g.createElement("svg",{ref:l,...AW,width:o,height:o,stroke:r,strokeWidth:a?Number(i)*24/Number(o):i,className:`lucide lucide-${$W(e)}`,...u},[...t.map(([c,f])=>g.createElement(c,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},TW=fd("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),RW=fd("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),kW=fd("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),MW=fd("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),IW=fd("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function DW(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=LD(t))&&(r&&(r+=" "),r+=n);return r}function LD(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=LD(e[r]))&&(n&&(n+=" "),n+=t);return n}var NE="-";function jW(e){var t=LW(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,o=r===void 0?{}:r;function i(s){var u=s.split(NE);return u[0]===""&&u.length!==1&&u.shift(),FD(u,t)||NW(s)}function a(s,u){var l=n[s]||[];return u&&o[s]?[].concat(l,o[s]):l}return{getClassGroupId:i,getConflictingClassGroupIds:a}}function FD(e,t){var a;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),o=r?FD(e.slice(1),r):void 0;if(o)return o;if(t.validators.length!==0){var i=e.join(NE);return(a=t.validators.find(function(s){var u=s.validator;return u(i)}))==null?void 0:a.classGroupId}}var _O=/^\[(.+)\]$/;function NW(e){if(_O.test(e)){var t=_O.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function LW(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},o=BW(Object.entries(e.classGroups),n);return o.forEach(function(i){var a=i[0],s=i[1];B1(s,r,a,t)}),r}function B1(e,t,n,r){e.forEach(function(o){if(typeof o=="string"){var i=o===""?t:SO(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(FW(o)){B1(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(function(a){var s=a[0],u=a[1];B1(u,SO(t,s),n,r)})})}function SO(e,t){var n=e;return t.split(NE).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function FW(e){return e.isThemeGetter}function BW(e,t){return t?e.map(function(n){var r=n[0],o=n[1],i=o.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(s){var u=s[0],l=s[1];return[t+u,l]})):a});return[r,i]}):e}function UW(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function o(i,a){n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(a){var s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return o(a,s),s},set:function(a,s){n.has(a)?n.set(a,s):o(a,s)}}}var BD="!";function VW(e){var t=e.separator||":",n=t.length===1,r=t[0],o=t.length;return function(a){for(var s=[],u=0,l=0,c,f=0;f<a.length;f++){var d=a[f];if(u===0){if(d===r&&(n||a.slice(f,f+o)===t)){s.push(a.slice(l,f)),l=f+o;continue}if(d==="/"){c=f;continue}}d==="["?u++:d==="]"&&u--}var h=s.length===0?a:a.substring(l),m=h.startsWith(BD),p=m?h.substring(1):h,b=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:b}}}function WW(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var o=r[0]==="[";o?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function zW(e){return{cache:UW(e.cacheSize),splitModifiers:VW(e),...jW(e)}}var KW=/\s+/;function HW(e,t){var n=t.splitModifiers,r=t.getClassGroupId,o=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(KW).map(function(a){var s=n(a),u=s.modifiers,l=s.hasImportantModifier,c=s.baseClassName,f=s.maybePostfixModifierPosition,d=r(f?c.substring(0,f):c),h=!!f;if(!d){if(!f)return{isTailwindClass:!1,originalClassName:a};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:a};h=!1}var m=WW(u).join(":"),p=l?m+BD:m;return{isTailwindClass:!0,modifierId:p,classGroupId:d,originalClassName:a,hasPostfixModifier:h}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var s=a.modifierId,u=a.classGroupId,l=a.hasPostfixModifier,c=s+u;return i.has(c)?!1:(i.add(c),o(u,l).forEach(function(f){return i.add(s+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function qW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o,i,a=s;function s(l){var c=t[0],f=t.slice(1),d=f.reduce(function(h,m){return m(h)},c());return r=zW(d),o=r.cache.get,i=r.cache.set,a=u,u(l)}function u(l){var c=o(l);if(c)return c;var f=HW(l,r);return i(l,f),f}return function(){return a(DW.apply(null,arguments))}}function ze(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var UD=/^\[(?:([a-z-]+):)?(.+)\]$/i,GW=/^\d+\/\d+$/,YW=new Set(["px","full","screen"]),QW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JW=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function wr(e){return Ua(e)||YW.has(e)||GW.test(e)||U1(e)}function U1(e){return Rs(e,"length",o7)}function ZW(e){return Rs(e,"size",VD)}function e7(e){return Rs(e,"position",VD)}function t7(e){return Rs(e,"url",i7)}function Jh(e){return Rs(e,"number",Ua)}function Ua(e){return!Number.isNaN(Number(e))}function n7(e){return e.endsWith("%")&&Ua(e.slice(0,-1))}function yc(e){return EO(e)||Rs(e,"number",EO)}function xe(e){return UD.test(e)}function bc(){return!0}function ci(e){return QW.test(e)}function r7(e){return Rs(e,"",a7)}function Rs(e,t,n){var r=UD.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function o7(e){return XW.test(e)}function VD(){return!1}function i7(e){return e.startsWith("url(")}function EO(e){return Number.isInteger(Number(e))}function a7(e){return JW.test(e)}function s7(){var e=ze("colors"),t=ze("spacing"),n=ze("blur"),r=ze("brightness"),o=ze("borderColor"),i=ze("borderRadius"),a=ze("borderSpacing"),s=ze("borderWidth"),u=ze("contrast"),l=ze("grayscale"),c=ze("hueRotate"),f=ze("invert"),d=ze("gap"),h=ze("gradientColorStops"),m=ze("gradientColorStopPositions"),p=ze("inset"),b=ze("margin"),v=ze("opacity"),y=ze("padding"),w=ze("saturate"),_=ze("scale"),S=ze("sepia"),E=ze("skew"),x=ze("space"),P=ze("translate"),O=function(){return["auto","contain","none"]},T=function(){return["auto","hidden","clip","visible","scroll"]},R=function(){return["auto",xe,t]},M=function(){return[xe,t]},U=function(){return["",wr]},$=function(){return["auto",Ua,xe]},L=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},N=function(){return["solid","dashed","dotted","double","none"]},V=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},I=function(){return["start","end","center","between","around","evenly","stretch"]},A=function(){return["","0",xe]},D=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},F=function(){return[Ua,Jh]},W=function(){return[Ua,xe]};return{cacheSize:500,theme:{colors:[bc],spacing:[wr],blur:["none","",ci,xe],brightness:F(),borderColor:[e],borderRadius:["none","","full",ci,xe],borderSpacing:M(),borderWidth:U(),contrast:F(),grayscale:A(),hueRotate:W(),invert:A(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[n7,U1],inset:R(),margin:R(),opacity:F(),padding:M(),saturate:F(),scale:F(),sepia:A(),skew:W(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[ci]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(L(),[xe])}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yc]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",yc]}],"grid-cols":[{"grid-cols":[bc]}],"col-start-end":[{col:["auto",{span:["full",yc]},xe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[bc]}],"row-start-end":[{row:["auto",{span:[yc]},xe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal"].concat(I())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(I(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(I(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",xe,t]}],"min-w":[{"min-w":["min","max","fit",xe,wr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ci]},ci,xe]}],h:[{h:[xe,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",xe,wr]}],"max-h":[{"max-h":[xe,t,"min","max","fit"]}],"font-size":[{text:["base",ci,U1]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jh]}],"font-family":[{font:[bc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",Ua,Jh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xe,wr]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(N(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",wr]}],"underline-offset":[{"underline-offset":["auto",xe,wr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(L(),[e7])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},t7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(N(),["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:N()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(N())}],"outline-offset":[{"outline-offset":[xe,wr]}],"outline-w":[{outline:[wr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[wr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ci,r7]}],"shadow-color":[{shadow:[bc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":V()}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ci,xe]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[yc,xe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wr,Jh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var u7=qW(s7);function Oe(...e){return u7(jt(e))}const l7=OW,WD=g.forwardRef(({className:e,...t},n)=>C.jsx(RD,{ref:n,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));WD.displayName=RD.displayName;const c7=jE("data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none",{variants:{variant:{default:"bg-background text-foreground border",destructive:"destructive border-destructive bg-destructive text-destructive-foreground group"}},defaultVariants:{variant:"default"}}),zD=g.forwardRef(({className:e,variant:t,...n},r)=>C.jsx(kD,{ref:r,className:Oe(c7({variant:t}),e),...n}));zD.displayName=kD.displayName;const f7=g.forwardRef(({className:e,...t},n)=>C.jsx(DD,{ref:n,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));f7.displayName=DD.displayName;const KD=g.forwardRef(({className:e,...t},n)=>C.jsx(jD,{ref:n,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:C.jsx(IW,{className:"h-4 w-4"})}));KD.displayName=jD.displayName;const HD=g.forwardRef(({className:e,...t},n)=>C.jsx(MD,{ref:n,className:Oe("text-sm font-semibold",e),...t}));HD.displayName=MD.displayName;const qD=g.forwardRef(({className:e,...t},n)=>C.jsx(ID,{ref:n,className:Oe("text-sm opacity-90",e),...t}));qD.displayName=ID.displayName;const d7=1,h7=1e6;let y0=0;function p7(){return y0=(y0+1)%Number.MAX_SAFE_INTEGER,y0.toString()}const b0=new Map,xO=e=>{if(b0.has(e))return;const t=setTimeout(()=>{b0.delete(e),Wc({type:"REMOVE_TOAST",toastId:e})},h7);b0.set(e,t)},m7=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,d7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?xO(n):e.toasts.forEach(r=>{xO(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Lp=[];let Fp={toasts:[]};function Wc(e){Fp=m7(Fp,e),Lp.forEach(t=>{t(Fp)})}function v7({...e}){const t=p7(),n=o=>Wc({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Wc({type:"DISMISS_TOAST",toastId:t});return Wc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Fr(){const[e,t]=g.useState(Fp);return g.useEffect(()=>(Lp.push(t),()=>{const n=Lp.indexOf(t);n>-1&&Lp.splice(n,1)}),[e]),{...e,toast:v7,dismiss:n=>Wc({type:"DISMISS_TOAST",toastId:n})}}function g7(){const{toasts:e}=Fr();return C.jsxs(l7,{children:[e.map(function({id:t,title:n,description:r,action:o,...i}){return C.jsxs(zD,{...i,children:[C.jsxs("div",{className:"grid gap-1",children:[n&&C.jsx(HD,{children:n}),r&&C.jsx(qD,{children:r})]}),o,C.jsx(KD,{})]},t)}),C.jsx(WD,{})]})}const GD=g.createContext(void 0),y7=()=>g.useContext(GD),b7=({children:e})=>{const[t,n]=g.useState(null);return g.useEffect(()=>{window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),n(r)})},[]),C.jsx(GD.Provider,{value:{beforeInstallPromptEvent:t,reset:()=>n(null)},children:e})};var Mr={},ol={};Object.defineProperty(ol,"__esModule",{value:!0});var w7=g,_7=(0,w7.createContext)(null);ol.default=_7;var Im={},S7=k&&k.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),E7=k&&k.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),x7=k&&k.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&S7(t,e,n);return E7(t,e),t},P7=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Im,"__esModule",{value:!0});var PO=x7(g),C7=P7(ol),O7=function(e){var t=e.db,n=e.children,r=(0,PO.useMemo)(function(){return{db:t}},[t]);return PO.default.createElement(C7.default.Provider,{value:r},n)};Im.default=O7;var $f={},Tf={},A7=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tf,"__esModule",{value:!0});var $7=g,T7=A7(ol);function R7(){var e=(0,$7.useContext)(T7.default).db;return e}Tf.default=R7;var k7=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($f,"__esModule",{value:!0});var CO=g,M7=k7(Tf);function I7(e){var t=(0,CO.useState)(null),n=t[0],r=t[1],o=(0,M7.default)();return(0,CO.useEffect)(function(){if(o){var i=o[e];if(i&&r(i),o.newCollections$){var a=o.newCollections$.subscribe(function(s){s[e]&&r(s[e])});return function(){a.unsubscribe()}}}},[o,e]),n}$f.default=I7;var Dm={},Rf={},YD={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isRxQuery=e.isObject=e.getCancelablePromise=void 0;var t=function(o){var i=!1,a=new Promise(function(s,u){o.then(function(l){i||s(l)},function(l){i||u(l)})});return[a,function(){i=!0}]};e.getCancelablePromise=t;var n=function(o){return typeof o=="object"&&o!==null};e.isObject=n;var r=function(o){return(0,e.isObject)(o)&&"skip"in o&&"limit"in o&&"$"in o&&(0,e.isObject)(o.$)&&"subscribe"in o.$&&typeof o.$.subscribe=="function"};e.isRxQuery=r})(YD);var En=k&&k.__assign||function(){return En=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},En.apply(this,arguments)};Object.defineProperty(Rf,"__esModule",{value:!0});var Ca=g,OO=YD,Pn;(function(e){e[e.Reset=0]="Reset",e[e.FetchMore=1]="FetchMore",e[e.FetchPage=2]="FetchPage",e[e.FetchSuccess=3]="FetchSuccess",e[e.CountPages=4]="CountPages",e[e.QueryChanged=5]="QueryChanged"})(Pn||(Pn={}));var D7=function(e,t){switch(t.type){case Pn.Reset:return En(En({},e),{result:[],isFetching:!0,page:1});case Pn.FetchMore:return En(En({},e),{isFetching:!0,page:e.page+1});case Pn.FetchPage:return En(En({},e),{isFetching:!0,page:t.page});case Pn.CountPages:return En(En({},e),{pageCount:t.pageCount});case Pn.FetchSuccess:return En(En({},e),{result:t.docs,isFetching:!1,isExhausted:t.pageSize?t.pagination==="Infinite"?t.docs.length<e.page*t.pageSize:!1:!0});case Pn.QueryChanged:return En(En({},e),{isFetching:!0});default:return e}},j7=function(e,t){if(!e)return[];if(e instanceof Map)return Array.from(e,function(r){var o=r[1];return t?o.toJSON():o});var n=Array.isArray(e)?e:[e];return t?n.map(function(r){return r.toJSON()}):n},N7=function(e){var t=Array.isArray(e)?e:[e];return t.length};function L7(e,t){t===void 0&&(t={});var n=t.pageSize,r=t.pagination,o=r===void 0?"Infinite":r,i=t.json,a={result:[],page:n?1:void 0,isFetching:!0,isExhausted:!1,pageCount:0},s=(0,Ca.useReducer)(D7,a),u=s[0],l=s[1],c=(0,Ca.useCallback)(function(m){!n||o!=="Traditional"||m<1||m>u.pageCount||l({type:Pn.FetchPage,page:m})},[n,o,u.pageCount]),f=(0,Ca.useCallback)(function(){!n||o!=="Infinite"||u.isFetching||u.isExhausted||l({type:Pn.FetchMore})},[n,o,u.isFetching,u.isExhausted]),d=(0,Ca.useCallback)(function(){n&&u.page!==1&&l({type:Pn.Reset})},[n,u.page]),h=(0,Ca.useCallback)(function(m){var p=m;n&&o==="Traditional"&&(p=p.skip((u.page-1)*n).limit(n)),n&&o==="Infinite"&&(p=p.limit(u.page*n)),l({type:Pn.QueryChanged});var b=p.$.subscribe(function(v){var y=j7(v,i);l({type:Pn.FetchSuccess,docs:y,pagination:o,pageSize:n})});return function(){b.unsubscribe()}},[i,n,o,u.page]);return(0,Ca.useEffect)(function(){if(e&&(0,OO.isRxQuery)(e))return h(e)},[e,h]),(0,Ca.useEffect)(function(){if(!(!e||!n||o!=="Traditional"||"then"in e)&&(0,OO.isRxQuery)(e)){var m=e.$.subscribe(function(p){var b=N7(p);l({type:Pn.CountPages,pageCount:Math.ceil(b/n)})});return function(){m.unsubscribe()}}},[e,n,o]),{result:u.result,isFetching:u.isFetching,isExhausted:u.isExhausted,pageCount:u.pageCount,currentPage:u.page,fetchPage:c,fetchMore:f,resetList:d}}Rf.default=L7;var Ou=k&&k.__assign||function(){return Ou=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ou.apply(this,arguments)},QD=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dm,"__esModule",{value:!0});var F7=g,B7=QD($f),AO=QD(Rf);function U7(e,t,n){n===void 0&&(n={});var r=(0,B7.default)(e),o=(0,F7.useMemo)(function(){return!r||typeof t!="function"?null:t(r)},[r,t]);return n.json?(0,AO.default)(o,Ou(Ou({},n),{json:!0})):(0,AO.default)(o,Ou(Ou({},n),{json:!1}))}Dm.default=U7;var eg={},XD={},Re={},Tl={},$e={};Object.defineProperty($e,"__esModule",{value:!0});$e.isFunction=void 0;function V7(e){return typeof e=="function"}$e.isFunction=V7;var At={},dd={},uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.createErrorClass=void 0;function W7(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}uo.createErrorClass=W7;Object.defineProperty(dd,"__esModule",{value:!0});dd.UnsubscriptionError=void 0;var z7=uo;dd.UnsubscriptionError=z7.createErrorClass(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});var Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.arrRemove=void 0;function K7(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}Br.arrRemove=K7;var $O=k&&k.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TO=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},RO=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(At,"__esModule",{value:!0});At.isSubscription=At.EMPTY_SUBSCRIPTION=At.Subscription=void 0;var zc=$e,w0=dd,kO=Br,LE=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=$O(a),u=s.next();!u.done;u=s.next()){var l=u.value;l.remove(this)}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(zc.isFunction(c))try{c()}catch(p){i=p instanceof w0.UnsubscriptionError?p.errors:[p]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=$O(f),h=d.next();!h.done;h=d.next()){var m=h.value;try{MO(m)}catch(p){i=i??[],p instanceof w0.UnsubscriptionError?i=RO(RO([],TO(i)),TO(p.errors)):i.push(p)}}}catch(p){r={error:p}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}if(i)throw new w0.UnsubscriptionError(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)MO(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&kO.arrRemove(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&kO.arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();At.Subscription=LE;At.EMPTY_SUBSCRIPTION=LE.EMPTY;function H7(e){return e instanceof LE||e&&"closed"in e&&zc.isFunction(e.remove)&&zc.isFunction(e.add)&&zc.isFunction(e.unsubscribe)}At.isSubscription=H7;function MO(e){zc.isFunction(e)?e():e.unsubscribe()}var pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.config=void 0;pa.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hd={},FE={};(function(e){var t=k&&k.__read||function(r,o){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),s,u=[],l;try{for(;(o===void 0||o-- >0)&&!(s=a.next()).done;)u.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(l)throw l.error}}return u},n=k&&k.__spreadArray||function(r,o){for(var i=0,a=o.length,s=r.length;i<a;i++,s++)r[s]=o[i];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(r,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=e.timeoutProvider.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,n([r,o],t(i))):setTimeout.apply(void 0,n([r,o],t(i)))},clearTimeout:function(r){var o=e.timeoutProvider.delegate;return((o==null?void 0:o.clearTimeout)||clearTimeout)(r)},delegate:void 0}})(FE);Object.defineProperty(hd,"__esModule",{value:!0});hd.reportUnhandledError=void 0;var q7=pa,G7=FE;function Y7(e){G7.timeoutProvider.setTimeout(function(){var t=q7.config.onUnhandledError;if(t)t(e);else throw e})}hd.reportUnhandledError=Y7;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.noop=void 0;function Q7(){}kt.noop=Q7;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.createNotification=Zr.nextNotification=Zr.errorNotification=Zr.COMPLETE_NOTIFICATION=void 0;Zr.COMPLETE_NOTIFICATION=function(){return tg("C",void 0,void 0)}();function X7(e){return tg("E",void 0,e)}Zr.errorNotification=X7;function J7(e){return tg("N",e,void 0)}Zr.nextNotification=J7;function tg(e,t,n){return{kind:e,value:t,error:n}}Zr.createNotification=tg;var qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.captureError=qi.errorContext=void 0;var JD=pa,Va=null;function Z7(e){if(JD.config.useDeprecatedSynchronousErrorHandling){var t=!Va;if(t&&(Va={errorThrown:!1,error:null}),e(),t){var n=Va,r=n.errorThrown,o=n.error;if(Va=null,r)throw o}}else e()}qi.errorContext=Z7;function e9(e){JD.config.useDeprecatedSynchronousErrorHandling&&Va&&(Va.errorThrown=!0,Va.error=e)}qi.captureError=e9;(function(e){var t=k&&k.__extends||function(){var y=function(w,_){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(S[x]=E[x])},y(w,_)};return function(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");y(w,_);function S(){this.constructor=w}w.prototype=_===null?Object.create(_):(S.prototype=_.prototype,new S)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var n=$e,r=At,o=pa,i=hd,a=kt,s=Zr,u=FE,l=qi,c=function(y){t(w,y);function w(_){var S=y.call(this)||this;return S.isStopped=!1,_?(S.destination=_,r.isSubscription(_)&&_.add(S)):S.destination=e.EMPTY_OBSERVER,S}return w.create=function(_,S,E){return new m(_,S,E)},w.prototype.next=function(_){this.isStopped?v(s.nextNotification(_),this):this._next(_)},w.prototype.error=function(_){this.isStopped?v(s.errorNotification(_),this):(this.isStopped=!0,this._error(_))},w.prototype.complete=function(){this.isStopped?v(s.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},w.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,y.prototype.unsubscribe.call(this),this.destination=null)},w.prototype._next=function(_){this.destination.next(_)},w.prototype._error=function(_){try{this.destination.error(_)}finally{this.unsubscribe()}},w.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},w}(r.Subscription);e.Subscriber=c;var f=Function.prototype.bind;function d(y,w){return f.call(y,w)}var h=function(){function y(w){this.partialObserver=w}return y.prototype.next=function(w){var _=this.partialObserver;if(_.next)try{_.next(w)}catch(S){p(S)}},y.prototype.error=function(w){var _=this.partialObserver;if(_.error)try{_.error(w)}catch(S){p(S)}else p(w)},y.prototype.complete=function(){var w=this.partialObserver;if(w.complete)try{w.complete()}catch(_){p(_)}},y}(),m=function(y){t(w,y);function w(_,S,E){var x=y.call(this)||this,P;if(n.isFunction(_)||!_)P={next:_??void 0,error:S??void 0,complete:E??void 0};else{var O;x&&o.config.useDeprecatedNextContext?(O=Object.create(_),O.unsubscribe=function(){return x.unsubscribe()},P={next:_.next&&d(_.next,O),error:_.error&&d(_.error,O),complete:_.complete&&d(_.complete,O)}):P=_}return x.destination=new h(P),x}return w}(c);e.SafeSubscriber=m;function p(y){o.config.useDeprecatedSynchronousErrorHandling?l.captureError(y):i.reportUnhandledError(y)}function b(y){throw y}function v(y,w){var _=o.config.onStoppedNotification;_&&u.timeoutProvider.setTimeout(function(){return _(y,w)})}e.EMPTY_OBSERVER={closed:!0,next:a.noop,error:b,complete:a.noop}})(Tl);var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.observable=void 0;ks.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var Uo={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.identity=void 0;function t9(e){return e}Mt.identity=t9;Object.defineProperty(Uo,"__esModule",{value:!0});Uo.pipeFromArray=Uo.pipe=void 0;var n9=Mt;function r9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ZD(e)}Uo.pipe=r9;function ZD(e){return e.length===0?n9.identity:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}Uo.pipeFromArray=ZD;Object.defineProperty(Re,"__esModule",{value:!0});Re.Observable=void 0;var V1=Tl,o9=At,i9=ks,a9=Uo,s9=pa,_0=$e,u9=qi,l9=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=f9(t)?t:new V1.SafeSubscriber(t,n,r);return u9.errorContext(function(){var a=o,s=a.operator,u=a.source;i.add(s?s.call(i,u):u?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=IO(n),new n(function(o,i){var a=new V1.SafeSubscriber({next:function(s){try{t(s)}catch(u){i(u),a.unsubscribe()}},error:i,complete:o});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[i9.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return a9.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=IO(t),new t(function(r,o){var i;n.subscribe(function(a){return i=a},function(a){return o(a)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();Re.Observable=l9;function IO(e){var t;return(t=e??s9.config.Promise)!==null&&t!==void 0?t:Promise}function c9(e){return e&&_0.isFunction(e.next)&&_0.isFunction(e.error)&&_0.isFunction(e.complete)}function f9(e){return e&&e instanceof V1.Subscriber||c9(e)&&o9.isSubscription(e)}var Ms={},pd={},G={};Object.defineProperty(G,"__esModule",{value:!0});G.operate=G.hasLift=void 0;var d9=$e;function ej(e){return d9.isFunction(e==null?void 0:e.lift)}G.hasLift=ej;function h9(e){return function(t){if(ej(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}G.operate=h9;var ee={},p9=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ee,"__esModule",{value:!0});ee.OperatorSubscriber=ee.createOperatorSubscriber=void 0;var m9=Tl;function v9(e,t,n,r,o){return new tj(e,t,n,r,o)}ee.createOperatorSubscriber=v9;var tj=function(e){p9(t,e);function t(n,r,o,i,a,s){var u=e.call(this,n)||this;return u.onFinalize=a,u.shouldUnsubscribe=s,u._next=r?function(l){try{r(l)}catch(c){n.error(c)}}:e.prototype._next,u._error=i?function(l){try{i(l)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=o?function(){try{o()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(m9.Subscriber);ee.OperatorSubscriber=tj;Object.defineProperty(pd,"__esModule",{value:!0});pd.refCount=void 0;var g9=G,y9=ee;function b9(){return g9.operate(function(e,t){var n=null;e._refCount++;var r=y9.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}pd.refCount=b9;var w9=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ms,"__esModule",{value:!0});Ms.ConnectableObservable=void 0;var _9=Re,DO=At,S9=pd,E9=ee,x9=G,P9=function(e){w9(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,x9.hasLift(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new DO.Subscription;var o=this.getSubject();r.add(this.source.subscribe(E9.createOperatorSubscriber(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=DO.Subscription.EMPTY)}return r},t.prototype.refCount=function(){return S9.refCount()(this)},t}(_9.Observable);Ms.ConnectableObservable=P9;var ng={},nj={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}})(nj);var BE={};(function(e){var t=k&&k.__read||function(o,i){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var s=a.call(o),u,l=[],c;try{for(;(i===void 0||i-- >0)&&!(u=s.next()).done;)l.push(u.value)}catch(f){c={error:f}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(c)throw c.error}}return l},n=k&&k.__spreadArray||function(o,i){for(var a=0,s=i.length,u=o.length;a<s;a++,u++)o[u]=i[a];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var r=At;e.animationFrameProvider={schedule:function(o){var i=requestAnimationFrame,a=cancelAnimationFrame,s=e.animationFrameProvider.delegate;s&&(i=s.requestAnimationFrame,a=s.cancelAnimationFrame);var u=i(function(l){a=void 0,o(l)});return new r.Subscription(function(){return a==null?void 0:a(u)})},requestAnimationFrame:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=e.animationFrameProvider.delegate;return((a==null?void 0:a.requestAnimationFrame)||requestAnimationFrame).apply(void 0,n([],t(o)))},cancelAnimationFrame:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=e.animationFrameProvider.delegate;return((a==null?void 0:a.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,n([],t(o)))},delegate:void 0}})(BE);Object.defineProperty(ng,"__esModule",{value:!0});ng.animationFrames=void 0;var C9=Re,O9=nj,jO=BE;function A9(e){return e?rj(e):$9}ng.animationFrames=A9;function rj(e){return new C9.Observable(function(t){var n=e||O9.performanceTimestampProvider,r=n.now(),o=0,i=function(){t.closed||(o=jO.animationFrameProvider.requestAnimationFrame(function(a){o=0;var s=n.now();t.next({timestamp:e?s:a,elapsed:s-r}),i()}))};return i(),function(){o&&jO.animationFrameProvider.cancelAnimationFrame(o)}})}var $9=rj(),dt={},md={};Object.defineProperty(md,"__esModule",{value:!0});md.ObjectUnsubscribedError=void 0;var T9=uo;md.ObjectUnsubscribedError=T9.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var oj=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),R9=k&&k.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(dt,"__esModule",{value:!0});dt.AnonymousSubject=dt.Subject=void 0;var NO=Re,W1=At,k9=md,M9=Br,S0=qi,ij=function(e){oj(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new z1(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new k9.ObjectUnsubscribedError},t.prototype.next=function(n){var r=this;S0.errorContext(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=R9(r.currentObservers),s=a.next();!s.done;s=a.next()){var u=s.value;u.next(n)}}catch(l){o={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;S0.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;S0.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?W1.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(n),new W1.Subscription(function(){r.currentObservers=null,M9.arrRemove(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,a=r.isStopped;o?n.error(i):a&&n.complete()},t.prototype.asObservable=function(){var n=new NO.Observable;return n.source=this,n},t.create=function(n,r){return new z1(n,r)},t}(NO.Observable);dt.Subject=ij;var z1=function(e){oj(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:W1.EMPTY_SUBSCRIPTION},t}(ij);dt.AnonymousSubject=z1;var vd={},I9=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(vd,"__esModule",{value:!0});vd.BehaviorSubject=void 0;var D9=dt,j9=function(e){I9(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(D9.Subject);vd.BehaviorSubject=j9;var Rl={},rg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}})(rg);var N9=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Rl,"__esModule",{value:!0});Rl.ReplaySubject=void 0;var L9=dt,F9=rg,B9=function(e){N9(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=F9.dateTimestampProvider);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,a=r._infiniteTimeWindow,s=r._timestampProvider,u=r._windowTime;o||(i.push(n),!a&&i.push(s.now()+u)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,a=o._buffer,s=a.slice(),u=0;u<s.length&&!n.closed;u+=i?1:2)n.next(s[u]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,a=n._infiniteTimeWindow,s=(a?1:2)*r;if(r<1/0&&s<i.length&&i.splice(0,i.length-s),!a){for(var u=o.now(),l=0,c=1;c<i.length&&i[c]<=u;c+=2)l=c;l&&i.splice(0,l+1)}},t}(L9.Subject);Rl.ReplaySubject=B9;var kl={},U9=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(kl,"__esModule",{value:!0});kl.AsyncSubject=void 0;var V9=dt,W9=function(e){U9(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._value=null,n._hasValue=!1,n._isComplete=!1,n}return t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r._hasValue,a=r._value,s=r.thrownError,u=r.isStopped,l=r._isComplete;o?n.error(s):(u||l)&&(i&&n.next(a),n.complete())},t.prototype.next=function(n){this.isStopped||(this._value=n,this._hasValue=!0)},t.prototype.complete=function(){var n=this,r=n._hasValue,o=n._value,i=n._isComplete;i||(this._isComplete=!0,r&&e.prototype.next.call(this,o),e.prototype.complete.call(this))},t}(V9.Subject);kl.AsyncSubject=W9;var aj={},og={},ma={},ig={},z9=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ig,"__esModule",{value:!0});ig.Action=void 0;var K9=At,H9=function(e){z9(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(K9.Subscription);ig.Action=H9;var sj={};(function(e){var t=k&&k.__read||function(r,o){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),s,u=[],l;try{for(;(o===void 0||o-- >0)&&!(s=a.next()).done;)u.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(l)throw l.error}}return u},n=k&&k.__spreadArray||function(r,o){for(var i=0,a=o.length,s=r.length;i<a;i++,s++)r[s]=o[i];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(r,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=e.intervalProvider.delegate;return s!=null&&s.setInterval?s.setInterval.apply(s,n([r,o],t(i))):setInterval.apply(void 0,n([r,o],t(i)))},clearInterval:function(r){var o=e.intervalProvider.delegate;return((o==null?void 0:o.clearInterval)||clearInterval)(r)},delegate:void 0}})(sj);var q9=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ma,"__esModule",{value:!0});ma.AsyncAction=void 0;var G9=ig,LO=sj,Y9=Br,Q9=function(e){q9(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),LO.intervalProvider.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&LO.intervalProvider.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(a){o=!0,i=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Y9.arrRemove(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(G9.Action);ma.AsyncAction=Q9;var uj={},il={};Object.defineProperty(il,"__esModule",{value:!0});il.TestTools=il.Immediate=void 0;var X9=1,E0,jm={};function FO(e){return e in jm?(delete jm[e],!0):!1}il.Immediate={setImmediate:function(e){var t=X9++;return jm[t]=!0,E0||(E0=Promise.resolve()),E0.then(function(){return FO(t)&&e()}),t},clearImmediate:function(e){FO(e)}};il.TestTools={pending:function(){return Object.keys(jm).length}};(function(e){var t=k&&k.__read||function(a,s){var u=typeof Symbol=="function"&&a[Symbol.iterator];if(!u)return a;var l=u.call(a),c,f=[],d;try{for(;(s===void 0||s-- >0)&&!(c=l.next()).done;)f.push(c.value)}catch(h){d={error:h}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return f},n=k&&k.__spreadArray||function(a,s){for(var u=0,l=s.length,c=a.length;u<l;u++,c++)a[c]=s[u];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var r=il,o=r.Immediate.setImmediate,i=r.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var u=e.immediateProvider.delegate;return((u==null?void 0:u.setImmediate)||o).apply(void 0,n([],t(a)))},clearImmediate:function(a){var s=e.immediateProvider.delegate;return((s==null?void 0:s.clearImmediate)||i)(a)},delegate:void 0}})(uj);var J9=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(og,"__esModule",{value:!0});og.AsapAction=void 0;var Z9=ma,BO=uj,ez=function(e){J9(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=BO.immediateProvider.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var a=n.actions;r!=null&&((i=a[a.length-1])===null||i===void 0?void 0:i.id)!==r&&(BO.immediateProvider.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(Z9.AsyncAction);og.AsapAction=ez;var ag={},va={},gd={};Object.defineProperty(gd,"__esModule",{value:!0});gd.Scheduler=void 0;var tz=rg,nz=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=tz.dateTimestampProvider.now,e}();gd.Scheduler=nz;var rz=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(va,"__esModule",{value:!0});va.AsyncScheduler=void 0;var UO=gd,oz=function(e){rz(t,e);function t(n,r){r===void 0&&(r=UO.Scheduler.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(UO.Scheduler);va.AsyncScheduler=oz;var iz=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ag,"__esModule",{value:!0});ag.AsapScheduler=void 0;var az=va,sz=function(e){iz(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(az.AsyncScheduler);ag.AsapScheduler=sz;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var t=og,n=ag;e.asapScheduler=new n.AsapScheduler(t.AsapAction),e.asap=e.asapScheduler})(aj);var Mn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var t=ma,n=va;e.asyncScheduler=new n.AsyncScheduler(t.AsyncAction),e.async=e.asyncScheduler})(Mn);var lj={},sg={},uz=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(sg,"__esModule",{value:!0});sg.QueueAction=void 0;var lz=ma,cz=function(e){uz(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?e.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},t.prototype.execute=function(n,r){return r>0||this.closed?e.prototype.execute.call(this,n,r):this._execute(n,r)},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!=null&&o>0||o==null&&this.delay>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.flush(this),0)},t}(lz.AsyncAction);sg.QueueAction=cz;var ug={},fz=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ug,"__esModule",{value:!0});ug.QueueScheduler=void 0;var dz=va,hz=function(e){fz(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(dz.AsyncScheduler);ug.QueueScheduler=hz;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var t=sg,n=ug;e.queueScheduler=new n.QueueScheduler(t.QueueAction),e.queue=e.queueScheduler})(lj);var cj={},lg={},pz=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(lg,"__esModule",{value:!0});lg.AnimationFrameAction=void 0;var mz=ma,VO=BE,vz=function(e){pz(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=VO.animationFrameProvider.requestAnimationFrame(function(){return n.flush(void 0)})))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var a=n.actions;r!=null&&((i=a[a.length-1])===null||i===void 0?void 0:i.id)!==r&&(VO.animationFrameProvider.cancelAnimationFrame(r),n._scheduled=void 0)},t}(mz.AsyncAction);lg.AnimationFrameAction=vz;var cg={},gz=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(cg,"__esModule",{value:!0});cg.AnimationFrameScheduler=void 0;var yz=va,bz=function(e){gz(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(yz.AsyncScheduler);cg.AnimationFrameScheduler=bz;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var t=lg,n=cg;e.animationFrameScheduler=new n.AnimationFrameScheduler(t.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler})(cj);var al={},fj=k&&k.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(al,"__esModule",{value:!0});al.VirtualAction=al.VirtualTimeScheduler=void 0;var wz=ma,_z=At,Sz=va,Ez=function(e){fj(t,e);function t(n,r){n===void 0&&(n=dj),r===void 0&&(r=1/0);var o=e.call(this,n,function(){return o.frame})||this;return o.maxFrames=r,o.frame=0,o.index=-1,o}return t.prototype.flush=function(){for(var n=this,r=n.actions,o=n.maxFrames,i,a;(a=r[0])&&a.delay<=o&&(r.shift(),this.frame=a.delay,!(i=a.execute(a.state,a.delay))););if(i){for(;a=r.shift();)a.unsubscribe();throw i}},t.frameTimeFactor=10,t}(Sz.AsyncScheduler);al.VirtualTimeScheduler=Ez;var dj=function(e){fj(t,e);function t(n,r,o){o===void 0&&(o=n.index+=1);var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.index=o,i.active=!0,i.index=n.index=o,i}return t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)}else return _z.Subscription.EMPTY},t.prototype.requestAsyncId=function(n,r,o){o===void 0&&(o=0),this.delay=n.frame+o;var i=n.actions;return i.push(this),i.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(n,r,o){},t.prototype._execute=function(n,r){if(this.active===!0)return e.prototype._execute.call(this,n,r)},t.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},t}(wz.AsyncAction);al.VirtualAction=dj;var fg={},Ir={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var t=Re;e.EMPTY=new t.Observable(function(o){return o.complete()});function n(o){return o?r(o):e.EMPTY}e.empty=n;function r(o){return new t.Observable(function(i){return o.schedule(function(){return i.complete()})})}})(Ir);var Ml={},vt={},Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.isScheduler=void 0;var xz=$e;function Pz(e){return e&&xz.isFunction(e.schedule)}Is.isScheduler=Pz;Object.defineProperty(vt,"__esModule",{value:!0});vt.popNumber=vt.popScheduler=vt.popResultSelector=void 0;var Cz=$e,Oz=Is;function UE(e){return e[e.length-1]}function Az(e){return Cz.isFunction(UE(e))?e.pop():void 0}vt.popResultSelector=Az;function $z(e){return Oz.isScheduler(UE(e))?e.pop():void 0}vt.popScheduler=$z;function Tz(e,t){return typeof UE(e)=="number"?e.pop():t}vt.popNumber=Tz;var Ur={},yd={},dg={},ue={},Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.isArrayLike=void 0;Il.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};var bd={};Object.defineProperty(bd,"__esModule",{value:!0});bd.isPromise=void 0;var Rz=$e;function kz(e){return Rz.isFunction(e==null?void 0:e.then)}bd.isPromise=kz;var wd={};Object.defineProperty(wd,"__esModule",{value:!0});wd.isInteropObservable=void 0;var Mz=ks,Iz=$e;function Dz(e){return Iz.isFunction(e[Mz.observable])}wd.isInteropObservable=Dz;var _d={};Object.defineProperty(_d,"__esModule",{value:!0});_d.isAsyncIterable=void 0;var jz=$e;function Nz(e){return Symbol.asyncIterator&&jz.isFunction(e==null?void 0:e[Symbol.asyncIterator])}_d.isAsyncIterable=Nz;var Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});Sd.createInvalidObservableTypeError=void 0;function Lz(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Sd.createInvalidObservableTypeError=Lz;var Ed={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.iterator=fs.getSymbolIterator=void 0;function hj(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}fs.getSymbolIterator=hj;fs.iterator=hj();Object.defineProperty(Ed,"__esModule",{value:!0});Ed.isIterable=void 0;var Fz=fs,Bz=$e;function Uz(e){return Bz.isFunction(e==null?void 0:e[Fz.iterator])}Ed.isIterable=Uz;var Gi={},Vz=k&&k.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Uu=k&&k.__await||function(e){return this instanceof Uu?(this.v=e,this):new Uu(e)},Wz=k&&k.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(d){r[d]&&(o[d]=function(h){return new Promise(function(m,p){i.push([d,h,m,p])>1||s(d,h)})})}function s(d,h){try{u(r[d](h))}catch(m){f(i[0][3],m)}}function u(d){d.value instanceof Uu?Promise.resolve(d.value.v).then(l,c):f(i[0][2],d)}function l(d){s("next",d)}function c(d){s("throw",d)}function f(d,h){d(h),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.isReadableStreamLike=Gi.readableStreamLikeToAsyncGenerator=void 0;var zz=$e;function Kz(e){return Wz(this,arguments,function(){var n,r,o,i;return Vz(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Uu(n.read())];case 3:return r=a.sent(),o=r.value,i=r.done,i?[4,Uu(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Uu(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}Gi.readableStreamLikeToAsyncGenerator=Kz;function Hz(e){return zz.isFunction(e==null?void 0:e.getReader)}Gi.isReadableStreamLike=Hz;var qz=k&&k.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((r=r.apply(e,t||[])).next())})},Gz=k&&k.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Yz=k&&k.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof K1=="function"?K1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}},K1=k&&k.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ue,"__esModule",{value:!0});ue.fromReadableStreamLike=ue.fromAsyncIterable=ue.fromIterable=ue.fromPromise=ue.fromArrayLike=ue.fromInteropObservable=ue.innerFrom=void 0;var Qz=Il,Xz=bd,Dl=Re,Jz=wd,Zz=_d,eK=Sd,tK=Ed,pj=Gi,nK=$e,rK=hd,oK=ks;function iK(e){if(e instanceof Dl.Observable)return e;if(e!=null){if(Jz.isInteropObservable(e))return mj(e);if(Qz.isArrayLike(e))return vj(e);if(Xz.isPromise(e))return gj(e);if(Zz.isAsyncIterable(e))return VE(e);if(tK.isIterable(e))return yj(e);if(pj.isReadableStreamLike(e))return bj(e)}throw eK.createInvalidObservableTypeError(e)}ue.innerFrom=iK;function mj(e){return new Dl.Observable(function(t){var n=e[oK.observable]();if(nK.isFunction(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}ue.fromInteropObservable=mj;function vj(e){return new Dl.Observable(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}ue.fromArrayLike=vj;function gj(e){return new Dl.Observable(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,rK.reportUnhandledError)})}ue.fromPromise=gj;function yj(e){return new Dl.Observable(function(t){var n,r;try{for(var o=K1(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}ue.fromIterable=yj;function VE(e){return new Dl.Observable(function(t){aK(e,t).catch(function(n){return t.error(n)})})}ue.fromAsyncIterable=VE;function bj(e){return VE(pj.readableStreamLikeToAsyncGenerator(e))}ue.fromReadableStreamLike=bj;function aK(e,t){var n,r,o,i;return qz(this,void 0,void 0,function(){var a,s;return Gz(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Yz(e),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),o={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}var Ds={},Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.executeSchedule=void 0;function sK(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}Vr.executeSchedule=sK;Object.defineProperty(Ds,"__esModule",{value:!0});Ds.observeOn=void 0;var x0=Vr,uK=G,lK=ee;function cK(e,t){return t===void 0&&(t=0),uK.operate(function(n,r){n.subscribe(lK.createOperatorSubscriber(r,function(o){return x0.executeSchedule(r,e,function(){return r.next(o)},t)},function(){return x0.executeSchedule(r,e,function(){return r.complete()},t)},function(o){return x0.executeSchedule(r,e,function(){return r.error(o)},t)}))})}Ds.observeOn=cK;var js={};Object.defineProperty(js,"__esModule",{value:!0});js.subscribeOn=void 0;var fK=G;function dK(e,t){return t===void 0&&(t=0),fK.operate(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}js.subscribeOn=dK;Object.defineProperty(dg,"__esModule",{value:!0});dg.scheduleObservable=void 0;var hK=ue,pK=Ds,mK=js;function vK(e,t){return hK.innerFrom(e).pipe(mK.subscribeOn(t),pK.observeOn(t))}dg.scheduleObservable=vK;var hg={};Object.defineProperty(hg,"__esModule",{value:!0});hg.schedulePromise=void 0;var gK=ue,yK=Ds,bK=js;function wK(e,t){return gK.innerFrom(e).pipe(bK.subscribeOn(t),yK.observeOn(t))}hg.schedulePromise=wK;var pg={};Object.defineProperty(pg,"__esModule",{value:!0});pg.scheduleArray=void 0;var _K=Re;function SK(e,t){return new _K.Observable(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}pg.scheduleArray=SK;var xd={};Object.defineProperty(xd,"__esModule",{value:!0});xd.scheduleIterable=void 0;var EK=Re,xK=fs,PK=$e,WO=Vr;function CK(e,t){return new EK.Observable(function(n){var r;return WO.executeSchedule(n,t,function(){r=e[xK.iterator](),WO.executeSchedule(n,t,function(){var o,i,a;try{o=r.next(),i=o.value,a=o.done}catch(s){n.error(s);return}a?n.complete():n.next(i)},0,!0)}),function(){return PK.isFunction(r==null?void 0:r.return)&&r.return()}})}xd.scheduleIterable=CK;var Pd={};Object.defineProperty(Pd,"__esModule",{value:!0});Pd.scheduleAsyncIterable=void 0;var OK=Re,zO=Vr;function AK(e,t){if(!e)throw new Error("Iterable cannot be null");return new OK.Observable(function(n){zO.executeSchedule(n,t,function(){var r=e[Symbol.asyncIterator]();zO.executeSchedule(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}Pd.scheduleAsyncIterable=AK;var mg={};Object.defineProperty(mg,"__esModule",{value:!0});mg.scheduleReadableStreamLike=void 0;var $K=Pd,TK=Gi;function RK(e,t){return $K.scheduleAsyncIterable(TK.readableStreamLikeToAsyncGenerator(e),t)}mg.scheduleReadableStreamLike=RK;Object.defineProperty(yd,"__esModule",{value:!0});yd.scheduled=void 0;var kK=dg,MK=hg,IK=pg,DK=xd,jK=Pd,NK=wd,LK=bd,FK=Il,BK=Ed,UK=_d,VK=Sd,WK=Gi,zK=mg;function KK(e,t){if(e!=null){if(NK.isInteropObservable(e))return kK.scheduleObservable(e,t);if(FK.isArrayLike(e))return IK.scheduleArray(e,t);if(LK.isPromise(e))return MK.schedulePromise(e,t);if(UK.isAsyncIterable(e))return jK.scheduleAsyncIterable(e,t);if(BK.isIterable(e))return DK.scheduleIterable(e,t);if(WK.isReadableStreamLike(e))return zK.scheduleReadableStreamLike(e,t)}throw VK.createInvalidObservableTypeError(e)}yd.scheduled=KK;Object.defineProperty(Ur,"__esModule",{value:!0});Ur.from=void 0;var HK=yd,qK=ue;function GK(e,t){return t?HK.scheduled(e,t):qK.innerFrom(e)}Ur.from=GK;Object.defineProperty(Ml,"__esModule",{value:!0});Ml.of=void 0;var YK=vt,QK=Ur;function XK(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=YK.popScheduler(e);return QK.from(e,n)}Ml.of=XK;var Cd={};Object.defineProperty(Cd,"__esModule",{value:!0});Cd.throwError=void 0;var JK=Re,ZK=$e;function eH(e,t){var n=ZK.isFunction(e)?e:function(){return e},r=function(o){return o.error(n())};return new JK.Observable(t?function(o){return t.schedule(r,0,o)}:r)}Cd.throwError=eH;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var t=Ir,n=Ml,r=Cd,o=$e;(function(s){s.NEXT="N",s.ERROR="E",s.COMPLETE="C"})(e.NotificationKind||(e.NotificationKind={}));var i=function(){function s(u,l,c){this.kind=u,this.value=l,this.error=c,this.hasValue=u==="N"}return s.prototype.observe=function(u){return a(this,u)},s.prototype.do=function(u,l,c){var f=this,d=f.kind,h=f.value,m=f.error;return d==="N"?u==null?void 0:u(h):d==="E"?l==null?void 0:l(m):c==null?void 0:c()},s.prototype.accept=function(u,l,c){var f;return o.isFunction((f=u)===null||f===void 0?void 0:f.next)?this.observe(u):this.do(u,l,c)},s.prototype.toObservable=function(){var u=this,l=u.kind,c=u.value,f=u.error,d=l==="N"?n.of(c):l==="E"?r.throwError(function(){return f}):l==="C"?t.EMPTY:0;if(!d)throw new TypeError("Unexpected notification kind "+l);return d},s.createNext=function(u){return new s("N",u)},s.createError=function(u){return new s("E",void 0,u)},s.createComplete=function(){return s.completeNotification},s.completeNotification=new s("C"),s}();e.Notification=i;function a(s,u){var l,c,f,d=s,h=d.kind,m=d.value,p=d.error;if(typeof h!="string")throw new TypeError('Invalid notification, missing "kind"');h==="N"?(l=u.next)===null||l===void 0||l.call(u,m):h==="E"?(c=u.error)===null||c===void 0||c.call(u,p):(f=u.complete)===null||f===void 0||f.call(u)}e.observeNotification=a})(fg);var vg={};Object.defineProperty(vg,"__esModule",{value:!0});vg.isObservable=void 0;var tH=Re,KO=$e;function nH(e){return!!e&&(e instanceof tH.Observable||KO.isFunction(e.lift)&&KO.isFunction(e.subscribe))}vg.isObservable=nH;var gg={},lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.EmptyError=void 0;var rH=uo;lo.EmptyError=rH.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});Object.defineProperty(gg,"__esModule",{value:!0});gg.lastValueFrom=void 0;var oH=lo;function iH(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,a;e.subscribe({next:function(s){a=s,i=!0},error:o,complete:function(){i?r(a):n?r(t.defaultValue):o(new oH.EmptyError)}})})}gg.lastValueFrom=iH;var yg={};Object.defineProperty(yg,"__esModule",{value:!0});yg.firstValueFrom=void 0;var aH=lo,sH=Tl;function uH(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=new sH.SafeSubscriber({next:function(a){r(a),i.unsubscribe()},error:o,complete:function(){n?r(t.defaultValue):o(new aH.EmptyError)}});e.subscribe(i)})}yg.firstValueFrom=uH;var Od={};Object.defineProperty(Od,"__esModule",{value:!0});Od.ArgumentOutOfRangeError=void 0;var lH=uo;Od.ArgumentOutOfRangeError=lH.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});Ad.NotFoundError=void 0;var cH=uo;Ad.NotFoundError=cH.createErrorClass(function(e){return function(n){e(this),this.name="NotFoundError",this.message=n}});var $d={};Object.defineProperty($d,"__esModule",{value:!0});$d.SequenceError=void 0;var fH=uo;$d.SequenceError=fH.createErrorClass(function(e){return function(n){e(this),this.name="SequenceError",this.message=n}});var Nm={},jl={};Object.defineProperty(jl,"__esModule",{value:!0});jl.isValidDate=void 0;function dH(e){return e instanceof Date&&!isNaN(e)}jl.isValidDate=dH;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var t=Mn,n=jl,r=G,o=ue,i=uo,a=ee,s=Vr;e.TimeoutError=i.createErrorClass(function(c){return function(d){d===void 0&&(d=null),c(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=d}});function u(c,f){var d=n.isValidDate(c)?{first:c}:typeof c=="number"?{each:c}:c,h=d.first,m=d.each,p=d.with,b=p===void 0?l:p,v=d.scheduler,y=v===void 0?f??t.asyncScheduler:v,w=d.meta,_=w===void 0?null:w;if(h==null&&m==null)throw new TypeError("No timeout provided.");return r.operate(function(S,E){var x,P,O=null,T=0,R=function(M){P=s.executeSchedule(E,y,function(){try{x.unsubscribe(),o.innerFrom(b({meta:_,lastValue:O,seen:T})).subscribe(E)}catch(U){E.error(U)}},M)};x=S.subscribe(a.createOperatorSubscriber(E,function(M){P==null||P.unsubscribe(),T++,E.next(O=M),m>0&&R(m)},void 0,void 0,function(){P!=null&&P.closed||P==null||P.unsubscribe(),O=null})),!T&&R(h!=null?typeof h=="number"?h:+h-y.now():m)})}e.timeout=u;function l(c){throw new e.TimeoutError(c)}})(Nm);var bg={},Td={},co={},fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.map=void 0;var hH=G,pH=ee;function mH(e,t){return hH.operate(function(n,r){var o=0;n.subscribe(pH.createOperatorSubscriber(r,function(i){r.next(e.call(t,i,o++))}))})}fo.map=mH;var vH=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},gH=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(co,"__esModule",{value:!0});co.mapOneOrManyArgs=void 0;var yH=fo,bH=Array.isArray;function wH(e,t){return bH(t)?e.apply(void 0,gH([],vH(t))):e(t)}function _H(e){return yH.map(function(t){return wH(e,t)})}co.mapOneOrManyArgs=_H;var SH=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},HO=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(Td,"__esModule",{value:!0});Td.bindCallbackInternals=void 0;var EH=Is,xH=Re,PH=js,CH=co,OH=Ds,AH=kl;function H1(e,t,n,r){if(n)if(EH.isScheduler(n))r=n;else return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return H1(e,t,r).apply(this,o).pipe(CH.mapOneOrManyArgs(n))};return r?function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return H1(e,t).apply(this,o).pipe(PH.subscribeOn(r),OH.observeOn(r))}:function(){for(var o=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=new AH.AsyncSubject,u=!0;return new xH.Observable(function(l){var c=s.subscribe(l);if(u){u=!1;var f=!1,d=!1;t.apply(o,HO(HO([],SH(i)),[function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];if(e){var p=h.shift();if(p!=null){s.error(p);return}}s.next(1<h.length?h:h[0]),d=!0,f&&s.complete()}])),d&&s.complete(),f=!0}return c})}}Td.bindCallbackInternals=H1;Object.defineProperty(bg,"__esModule",{value:!0});bg.bindCallback=void 0;var $H=Td;function TH(e,t,n){return $H.bindCallbackInternals(!1,e,t,n)}bg.bindCallback=TH;var wg={};Object.defineProperty(wg,"__esModule",{value:!0});wg.bindNodeCallback=void 0;var RH=Td;function kH(e,t,n){return RH.bindCallbackInternals(!0,e,t,n)}wg.bindNodeCallback=kH;var Yi={},Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});Rd.argsArgArrayOrObject=void 0;var MH=Array.isArray,IH=Object.getPrototypeOf,DH=Object.prototype,jH=Object.keys;function NH(e){if(e.length===1){var t=e[0];if(MH(t))return{args:t,keys:null};if(LH(t)){var n=jH(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}Rd.argsArgArrayOrObject=NH;function LH(e){return e&&typeof e=="object"&&IH(e)===DH}var kd={};Object.defineProperty(kd,"__esModule",{value:!0});kd.createObject=void 0;function FH(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}kd.createObject=FH;Object.defineProperty(Yi,"__esModule",{value:!0});Yi.combineLatestInit=Yi.combineLatest=void 0;var BH=Re,UH=Rd,wj=Ur,_j=Mt,VH=co,qO=vt,WH=kd,zH=ee,KH=Vr;function HH(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=qO.popScheduler(e),r=qO.popResultSelector(e),o=UH.argsArgArrayOrObject(e),i=o.args,a=o.keys;if(i.length===0)return wj.from([],n);var s=new BH.Observable(Sj(i,n,a?function(u){return WH.createObject(a,u)}:_j.identity));return r?s.pipe(VH.mapOneOrManyArgs(r)):s}Yi.combineLatest=HH;function Sj(e,t,n){return n===void 0&&(n=_j.identity),function(r){GO(t,function(){for(var o=e.length,i=new Array(o),a=o,s=o,u=function(c){GO(t,function(){var f=wj.from(e[c],t),d=!1;f.subscribe(zH.createOperatorSubscriber(r,function(h){i[c]=h,d||(d=!0,s--),s||r.next(n(i.slice()))},function(){--a||r.complete()}))},r)},l=0;l<o;l++)u(l)},r)}}Yi.combineLatestInit=Sj;function GO(e,t,n){e?KH.executeSchedule(n,e,t):t()}var Ns={},Nl={},Ls={},Wr={},Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.mergeInternals=void 0;var qH=ue,GH=Vr,YO=ee;function YH(e,t,n,r,o,i,a,s){var u=[],l=0,c=0,f=!1,d=function(){f&&!u.length&&!l&&t.complete()},h=function(p){return l<r?m(p):u.push(p)},m=function(p){i&&t.next(p),l++;var b=!1;qH.innerFrom(n(p,c++)).subscribe(YO.createOperatorSubscriber(t,function(v){o==null||o(v),i?h(v):t.next(v)},function(){b=!0},void 0,function(){if(b)try{l--;for(var v=function(){var y=u.shift();a?GH.executeSchedule(t,a,function(){return m(y)}):m(y)};u.length&&l<r;)v();d()}catch(y){t.error(y)}}))};return e.subscribe(YO.createOperatorSubscriber(t,h,function(){f=!0,d()})),function(){s==null||s()}}Ll.mergeInternals=YH;Object.defineProperty(Wr,"__esModule",{value:!0});Wr.mergeMap=void 0;var QH=fo,XH=ue,JH=G,ZH=Ll,eq=$e;function Ej(e,t,n){return n===void 0&&(n=1/0),eq.isFunction(t)?Ej(function(r,o){return QH.map(function(i,a){return t(r,i,o,a)})(XH.innerFrom(e(r,o)))},n):(typeof t=="number"&&(n=t),JH.operate(function(r,o){return ZH.mergeInternals(r,o,e,n)}))}Wr.mergeMap=Ej;Object.defineProperty(Ls,"__esModule",{value:!0});Ls.mergeAll=void 0;var tq=Wr,nq=Mt;function rq(e){return e===void 0&&(e=1/0),tq.mergeMap(nq.identity,e)}Ls.mergeAll=rq;Object.defineProperty(Nl,"__esModule",{value:!0});Nl.concatAll=void 0;var oq=Ls;function iq(){return oq.mergeAll(1)}Nl.concatAll=iq;Object.defineProperty(Ns,"__esModule",{value:!0});Ns.concat=void 0;var aq=Nl,sq=vt,uq=Ur;function lq(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return aq.concatAll()(uq.from(e,sq.popScheduler(e)))}Ns.concat=lq;var _g={},Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.defer=void 0;var cq=Re,fq=ue;function dq(e){return new cq.Observable(function(t){fq.innerFrom(e()).subscribe(t)})}Fs.defer=dq;Object.defineProperty(_g,"__esModule",{value:!0});_g.connectable=void 0;var hq=dt,pq=Re,mq=Fs,vq={connector:function(){return new hq.Subject},resetOnDisconnect:!0};function gq(e,t){t===void 0&&(t=vq);var n=null,r=t.connector,o=t.resetOnDisconnect,i=o===void 0?!0:o,a=r(),s=new pq.Observable(function(u){return a.subscribe(u)});return s.connect=function(){return(!n||n.closed)&&(n=mq.defer(function(){return e}).subscribe(a),i&&n.add(function(){return a=r()})),n},s}_g.connectable=gq;var Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});Sg.forkJoin=void 0;var yq=Re,bq=Rd,wq=ue,_q=vt,Sq=ee,Eq=co,xq=kd;function Pq(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_q.popResultSelector(e),r=bq.argsArgArrayOrObject(e),o=r.args,i=r.keys,a=new yq.Observable(function(s){var u=o.length;if(!u){s.complete();return}for(var l=new Array(u),c=u,f=u,d=function(m){var p=!1;wq.innerFrom(o[m]).subscribe(Sq.createOperatorSubscriber(s,function(b){p||(p=!0,f--),l[m]=b},function(){return c--},void 0,function(){(!c||!p)&&(f||s.next(i?xq.createObject(i,l):l),s.complete())}))},h=0;h<u;h++)d(h)});return n?a.pipe(Eq.mapOneOrManyArgs(n)):a}Sg.forkJoin=Pq;var Eg={},Cq=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.fromEvent=void 0;var Oq=ue,Aq=Re,$q=Wr,Tq=Il,ds=$e,Rq=co,kq=["addListener","removeListener"],Mq=["addEventListener","removeEventListener"],Iq=["on","off"];function q1(e,t,n,r){if(ds.isFunction(n)&&(r=n,n=void 0),r)return q1(e,t,n).pipe(Rq.mapOneOrManyArgs(r));var o=Cq(Nq(e)?Mq.map(function(s){return function(u){return e[s](t,u,n)}}):Dq(e)?kq.map(QO(e,t)):jq(e)?Iq.map(QO(e,t)):[],2),i=o[0],a=o[1];if(!i&&Tq.isArrayLike(e))return $q.mergeMap(function(s){return q1(s,t,n)})(Oq.innerFrom(e));if(!i)throw new TypeError("Invalid event target");return new Aq.Observable(function(s){var u=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return s.next(1<l.length?l:l[0])};return i(u),function(){return a(u)}})}Eg.fromEvent=q1;function QO(e,t){return function(n){return function(r){return e[n](t,r)}}}function Dq(e){return ds.isFunction(e.addListener)&&ds.isFunction(e.removeListener)}function jq(e){return ds.isFunction(e.on)&&ds.isFunction(e.off)}function Nq(e){return ds.isFunction(e.addEventListener)&&ds.isFunction(e.removeEventListener)}var xg={};Object.defineProperty(xg,"__esModule",{value:!0});xg.fromEventPattern=void 0;var Lq=Re,Fq=$e,Bq=co;function xj(e,t,n){return n?xj(e,t).pipe(Bq.mapOneOrManyArgs(n)):new Lq.Observable(function(r){var o=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return r.next(a.length===1?a[0]:a)},i=e(o);return Fq.isFunction(t)?function(){return t(o,i)}:void 0})}xg.fromEventPattern=xj;var Pg={},Uq=k&&k.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Pg,"__esModule",{value:!0});Pg.generate=void 0;var XO=Mt,Vq=Is,Wq=Fs,zq=xd;function Kq(e,t,n,r,o){var i,a,s,u;arguments.length===1?(i=e,u=i.initialState,t=i.condition,n=i.iterate,a=i.resultSelector,s=a===void 0?XO.identity:a,o=i.scheduler):(u=e,!r||Vq.isScheduler(r)?(s=XO.identity,o=r):s=r);function l(){var c;return Uq(this,function(f){switch(f.label){case 0:c=u,f.label=1;case 1:return!t||t(c)?[4,s(c)]:[3,4];case 2:f.sent(),f.label=3;case 3:return c=n(c),[3,1];case 4:return[2]}})}return Wq.defer(o?function(){return zq.scheduleIterable(l(),o)}:l)}Pg.generate=Kq;var Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});Cg.iif=void 0;var Hq=Fs;function qq(e,t,n){return Hq.defer(function(){return e()?t:n})}Cg.iif=qq;var Md={},ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.timer=void 0;var Gq=Re,Yq=Mn,Qq=Is,Xq=jl;function Jq(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Yq.async);var r=-1;return t!=null&&(Qq.isScheduler(t)?n=t:r=t),new Gq.Observable(function(o){var i=Xq.isValidDate(e)?+e-n.now():e;i<0&&(i=0);var a=0;return n.schedule(function(){o.closed||(o.next(a++),0<=r?this.schedule(void 0,r):o.complete())},i)})}ho.timer=Jq;Object.defineProperty(Md,"__esModule",{value:!0});Md.interval=void 0;var Zq=Mn,eG=ho;function tG(e,t){return e===void 0&&(e=0),t===void 0&&(t=Zq.asyncScheduler),e<0&&(e=0),eG.timer(e,e,t)}Md.interval=tG;var Og={};Object.defineProperty(Og,"__esModule",{value:!0});Og.merge=void 0;var nG=Ls,rG=ue,oG=Ir,JO=vt,iG=Ur;function aG(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=JO.popScheduler(e),r=JO.popNumber(e,1/0),o=e;return o.length?o.length===1?rG.innerFrom(o[0]):nG.mergeAll(r)(iG.from(o,n)):oG.EMPTY}Og.merge=aG;var G1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var t=Re,n=kt;e.NEVER=new t.Observable(n.noop);function r(){return e.NEVER}e.never=r})(G1);var Id={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.argsOrArgArray=void 0;var sG=Array.isArray;function uG(e){return e.length===1&&sG(e[0])?e[0]:e}ni.argsOrArgArray=uG;Object.defineProperty(Id,"__esModule",{value:!0});Id.onErrorResumeNext=void 0;var lG=Re,cG=ni,fG=ee,ZO=kt,dG=ue;function hG(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=cG.argsOrArgArray(e);return new lG.Observable(function(r){var o=0,i=function(){if(o<n.length){var a=void 0;try{a=dG.innerFrom(n[o++])}catch{i();return}var s=new fG.OperatorSubscriber(r,void 0,ZO.noop,ZO.noop);a.subscribe(s),s.add(i)}else r.complete()};i()})}Id.onErrorResumeNext=hG;var Ag={};Object.defineProperty(Ag,"__esModule",{value:!0});Ag.pairs=void 0;var pG=Ur;function mG(e,t){return pG.from(Object.entries(e),t)}Ag.pairs=mG;var $g={},Tg={};Object.defineProperty(Tg,"__esModule",{value:!0});Tg.not=void 0;function vG(e,t){return function(n,r){return!e.call(t,n,r)}}Tg.not=vG;var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.filter=void 0;var gG=G,yG=ee;function bG(e,t){return gG.operate(function(n,r){var o=0;n.subscribe(yG.createOperatorSubscriber(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}ri.filter=bG;Object.defineProperty($g,"__esModule",{value:!0});$g.partition=void 0;var wG=Tg,eA=ri,tA=ue;function _G(e,t,n){return[eA.filter(t,n)(tA.innerFrom(e)),eA.filter(wG.not(t,n))(tA.innerFrom(e))]}$g.partition=_G;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.raceInit=hs.race=void 0;var SG=Re,Pj=ue,EG=ni,xG=ee;function PG(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=EG.argsOrArgArray(e),e.length===1?Pj.innerFrom(e[0]):new SG.Observable(Cj(e))}hs.race=PG;function Cj(e){return function(t){for(var n=[],r=function(i){n.push(Pj.innerFrom(e[i]).subscribe(xG.createOperatorSubscriber(t,function(a){if(n){for(var s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}t.next(a)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}hs.raceInit=Cj;var Rg={};Object.defineProperty(Rg,"__esModule",{value:!0});Rg.range=void 0;var CG=Re,OG=Ir;function AG(e,t,n){if(t==null&&(t=e,e=0),t<=0)return OG.EMPTY;var r=t+e;return new CG.Observable(n?function(o){var i=e;return n.schedule(function(){i<r?(o.next(i++),this.schedule()):o.complete()})}:function(o){for(var i=e;i<r&&!o.closed;)o.next(i++);o.complete()})}Rg.range=AG;var kg={};Object.defineProperty(kg,"__esModule",{value:!0});kg.using=void 0;var $G=Re,TG=ue,RG=Ir;function kG(e,t){return new $G.Observable(function(n){var r=e(),o=t(r),i=o?TG.innerFrom(o):RG.EMPTY;return i.subscribe(n),function(){r&&r.unsubscribe()}})}kg.using=kG;var Fl={},MG=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},IG=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.zip=void 0;var DG=Re,jG=ue,NG=ni,LG=Ir,FG=ee,BG=vt;function UG(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=BG.popResultSelector(e),r=NG.argsOrArgArray(e);return r.length?new DG.Observable(function(o){var i=r.map(function(){return[]}),a=r.map(function(){return!1});o.add(function(){i=a=null});for(var s=function(l){jG.innerFrom(r[l]).subscribe(FG.createOperatorSubscriber(o,function(c){if(i[l].push(c),i.every(function(d){return d.length})){var f=i.map(function(d){return d.shift()});o.next(n?n.apply(void 0,IG([],MG(f))):f),i.some(function(d,h){return!d.length&&a[h]})&&o.complete()}},function(){a[l]=!0,!i[l].length&&o.complete()}))},u=0;!o.closed&&u<r.length;u++)s(u);return function(){i=a=null}}):LG.EMPTY}Fl.zip=UG;var Oj={};Object.defineProperty(Oj,"__esModule",{value:!0});var Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});Dd.audit=void 0;var VG=G,WG=ue,nA=ee;function zG(e){return VG.operate(function(t,n){var r=!1,o=null,i=null,a=!1,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var l=o;o=null,n.next(l)}a&&n.complete()},u=function(){i=null,a&&n.complete()};t.subscribe(nA.createOperatorSubscriber(n,function(l){r=!0,o=l,i||WG.innerFrom(e(l)).subscribe(i=nA.createOperatorSubscriber(n,s,u))},function(){a=!0,(!r||!i||i.closed)&&n.complete()}))})}Dd.audit=zG;var Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.auditTime=void 0;var KG=Mn,HG=Dd,qG=ho;function GG(e,t){return t===void 0&&(t=KG.asyncScheduler),HG.audit(function(){return qG.timer(e,t)})}Mg.auditTime=GG;var Ig={};Object.defineProperty(Ig,"__esModule",{value:!0});Ig.buffer=void 0;var YG=G,QG=kt,rA=ee,XG=ue;function JG(e){return YG.operate(function(t,n){var r=[];return t.subscribe(rA.createOperatorSubscriber(n,function(o){return r.push(o)},function(){n.next(r),n.complete()})),XG.innerFrom(e).subscribe(rA.createOperatorSubscriber(n,function(){var o=r;r=[],n.next(o)},QG.noop)),function(){r=null}})}Ig.buffer=JG;var Dg={},P0=k&&k.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Dg,"__esModule",{value:!0});Dg.bufferCount=void 0;var ZG=G,eY=ee,tY=Br;function nY(e,t){return t===void 0&&(t=null),t=t??e,ZG.operate(function(n,r){var o=[],i=0;n.subscribe(eY.createOperatorSubscriber(r,function(a){var s,u,l,c,f=null;i++%t===0&&o.push([]);try{for(var d=P0(o),h=d.next();!h.done;h=d.next()){var m=h.value;m.push(a),e<=m.length&&(f=f??[],f.push(m))}}catch(v){s={error:v}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}if(f)try{for(var p=P0(f),b=p.next();!b.done;b=p.next()){var m=b.value;tY.arrRemove(o,m),r.next(m)}}catch(v){l={error:v}}finally{try{b&&!b.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}},function(){var a,s;try{for(var u=P0(o),l=u.next();!l.done;l=u.next()){var c=l.value;r.next(c)}}catch(f){a={error:f}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}r.complete()},void 0,function(){o=null}))})}Dg.bufferCount=nY;var jg={},rY=k&&k.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(jg,"__esModule",{value:!0});jg.bufferTime=void 0;var oY=At,iY=G,aY=ee,sY=Br,uY=Mn,lY=vt,oA=Vr;function cY(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=(t=lY.popScheduler(r))!==null&&t!==void 0?t:uY.asyncScheduler,a=(n=r[0])!==null&&n!==void 0?n:null,s=r[1]||1/0;return iY.operate(function(u,l){var c=[],f=!1,d=function(p){var b=p.buffer,v=p.subs;v.unsubscribe(),sY.arrRemove(c,p),l.next(b),f&&h()},h=function(){if(c){var p=new oY.Subscription;l.add(p);var b=[],v={buffer:b,subs:p};c.push(v),oA.executeSchedule(p,i,function(){return d(v)},e)}};a!==null&&a>=0?oA.executeSchedule(l,i,h,a,!0):f=!0,h();var m=aY.createOperatorSubscriber(l,function(p){var b,v,y=c.slice();try{for(var w=rY(y),_=w.next();!_.done;_=w.next()){var S=_.value,E=S.buffer;E.push(p),s<=E.length&&d(S)}}catch(x){b={error:x}}finally{try{_&&!_.done&&(v=w.return)&&v.call(w)}finally{if(b)throw b.error}}},function(){for(;c!=null&&c.length;)l.next(c.shift().buffer);m==null||m.unsubscribe(),l.complete(),l.unsubscribe()},void 0,function(){return c=null});u.subscribe(m)})}jg.bufferTime=cY;var Ng={},fY=k&&k.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ng,"__esModule",{value:!0});Ng.bufferToggle=void 0;var dY=At,hY=G,iA=ue,C0=ee,aA=kt,pY=Br;function mY(e,t){return hY.operate(function(n,r){var o=[];iA.innerFrom(e).subscribe(C0.createOperatorSubscriber(r,function(i){var a=[];o.push(a);var s=new dY.Subscription,u=function(){pY.arrRemove(o,a),r.next(a),s.unsubscribe()};s.add(iA.innerFrom(t(i)).subscribe(C0.createOperatorSubscriber(r,u,aA.noop)))},aA.noop)),n.subscribe(C0.createOperatorSubscriber(r,function(i){var a,s;try{for(var u=fY(o),l=u.next();!l.done;l=u.next()){var c=l.value;c.push(i)}}catch(f){a={error:f}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},function(){for(;o.length>0;)r.next(o.shift());r.complete()}))})}Ng.bufferToggle=mY;var Lg={};Object.defineProperty(Lg,"__esModule",{value:!0});Lg.bufferWhen=void 0;var vY=G,gY=kt,sA=ee,yY=ue;function bY(e){return vY.operate(function(t,n){var r=null,o=null,i=function(){o==null||o.unsubscribe();var a=r;r=[],a&&n.next(a),yY.innerFrom(e()).subscribe(o=sA.createOperatorSubscriber(n,i,gY.noop))};i(),t.subscribe(sA.createOperatorSubscriber(n,function(a){return r==null?void 0:r.push(a)},function(){r&&n.next(r),n.complete()},void 0,function(){return r=o=null}))})}Lg.bufferWhen=bY;var Fg={};Object.defineProperty(Fg,"__esModule",{value:!0});Fg.catchError=void 0;var wY=ue,_Y=ee,SY=G;function Aj(e){return SY.operate(function(t,n){var r=null,o=!1,i;r=t.subscribe(_Y.createOperatorSubscriber(n,void 0,void 0,function(a){i=wY.innerFrom(e(a,Aj(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}Fg.catchError=Aj;var Bg={},jd={},Nd={},Ld={},ga={},Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});Fd.scanInternals=void 0;var EY=ee;function xY(e,t,n,r,o){return function(i,a){var s=n,u=t,l=0;i.subscribe(EY.createOperatorSubscriber(a,function(c){var f=l++;u=s?e(u,c,f):(s=!0,c),r&&a.next(u)},o&&function(){s&&a.next(u),a.complete()}))}}Fd.scanInternals=xY;Object.defineProperty(ga,"__esModule",{value:!0});ga.reduce=void 0;var PY=Fd,CY=G;function OY(e,t){return CY.operate(PY.scanInternals(e,t,arguments.length>=2,!1,!0))}ga.reduce=OY;Object.defineProperty(Ld,"__esModule",{value:!0});Ld.toArray=void 0;var AY=ga,$Y=G,TY=function(e,t){return e.push(t),e};function RY(){return $Y.operate(function(e,t){AY.reduce(TY,[])(e).subscribe(t)})}Ld.toArray=RY;Object.defineProperty(Nd,"__esModule",{value:!0});Nd.joinAllInternals=void 0;var kY=Mt,MY=co,IY=Uo,DY=Wr,jY=Ld;function NY(e,t){return IY.pipe(jY.toArray(),DY.mergeMap(function(n){return e(n)}),t?MY.mapOneOrManyArgs(t):kY.identity)}Nd.joinAllInternals=NY;Object.defineProperty(jd,"__esModule",{value:!0});jd.combineLatestAll=void 0;var LY=Yi,FY=Nd;function BY(e){return FY.joinAllInternals(LY.combineLatest,e)}jd.combineLatestAll=BY;Object.defineProperty(Bg,"__esModule",{value:!0});Bg.combineAll=void 0;var UY=jd;Bg.combineAll=UY.combineLatestAll;var Ug={},Vg={},uA=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},lA=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(Vg,"__esModule",{value:!0});Vg.combineLatest=void 0;var VY=Yi,WY=G,zY=ni,KY=co,HY=Uo,qY=vt;function $j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=qY.popResultSelector(e);return n?HY.pipe($j.apply(void 0,lA([],uA(e))),KY.mapOneOrManyArgs(n)):WY.operate(function(r,o){VY.combineLatestInit(lA([r],uA(zY.argsOrArgArray(e))))(o)})}Vg.combineLatest=$j;var GY=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},YY=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(Ug,"__esModule",{value:!0});Ug.combineLatestWith=void 0;var QY=Vg;function XY(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return QY.combineLatest.apply(void 0,YY([],GY(e)))}Ug.combineLatestWith=XY;var Bd={};Object.defineProperty(Bd,"__esModule",{value:!0});Bd.concatMap=void 0;var cA=Wr,JY=$e;function ZY(e,t){return JY.isFunction(t)?cA.mergeMap(e,t,1):cA.mergeMap(e,1)}Bd.concatMap=ZY;var Wg={};Object.defineProperty(Wg,"__esModule",{value:!0});Wg.concatMapTo=void 0;var fA=Bd,eQ=$e;function tQ(e,t){return eQ.isFunction(t)?fA.concatMap(function(){return e},t):fA.concatMap(function(){return e})}Wg.concatMapTo=tQ;var zg={},Kg={},nQ=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},rQ=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(Kg,"__esModule",{value:!0});Kg.concat=void 0;var oQ=G,iQ=Nl,aQ=vt,sQ=Ur;function uQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=aQ.popScheduler(e);return oQ.operate(function(r,o){iQ.concatAll()(sQ.from(rQ([r],nQ(e)),n)).subscribe(o)})}Kg.concat=uQ;var lQ=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},cQ=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(zg,"__esModule",{value:!0});zg.concatWith=void 0;var fQ=Kg;function dQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fQ.concat.apply(void 0,cQ([],lQ(e)))}zg.concatWith=dQ;var Bl={},Hg={};Object.defineProperty(Hg,"__esModule",{value:!0});Hg.fromSubscribable=void 0;var hQ=Re;function pQ(e){return new hQ.Observable(function(t){return e.subscribe(t)})}Hg.fromSubscribable=pQ;Object.defineProperty(Bl,"__esModule",{value:!0});Bl.connect=void 0;var mQ=dt,vQ=ue,gQ=G,yQ=Hg,bQ={connector:function(){return new mQ.Subject}};function wQ(e,t){t===void 0&&(t=bQ);var n=t.connector;return gQ.operate(function(r,o){var i=n();vQ.innerFrom(e(yQ.fromSubscribable(i))).subscribe(o),o.add(r.subscribe(i))})}Bl.connect=wQ;var qg={};Object.defineProperty(qg,"__esModule",{value:!0});qg.count=void 0;var _Q=ga;function SQ(e){return _Q.reduce(function(t,n,r){return!e||e(n,r)?t+1:t},0)}qg.count=SQ;var Gg={};Object.defineProperty(Gg,"__esModule",{value:!0});Gg.debounce=void 0;var EQ=G,xQ=kt,dA=ee,PQ=ue;function CQ(e){return EQ.operate(function(t,n){var r=!1,o=null,i=null,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var s=o;o=null,n.next(s)}};t.subscribe(dA.createOperatorSubscriber(n,function(s){i==null||i.unsubscribe(),r=!0,o=s,i=dA.createOperatorSubscriber(n,a,xQ.noop),PQ.innerFrom(e(s)).subscribe(i)},function(){a(),n.complete()},void 0,function(){o=i=null}))})}Gg.debounce=CQ;var Yg={};Object.defineProperty(Yg,"__esModule",{value:!0});Yg.debounceTime=void 0;var OQ=Mn,AQ=G,$Q=ee;function TQ(e,t){return t===void 0&&(t=OQ.asyncScheduler),AQ.operate(function(n,r){var o=null,i=null,a=null,s=function(){if(o){o.unsubscribe(),o=null;var l=i;i=null,r.next(l)}};function u(){var l=a+e,c=t.now();if(c<l){o=this.schedule(void 0,l-c),r.add(o);return}s()}n.subscribe($Q.createOperatorSubscriber(r,function(l){i=l,a=t.now(),o||(o=t.schedule(u,e),r.add(o))},function(){s(),r.complete()},void 0,function(){i=o=null}))})}Yg.debounceTime=TQ;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.defaultIfEmpty=void 0;var RQ=G,kQ=ee;function MQ(e){return RQ.operate(function(t,n){var r=!1;t.subscribe(kQ.createOperatorSubscriber(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}Bs.defaultIfEmpty=MQ;var Qg={},Ud={},Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.take=void 0;var IQ=Ir,DQ=G,jQ=ee;function NQ(e){return e<=0?function(){return IQ.EMPTY}:DQ.operate(function(t,n){var r=0;t.subscribe(jQ.createOperatorSubscriber(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}Us.take=NQ;var Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.ignoreElements=void 0;var LQ=G,FQ=ee,BQ=kt;function UQ(){return LQ.operate(function(e,t){e.subscribe(FQ.createOperatorSubscriber(t,BQ.noop))})}Vd.ignoreElements=UQ;var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.mapTo=void 0;var VQ=fo;function WQ(e){return VQ.map(function(){return e})}Wd.mapTo=WQ;Object.defineProperty(Ud,"__esModule",{value:!0});Ud.delayWhen=void 0;var zQ=Ns,hA=Us,KQ=Vd,HQ=Wd,qQ=Wr,GQ=ue;function Tj(e,t){return t?function(n){return zQ.concat(t.pipe(hA.take(1),KQ.ignoreElements()),n.pipe(Tj(e)))}:qQ.mergeMap(function(n,r){return GQ.innerFrom(e(n,r)).pipe(hA.take(1),HQ.mapTo(n))})}Ud.delayWhen=Tj;Object.defineProperty(Qg,"__esModule",{value:!0});Qg.delay=void 0;var YQ=Mn,QQ=Ud,XQ=ho;function JQ(e,t){t===void 0&&(t=YQ.asyncScheduler);var n=XQ.timer(e,t);return QQ.delayWhen(function(){return n})}Qg.delay=JQ;var Xg={};Object.defineProperty(Xg,"__esModule",{value:!0});Xg.dematerialize=void 0;var ZQ=fg,eX=G,tX=ee;function nX(){return eX.operate(function(e,t){e.subscribe(tX.createOperatorSubscriber(t,function(n){return ZQ.observeNotification(n,t)}))})}Xg.dematerialize=nX;var Jg={};Object.defineProperty(Jg,"__esModule",{value:!0});Jg.distinct=void 0;var rX=G,pA=ee,oX=kt,iX=ue;function aX(e,t){return rX.operate(function(n,r){var o=new Set;n.subscribe(pA.createOperatorSubscriber(r,function(i){var a=e?e(i):i;o.has(a)||(o.add(a),r.next(i))})),t&&iX.innerFrom(t).subscribe(pA.createOperatorSubscriber(r,function(){return o.clear()},oX.noop))})}Jg.distinct=aX;var zd={};Object.defineProperty(zd,"__esModule",{value:!0});zd.distinctUntilChanged=void 0;var sX=Mt,uX=G,lX=ee;function cX(e,t){return t===void 0&&(t=sX.identity),e=e??fX,uX.operate(function(n,r){var o,i=!0;n.subscribe(lX.createOperatorSubscriber(r,function(a){var s=t(a);(i||!e(o,s))&&(i=!1,o=s,r.next(a))}))})}zd.distinctUntilChanged=cX;function fX(e,t){return e===t}var Zg={};Object.defineProperty(Zg,"__esModule",{value:!0});Zg.distinctUntilKeyChanged=void 0;var dX=zd;function hX(e,t){return dX.distinctUntilChanged(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}Zg.distinctUntilKeyChanged=hX;var ey={},Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.throwIfEmpty=void 0;var pX=lo,mX=G,vX=ee;function gX(e){return e===void 0&&(e=yX),mX.operate(function(t,n){var r=!1;t.subscribe(vX.createOperatorSubscriber(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}Vs.throwIfEmpty=gX;function yX(){return new pX.EmptyError}Object.defineProperty(ey,"__esModule",{value:!0});ey.elementAt=void 0;var mA=Od,bX=ri,wX=Vs,_X=Bs,SX=Us;function EX(e,t){if(e<0)throw new mA.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(r){return r.pipe(bX.filter(function(o,i){return i===e}),SX.take(1),n?_X.defaultIfEmpty(t):wX.throwIfEmpty(function(){return new mA.ArgumentOutOfRangeError}))}}ey.elementAt=EX;var ty={},xX=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},PX=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(ty,"__esModule",{value:!0});ty.endWith=void 0;var CX=Ns,OX=Ml;function AX(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return CX.concat(n,OX.of.apply(void 0,PX([],xX(e))))}}ty.endWith=AX;var ny={};Object.defineProperty(ny,"__esModule",{value:!0});ny.every=void 0;var $X=G,TX=ee;function RX(e,t){return $X.operate(function(n,r){var o=0;n.subscribe(TX.createOperatorSubscriber(r,function(i){e.call(t,i,o++,n)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}ny.every=RX;var ry={},Kd={},Hd={};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.exhaustMap=void 0;var kX=fo,vA=ue,MX=G,gA=ee;function Rj(e,t){return t?function(n){return n.pipe(Rj(function(r,o){return vA.innerFrom(e(r,o)).pipe(kX.map(function(i,a){return t(r,i,o,a)}))}))}:MX.operate(function(n,r){var o=0,i=null,a=!1;n.subscribe(gA.createOperatorSubscriber(r,function(s){i||(i=gA.createOperatorSubscriber(r,void 0,function(){i=null,a&&r.complete()}),vA.innerFrom(e(s,o++)).subscribe(i))},function(){a=!0,!i&&r.complete()}))})}Hd.exhaustMap=Rj;Object.defineProperty(Kd,"__esModule",{value:!0});Kd.exhaustAll=void 0;var IX=Hd,DX=Mt;function jX(){return IX.exhaustMap(DX.identity)}Kd.exhaustAll=jX;Object.defineProperty(ry,"__esModule",{value:!0});ry.exhaust=void 0;var NX=Kd;ry.exhaust=NX.exhaustAll;var oy={};Object.defineProperty(oy,"__esModule",{value:!0});oy.expand=void 0;var LX=G,FX=Ll;function BX(e,t,n){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,LX.operate(function(r,o){return FX.mergeInternals(r,o,e,t,void 0,!0,n)})}oy.expand=BX;var iy={};Object.defineProperty(iy,"__esModule",{value:!0});iy.finalize=void 0;var UX=G;function VX(e){return UX.operate(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}iy.finalize=VX;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.createFind=ps.find=void 0;var WX=G,zX=ee;function KX(e,t){return WX.operate(kj(e,t,"value"))}ps.find=KX;function kj(e,t,n){var r=n==="index";return function(o,i){var a=0;o.subscribe(zX.createOperatorSubscriber(i,function(s){var u=a++;e.call(t,s,u,o)&&(i.next(r?u:s),i.complete())},function(){i.next(r?-1:void 0),i.complete()}))}}ps.createFind=kj;var ay={};Object.defineProperty(ay,"__esModule",{value:!0});ay.findIndex=void 0;var HX=G,qX=ps;function GX(e,t){return HX.operate(qX.createFind(e,t,"index"))}ay.findIndex=GX;var sy={};Object.defineProperty(sy,"__esModule",{value:!0});sy.first=void 0;var YX=lo,QX=ri,XX=Us,JX=Bs,ZX=Vs,eJ=Mt;function tJ(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?QX.filter(function(o,i){return e(o,i,r)}):eJ.identity,XX.take(1),n?JX.defaultIfEmpty(t):ZX.throwIfEmpty(function(){return new YX.EmptyError}))}}sy.first=tJ;var uy={};Object.defineProperty(uy,"__esModule",{value:!0});uy.groupBy=void 0;var nJ=Re,rJ=ue,oJ=dt,iJ=G,yA=ee;function aJ(e,t,n,r){return iJ.operate(function(o,i){var a;!t||typeof t=="function"?a=t:(n=t.duration,a=t.element,r=t.connector);var s=new Map,u=function(m){s.forEach(m),m(i)},l=function(m){return u(function(p){return p.error(m)})},c=0,f=!1,d=new yA.OperatorSubscriber(i,function(m){try{var p=e(m),b=s.get(p);if(!b){s.set(p,b=r?r():new oJ.Subject);var v=h(p,b);if(i.next(v),n){var y=yA.createOperatorSubscriber(b,function(){b.complete(),y==null||y.unsubscribe()},void 0,void 0,function(){return s.delete(p)});d.add(rJ.innerFrom(n(v)).subscribe(y))}}b.next(a?a(m):m)}catch(w){l(w)}},function(){return u(function(m){return m.complete()})},l,function(){return s.clear()},function(){return f=!0,c===0});o.subscribe(d);function h(m,p){var b=new nJ.Observable(function(v){c++;var y=p.subscribe(v);return function(){y.unsubscribe(),--c===0&&f&&d.unsubscribe()}});return b.key=m,b}})}uy.groupBy=aJ;var ly={};Object.defineProperty(ly,"__esModule",{value:!0});ly.isEmpty=void 0;var sJ=G,uJ=ee;function lJ(){return sJ.operate(function(e,t){e.subscribe(uJ.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}ly.isEmpty=lJ;var cy={},qd={},cJ=k&&k.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qd,"__esModule",{value:!0});qd.takeLast=void 0;var fJ=Ir,dJ=G,hJ=ee;function pJ(e){return e<=0?function(){return fJ.EMPTY}:dJ.operate(function(t,n){var r=[];t.subscribe(hJ.createOperatorSubscriber(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var a=cJ(r),s=a.next();!s.done;s=a.next()){var u=s.value;n.next(u)}}catch(l){o={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}qd.takeLast=pJ;Object.defineProperty(cy,"__esModule",{value:!0});cy.last=void 0;var mJ=lo,vJ=ri,gJ=qd,yJ=Vs,bJ=Bs,wJ=Mt;function _J(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?vJ.filter(function(o,i){return e(o,i,r)}):wJ.identity,gJ.takeLast(1),n?bJ.defaultIfEmpty(t):yJ.throwIfEmpty(function(){return new mJ.EmptyError}))}}cy.last=_J;var fy={};Object.defineProperty(fy,"__esModule",{value:!0});fy.materialize=void 0;var O0=fg,SJ=G,EJ=ee;function xJ(){return SJ.operate(function(e,t){e.subscribe(EJ.createOperatorSubscriber(t,function(n){t.next(O0.Notification.createNext(n))},function(){t.next(O0.Notification.createComplete()),t.complete()},function(n){t.next(O0.Notification.createError(n)),t.complete()}))})}fy.materialize=xJ;var dy={};Object.defineProperty(dy,"__esModule",{value:!0});dy.max=void 0;var PJ=ga,CJ=$e;function OJ(e){return PJ.reduce(CJ.isFunction(e)?function(t,n){return e(t,n)>0?t:n}:function(t,n){return t>n?t:n})}dy.max=OJ;var hy={};Object.defineProperty(hy,"__esModule",{value:!0});hy.flatMap=void 0;var AJ=Wr;hy.flatMap=AJ.mergeMap;var py={};Object.defineProperty(py,"__esModule",{value:!0});py.mergeMapTo=void 0;var bA=Wr,$J=$e;function TJ(e,t,n){return n===void 0&&(n=1/0),$J.isFunction(t)?bA.mergeMap(function(){return e},t,n):(typeof t=="number"&&(n=t),bA.mergeMap(function(){return e},n))}py.mergeMapTo=TJ;var my={};Object.defineProperty(my,"__esModule",{value:!0});my.mergeScan=void 0;var RJ=G,kJ=Ll;function MJ(e,t,n){return n===void 0&&(n=1/0),RJ.operate(function(r,o){var i=t;return kJ.mergeInternals(r,o,function(a,s){return e(i,a,s)},n,function(a){i=a},!1,void 0,function(){return i=null})})}my.mergeScan=MJ;var vy={},gy={},IJ=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},DJ=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(gy,"__esModule",{value:!0});gy.merge=void 0;var jJ=G,NJ=ni,LJ=Ls,wA=vt,FJ=Ur;function BJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wA.popScheduler(e),r=wA.popNumber(e,1/0);return e=NJ.argsOrArgArray(e),jJ.operate(function(o,i){LJ.mergeAll(r)(FJ.from(DJ([o],IJ(e)),n)).subscribe(i)})}gy.merge=BJ;var UJ=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},VJ=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(vy,"__esModule",{value:!0});vy.mergeWith=void 0;var WJ=gy;function zJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return WJ.merge.apply(void 0,VJ([],UJ(e)))}vy.mergeWith=zJ;var yy={};Object.defineProperty(yy,"__esModule",{value:!0});yy.min=void 0;var KJ=ga,HJ=$e;function qJ(e){return KJ.reduce(HJ.isFunction(e)?function(t,n){return e(t,n)<0?t:n}:function(t,n){return t<n?t:n})}yy.min=qJ;var Ul={};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.multicast=void 0;var GJ=Ms,_A=$e,YJ=Bl;function QJ(e,t){var n=_A.isFunction(e)?e:function(){return e};return _A.isFunction(t)?YJ.connect(t,{connector:n}):function(r){return new GJ.ConnectableObservable(r,n)}}Ul.multicast=QJ;var sl={},XJ=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},JJ=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(sl,"__esModule",{value:!0});sl.onErrorResumeNext=sl.onErrorResumeNextWith=void 0;var ZJ=ni,eZ=Id;function Mj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ZJ.argsOrArgArray(e);return function(r){return eZ.onErrorResumeNext.apply(void 0,JJ([r],XJ(n)))}}sl.onErrorResumeNextWith=Mj;sl.onErrorResumeNext=Mj;var by={};Object.defineProperty(by,"__esModule",{value:!0});by.pairwise=void 0;var tZ=G,nZ=ee;function rZ(){return tZ.operate(function(e,t){var n,r=!1;e.subscribe(nZ.createOperatorSubscriber(t,function(o){var i=n;n=o,r&&t.next([i,o]),r=!0}))})}by.pairwise=rZ;var wy={};Object.defineProperty(wy,"__esModule",{value:!0});wy.pluck=void 0;var oZ=fo;function iZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(n===0)throw new Error("list of properties cannot be empty.");return oZ.map(function(r){for(var o=r,i=0;i<n;i++){var a=o==null?void 0:o[e[i]];if(typeof a<"u")o=a;else return}return o})}wy.pluck=iZ;var _y={};Object.defineProperty(_y,"__esModule",{value:!0});_y.publish=void 0;var aZ=dt,sZ=Ul,uZ=Bl;function lZ(e){return e?function(t){return uZ.connect(e)(t)}:function(t){return sZ.multicast(new aZ.Subject)(t)}}_y.publish=lZ;var Sy={};Object.defineProperty(Sy,"__esModule",{value:!0});Sy.publishBehavior=void 0;var cZ=vd,fZ=Ms;function dZ(e){return function(t){var n=new cZ.BehaviorSubject(e);return new fZ.ConnectableObservable(t,function(){return n})}}Sy.publishBehavior=dZ;var Ey={};Object.defineProperty(Ey,"__esModule",{value:!0});Ey.publishLast=void 0;var hZ=kl,pZ=Ms;function mZ(){return function(e){var t=new hZ.AsyncSubject;return new pZ.ConnectableObservable(e,function(){return t})}}Ey.publishLast=mZ;var xy={};Object.defineProperty(xy,"__esModule",{value:!0});xy.publishReplay=void 0;var vZ=Rl,gZ=Ul,SA=$e;function yZ(e,t,n,r){n&&!SA.isFunction(n)&&(r=n);var o=SA.isFunction(n)?n:void 0;return function(i){return gZ.multicast(new vZ.ReplaySubject(e,t,r),o)(i)}}xy.publishReplay=yZ;var Py={},bZ=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},wZ=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(Py,"__esModule",{value:!0});Py.raceWith=void 0;var _Z=hs,SZ=G,EZ=Mt;function xZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?SZ.operate(function(n,r){_Z.raceInit(wZ([n],bZ(e)))(r)}):EZ.identity}Py.raceWith=xZ;var Cy={};Object.defineProperty(Cy,"__esModule",{value:!0});Cy.repeat=void 0;var PZ=Ir,CZ=G,EA=ee,OZ=ue,AZ=ho;function $Z(e){var t,n=1/0,r;return e!=null&&(typeof e=="object"?(t=e.count,n=t===void 0?1/0:t,r=e.delay):n=e),n<=0?function(){return PZ.EMPTY}:CZ.operate(function(o,i){var a=0,s,u=function(){if(s==null||s.unsubscribe(),s=null,r!=null){var c=typeof r=="number"?AZ.timer(r):OZ.innerFrom(r(a)),f=EA.createOperatorSubscriber(i,function(){f.unsubscribe(),l()});c.subscribe(f)}else l()},l=function(){var c=!1;s=o.subscribe(EA.createOperatorSubscriber(i,void 0,function(){++a<n?s?u():c=!0:i.complete()})),c&&u()};l()})}Cy.repeat=$Z;var Oy={};Object.defineProperty(Oy,"__esModule",{value:!0});Oy.repeatWhen=void 0;var TZ=ue,RZ=dt,kZ=G,xA=ee;function MZ(e){return kZ.operate(function(t,n){var r,o=!1,i,a=!1,s=!1,u=function(){return s&&a&&(n.complete(),!0)},l=function(){return i||(i=new RZ.Subject,TZ.innerFrom(e(i)).subscribe(xA.createOperatorSubscriber(n,function(){r?c():o=!0},function(){a=!0,u()}))),i},c=function(){s=!1,r=t.subscribe(xA.createOperatorSubscriber(n,void 0,function(){s=!0,!u()&&l().next()})),o&&(r.unsubscribe(),r=null,o=!1,c())};c()})}Oy.repeatWhen=MZ;var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.retry=void 0;var IZ=G,PA=ee,DZ=Mt,jZ=ho,NZ=ue;function LZ(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var n=t.count,r=n===void 0?1/0:n,o=t.delay,i=t.resetOnSuccess,a=i===void 0?!1:i;return r<=0?DZ.identity:IZ.operate(function(s,u){var l=0,c,f=function(){var d=!1;c=s.subscribe(PA.createOperatorSubscriber(u,function(h){a&&(l=0),u.next(h)},void 0,function(h){if(l++<r){var m=function(){c?(c.unsubscribe(),c=null,f()):d=!0};if(o!=null){var p=typeof o=="number"?jZ.timer(o):NZ.innerFrom(o(h,l)),b=PA.createOperatorSubscriber(u,function(){b.unsubscribe(),m()},function(){u.complete()});p.subscribe(b)}else m()}else u.error(h)})),d&&(c.unsubscribe(),c=null,f())};f()})}Ay.retry=LZ;var $y={};Object.defineProperty($y,"__esModule",{value:!0});$y.retryWhen=void 0;var FZ=ue,BZ=dt,UZ=G,CA=ee;function VZ(e){return UZ.operate(function(t,n){var r,o=!1,i,a=function(){r=t.subscribe(CA.createOperatorSubscriber(n,void 0,void 0,function(s){i||(i=new BZ.Subject,FZ.innerFrom(e(i)).subscribe(CA.createOperatorSubscriber(n,function(){return r?a():o=!0}))),i&&i.next(s)})),o&&(r.unsubscribe(),r=null,o=!1,a())};a()})}$y.retryWhen=VZ;var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.sample=void 0;var WZ=ue,zZ=G,KZ=kt,OA=ee;function HZ(e){return zZ.operate(function(t,n){var r=!1,o=null;t.subscribe(OA.createOperatorSubscriber(n,function(i){r=!0,o=i})),WZ.innerFrom(e).subscribe(OA.createOperatorSubscriber(n,function(){if(r){r=!1;var i=o;o=null,n.next(i)}},KZ.noop))})}Gd.sample=HZ;var Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.sampleTime=void 0;var qZ=Mn,GZ=Gd,YZ=Md;function QZ(e,t){return t===void 0&&(t=qZ.asyncScheduler),GZ.sample(YZ.interval(e,t))}Ty.sampleTime=QZ;var Ry={};Object.defineProperty(Ry,"__esModule",{value:!0});Ry.scan=void 0;var XZ=G,JZ=Fd;function ZZ(e,t){return XZ.operate(JZ.scanInternals(e,t,arguments.length>=2,!0))}Ry.scan=ZZ;var ky={};Object.defineProperty(ky,"__esModule",{value:!0});ky.sequenceEqual=void 0;var eee=G,tee=ee,nee=ue;function ree(e,t){return t===void 0&&(t=function(n,r){return n===r}),eee.operate(function(n,r){var o=AA(),i=AA(),a=function(u){r.next(u),r.complete()},s=function(u,l){var c=tee.createOperatorSubscriber(r,function(f){var d=l.buffer,h=l.complete;d.length===0?h?a(!1):u.buffer.push(f):!t(f,d.shift())&&a(!1)},function(){u.complete=!0;var f=l.complete,d=l.buffer;f&&a(d.length===0),c==null||c.unsubscribe()});return c};n.subscribe(s(o,i)),nee.innerFrom(e).subscribe(s(i,o))})}ky.sequenceEqual=ree;function AA(){return{buffer:[],complete:!1}}var Yd={},oee=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},iee=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.share=void 0;var Ij=ue,aee=dt,Dj=Tl,see=G;function uee(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new aee.Subject}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,a=i===void 0?!0:i,s=e.resetOnRefCountZero,u=s===void 0?!0:s;return function(l){var c,f,d,h=0,m=!1,p=!1,b=function(){f==null||f.unsubscribe(),f=void 0},v=function(){b(),c=d=void 0,m=p=!1},y=function(){var w=c;v(),w==null||w.unsubscribe()};return see.operate(function(w,_){h++,!p&&!m&&b();var S=d=d??n();_.add(function(){h--,h===0&&!p&&!m&&(f=A0(y,u))}),S.subscribe(_),!c&&h>0&&(c=new Dj.SafeSubscriber({next:function(E){return S.next(E)},error:function(E){p=!0,b(),f=A0(v,o,E),S.error(E)},complete:function(){m=!0,b(),f=A0(v,a),S.complete()}}),Ij.innerFrom(w).subscribe(c))})(l)}}Yd.share=uee;function A0(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new Dj.SafeSubscriber({next:function(){o.unsubscribe(),e()}});return Ij.innerFrom(t.apply(void 0,iee([],oee(n)))).subscribe(o)}}var My={};Object.defineProperty(My,"__esModule",{value:!0});My.shareReplay=void 0;var lee=Rl,cee=Yd;function fee(e,t,n){var r,o,i,a,s=!1;return e&&typeof e=="object"?(r=e.bufferSize,a=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,s=i===void 0?!1:i,n=e.scheduler):a=e??1/0,cee.share({connector:function(){return new lee.ReplaySubject(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}My.shareReplay=fee;var Iy={};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.single=void 0;var dee=lo,hee=$d,pee=Ad,mee=G,vee=ee;function gee(e){return mee.operate(function(t,n){var r=!1,o,i=!1,a=0;t.subscribe(vee.createOperatorSubscriber(n,function(s){i=!0,(!e||e(s,a++,t))&&(r&&n.error(new hee.SequenceError("Too many matching values")),r=!0,o=s)},function(){r?(n.next(o),n.complete()):n.error(i?new pee.NotFoundError("No matching values"):new dee.EmptyError)}))})}Iy.single=gee;var Dy={};Object.defineProperty(Dy,"__esModule",{value:!0});Dy.skip=void 0;var yee=ri;function bee(e){return yee.filter(function(t,n){return e<=n})}Dy.skip=bee;var jy={};Object.defineProperty(jy,"__esModule",{value:!0});jy.skipLast=void 0;var wee=Mt,_ee=G,See=ee;function Eee(e){return e<=0?wee.identity:_ee.operate(function(t,n){var r=new Array(e),o=0;return t.subscribe(See.createOperatorSubscriber(n,function(i){var a=o++;if(a<e)r[a]=i;else{var s=a%e,u=r[s];r[s]=i,n.next(u)}})),function(){r=null}})}jy.skipLast=Eee;var Ny={};Object.defineProperty(Ny,"__esModule",{value:!0});Ny.skipUntil=void 0;var xee=G,$A=ee,Pee=ue,Cee=kt;function Oee(e){return xee.operate(function(t,n){var r=!1,o=$A.createOperatorSubscriber(n,function(){o==null||o.unsubscribe(),r=!0},Cee.noop);Pee.innerFrom(e).subscribe(o),t.subscribe($A.createOperatorSubscriber(n,function(i){return r&&n.next(i)}))})}Ny.skipUntil=Oee;var Ly={};Object.defineProperty(Ly,"__esModule",{value:!0});Ly.skipWhile=void 0;var Aee=G,$ee=ee;function Tee(e){return Aee.operate(function(t,n){var r=!1,o=0;t.subscribe($ee.createOperatorSubscriber(n,function(i){return(r||(r=!e(i,o++)))&&n.next(i)}))})}Ly.skipWhile=Tee;var Fy={};Object.defineProperty(Fy,"__esModule",{value:!0});Fy.startWith=void 0;var TA=Ns,Ree=vt,kee=G;function Mee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ree.popScheduler(e);return kee.operate(function(r,o){(n?TA.concat(e,r,n):TA.concat(e,r)).subscribe(o)})}Fy.startWith=Mee;var By={},Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.switchMap=void 0;var Iee=ue,Dee=G,RA=ee;function jee(e,t){return Dee.operate(function(n,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};n.subscribe(RA.createOperatorSubscriber(r,function(u){o==null||o.unsubscribe();var l=0,c=i++;Iee.innerFrom(e(u,c)).subscribe(o=RA.createOperatorSubscriber(r,function(f){return r.next(t?t(u,f,c,l++):f)},function(){o=null,s()}))},function(){a=!0,s()}))})}Ws.switchMap=jee;Object.defineProperty(By,"__esModule",{value:!0});By.switchAll=void 0;var Nee=Ws,Lee=Mt;function Fee(){return Nee.switchMap(Lee.identity)}By.switchAll=Fee;var Uy={};Object.defineProperty(Uy,"__esModule",{value:!0});Uy.switchMapTo=void 0;var kA=Ws,Bee=$e;function Uee(e,t){return Bee.isFunction(t)?kA.switchMap(function(){return e},t):kA.switchMap(function(){return e})}Uy.switchMapTo=Uee;var Vy={};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.switchScan=void 0;var Vee=Ws,Wee=G;function zee(e,t){return Wee.operate(function(n,r){var o=t;return Vee.switchMap(function(i,a){return e(o,i,a)},function(i,a){return o=a,a})(n).subscribe(r),function(){o=null}})}Vy.switchScan=zee;var Wy={};Object.defineProperty(Wy,"__esModule",{value:!0});Wy.takeUntil=void 0;var Kee=G,Hee=ee,qee=ue,Gee=kt;function Yee(e){return Kee.operate(function(t,n){qee.innerFrom(e).subscribe(Hee.createOperatorSubscriber(n,function(){return n.complete()},Gee.noop)),!n.closed&&t.subscribe(n)})}Wy.takeUntil=Yee;var zy={};Object.defineProperty(zy,"__esModule",{value:!0});zy.takeWhile=void 0;var Qee=G,Xee=ee;function Jee(e,t){return t===void 0&&(t=!1),Qee.operate(function(n,r){var o=0;n.subscribe(Xee.createOperatorSubscriber(r,function(i){var a=e(i,o++);(a||t)&&r.next(i),!a&&r.complete()}))})}zy.takeWhile=Jee;var Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});Ky.tap=void 0;var Zee=$e,ete=G,tte=ee,nte=Mt;function rte(e,t,n){var r=Zee.isFunction(e)||t||n?{next:e,error:t,complete:n}:e;return r?ete.operate(function(o,i){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var s=!0;o.subscribe(tte.createOperatorSubscriber(i,function(u){var l;(l=r.next)===null||l===void 0||l.call(r,u),i.next(u)},function(){var u;s=!1,(u=r.complete)===null||u===void 0||u.call(r),i.complete()},function(u){var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,u),i.error(u)},function(){var u,l;s&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):nte.identity}Ky.tap=rte;var Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});Qd.throttle=void 0;var ote=G,MA=ee,ite=ue;function ate(e,t){return ote.operate(function(n,r){var o=t??{},i=o.leading,a=i===void 0?!0:i,s=o.trailing,u=s===void 0?!1:s,l=!1,c=null,f=null,d=!1,h=function(){f==null||f.unsubscribe(),f=null,u&&(b(),d&&r.complete())},m=function(){f=null,d&&r.complete()},p=function(v){return f=ite.innerFrom(e(v)).subscribe(MA.createOperatorSubscriber(r,h,m))},b=function(){if(l){l=!1;var v=c;c=null,r.next(v),!d&&p(v)}};n.subscribe(MA.createOperatorSubscriber(r,function(v){l=!0,c=v,!(f&&!f.closed)&&(a?b():p(v))},function(){d=!0,!(u&&l&&f&&!f.closed)&&r.complete()}))})}Qd.throttle=ate;var Hy={};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.throttleTime=void 0;var ste=Mn,ute=Qd,lte=ho;function cte(e,t,n){t===void 0&&(t=ste.asyncScheduler);var r=lte.timer(e,t);return ute.throttle(function(){return r},n)}Hy.throttleTime=cte;var ul={};Object.defineProperty(ul,"__esModule",{value:!0});ul.TimeInterval=ul.timeInterval=void 0;var fte=Mn,dte=G,hte=ee;function pte(e){return e===void 0&&(e=fte.asyncScheduler),dte.operate(function(t,n){var r=e.now();t.subscribe(hte.createOperatorSubscriber(n,function(o){var i=e.now(),a=i-r;r=i,n.next(new jj(o,a))}))})}ul.timeInterval=pte;var jj=function(){function e(t,n){this.value=t,this.interval=n}return e}();ul.TimeInterval=jj;var qy={};Object.defineProperty(qy,"__esModule",{value:!0});qy.timeoutWith=void 0;var mte=Mn,vte=jl,gte=Nm;function yte(e,t,n){var r,o,i;if(n=n??mte.async,vte.isValidDate(e)?r=e:typeof e=="number"&&(o=e),t)i=function(){return t};else throw new TypeError("No observable provided to switch to");if(r==null&&o==null)throw new TypeError("No timeout provided.");return gte.timeout({first:r,each:o,scheduler:n,with:i})}qy.timeoutWith=yte;var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.timestamp=void 0;var bte=rg,wte=fo;function _te(e){return e===void 0&&(e=bte.dateTimestampProvider),wte.map(function(t){return{value:t,timestamp:e.now()}})}Gy.timestamp=_te;var Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.window=void 0;var IA=dt,Ste=G,DA=ee,Ete=kt,xte=ue;function Pte(e){return Ste.operate(function(t,n){var r=new IA.Subject;n.next(r.asObservable());var o=function(i){r.error(i),n.error(i)};return t.subscribe(DA.createOperatorSubscriber(n,function(i){return r==null?void 0:r.next(i)},function(){r.complete(),n.complete()},o)),xte.innerFrom(e).subscribe(DA.createOperatorSubscriber(n,function(){r.complete(),n.next(r=new IA.Subject)},Ete.noop,o)),function(){r==null||r.unsubscribe(),r=null}})}Yy.window=Pte;var Qy={},Cte=k&&k.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Qy,"__esModule",{value:!0});Qy.windowCount=void 0;var jA=dt,Ote=G,Ate=ee;function $te(e,t){t===void 0&&(t=0);var n=t>0?t:e;return Ote.operate(function(r,o){var i=[new jA.Subject],a=0;o.next(i[0].asObservable()),r.subscribe(Ate.createOperatorSubscriber(o,function(s){var u,l;try{for(var c=Cte(i),f=c.next();!f.done;f=c.next()){var d=f.value;d.next(s)}}catch(p){u={error:p}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(u)throw u.error}}var h=a-e+1;if(h>=0&&h%n===0&&i.shift().complete(),++a%n===0){var m=new jA.Subject;i.push(m),o.next(m.asObservable())}},function(){for(;i.length>0;)i.shift().complete();o.complete()},function(s){for(;i.length>0;)i.shift().error(s);o.error(s)},function(){i=null}))})}Qy.windowCount=$te;var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.windowTime=void 0;var Tte=dt,Rte=Mn,kte=At,Mte=G,Ite=ee,Dte=Br,jte=vt,NA=Vr;function Nte(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=(t=jte.popScheduler(r))!==null&&t!==void 0?t:Rte.asyncScheduler,a=(n=r[0])!==null&&n!==void 0?n:null,s=r[1]||1/0;return Mte.operate(function(u,l){var c=[],f=!1,d=function(b){var v=b.window,y=b.subs;v.complete(),y.unsubscribe(),Dte.arrRemove(c,b),f&&h()},h=function(){if(c){var b=new kte.Subscription;l.add(b);var v=new Tte.Subject,y={window:v,subs:b,seen:0};c.push(y),l.next(v.asObservable()),NA.executeSchedule(b,i,function(){return d(y)},e)}};a!==null&&a>=0?NA.executeSchedule(l,i,h,a,!0):f=!0,h();var m=function(b){return c.slice().forEach(b)},p=function(b){m(function(v){var y=v.window;return b(y)}),b(l),l.unsubscribe()};return u.subscribe(Ite.createOperatorSubscriber(l,function(b){m(function(v){v.window.next(b),s<=++v.seen&&d(v)})},function(){return p(function(b){return b.complete()})},function(b){return p(function(v){return v.error(b)})})),function(){c=null}})}Xy.windowTime=Nte;var Jy={},Lte=k&&k.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.windowToggle=void 0;var Fte=dt,Bte=At,Ute=G,LA=ue,$0=ee,FA=kt,Vte=Br;function Wte(e,t){return Ute.operate(function(n,r){var o=[],i=function(a){for(;0<o.length;)o.shift().error(a);r.error(a)};LA.innerFrom(e).subscribe($0.createOperatorSubscriber(r,function(a){var s=new Fte.Subject;o.push(s);var u=new Bte.Subscription,l=function(){Vte.arrRemove(o,s),s.complete(),u.unsubscribe()},c;try{c=LA.innerFrom(t(a))}catch(f){i(f);return}r.next(s.asObservable()),u.add(c.subscribe($0.createOperatorSubscriber(r,l,FA.noop,i)))},FA.noop)),n.subscribe($0.createOperatorSubscriber(r,function(a){var s,u,l=o.slice();try{for(var c=Lte(l),f=c.next();!f.done;f=c.next()){var d=f.value;d.next(a)}}catch(h){s={error:h}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}},function(){for(;0<o.length;)o.shift().complete();r.complete()},i,function(){for(;0<o.length;)o.shift().unsubscribe()}))})}Jy.windowToggle=Wte;var Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});Zy.windowWhen=void 0;var zte=dt,Kte=G,BA=ee,Hte=ue;function qte(e){return Kte.operate(function(t,n){var r,o,i=function(s){r.error(s),n.error(s)},a=function(){o==null||o.unsubscribe(),r==null||r.complete(),r=new zte.Subject,n.next(r.asObservable());var s;try{s=Hte.innerFrom(e())}catch(u){i(u);return}s.subscribe(o=BA.createOperatorSubscriber(n,a,a,i))};a(),t.subscribe(BA.createOperatorSubscriber(n,function(s){return r.next(s)},function(){r.complete(),n.complete()},i,function(){o==null||o.unsubscribe(),r=null}))})}Zy.windowWhen=qte;var eb={},UA=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},VA=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(eb,"__esModule",{value:!0});eb.withLatestFrom=void 0;var Gte=G,WA=ee,Yte=ue,Qte=Mt,Xte=kt,Jte=vt;function Zte(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Jte.popResultSelector(e);return Gte.operate(function(r,o){for(var i=e.length,a=new Array(i),s=e.map(function(){return!1}),u=!1,l=function(f){Yte.innerFrom(e[f]).subscribe(WA.createOperatorSubscriber(o,function(d){a[f]=d,!u&&!s[f]&&(s[f]=!0,(u=s.every(Qte.identity))&&(s=null))},Xte.noop))},c=0;c<i;c++)l(c);r.subscribe(WA.createOperatorSubscriber(o,function(f){if(u){var d=VA([f],UA(a));o.next(n?n.apply(void 0,VA([],UA(d))):d)}}))})}eb.withLatestFrom=Zte;var tb={};Object.defineProperty(tb,"__esModule",{value:!0});tb.zipAll=void 0;var ene=Fl,tne=Nd;function nne(e){return tne.joinAllInternals(ene.zip,e)}tb.zipAll=nne;var nb={},rb={},rne=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},one=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(rb,"__esModule",{value:!0});rb.zip=void 0;var ine=Fl,ane=G;function sne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ane.operate(function(n,r){ine.zip.apply(void 0,one([n],rne(e))).subscribe(r)})}rb.zip=sne;var une=k&&k.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},lne=k&&k.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(nb,"__esModule",{value:!0});nb.zipWith=void 0;var cne=rb;function fne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cne.zip.apply(void 0,lne([],une(e)))}nb.zipWith=fne;(function(e){var t=k&&k.__createBinding||(Object.create?function(eu,tu,vo,Pa){Pa===void 0&&(Pa=vo),Object.defineProperty(eu,Pa,{enumerable:!0,get:function(){return tu[vo]}})}:function(eu,tu,vo,Pa){Pa===void 0&&(Pa=vo),eu[Pa]=tu[vo]}),n=k&&k.__exportStar||function(eu,tu){for(var vo in eu)vo!=="default"&&!Object.prototype.hasOwnProperty.call(tu,vo)&&t(tu,eu,vo)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var r=Re;Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return r.Observable}});var o=Ms;Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return o.ConnectableObservable}});var i=ks;Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return i.observable}});var a=ng;Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return a.animationFrames}});var s=dt;Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return s.Subject}});var u=vd;Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return u.BehaviorSubject}});var l=Rl;Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return l.ReplaySubject}});var c=kl;Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return c.AsyncSubject}});var f=aj;Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return f.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return f.asapScheduler}});var d=Mn;Object.defineProperty(e,"async",{enumerable:!0,get:function(){return d.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return d.asyncScheduler}});var h=lj;Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return h.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return h.queueScheduler}});var m=cj;Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return m.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return m.animationFrameScheduler}});var p=al;Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return p.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return p.VirtualAction}});var b=gd;Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return b.Scheduler}});var v=At;Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return v.Subscription}});var y=Tl;Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return y.Subscriber}});var w=fg;Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return w.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return w.NotificationKind}});var _=Uo;Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return _.pipe}});var S=kt;Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return S.noop}});var E=Mt;Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return E.identity}});var x=vg;Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return x.isObservable}});var P=gg;Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return P.lastValueFrom}});var O=yg;Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return O.firstValueFrom}});var T=Od;Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return T.ArgumentOutOfRangeError}});var R=lo;Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return R.EmptyError}});var M=Ad;Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return M.NotFoundError}});var U=md;Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return U.ObjectUnsubscribedError}});var $=$d;Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return $.SequenceError}});var L=Nm;Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return L.TimeoutError}});var N=dd;Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return N.UnsubscriptionError}});var V=bg;Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return V.bindCallback}});var I=wg;Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return I.bindNodeCallback}});var A=Yi;Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return A.combineLatest}});var D=Ns;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return D.concat}});var F=_g;Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return F.connectable}});var W=Fs;Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return W.defer}});var H=Ir;Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return H.empty}});var se=Sg;Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return se.forkJoin}});var _e=Ur;Object.defineProperty(e,"from",{enumerable:!0,get:function(){return _e.from}});var te=Eg;Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return te.fromEvent}});var de=xg;Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return de.fromEventPattern}});var wt=Pg;Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return wt.generate}});var ht=Cg;Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return ht.iif}});var Be=Md;Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return Be.interval}});var Ue=Og;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return Ue.merge}});var _t=G1;Object.defineProperty(e,"never",{enumerable:!0,get:function(){return _t.never}});var jn=Ml;Object.defineProperty(e,"of",{enumerable:!0,get:function(){return jn.of}});var qt=Id;Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return qt.onErrorResumeNext}});var q=Ag;Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return q.pairs}});var ne=$g;Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return ne.partition}});var je=hs;Object.defineProperty(e,"race",{enumerable:!0,get:function(){return je.race}});var Se=Rg;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return Se.range}});var me=Cd;Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return me.throwError}});var be=ho;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return be.timer}});var ke=kg;Object.defineProperty(e,"using",{enumerable:!0,get:function(){return ke.using}});var St=Fl;Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return St.zip}});var Et=yd;Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Et.scheduled}});var gr=Ir;Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return gr.EMPTY}});var ai=G1;Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return ai.NEVER}}),n(Oj,e);var si=pa;Object.defineProperty(e,"config",{enumerable:!0,get:function(){return si.config}});var zr=Dd;Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return zr.audit}});var yr=Mg;Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return yr.auditTime}});var tr=Ig;Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return tr.buffer}});var Sa=Dg;Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return Sa.bufferCount}});var _n=jg;Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return _n.bufferTime}});var Js=Ng;Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return Js.bufferToggle}});var Zs=Lg;Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return Zs.bufferWhen}});var ec=Fg;Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return ec.catchError}});var Ea=Bg;Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return Ea.combineAll}});var tc=jd;Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return tc.combineLatestAll}});var j=Ug;Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return j.combineLatestWith}});var B=Nl;Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return B.concatAll}});var z=Bd;Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return z.concatMap}});var Y=Wg;Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return Y.concatMapTo}});var Z=zg;Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return Z.concatWith}});var re=Bl;Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return re.connect}});var ae=qg;Object.defineProperty(e,"count",{enumerable:!0,get:function(){return ae.count}});var oe=Gg;Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return oe.debounce}});var Q=Yg;Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return Q.debounceTime}});var ve=Bs;Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return ve.defaultIfEmpty}});var Ee=Qg;Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return Ee.delay}});var pe=Ud;Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return pe.delayWhen}});var ge=Xg;Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return ge.dematerialize}});var Me=Jg;Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return Me.distinct}});var cn=zd;Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return cn.distinctUntilChanged}});var Sn=Zg;Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return Sn.distinctUntilKeyChanged}});var nr=ey;Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return nr.elementAt}});var ui=ty;Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return ui.endWith}});var Ft=ny;Object.defineProperty(e,"every",{enumerable:!0,get:function(){return Ft.every}});var Bt=ry;Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return Bt.exhaust}});var Kr=Kd;Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return Kr.exhaustAll}});var nc=Hd;Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return nc.exhaustMap}});var rc=oy;Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return rc.expand}});var oc=ri;Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return oc.filter}});var Te=iy;Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return Te.finalize}});var Nn=ps;Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Nn.find}});var Hr=ay;Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return Hr.findIndex}});var ic=sy;Object.defineProperty(e,"first",{enumerable:!0,get:function(){return ic.first}});var ut=uy;Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return ut.groupBy}});var xa=Vd;Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return xa.ignoreElements}});var Rh=ly;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Rh.isEmpty}});var Ub=cy;Object.defineProperty(e,"last",{enumerable:!0,get:function(){return Ub.last}});var RB=fo;Object.defineProperty(e,"map",{enumerable:!0,get:function(){return RB.map}});var kB=Wd;Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return kB.mapTo}});var MB=fy;Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return MB.materialize}});var IB=dy;Object.defineProperty(e,"max",{enumerable:!0,get:function(){return IB.max}});var DB=Ls;Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return DB.mergeAll}});var jB=hy;Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return jB.flatMap}});var NB=Wr;Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return NB.mergeMap}});var LB=py;Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return LB.mergeMapTo}});var FB=my;Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return FB.mergeScan}});var BB=vy;Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return BB.mergeWith}});var UB=yy;Object.defineProperty(e,"min",{enumerable:!0,get:function(){return UB.min}});var VB=Ul;Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return VB.multicast}});var WB=Ds;Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return WB.observeOn}});var zB=sl;Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return zB.onErrorResumeNextWith}});var KB=by;Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return KB.pairwise}});var HB=wy;Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return HB.pluck}});var qB=_y;Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return qB.publish}});var GB=Sy;Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return GB.publishBehavior}});var YB=Ey;Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return YB.publishLast}});var QB=xy;Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return QB.publishReplay}});var XB=Py;Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return XB.raceWith}});var JB=ga;Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return JB.reduce}});var ZB=Cy;Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return ZB.repeat}});var e6=Oy;Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return e6.repeatWhen}});var t6=Ay;Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return t6.retry}});var n6=$y;Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return n6.retryWhen}});var r6=pd;Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return r6.refCount}});var o6=Gd;Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return o6.sample}});var i6=Ty;Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return i6.sampleTime}});var a6=Ry;Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return a6.scan}});var s6=ky;Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return s6.sequenceEqual}});var u6=Yd;Object.defineProperty(e,"share",{enumerable:!0,get:function(){return u6.share}});var l6=My;Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return l6.shareReplay}});var c6=Iy;Object.defineProperty(e,"single",{enumerable:!0,get:function(){return c6.single}});var f6=Dy;Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return f6.skip}});var d6=jy;Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return d6.skipLast}});var h6=Ny;Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return h6.skipUntil}});var p6=Ly;Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return p6.skipWhile}});var m6=Fy;Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return m6.startWith}});var v6=js;Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return v6.subscribeOn}});var g6=By;Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return g6.switchAll}});var y6=Ws;Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return y6.switchMap}});var b6=Uy;Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return b6.switchMapTo}});var w6=Vy;Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return w6.switchScan}});var _6=Us;Object.defineProperty(e,"take",{enumerable:!0,get:function(){return _6.take}});var S6=qd;Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return S6.takeLast}});var E6=Wy;Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return E6.takeUntil}});var x6=zy;Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return x6.takeWhile}});var P6=Ky;Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return P6.tap}});var C6=Qd;Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return C6.throttle}});var O6=Hy;Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return O6.throttleTime}});var A6=Vs;Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return A6.throwIfEmpty}});var $6=ul;Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return $6.timeInterval}});var T6=Nm;Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return T6.timeout}});var R6=qy;Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return R6.timeoutWith}});var k6=Gy;Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return k6.timestamp}});var M6=Ld;Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return M6.toArray}});var I6=Yy;Object.defineProperty(e,"window",{enumerable:!0,get:function(){return I6.window}});var D6=Qy;Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return D6.windowCount}});var j6=Xy;Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return j6.windowTime}});var N6=Jy;Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return N6.windowToggle}});var L6=Zy;Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return L6.windowWhen}});var F6=eb;Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return F6.withLatestFrom}});var B6=tb;Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return B6.zipAll}});var U6=nb;Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return U6.zipWith}})})(XD);var dne=k&&k.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((r=r.apply(e,t||[])).next())})},hne=k&&k.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(eg,"__esModule",{value:!0});eg.observeNewCollections=void 0;var pne=XD;eg.observeNewCollections={name:"new-collection-observer",rxdb:!0,prototypes:{RxDatabase:function(e){var t=new pne.Subject;e.newCollections$=t;var n=e.addCollections;e.addCollections=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return dne(this,void 0,void 0,function(){var i;return hne(this,function(a){switch(a.label){case 0:return[4,n.apply(this,r)];case 1:return i=a.sent(),t.next(i),[2,i]}})})}}}};(function(e){var t=k&&k.__createBinding||(Object.create?function(c,f,d,h){h===void 0&&(h=d);var m=Object.getOwnPropertyDescriptor(f,d);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,h,m)}:function(c,f,d,h){h===void 0&&(h=d),c[h]=f[d]}),n=k&&k.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&t(f,c,d)},r=k&&k.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.useRxQuery=e.useRxDB=e.useRxData=e.useRxCollection=e.Provider=e.Context=void 0;var o=ol;Object.defineProperty(e,"Context",{enumerable:!0,get:function(){return r(o).default}}),n(ol,e);var i=Im;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return r(i).default}}),n(Im,e);var a=$f;Object.defineProperty(e,"useRxCollection",{enumerable:!0,get:function(){return r(a).default}}),n($f,e);var s=Dm;Object.defineProperty(e,"useRxData",{enumerable:!0,get:function(){return r(s).default}}),n(Dm,e);var u=Tf;Object.defineProperty(e,"useRxDB",{enumerable:!0,get:function(){return r(u).default}}),n(Tf,e);var l=Rf;Object.defineProperty(e,"useRxQuery",{enumerable:!0,get:function(){return r(l).default}}),n(Rf,e),n(eg,e)})(Mr);function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function mne(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vne(e){var t=mne(e,"string");return kf(t)=="symbol"?t:String(t)}function zA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vne(r.key),r)}}function ya(e,t,n){return t&&zA(e.prototype,t),n&&zA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gne(e){return e[e.length-1]}function KA(e){return e.slice(0).sort(()=>Math.random()-.5)}function ll(e){return Array.isArray(e)?e.slice(0):[e]}function yne(e,t){e=e.slice(0);for(var n=[];e.length;){var r=e.splice(0,t);n.push(r)}return n}function WE(e){return Array.isArray(e)}function Nj(e){return e!=null}function T0(e,t){var n=0,r=-1;for(var o of e){r=r+1;var i=t(o,r);if(i)n=n+1;else break}return n}function cl(e,t){for(var n=t.length,r=0;r<n;++r){var o=t[r];e.push(o)}}function bne(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function fl(e){var t=e.split("-");if(t.length!==2)throw new Error("malformatted revision: "+e);return{height:parseInt(t[0],10),hash:t[1]}}function HA(e){var t=parseInt(e.split("-")[0],10);return t}function Vo(e,t){var n=t?t._rev:null,r=n?fl(n).height:0,o=r+1;return o+"-"+e}var zE=1;function ba(){return{lwt:zE}}function Hn(){return""}function wne(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function _ne(e,t,n){if(t.length!==n.length)return!1;for(var r=0,o=t.length;r<o;){var i=t[r],a=n[r];if(r++,i._rev!==a._rev||i[e]!==a[e])return!1}return!0}class Li{constructor(t,n){t=this.words=t||[],this.sigBytes=n===void 0?t.length*4:n}toString(t){return(t||Sne).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let n=0;n<t.sigBytes;n++){const r=t.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<t.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=t.words[n>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Li([...this.words])}}const Sne={stringify(e){const t=[];for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;t.push((r>>>4).toString(16),(r&15).toString(16))}return t.join("")}},Ene={parse(e){const t=e.length,n=[];for(let r=0;r<t;r++)n[r>>>2]|=(e.charCodeAt(r)&255)<<24-r%4*8;return new Li(n,t)}},xne={parse(e){return Ene.parse(unescape(encodeURIComponent(e)))}};class Pne{constructor(){this._data=new Li,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new Li,this._nDataBytes=0}_append(t){typeof t=="string"&&(t=xne.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,n){}_process(t){let n,r=this._data.sigBytes/(this.blockSize*4);t?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const o=r*this.blockSize,i=Math.min(o*4,this._data.sigBytes);if(o){for(let a=0;a<o;a+=this.blockSize)this._doProcessBlock(this._data.words,a);n=this._data.words.splice(0,o),this._data.sigBytes-=i}return new Li(n,i)}}class Cne extends Pne{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}}const qA=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],One=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Oa=[];class Ane extends Cne{constructor(){super(...arguments),this._hash=new Li([...qA])}reset(){super.reset(),this._hash=new Li([...qA])}_doProcessBlock(t,n){const r=this._hash.words;let o=r[0],i=r[1],a=r[2],s=r[3],u=r[4],l=r[5],c=r[6],f=r[7];for(let d=0;d<64;d++){if(d<16)Oa[d]=t[n+d]|0;else{const w=Oa[d-15],_=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,S=Oa[d-2],E=(S<<15|S>>>17)^(S<<13|S>>>19)^S>>>10;Oa[d]=_+Oa[d-7]+E+Oa[d-16]}const h=u&l^~u&c,m=o&i^o&a^i&a,p=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),b=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),v=f+b+h+One[d]+Oa[d],y=p+m;f=c,c=l,l=u,u=s+v|0,s=a,a=i,i=o,o=v+y|0}r[0]=r[0]+o|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0,r[5]=r[5]+l|0,r[6]=r[6]+c|0,r[7]=r[7]+f|0}finalize(t){super.finalize(t);const n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function $ne(e){return new Ane().finalize(e).toString()}function Tne(e){return Promise.resolve($ne(e))}async function Rne(e){var t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t),r=Array.prototype.map.call(new Uint8Array(n),o=>("00"+o.toString(16)).slice(-2)).join("");return r}var kne=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",Mne=kne?Rne:Tne;function Ine(){return new Promise(e=>setTimeout(e,0))}function Dne(e=0){return new Promise(t=>setTimeout(t,e))}function jne(e){return e&&typeof e.then=="function"?e:Promise.resolve(e)}var dl=Promise.resolve(!0),Vn=Promise.resolve(!1),KE=Promise.resolve(null),en=Promise.resolve();function HE(e=1e4){return typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):Dne(0)}var R0=en;function Nne(e=void 0){return R0=R0.then(()=>HE(e)),R0}function Lne(e,t){return e.reduce((n,r)=>n.then(r),Promise.resolve(t))}var Fne=/\./g,GA="abcdefghijklmnopqrstuvwxyz";function Xd(e=10){for(var t="",n=0;n<e;n++)t+=GA.charAt(Math.floor(Math.random()*GA.length));return t}function Lj(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function Bp(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function hl(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!hl(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var o=Object.keys(e);if(n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){var i=o[r];if(!hl(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}var Y1=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},k0=new Set(["__proto__","prototype","constructor"]),Bne=new Set("0123456789");function Fj(e){var t=[],n="",r="start",o=!1;for(var i of e)switch(i){case"\\":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");o&&(n+=i),r="property",o=!o;break}case".":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="property";break}if(o){o=!1,n+=i;break}if(k0.has(n))return[];t.push(n),n="",r="property";break}case"[":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="index";break}if(o){o=!1,n+=i;break}if(r==="property"){if(k0.has(n))return[];t.push(n),n=""}r="index";break}case"]":{if(r==="index"){t.push(Number.parseInt(n,10)),n="",r="indexEnd";break}if(r==="indexEnd")throw new Error("Invalid character after an index")}default:{if(r==="index"&&!Bne.has(i))throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");r==="start"&&(r="property"),o&&(o=!1,n+="\\"),n+=i}}switch(o&&(n+="\\"),r){case"property":{if(k0.has(n))return[];t.push(n);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function Bj(e,t){if(typeof t!="number"&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function Une(e,t){if(Bj(e,t))throw new Error("Cannot use string index")}function Qi(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!t.includes(".")&&!t.includes("["))return e[t];if(!Y1(e)||typeof t!="string")return n===void 0?e:n;var r=Fj(t);if(r.length===0)return n;for(var o=0;o<r.length;o++){var i=r[o];if(Bj(e,i)?e=o===r.length-1?void 0:null:e=e[i],e==null){if(o!==r.length-1)return n;break}}return e===void 0?n:e}function Uj(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!Y1(e)||typeof t!="string")return e;for(var r=e,o=Fj(t),i=0;i<o.length;i++){var a=o[i];Une(e,a),i===o.length-1?e[a]=n:Y1(e[a])||(e[a]=typeof o[i+1]=="number"?[]:{}),e=e[a]}return r}function Vj(e){var t=e.split("."),n=t.length;return n===1?r=>r[e]:r=>{for(var o=r,i=0;i<n;++i){var a=t[i];if(o=o[a],typeof o>"u")return o}return o}}function Ae(e){return Object.assign({},e)}function Vne(e){return Object.keys(e)[0]}function Lm(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((r,o)=>typeof r=="string"&&typeof o=="string"?r.localeCompare(o):typeof r=="object"?1:-1).map(r=>Lm(r,t));if(typeof e=="object"&&!Array.isArray(e)){var n={};return Object.keys(e).sort((r,o)=>r.localeCompare(o)).forEach(r=>{n[r]=Lm(e[r],t)}),n}return e}function Q1(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),n=t.length;n--;)t[n]=Q1(e[n]);return t}var r={};for(var o in e)r[o]=Q1(e[o]);return r}var qn=Q1;function Fi(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}function ms(e,t){var n=e.get(t);if(typeof n>"u")throw new Error("missing value from map "+t);return n}function pr(e,t,n,r){var o=e.get(t);return typeof o>"u"?(o=n(),e.set(t,o)):r&&r(o),o}function qe(e){var t=e.split("-"),n="RxDB";return t.forEach(r=>{n+=Lj(r)}),n+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+n+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+n+`);
        `)}function X1(e){var t={name:e.name,message:e.message,rxdb:e.rxdb,parameters:e.parameters,code:e.code,stack:e.stack?e.stack.replace(/\n/g,` 
 `):void 0};return t}var M0=0;function $t(){var e=Date.now();e=e+.01,e<=M0&&(e=M0+.01);var t=parseFloat(e.toFixed(2));return M0=t,t}function he(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}var Jd={bufferSize:1,refCount:!0},Wne="15.0.0";function Mf(e,t){return Mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Mf(e,t)}function qE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Mf(e,t)}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J1(e)}function zne(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Kne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Up(e,t,n){return Kne()?Up=Reflect.construct.bind():Up=function(o,i,a){var s=[null];s.push.apply(s,i);var u=Function.bind.apply(o,s),l=new u;return a&&Mf(l,a.prototype),l},Up.apply(null,arguments)}function Fm(e){var t=typeof Map=="function"?new Map:void 0;return Fm=function(r){if(r===null||!zne(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return Up(r,arguments,J1(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Mf(o,r)},Fm(e)}var Fe={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html
        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=`+e+`
        `}};function Hne(e){var t="";return Object.keys(e).length===0||(t+=`Given parameters: {
`,t+=Object.keys(e).map(n=>{var r="[object Object]";try{n==="errors"?r=e[n].map(o=>JSON.stringify(o,Object.getOwnPropertyNames(o))):r=JSON.stringify(e[n],function(o,i){return i===void 0?null:i},2)}catch{}return n+":"+r}).join(`
`),t+="}"),t}function Wj(e,t,n){return"RxError ("+t+`):
`+e+`
`+Hne(n)}var qne=function(e){qE(t,e);function t(r,o,i={}){var a,s=Wj(o,r,i);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=i,a.rxdb=!0,a}var n=t.prototype;return n.toString=function(){return this.message},ya(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(Fm(Error)),Gne=function(e){qE(t,e);function t(r,o,i={}){var a,s=Wj(o,r,i);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=i,a.rxdb=!0,a}var n=t.prototype;return n.toString=function(){return this.message},ya(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(Fm(TypeError));function ie(e,t){return new qne(e,Fe.tunnelErrorMessage(e),t)}function Kc(e,t){return new Gne(e,Fe.tunnelErrorMessage(e),t)}function ob(e){return e&&e.status===409?e:!1}var Yne={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function Qne(e){return ie("COL20",{name:Yne[e.status],document:e.documentId,writeError:e})}var If={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Dr(e,t){If[e]&&If[e].forEach(n=>n(t))}function vs(e,t){return Promise.all(If[e].map(n=>n(t)))}function Wo(e,t){var n=t;n=n.replace(Fne,".properties."),n="properties."+n,n=Bp(n);var r=Qi(e,n);return r}function zj(e,t,n){if(typeof t.primaryKey=="string")return n;var r=wa(t,n),o=n[e];if(o&&o!==r)throw ie("DOC19",{args:{documentData:n,existingPrimary:o,newPrimary:r},schema:t});return n[e]=r,n}function Zn(e){return typeof e=="string"?e:e.key}function Xne(e){var t=Zn(e.primaryKey),n=Wo(e,t);return he(n.maxLength)}function wa(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var n=e.primaryKey;return n.fields.map(r=>{var o=Qi(t,r);if(typeof o>"u")throw ie("DOC18",{args:{field:r,documentData:t}});return o}).join(n.separator)}function Jne(e){var t=Lm(e,!0);return t}function Zne(e){return["_deleted",e]}function ib(e){e=Ae(e);var t=Zn(e.primaryKey);e.properties=Ae(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=ere,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var n=Kj(e);cl(e.required,n),e.required=e.required.filter(i=>!i.includes(".")).filter((i,a,s)=>s.indexOf(i)===a),e.version=e.version||0;var r=e.indexes.map(i=>{var a=WE(i)?i.slice(0):[i];return a.includes(t)||a.push(t),a[0]!=="_deleted"&&a.unshift("_deleted"),a});r.length===0&&r.push(Zne(t)),r.push(["_meta.lwt",t]);var o=new Set;return r.filter(i=>{var a=i.join(",");return o.has(a)?!1:(o.add(a),!0)}),e.indexes=r,e}var ere={type:"object",properties:{lwt:{type:"number",minimum:zE,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function Kj(e){var t=Object.keys(e.properties).filter(r=>e.properties[r].final),n=Zn(e.primaryKey);return t.push(n),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(r=>t.push(r)),t}function tre(e,t){for(var n=Object.keys(e.defaultValues),r=0;r<n.length;++r){var o=n[r];(!Object.prototype.hasOwnProperty.call(t,o)||typeof t[o]>"u")&&(t[o]=e.defaultValues[o])}return t}var Hj=function(){function e(n,r){this.jsonSchema=n,this.hashFunction=r,this.indexes=nre(this.jsonSchema),this.primaryPath=Zn(this.jsonSchema.primaryKey),this.finalFields=Kj(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(r,o){this.finalFields.forEach(i=>{if(!hl(r[i],o[i]))throw ie("DOC9",{dataBefore:r,dataAfter:o,fieldName:i,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var r={},o=Wo(this.jsonSchema,"");return Object.keys(o).forEach(i=>{var a=i;r.__defineGetter__(i,function(){if(!(!this.get||typeof this.get!="function")){var s=this.get(a);return s}}),Object.defineProperty(r,i+"$",{get:function(){return this.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,i+"_",{get:function(){return this.populate(a)},enumerable:!1,configurable:!1})}),Fi(this,"getDocumentPrototype",()=>r),r},t.getPrimaryOfDocumentData=function(r){return wa(this.jsonSchema,r)},ya(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.jsonSchema.properties).filter(([,r])=>Object.prototype.hasOwnProperty.call(r,"default")).forEach(([r,o])=>n[r]=o.default),Fi(this,"defaultValues",n)}},{key:"hash",get:function(){return Fi(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}]),e}();function nre(e){return(e.indexes||[]).map(t=>WE(t)?t:[t])}function rre(e){var t=e.version?e.version:0,n=0;return new Array(t).fill(0).map(()=>n++)}function ore(e,t,n=!0){n&&Dr("preCreateRxSchema",e);var r=ib(e);r=Jne(r),Fe.deepFreezeWhenDevMode(r);var o=new Hj(r,t);return Dr("createRxSchema",o),o}function gt(e){return typeof e=="function"}function ire(e){return gt(e==null?void 0:e.lift)}function po(e){return function(t){if(ire(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Z1=function(e,t){return Z1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Z1(e,t)};function zs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Z1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var tn=function(){return tn=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tn.apply(this,arguments)};function GE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function are(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(c){try{l(r.next(c))}catch(f){a(f)}}function u(c){try{l(r.throw(c))}catch(f){a(f)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((r=r.apply(e,t||[])).next())})}function qj(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function pl(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xi(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function io(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Vu(e){return this instanceof Vu?(this.v=e,this):new Vu(e)}function sre(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(d){r[d]&&(o[d]=function(h){return new Promise(function(m,p){i.push([d,h,m,p])>1||s(d,h)})})}function s(d,h){try{u(r[d](h))}catch(m){f(i[0][3],m)}}function u(d){d.value instanceof Vu?Promise.resolve(d.value.v).then(l,c):f(i[0][2],d)}function l(d){s("next",d)}function c(d){s("throw",d)}function f(d,h){d(h),i.shift(),i.length&&s(i[0][0],i[0][1])}}function ure(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof pl=="function"?pl(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(s,u){a=e[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}}var Gj=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Yj(e){return gt(e==null?void 0:e.then)}function YE(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var I0=YE(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function e_(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ab=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=pl(a),u=s.next();!u.done;u=s.next()){var l=u.value;l.remove(this)}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(gt(c))try{c()}catch(p){i=p instanceof I0?p.errors:[p]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=pl(f),h=d.next();!h.done;h=d.next()){var m=h.value;try{YA(m)}catch(p){i=i??[],p instanceof I0?i=io(io([],Xi(i)),Xi(p.errors)):i.push(p)}}}catch(p){r={error:p}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}if(i)throw new I0(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)YA(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&e_(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&e_(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Qj=ab.EMPTY;function Xj(e){return e instanceof ab||e&&"closed"in e&&gt(e.remove)&&gt(e.add)&&gt(e.unsubscribe)}function YA(e){gt(e)?e():e.unsubscribe()}var Jj={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},t_={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=t_.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,io([e,t],Xi(n))):setTimeout.apply(void 0,io([e,t],Xi(n)))},clearTimeout:function(e){var t=t_.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Zj(e){t_.setTimeout(function(){throw e})}function QA(){}function Vp(e){e()}var QE=function(e){zs(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Xj(n)&&n.add(r)):r.destination=dre,r}return t.create=function(n,r,o){return new ml(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ab),lre=Function.prototype.bind;function D0(e,t){return lre.call(e,t)}var cre=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Zh(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Zh(r)}else Zh(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Zh(n)}},e}(),ml=function(e){zs(t,e);function t(n,r,o){var i=e.call(this)||this,a;if(gt(n)||!n)a={next:n??void 0,error:r??void 0,complete:o??void 0};else{var s;i&&Jj.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return i.unsubscribe()},a={next:n.next&&D0(n.next,s),error:n.error&&D0(n.error,s),complete:n.complete&&D0(n.complete,s)}):a=n}return i.destination=new cre(a),i}return t}(QE);function Zh(e){Zj(e)}function fre(e){throw e}var dre={closed:!0,next:QA,error:fre,complete:QA},XE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Zd(e){return e}function hre(e){return e.length===0?Zd:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var Gn=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=mre(t)?t:new ml(t,n,r);return Vp(function(){var a=o,s=a.operator,u=a.source;i.add(s?s.call(i,u):u?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=XA(n),new n(function(o,i){var a=new ml({next:function(s){try{t(s)}catch(u){i(u),a.unsubscribe()}},error:i,complete:o});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[XE]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return hre(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=XA(t),new t(function(r,o){var i;n.subscribe(function(a){return i=a},function(a){return o(a)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function XA(e){var t;return(t=e??Jj.Promise)!==null&&t!==void 0?t:Promise}function pre(e){return e&&gt(e.next)&&gt(e.error)&&gt(e.complete)}function mre(e){return e&&e instanceof QE||pre(e)&&Xj(e)}function eN(e){return gt(e[XE])}function tN(e){return Symbol.asyncIterator&&gt(e==null?void 0:e[Symbol.asyncIterator])}function nN(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function vre(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rN=vre();function oN(e){return gt(e==null?void 0:e[rN])}function iN(e){return sre(this,arguments,function(){var n,r,o,i;return qj(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Vu(n.read())];case 3:return r=a.sent(),o=r.value,i=r.done,i?[4,Vu(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Vu(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function aN(e){return gt(e==null?void 0:e.getReader)}function oi(e){if(e instanceof Gn)return e;if(e!=null){if(eN(e))return gre(e);if(Gj(e))return yre(e);if(Yj(e))return bre(e);if(tN(e))return sN(e);if(oN(e))return wre(e);if(aN(e))return _re(e)}throw nN(e)}function gre(e){return new Gn(function(t){var n=e[XE]();if(gt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yre(e){return new Gn(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function bre(e){return new Gn(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Zj)})}function wre(e){return new Gn(function(t){var n,r;try{for(var o=pl(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function sN(e){return new Gn(function(t){Sre(e,t).catch(function(n){return t.error(n)})})}function _re(e){return sN(iN(e))}function Sre(e,t){var n,r,o,i;return are(this,void 0,void 0,function(){var a,s;return qj(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=ure(e),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),o={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function zo(e,t,n,r,o){return new Ere(e,t,n,r,o)}var Ere=function(e){zs(t,e);function t(n,r,o,i,a,s){var u=e.call(this,n)||this;return u.onFinalize=a,u.shouldUnsubscribe=s,u._next=r?function(l){try{r(l)}catch(c){n.error(c)}}:e.prototype._next,u._error=i?function(l){try{i(l)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=o?function(){try{o()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(QE),uN={now:function(){return(uN.delegate||Date).now()},delegate:void 0};function xre(e){return e&&gt(e.schedule)}function JE(e){return e[e.length-1]}function Pre(e){return gt(JE(e))?e.pop():void 0}function eh(e){return xre(JE(e))?e.pop():void 0}function lN(e,t){return typeof JE(e)=="number"?e.pop():t}function Ro(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}var Cre=Array.isArray,Ore=Object.getPrototypeOf,Are=Object.prototype,$re=Object.keys;function Tre(e){if(e.length===1){var t=e[0];if(Cre(t))return{args:t,keys:null};if(Rre(t)){var n=$re(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Rre(e){return e&&typeof e=="object"&&Ore(e)===Are}function cN(e,t){return t===void 0&&(t=0),po(function(n,r){n.subscribe(zo(r,function(o){return Ro(r,e,function(){return r.next(o)},t)},function(){return Ro(r,e,function(){return r.complete()},t)},function(o){return Ro(r,e,function(){return r.error(o)},t)}))})}function fN(e,t){return t===void 0&&(t=0),po(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function kre(e,t){return oi(e).pipe(fN(t),cN(t))}function Mre(e,t){return oi(e).pipe(fN(t),cN(t))}function Ire(e,t){return new Gn(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Dre(e,t){return new Gn(function(n){var r;return Ro(n,t,function(){r=e[rN](),Ro(n,t,function(){var o,i,a;try{o=r.next(),i=o.value,a=o.done}catch(s){n.error(s);return}a?n.complete():n.next(i)},0,!0)}),function(){return gt(r==null?void 0:r.return)&&r.return()}})}function dN(e,t){if(!e)throw new Error("Iterable cannot be null");return new Gn(function(n){Ro(n,t,function(){var r=e[Symbol.asyncIterator]();Ro(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function jre(e,t){return dN(iN(e),t)}function Nre(e,t){if(e!=null){if(eN(e))return kre(e,t);if(Gj(e))return Ire(e,t);if(Yj(e))return Mre(e,t);if(tN(e))return dN(e,t);if(oN(e))return Dre(e,t);if(aN(e))return jre(e,t)}throw nN(e)}function th(e,t){return t?Nre(e,t):oi(e)}function Wt(e,t){return po(function(n,r){var o=0;n.subscribe(zo(r,function(i){r.next(e.call(t,i,o++))}))})}var Lre=Array.isArray;function Fre(e,t){return Lre(t)?e.apply(void 0,io([],Xi(t))):e(t)}function Bre(e){return Wt(function(t){return Fre(e,t)})}function Ure(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function hN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eh(e),r=Pre(e),o=Tre(e),i=o.args,a=o.keys;if(i.length===0)return th([],n);var s=new Gn(Vre(i,n,a?function(u){return Ure(a,u)}:Zd));return r?s.pipe(Bre(r)):s}function Vre(e,t,n){return n===void 0&&(n=Zd),function(r){JA(t,function(){for(var o=e.length,i=new Array(o),a=o,s=o,u=function(c){JA(t,function(){var f=th(e[c],t),d=!1;f.subscribe(zo(r,function(h){i[c]=h,d||(d=!0,s--),s||r.next(n(i.slice()))},function(){--a||r.complete()}))},r)},l=0;l<o;l++)u(l)},r)}}function JA(e,t,n){e?Ro(n,e,t):t()}function Wre(e,t,n,r,o,i,a,s){var u=[],l=0,c=0,f=!1,d=function(){f&&!u.length&&!l&&t.complete()},h=function(p){return l<r?m(p):u.push(p)},m=function(p){i&&t.next(p),l++;var b=!1;oi(n(p,c++)).subscribe(zo(t,function(v){o==null||o(v),i?h(v):t.next(v)},function(){b=!0},void 0,function(){if(b)try{l--;for(var v=function(){var y=u.shift();a?Ro(t,a,function(){return m(y)}):m(y)};u.length&&l<r;)v();d()}catch(y){t.error(y)}}))};return e.subscribe(zo(t,h,function(){f=!0,d()})),function(){s==null||s()}}function Ko(e,t,n){return n===void 0&&(n=1/0),gt(t)?Ko(function(r,o){return Wt(function(i,a){return t(r,i,o,a)})(oi(e(r,o)))},n):(typeof t=="number"&&(n=t),po(function(r,o){return Wre(r,o,e,n)}))}var zre=Array.isArray;function Kre(e){return e.length===1&&zre(e[0])?e[0]:e}function ZE(e){return e===void 0&&(e=1/0),Ko(Zd,e)}function Hre(){return ZE(1)}var qre=YE(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ot=function(e){zs(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new ZA(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new qre},t.prototype.next=function(n){var r=this;Vp(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=pl(r.currentObservers),s=a.next();!s.done;s=a.next()){var u=s.value;u.next(n)}}catch(l){o={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;Vp(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;Vp(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?Qj:(this.currentObservers=null,s.push(n),new ab(function(){r.currentObservers=null,e_(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,a=r.isStopped;o?n.error(i):a&&n.complete()},t.prototype.asObservable=function(){var n=new Gn;return n.source=this,n},t.create=function(n,r){return new ZA(n,r)},t}(Gn),ZA=function(e){zs(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:Qj},t}(Ot);function e$(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Hre()(th(e,eh(e)))}var Gre=new Gn(function(e){return e.complete()});function Df(e,t){return t===void 0&&(t=Zd),e=e??Yre,po(function(n,r){var o,i=!0;n.subscribe(zo(r,function(a){var s=t(a);(i||!e(o,s))&&(i=!1,o=s,r.next(a))}))})}function Yre(e,t){return e===t}function Qe(e,t){return po(function(n,r){var o=0;n.subscribe(zo(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}var Qre=YE(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Xre(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eh(e),r=lN(e,1/0);return e=Kre(e),po(function(o,i){ZE(r)(th(io([o],Xi(e)),n)).subscribe(i)})}function Jre(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xre.apply(void 0,io([],Xi(e)))}var So=function(e){zs(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ot),Zre=function(e){zs(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=uN);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,a=r._infiniteTimeWindow,s=r._timestampProvider,u=r._windowTime;o||(i.push(n),!a&&i.push(s.now()+u)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,a=o._buffer,s=a.slice(),u=0;u<s.length&&!n.closed;u+=i?1:2)n.next(s[u]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,a=n._infiniteTimeWindow,s=(a?1:2)*r;if(r<1/0&&s<i.length&&i.splice(0,i.length-s),!a){for(var u=o.now(),l=0,c=1;c<i.length&&i[c]<=u;c+=2)l=c;l&&i.splice(0,l+1)}},t}(Ot);function eoe(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Ot}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,a=i===void 0?!0:i,s=e.resetOnRefCountZero,u=s===void 0?!0:s;return function(l){var c,f,d,h=0,m=!1,p=!1,b=function(){f==null||f.unsubscribe(),f=void 0},v=function(){b(),c=d=void 0,m=p=!1},y=function(){var w=c;v(),w==null||w.unsubscribe()};return po(function(w,_){h++,!p&&!m&&b();var S=d=d??n();_.add(function(){h--,h===0&&!p&&!m&&(f=j0(y,u))}),S.subscribe(_),!c&&h>0&&(c=new ml({next:function(E){return S.next(E)},error:function(E){p=!0,b(),f=j0(v,o,E),S.error(E)},complete:function(){m=!0,b(),f=j0(v,a),S.complete()}}),oi(w).subscribe(c))})(l)}}function j0(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new ml({next:function(){o.unsubscribe(),e()}});return oi(t.apply(void 0,io([],Xi(n)))).subscribe(o)}}function nh(e,t,n){var r,o,i,a,s=!1;return e&&typeof e=="object"?(r=e.bufferSize,a=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,s=i===void 0?!1:i,n=e.scheduler):a=e??1/0,eoe({connector:function(){return new Zre(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function rh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eh(e);return po(function(r,o){(n?e$(e,r,n):e$(e,r)).subscribe(o)})}function toe(e,t){return po(function(n,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};n.subscribe(zo(r,function(u){o==null||o.unsubscribe();var l=0,c=i++;oi(e(u,c)).subscribe(o=zo(r,function(f){return r.next(t?t(u,f,c,l++):f)},function(){o=null,s()}))},function(){a=!0,s()}))})}function ex(e){return e.documentData?e.documentData:e.previousDocumentData}function noe(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:Fe.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function Ya(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=new ml({next:function(a){r(a),i.unsubscribe()},error:o,complete:function(){n?r(t.defaultValue):o(new Qre)}});e.subscribe(i)})}function roe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eh(e),r=lN(e,1/0),o=e;return o.length?o.length===1?oi(o[0]):ZE(r)(th(o,n)):Gre}function tx(e){return e[e.length-1]}function ooe(e){const t=typeof e;return e!==null&&(t==="object"||t==="function")}function t$(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!ooe(e)||typeof t!="string")return n===void 0?e:n;const r=t.split(".");if(r.length===0)return n;for(let o=0;o<r.length;o++){const i=r[o];if(ioe(e,i)?e=o===r.length-1?void 0:null:e=e[i],e==null){if(o!==r.length-1)return n;break}}return e===void 0?n:e}function ioe(e,t){if(typeof t!="number"&&Array.isArray(e)){const n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}const pN=e=>!!e.queryParams.limit,aoe=e=>e.queryParams.limit===1,soe=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),uoe=e=>e.changeEvent.operation==="DELETE",loe=e=>e.changeEvent.operation==="INSERT",coe=e=>e.changeEvent.operation==="UPDATE",foe=e=>pN(e)&&e.previousResults.length>=e.queryParams.limit,doe=e=>{const t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n)return!0;for(let o=0;o<t.length;o++){const i=t[o],a=t$(n,i),s=t$(r,i);if(a!==s)return!0}return!1},hoe=e=>{const t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{const n=e.queryParams.primaryKey,r=e.previousResults;for(let o=0;o<r.length;o++)if(r[o][n]===t)return!0;return!1}},poe=e=>{const t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},moe=e=>{const t=tx(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},voe=e=>{const t=e.changeEvent.previous;if(!t)return!1;const n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},goe=e=>{const t=e.changeEvent.previous;if(!t)return!1;const n=tx(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},yoe=e=>{const t=e.changeEvent.doc;if(!t)return!1;const n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},boe=e=>{const t=e.changeEvent.doc;if(!t)return!1;const n=tx(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},woe=e=>{const t=e.changeEvent.previous;return t?e.queryParams.queryMatcher(t):!1},_oe=e=>{const t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},Soe=e=>e.previousResults.length===0,Eoe={0:loe,1:coe,2:uoe,3:pN,4:aoe,5:soe,6:Soe,7:foe,8:poe,9:moe,10:doe,11:hoe,12:voe,13:goe,14:yoe,15:boe,16:woe,17:_oe};function mN(e,t,n,r){var o=e.length,i=o-1,a=0;if(o===0)return e.push(t),0;for(var s;r<=i;)a=r+(i-r>>1),s=e[a],n(s,t)<=0?r=a+1:i=a-1;return n(s,t)<=0&&a++,e.splice(a,0,t),a}const xoe=e=>{},nx=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},rx=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},ox=e=>{const t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},ix=e=>{const t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Poe=e=>{ox(e),rx(e)},Coe=e=>{ix(e),nx(e)},Ooe=e=>{ox(e),nx(e)},Aoe=e=>{ix(e),rx(e)},vN=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);const t=e.queryParams.primaryKey,n=e.previousResults;for(let r=0;r<n.length;r++)if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}},$oe=e=>{const t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults;for(let o=0;o<r.length;o++)if(r[o][n]===e.changeEvent.id){r[o]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},Toe=e=>{const t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},gN=e=>{const t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else if(e.previousResults.find(o=>o[e.queryParams.primaryKey]===t))return;mN(e.previousResults,n,e.queryParams.sortComparator,0)},Roe=e=>{vN(e),gN(e)},koe=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},Moe=e=>{throw new Error("Action unknownAction should never be called")},Ioe=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],Doe={doNothing:xoe,insertFirst:nx,insertLast:rx,removeFirstItem:ox,removeLastItem:ix,removeFirstInsertLast:Poe,removeLastInsertFirst:Coe,removeFirstInsertFirst:Ooe,removeLastInsertLast:Aoe,removeExisting:vN,replaceExisting:$oe,alwaysWrong:Toe,insertAtSortPosition:gN,removeExistingAndInsertAtSortPosition:Roe,runFullQueryAgain:koe,unknownAction:Moe},joe=40;function N0(e){return e.charCodeAt(0)-joe}function Noe(e){return e?"1":"0"}function n$(e,t){const n=[];for(let r=0,o=e.length;r<o;r+=t)n.push(e.substring(r,r+t));return n}function Loe(e){const t=new Map,r=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,o=e.substring(2,r),i=n$(o,2);for(let p=0;p<i.length;p++){const b=i[p],v=b.charAt(0),y=N0(b.charAt(1));t.set(v,y)}const a=e.substring(r,e.length-3),s=n$(a,4);for(let p=0;p<s.length;p++){const b=s[p],v=b.charAt(0),y=b.charAt(1),w=b.charAt(2),_=N0(b.charAt(3));if(!t.has(y))throw new Error("missing node with id "+y);if(!t.has(w))throw new Error("missing node with id "+w);const S=t.get(y),E=t.get(w),x={l:_,0:S,1:E};t.set(v,x)}const u=e.slice(-3),l=u.charAt(0),c=u.charAt(1),f=N0(u.charAt(2)),d=t.get(l),h=t.get(c);return{l:f,0:d,1:h}}function Foe(e,t,n){let r=e,o=e.l;for(;;){const i=t[o](n),a=Noe(i);if(r=r[a],typeof r=="number"||typeof r=="string")return r;o=r.l}}const Boe="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9ae9bf9bq9cg9ck9cn9nd9np9nq9nf9ng9nm9nk9mr9ms9mt9mj9mk9ml9mn9mc8{8}888mn88m8m4z4w4z44444m4v7yn77~777n777m77m7m7m5m5m55m555m55m5m552|2u2222x222|222222n2n222n2/an/bn/cn///////////,cn,,,,,,,ac0bc00000000000m-m-----------3333(((++++11*m*.";let L0;function Uoe(){return L0||(L0=Loe(Boe)),L0}const Voe=e=>Foe(Uoe(),Eoe,e);function Woe(e){const t=Voe(e);return Ioe[t]}function zoe(e,t,n,r,o){const i=Doe[e];return i({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:o}),r}var Ar="",ro=Number.MIN_SAFE_INTEGER;function Koe(e,t){var n=t.selector,r=e.indexes?e.indexes.slice(0):[];t.index&&(r=[t.index]);var o=!!t.sort.find(c=>Object.values(c)[0]==="desc"),i=new Set;Object.keys(n).forEach(c=>{var f=Wo(e,c);f&&f.type==="boolean"&&Object.prototype.hasOwnProperty.call(n[c],"$eq")&&i.add(c)});var a=t.sort.map(c=>Object.keys(c)[0]),s=a.filter(c=>!i.has(c)).join(","),u=-1,l;if(r.forEach(c=>{var f=!0,d=!0,h=c.map(y=>{var w=n[y],_=w?Object.keys(w):[],S={};if(!w||!_.length){var E=d?ro:Ar;S={startKey:E,endKey:f?Ar:ro,inclusiveStart:!0,inclusiveEnd:!0}}else _.forEach(x=>{if(ax.has(x)){var P=w[x],O=Yoe(x,P);S=Object.assign(S,O)}});return typeof S.startKey>"u"&&(S.startKey=ro),typeof S.endKey>"u"&&(S.endKey=Ar),typeof S.inclusiveStart>"u"&&(S.inclusiveStart=!0),typeof S.inclusiveEnd>"u"&&(S.inclusiveEnd=!0),d&&!S.inclusiveStart&&(d=!1),f&&!S.inclusiveEnd&&(f=!1),S}),m=h.map(y=>y.startKey),p=h.map(y=>y.endKey),b={index:c,startKeys:m,endKeys:p,inclusiveEnd:f,inclusiveStart:d,sortSatisfiedByIndex:!o&&s===c.filter(y=>!i.has(y)).join(","),selectorSatisfiedByIndex:Goe(c,t.selector,m,p)},v=Qoe(e,t,b);(v>=u||t.index)&&(u=v,l=b)}),!l)throw ie("SNH",{query:t});return l}var ax=new Set(["$eq","$gt","$gte","$lt","$lte"]),Hoe=new Set(["$eq","$gt","$gte"]),qoe=new Set(["$eq","$lt","$lte"]);function Goe(e,t,n,r){var o=Object.entries(t),i=o.find(([x,P])=>{if(!e.includes(x))return!0;var O=Object.entries(P).find(([T,R])=>!ax.has(T));return O});if(i||t.$and||t.$or)return!1;var a=[],s=new Set;for(var[u,l]of Object.entries(t)){if(!e.includes(u))return!1;var c=Object.keys(l).filter(x=>Hoe.has(x));if(c.length>1)return!1;var f=c[0];if(f&&s.add(u),f!=="$eq"){if(a.length>0)return!1;a.push(f)}}var d=[],h=new Set;for(var[m,p]of Object.entries(t)){if(!e.includes(m))return!1;var b=Object.keys(p).filter(x=>qoe.has(x));if(b.length>1)return!1;var v=b[0];if(v&&h.add(m),v!=="$eq"){if(d.length>0)return!1;d.push(v)}}var y=0;for(var w of e){for(var _ of[s,h]){if(!_.has(w)&&_.size>0)return!1;_.delete(w)}var S=n[y],E=r[y];if(S!==E&&s.size>0&&h.size>0)return!1;y++}return!0}function Yoe(e,t){switch(e){case"$eq":return{startKey:t,endKey:t,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:t,inclusiveEnd:!0};case"$gte":return{startKey:t,inclusiveStart:!0};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function Qoe(e,t,n){var r=0,o=c=>{c>0&&(r=r+c)},i=10,a=T0(n.startKeys,c=>c!==ro&&c!==Ar);o(a*i);var s=T0(n.startKeys,c=>c!==Ar&&c!==ro);o(s*i);var u=T0(n.startKeys,(c,f)=>c===n.endKeys[f]);o(u*i*1.5);var l=n.sortSatisfiedByIndex?5:0;return o(l),r}const Xoe=2147483647,Joe=-2147483648,Zoe=Number.MAX_SAFE_INTEGER,eie=Number.MIN_SAFE_INTEGER,gs=Symbol("missing"),yN=Object.freeze(new Error("mingo: cycle detected while processing object/array")),tie=Object.getPrototypeOf([]),bN=Object.getPrototypeOf({}),nie="[object Object]",rie=/^\[object ([a-zA-Z0-9]+)\]$/;class sx{}class ux{}const ys=e=>e===null?sx:e===void 0?ux:e.constructor,sb=e=>{const t=lie(e);let n=0,r=t.length;for(;r;)n=(n<<5)-n^t.charCodeAt(--r);return n>>>0},wN=new Set(["null","undefined","boolean","number","string","date","regexp"]),r$=new Set([ux,sx,Boolean,String,Number]),wc=e=>e.toString(),_r=e=>`${ys(e).name}[${e.toString()}]`,bs=new Map([[Number,wc],[Boolean,wc],[RegExp,wc],[Function,wc],[Symbol,wc],[Date,e=>e.toISOString()],[String,JSON.stringify],[sx,e=>"null"],[ux,e=>"undefined"],[Int8Array,_r],[Uint8Array,_r],[Uint8ClampedArray,_r],[Int16Array,_r],[Uint16Array,_r],[Int32Array,_r],[Uint32Array,_r],[Float32Array,_r],[Float64Array,_r]]);typeof BigInt<"u"&&bs.set(BigInt,e=>"0x"+e.toString(16));typeof BigInt64Array<"u"&&bs.set(BigInt64Array,_r);typeof BigUint64Array<"u"&&bs.set(BigUint64Array,_r);const oie={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},jr=(e,t)=>{e===gs&&(e=void 0),t===gs&&(t=void 0);const[n,r]=[e,t].map(o=>oie[jf(o).toLowerCase()]);return n!==r?n-r:n===1||n===2||n===6?e<t?-1:e>t?1:0:ws(e,t)?0:e<t?-1:e>t?1:0};function cr(e,t){if(!e)throw new Error(t)}const iie=e=>{const t=Object.getPrototypeOf(ys(e));return t&&t.name==="TypedArray"},o$=e=>{if(r$.has(ys(e)))return e;const t=new Set,n=r=>{if(t.has(r))throw yN;const o=ys(r);if(r$.has(o))return r;try{if(sn(r))return t.add(r),r.map(n);if(Rt(r)){t.add(r);const i={};for(const a in r)i[a]=n(r[a]);return i}}finally{t.delete(r)}return o===Date||o===RegExp||iie(r)?new o(r):r};return n(e)},jf=e=>rie.exec(Object.prototype.toString.call(e))[1],F0=e=>typeof e=="boolean",Ho=e=>typeof e=="string",Pi=e=>!isNaN(e)&&typeof e=="number",sn=Array.isArray,Rt=e=>{if(!e)return!1;const t=Object.getPrototypeOf(e);return(t===bN||t===null)&&nie===Object.prototype.toString.call(e)},ub=e=>e===Object(e),i$=e=>e instanceof Date,Wp=e=>e instanceof RegExp,lb=e=>typeof e=="function",un=e=>e==null,vl=(e,t)=>e.includes(t),_N=(e,t)=>!vl(e,t),aie=(e,t=!0)=>!!e||t&&e==="",Vl=e=>un(e)||Ho(e)&&!e||e instanceof Array&&e.length===0||Rt(e)&&Object.keys(e).length===0,a$=e=>e===gs,oh=e=>e instanceof Array?e:[e],Bi=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),sie=(e,t)=>Rt(e)&&Rt(t)||sn(e)&&sn(t);function n_(e,t,n){if(n=n||{flatten:!1},a$(e)||un(e))return t;if(a$(t)||un(t))return e;if(!sie(e,t)){if(n.skipValidation)return t||e;throw Error("mismatched types. must both be array or object")}if(n.skipValidation=!0,sn(e)){const r=e,o=t;if(n.flatten){let i=0,a=0;for(;i<r.length&&a<o.length;)r[i]=n_(r[i++],o[a++],n);for(;a<o.length;)r.push(t[a++])}else ih(r,o)}else for(const r in t)e[r]=n_(e[r],t[r],n);return e}function s$(e,t=sb){const n=new Map;return e.forEach((r,o)=>{const i=xN(r,t);n.has(i)?n.get(i).some(a=>ws(e[a],r))||n.get(i).push(o):n.set(i,[o])}),n}function SN(e,t=sb){if(e.some(s=>s.length==0))return[];if(e.length===1)return Array.from(e);const n=cie(e.map((s,u)=>[u,s.length]),s=>s[1]),r=e[n[0][0]],o=s$(r,t),i=new Map,a=new Array;return o.forEach((s,u)=>{const l=s.map(h=>r[h]),c=l.map(h=>0),f=l.map(h=>[n[0][0],0]);let d=!1;for(let h=1;h<e.length;h++){const[m,p]=n[h],b=e[m];if(i.has(h)||i.set(h,s$(b)),i.get(h).has(u)){const v=i.get(h).get(u).map(y=>b[y]);d=l.map((y,w)=>v.some((_,S)=>{const E=c[w];return ws(y,_)&&(c[w]++,m<f[w][0]&&(f[w]=[m,i.get(h).get(u)[S]])),E<c[w]})).some(Boolean)}if(!d)return}d&&ih(a,c.map((h,m)=>h===e.length-1?[l[m],f[m]]:gs).filter(h=>h!==gs))}),a.sort((s,u)=>{const[l,[c,f]]=s,[d,[h,m]]=u,p=jr(c,h);return p!==0?p:jr(f,m)}).map(s=>s[0])}function EN(e,t=0){const n=new Array;function r(o,i){for(let a=0,s=o.length;a<s;a++)sn(o[a])&&(i>0||i<0)?r(o[a],Math.max(-1,i-1)):n.push(o[a])}return r(e,t),n}const uie=e=>{let[t,n]=[Object.getPrototypeOf(e),Object.getOwnPropertyNames(e)],r=t;for(;!n.length&&t!==bN&&t!==tie;)r=t,n=Object.getOwnPropertyNames(t),t=Object.getPrototypeOf(t);const o={};return n.forEach(i=>o[i]=e[i]),[o,r]};function ws(e,t){const n=[[e,t]];for(;n.length>0;){if([e,t]=n.pop(),e===t)continue;const r=ys(e);if(r!==ys(t)||lb(e))return!1;if(bs.has(r)){const o=bs.get(r);if(o(e)!==o(t))return!1;continue}if(r===Array||r===Object){const o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length||new Set(o.concat(i)).size!=o.length)return!1;for(const a of o)n.push([e[a],t[a]]);continue}return!1}return!n.length}function lie(e){const t=new Set,n=r=>{const o=ys(r);if(bs.has(o))return bs.get(o)(r);const i=o===Object?"":o.name;if(lb(r.toJSON))return`${i}(${JSON.stringify(r)})`;if(t.has(r))throw yN;t.add(r);try{if(o===Array)return"["+r.map(n).join(",")+"]";if(o!==Object){const[s,u]=uie(r);if(sn(r))return`${i}${n([...r,s])}`;r=s}const a=Object.keys(r);return a.sort(),`${i}{`+a.map(s=>`${s}:${n(r[s])}`).join(",")+"}"}finally{t.delete(r)}};return n(e)}function xN(e,t){return t=t||sb,un(e)?null:t(e).toString()}function cie(e,t,n=jr){if(Vl(e))return e;const r=new Array,o=new Array;for(let i=0;i<e.length;i++){const a=e[i],s=t(a,i);un(s)?o.push(a):r.push([s,a])}return r.sort((i,a)=>n(i[0],a[0])),ih(o,r.map(i=>i[1]))}function fie(e,t,n=sb){if(e.length<1)return new Map;const r=new Map,o=new Map;for(let i=0;i<e.length;i++){const a=e[i],s=t(a,i),u=xN(s,n);if(u===null)o.has(null)?o.get(null).push(a):o.set(null,[a]);else{const l=r.has(u)?r.get(u).find(c=>ws(c,s)):null;un(l)?(o.set(s,[a]),r.has(u)?r.get(u).push(s):r.set(u,[s])):o.get(l).push(a)}}return o}const B0=5e4;function ih(e,...t){return e instanceof Array?t.reduce((n,r)=>{let o=Math.ceil(r.length/B0),i=0;for(;o-- >0;)Array.prototype.push.apply(n,r.slice(i,i+B0)),i+=B0;return n},e):t.filter(ub).reduce((n,r)=>(Object.assign(n,r),n),e)}function r_(e,t){return ub(e)?e[t]:void 0}function die(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function lx(e,t,n){let r=0;function o(a,s){let u=a;for(let l=0;l<s.length;l++){const c=s[l];if(/^\d+$/.exec(c)===null&&u instanceof Array){if(l===0&&r>0)break;r+=1;const d=s.slice(l);u=u.reduce((h,m)=>{const p=o(m,d);return p!==void 0&&h.push(p),h},[]);break}else u=r_(u,c);if(u===void 0)break}return u}const i=wN.has(jf(e).toLowerCase())?e:o(e,t.split("."));return i instanceof Array&&(n!=null&&n.unwrapArray)?die(i,r):i}function zp(e,t,n){const r=t.split("."),o=r[0],i=r.slice(1).join("."),a=/^\d+$/.exec(o)!==null,s=r.length>1;let u,l;if(e instanceof Array)if(a)u=r_(e,Number(o)),s&&(u=zp(u,i,n)),u=[u];else{u=[];for(const c of e)l=zp(c,t,n),n!=null&&n.preserveMissing?(l===void 0&&(l=gs),u.push(l)):l!==void 0&&u.push(l)}else{if(l=r_(e,o),s&&(l=zp(l,i,n)),l===void 0)return;u=n!=null&&n.preserveKeys?Object.assign({},e):{},u[o]=l}return u}function o_(e){if(e instanceof Array)for(let t=e.length-1;t>=0;t--)e[t]===gs?e.splice(t,1):o_(e[t]);else if(Rt(e))for(const t in e)Bi(e,t)&&o_(e[t])}const u$=/^\d+$/;function Bm(e,t,n,r){const o=t.split("."),i=o[0],a=o.slice(1).join(".");if(o.length===1)(Rt(e)||sn(e)&&u$.test(i))&&n(e,i);else{r!=null&&r.buildGraph&&un(e[i])&&(e[i]={});const s=e[i];if(!s)return;const u=!!(o.length>1&&u$.test(o[1]));s instanceof Array&&(r!=null&&r.descendArray)&&!u?s.forEach(l=>Bm(l,a,n,r)):Bm(s,a,n,r)}}function hie(e,t,n){Bm(e,t,(r,o)=>{r[o]=lb(n)?n(r[o]):n},{buildGraph:!0})}function l$(e,t,n){Bm(e,t,(r,o)=>{if(r instanceof Array){if(/^\d+$/.test(o))r.splice(parseInt(o),1);else if(n&&n.descendArray)for(const i of r)Rt(i)&&delete i[o]}else Rt(r)&&delete r[o]},n)}const pie=/^\$[a-zA-Z0-9_]+$/;function Wl(e){return pie.test(e)}function PN(e){if(wN.has(jf(e).toLowerCase()))return Wp(e)?{$regex:e}:{$eq:e};if(ub(e)){if(!Object.keys(e).some(Wl))return{$eq:e};if(Bi(e,"$regex")){const n=Object.assign({},e);return n.$regex=new RegExp(e.$regex,e.$options),delete n.$options,n}}return e}var Ai;(function(e){e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF"})(Ai||(Ai={}));class Qa{constructor(t,n,r,o=Date.now()){this._opts=t,this._root=n,this._local=r,this.timestamp=o,this.update(n,r)}static init(t,n,r){return t instanceof Qa?new Qa(t._opts,un(t.root)?n:t.root,Object.assign({},t.local,r)):new Qa(t,n,r)}update(t,n){var r;return this._root=t,this._local=n&&Object.assign({},n,{variables:Object.assign({},(r=this._local)===null||r===void 0?void 0:r.variables,n==null?void 0:n.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:_s.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collation}get processingMode(){var t;return((t=this._opts)===null||t===void 0?void 0:t.processingMode)||Ai.CLONE_OFF}get useStrictMode(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useStrictMode}get scriptEnabled(){var t;return(t=this._opts)===null||t===void 0?void 0:t.scriptEnabled}get useGlobalContext(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useGlobalContext}get hashFunction(){var t;return(t=this._opts)===null||t===void 0?void 0:t.hashFunction}get collectionResolver(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collectionResolver}get jsonSchemaValidator(){var t;return(t=this._opts)===null||t===void 0?void 0:t.jsonSchemaValidator}get variables(){var t;return(t=this._opts)===null||t===void 0?void 0:t.variables}get context(){var t;return(t=this._opts)===null||t===void 0?void 0:t.context}}function CN(e){return e instanceof Qa?e.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:Ai.CLONE_OFF},e),{context:e!=null&&e.context?_s.from(e==null?void 0:e.context):_s.init({})}))}var Ie;(function(e){e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window"})(Ie||(Ie={}));class _s{constructor(t){this.operators={[Ie.ACCUMULATOR]:{},[Ie.EXPRESSION]:{},[Ie.PIPELINE]:{},[Ie.PROJECTION]:{},[Ie.QUERY]:{},[Ie.WINDOW]:{}};for(const[n,r]of Object.entries(t))this.addOperators(n,r)}static init(t={}){return new _s(t)}static from(t){return new _s(t.operators)}addOperators(t,n){for(const[r,o]of Object.entries(n))this.getOperator(t,r)||(this.operators[t][r]=o);return this}addAccumulatorOps(t){return this.addOperators(Ie.ACCUMULATOR,t)}addExpressionOps(t){return this.addOperators(Ie.EXPRESSION,t)}addQueryOps(t){return this.addOperators(Ie.QUERY,t)}addPipelineOps(t){return this.addOperators(Ie.PIPELINE,t)}addProjectionOps(t){return this.addOperators(Ie.PROJECTION,t)}addWindowOps(t){return this.addOperators(Ie.WINDOW,t)}getOperator(t,n){return t in this.operators&&this.operators[t][n]||null}}const Ma=_s.init();function c$(e,t){for(const[n,r]of Object.entries(t)){cr(lb(r)&&Wl(n),`'${n}' is not a valid operator`);const o=Xa(e,n,null);cr(!o||r===o,`${n} already exists for '${e}' operators. Cannot change operator function once registered.`)}switch(e){case Ie.ACCUMULATOR:Ma.addAccumulatorOps(t);break;case Ie.EXPRESSION:Ma.addExpressionOps(t);break;case Ie.PIPELINE:Ma.addPipelineOps(t);break;case Ie.PROJECTION:Ma.addProjectionOps(t);break;case Ie.QUERY:Ma.addQueryOps(t);break;case Ie.WINDOW:Ma.addWindowOps(t);break}}function Xa(e,t,n){const{context:r,useGlobalContext:o}=n||{},i=r?r.getOperator(e,t):null;return!i&&o?Ma.getOperator(e,t):i}const f$={$$ROOT(e,t,n){return n.root},$$CURRENT(e,t,n){return e},$$REMOVE(e,t,n){},$$NOW(e,t,n){return new Date(n.timestamp)}},i_={$$KEEP(e,t,n){return e},$$PRUNE(e,t,n){},$$DESCEND(e,t,n){if(!Bi(t,"$cond"))return e;let r;for(const[o,i]of Object.entries(e))if(ub(i)){if(i instanceof Array){const a=[];for(let s of i)Rt(s)&&(s=d$(s,t,n.update(s))),un(s)||a.push(s);r=a}else r=d$(i,t,n.update(i));un(r)?delete e[o]:e[o]=r}return e}};function Jr(e,t,n,r){var o;const i=Qa.init(r,e);if(n=n||"",Wl(n)){const a=Xa(Ie.EXPRESSION,n,r);if(a)return a(e,t,i);const s=Xa(Ie.ACCUMULATOR,n,r);if(s)return e instanceof Array||(e=Jr(e,t,null,i),t=null),cr(e instanceof Array,`'${n}' target must be an array.`),s(e,t,i.update(null,i.local));throw new Error(`operator '${n}' is not registered`)}if(Ho(t)&&t.length>0&&t[0]==="$"){if(Bi(i_,t))return t;let a=i.root;const s=t.split(".");if(Bi(f$,s[0]))a=f$[s[0]](e,null,i),t=t.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){a=Object.assign({},i.variables,{this:e},(o=i.local)===null||o===void 0?void 0:o.variables);const u=s[0].slice(2);cr(Bi(a,u),`Use of undefined variable: ${u}`),t=t.slice(2)}else t=t.slice(1);return t===""?a:lx(a,t)}if(sn(t))return t.map(a=>Jr(e,a,null,i));if(Rt(t)){const a={};for(const[s,u]of Object.entries(t))if(a[s]=Jr(e,u,s,i),[Ie.EXPRESSION,Ie.ACCUMULATOR].some(l=>!!Xa(l,s,r)))return cr(Object.keys(t).length===1,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),a[s];return a}return t}function d$(e,t,n){const r=Jr(e,t,null,n);return Bi(i_,r)?i_[r](e,t,n):r}function gl(e){return e instanceof h$?e:new h$(e)}function mie(...e){let t=0;return gl(()=>{for(;t<e.length;){const n=e[t].next();if(!n.done)return n;t++}return{done:!0}})}function vie(e){return!!e&&typeof e=="object"&&(e==null?void 0:e.next)instanceof Function}function gie(e,t){const n=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,n)}const a_=new Error;var eo;(function(e){e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP"})(eo||(eo={}));function yie(e,t,n){let r=!1,o=-1,i=0;return function(a){try{e:for(;!r;){let s=e();o++;let u=-1;const l=t.length;let c=!1;for(;++u<l;){const f=t[u];switch(f.action){case eo.MAP:s=f.func(s,o);break;case eo.FILTER:if(!f.func(s,o))continue e;break;case eo.TAKE:--f.count,f.count||(c=!0);break;case eo.DROP:--f.count,f.count||gie(t,u);continue e;default:break e}}if(r=c,a)n[i++]=s;else return{value:s,done:!1}}}catch(s){if(s!==a_)throw s}return r=!0,{done:r}}}class h${constructor(t){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let n;if(t instanceof Function&&(t={next:t}),vie(t)){const r=t;n=()=>{const o=r.next();if(o.done)throw a_;return o.value}}else if(t instanceof Array){const r=t,o=r.length;let i=0;n=()=>{if(i<o)return r[i++];throw a_}}else if(!(t instanceof Function))throw new Error("Lazy must be initialized with an array, generator, or function.");this.getNext=yie(n,this.iteratees,this.yieldedValues)}push(t,n){return typeof n=="function"?this.iteratees.push({action:t,func:n}):typeof n=="number"&&this.iteratees.push({action:t,count:n}),this}next(){return this.getNext()}map(t){return this.push(eo.MAP,t)}filter(t){return this.push(eo.FILTER,t)}take(t){return t>0?this.push(eo.TAKE,t):this}drop(t){return t>0?this.push(eo.DROP,t):this}transform(t){const n=this;let r;return gl(()=>(r||(r=gl(t(n.value()))),r.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){const n=this.next();if(n.done)break;if(t(n.value)===!1)return!1}return!0}reduce(t,n){let r=this.next();for(n===void 0&&!r.done&&(n=r.value,r=this.next());!r.done;)n=t(n,r.value),r=this.next();return n}size(){return this.reduce((t,n)=>++t,0)}[Symbol.iterator](){return this}}class bie{constructor(t,n){this.pipeline=t,this.options=CN(n)}stream(t){let n=gl(t);const r=this.options.processingMode;(r==Ai.CLONE_ALL||r==Ai.CLONE_INPUT)&&n.map(o$);const o=new Array;if(!Vl(this.pipeline))for(const i of this.pipeline){const a=Object.keys(i),s=a[0],u=Xa(Ie.PIPELINE,s,this.options);cr(a.length===1&&!!u,`invalid pipeline operator ${s}`),o.push(s),n=u(n,i[s],this.options)}return(r==Ai.CLONE_OUTPUT||r==Ai.CLONE_ALL&&SN([["$group","$unwind"],o]).length)&&n.map(o$),n}run(t){return this.stream(t).value()}}class wie{constructor(t,n,r,o){this.source=t,this.predicate=n,this.projection=r,this.options=o,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(Rt(this.projection)&&this.operators.push({$project:this.projection}),this.result=gl(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new bie(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){const t=gl([...this.buffer]);return this.buffer=[],mie(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options=Object.assign(Object.assign({},this.options),{collation:t}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;const t=this.fetch().next();return t.done?!1:(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}}class ah{constructor(t,n){this.condition=t,this.options=CN(n),this.compiled=[],this.compile()}compile(){cr(Rt(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const t={};for(const[n,r]of Object.entries(this.condition)){if(n==="$where")Object.assign(t,{field:n,expr:r});else if(vl(["$and","$or","$nor","$expr","$jsonSchema"],n))this.processOperator(n,n,r);else{cr(!Wl(n),`unknown top level operator: ${n}`);for(const[o,i]of Object.entries(PN(r)))this.processOperator(n,o,i)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,n,r){const o=Xa(Ie.QUERY,n,this.options);if(!o)throw new Error(`unknown operator ${n}`);const i=o(t,r,this.options);this.compiled.push(i)}test(t){for(let n=0,r=this.compiled.length;n<r;n++)if(!this.compiled[n](t))return!1;return!0}find(t,n){return new wie(t,r=>this.test(r),n||{},this.options)}remove(t){return t.reduce((n,r)=>(this.test(r)||n.push(r),n),[])}}const _ie=(e,t,n)=>{if(Vl(t)||!Rt(t))return e;let r=jr;const o=n.collation;return Rt(o)&&Ho(o.locale)&&(r=Eie(o)),e.transform(i=>{const a=Object.keys(t);for(const s of a.reverse()){const u=fie(i,c=>lx(c,s),n.hashFunction),l=Array.from(u.keys()).sort(r);t[s]===-1&&l.reverse(),i=[],l.reduce((c,f)=>ih(c,u.get(f)),i)}return i})},Sie={1:"base",2:"accent",3:"variant"};function Eie(e){const t={sensitivity:Sie[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));const n=new Intl.Collator(e.locale,t);return(r,o)=>{if(!Ho(r)||!Ho(o))return jr(r,o);const i=n.compare(r,o);return i<0?-1:i>0?1:0}}function bn(e){const t=(n,r,o)=>{const i={unwrapArray:!0},a=Math.max(1,n.split(".").length-1);return s=>{const u=lx(s,n,i);return e(u,r,Object.assign(Object.assign({},o),{depth:a}))}};return t.op="query",t}function ON(e,t,n){if(ws(e,t)||un(e)&&un(t))return!0;if(e instanceof Array){const r=ws.bind(null,t);return e.some(r)||EN(e,n==null?void 0:n.depth).some(r)}return!1}function xie(e,t,n){return!ON(e,t,n)}function AN(e,t,n){return un(e)?t.some(r=>r===null):SN([oh(e),t],n==null?void 0:n.hashFunction).length>0}function Pie(e,t,n){return!AN(e,t,n)}function Cie(e,t,n){return cb(e,t,(r,o)=>jr(r,o)<0)}function Oie(e,t,n){return cb(e,t,(r,o)=>jr(r,o)<=0)}function Aie(e,t,n){return cb(e,t,(r,o)=>jr(r,o)>0)}function $ie(e,t,n){return cb(e,t,(r,o)=>jr(r,o)>=0)}function Tie(e,t,n){return oh(e).some(r=>t.length===2&&r%t[0]===t[1])}function Rie(e,t,n){const r=oh(e),o=i=>Ho(i)&&aie(t.exec(i),n==null?void 0:n.useStrictMode);return r.some(o)||EN(r,1).some(o)}function kie(e,t,n){return(t===!1||t===0)&&e===void 0||(t===!0||t===1)&&e!==void 0}function Mie(e,t,n){if(!sn(e)||!sn(t)||!e.length||!t.length)return!1;let r=!0;for(const o of t){if(!r)break;Rt(o)&&vl(Object.keys(o),"$elemMatch")?r=$N(e,o.$elemMatch,n):o instanceof RegExp?r=e.some(i=>typeof i=="string"&&o.test(i)):r=e.some(i=>ws(o,i))}return r}function Iie(e,t,n){return Array.isArray(e)&&e.length===t}function Die(e){return Wl(e)&&["$and","$or","$nor"].indexOf(e)===-1}function $N(e,t,n){if(sn(e)&&!Vl(e)){let r=a=>a,o=t;Object.keys(t).every(Die)&&(o={temp:t},r=a=>({temp:a}));const i=new ah(o,n);for(let a=0,s=e.length;a<s;a++)if(i.test(r(e[a])))return!0}return!1}const p$=e=>e===null,m$=e=>Pi(e)&&e>=Joe&&e<=Xoe&&e.toString().indexOf(".")===-1,v$=e=>Pi(e)&&e>=eie&&e<=Zoe&&e.toString().indexOf(".")===-1,jie={array:sn,bool:F0,boolean:F0,date:i$,decimal:Pi,double:Pi,int:m$,long:v$,number:Pi,null:p$,object:Rt,regex:Wp,regexp:Wp,string:Ho,undefined:un,function:e=>{throw new Error("unsupported type key `function`.")},1:Pi,2:Ho,3:Rt,4:sn,6:un,8:F0,9:i$,10:p$,11:Wp,16:m$,18:v$,19:Pi};function g$(e,t,n){const r=jie[t];return r?r(e):!1}function Nie(e,t,n){return Array.isArray(t)?t.findIndex(r=>g$(e,r))>=0:g$(e,t)}function cb(e,t,n){return oh(e).some(r=>jf(r)===jf(t)&&n(r,t))}const y$=(e,t)=>{const n={};return e.split("").forEach((r,o)=>n[r]=t*(o+1)),n};Object.assign(Object.assign(Object.assign({},y$("ABCDEFGHIKLM",1)),y$("NOPQRSTUVWXY",-1)),{Z:0});const b$={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function er(e,t=b$){const n=Object.assign({},b$,t),r=new Set(Object.keys(n));return(o,i,a)=>{const s=Jr(o,i,null,a);if(r.has(`${s}`)){const u=n[`${s}`];if(u instanceof Error)throw new Error(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return u}return e(s)}}er(Math.acos,{Infinity:1/0,0:new Error});er(Math.acosh,{Infinity:1/0,0:new Error});er(Math.asin);er(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});er(Math.atan);er(Math.atanh,{1:1/0,"-1":-1/0});er(Math.cos);er(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const Lie=Math.PI/180;er(e=>e*Lie,{Infinity:1/0,"-Infinity":1/0});const Fie=180/Math.PI;er(e=>e*Fie,{Infinity:1/0,"-Infinity":-1/0});er(Math.sin);er(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});er(Math.tan);const Bie=(e,t,n)=>{if(Vl(t))return e;let r=Object.keys(t),o=!1;TN(t,n);const i=n.idKey;if(vl(r,i)){const s=t[i];(s===0||s===!1)&&(r=r.filter(_N.bind(null,[i])),o=r.length==0)}else r.push(i);const a=Qa.init(n);return e.map(s=>s_(s,t,a.update(s),r,o))};function s_(e,t,n,r,o){let i={},a=!1,s=!1;const u=[];o&&u.push(n.idKey);for(const l of r){let c;const f=t[l];if(l!==n.idKey&&vl([0,!1],f)&&(s=!0),l===n.idKey&&Vl(f))c=e[l];else if(Ho(f))c=Jr(e,f,l,n);else if(!vl([1,!0],f))if(f instanceof Array)c=f.map(h=>{const m=Jr(e,h,null,n);return un(m)?null:m});else if(Rt(f)){const h=f,m=Object.keys(f),p=m.length==1?m[0]:"",b=Xa(Ie.PROJECTION,p,n);if(b)p==="$slice"?oh(h[p]).every(Pi)?(c=b(e,h[p],l,n),a=!0):c=Jr(e,h,l,n):c=b(e,h[p],l,n);else if(Wl(p))c=Jr(e,h[p],p,n);else if(Bi(e,l)){TN(h,n);let v=e[l];v instanceof Array?c=v.map(y=>s_(y,h,n,m,!1)):(v=Rt(v)?v:e,c=s_(v,h,n,m,!1))}else c=Jr(e,f,null,n)}else{u.push(l);continue}const d=zp(e,l,{preserveMissing:!0});d!==void 0&&n_(i,d,{flatten:!0}),_N([0,1,!1,!0],f)&&(c===void 0?l$(i,l,{descendArray:!0}):hie(i,l,c))}if(o_(i),(a||s||o)&&(i=ih({},e,i),u.length>0))for(const l of u)l$(i,l,{descendArray:!0});return i}function TN(e,t){const n=[!1,!1];for(const[r,o]of Object.entries(e)){if(r===(t==null?void 0:t.idKey))return;o===0||o===!1?n[0]=!0:(o===1||o===!0)&&(n[1]=!0),cr(!(n[0]&&n[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const Uie=(e,t,n)=>{cr(sn(t),"Invalid expression: $and expects value to be an Array.");const r=t.map(o=>new ah(o,n));return o=>r.every(i=>i.test(o))},RN=(e,t,n)=>{cr(sn(t),"Invalid expression. $or expects value to be an Array");const r=t.map(o=>new ah(o,n));return o=>r.some(i=>i.test(o))},Vie=(e,t,n)=>{cr(sn(t),"Invalid expression. $nor expects value to be an array.");const r=RN("$or",t,n);return o=>!r(o)},Wie=(e,t,n)=>{const r={};r[e]=PN(t);const o=new ah(r,n);return i=>!o.test(i)},zie=bn(ON),Kie=bn(Aie),Hie=bn($ie),qie=bn(AN),Gie=bn(Cie),Yie=bn(Oie),Qie=bn(xie),Xie=bn(Pie),Jie=bn(Tie),Zie=bn(Rie);bn(Mie);const eae=bn($N),tae=bn(Iie),nae=bn(kie),rae=bn(Nie);var w$=!1;function oae(e){return w$||(c$(Ie.PIPELINE,{$sort:_ie,$project:Bie}),c$(Ie.QUERY,{$and:Uie,$eq:zie,$elemMatch:eae,$exists:nae,$gt:Kie,$gte:Hie,$in:qie,$lt:Gie,$lte:Yie,$ne:Qie,$nin:Xie,$mod:Jie,$nor:Vie,$not:Wie,$or:RN,$regex:Zie,$size:tae,$type:rae}),w$=!0),new ah(e)}function Um(e,t){var n=Zn(e.primaryKey);t=Ae(t);var r=qn(t);if(typeof r.skip!="number"&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach(([l,c])=>{(typeof c!="object"||c===null)&&(r.selector[l]={$eq:c})})):r.selector={},r.index){var o=ll(r.index);o.includes(n)||o.push(n),r.index=o}if(r.sort){var u=r.sort.find(l=>Vne(l)===n);u||(r.sort=r.sort.slice(0),r.sort.push({[n]:"asc"}))}else if(r.index)r.sort=r.index.map(l=>({[l]:"asc"}));else{if(e.indexes){var i=new Set;Object.entries(r.selector).forEach(([l,c])=>{var f=!1;typeof c=="object"&&c!==null?f=!!Object.keys(c).find(d=>ax.has(d)):f=!0,f&&i.add(l)});var a=-1,s;e.indexes.forEach(l=>{var c=WE(l)?l:[l],f=c.findIndex(d=>!i.has(d));f>0&&f>a&&(a=f,s=c)}),s&&(r.sort=s.map(l=>({[l]:"asc"})))}r.sort||(r.sort=[{[n]:"asc"}])}return r}function cx(e,t){if(!t.sort)throw ie("SNH",{query:t});var n=[];t.sort.forEach(o=>{var i=Object.keys(o)[0],a=Object.values(o)[0];n.push({key:i,direction:a,getValueFn:Vj(i)})});var r=(o,i)=>{for(var a=0;a<n.length;++a){var s=n[a],u=s.getValueFn(o),l=s.getValueFn(i);if(u!==l){var c=s.direction==="asc"?jr(u,l):jr(l,u);return c}}};return r}function fb(e,t){if(!t.sort)throw ie("SNH",{query:t});var n=oae(t.selector),r=o=>n.test(o);return r}function iae(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(n=>Object.keys(n)[0])}var aae=new WeakMap;function sae(e){return pr(aae,e,()=>{var t=e.collection,n=Um(t.storageInstance.schema,qn(e.mangoQuery)),r=t.schema.primaryPath,o=cx(t.schema.jsonSchema,n),i=(l,c)=>{var f={docA:l,docB:c,rxQuery:e};return o(f.docA,f.docB)},a=fb(t.schema.jsonSchema,n),s=l=>{var c={doc:l,rxQuery:e};return a(c.doc)},u={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:iae(r,n),sortComparator:i,queryMatcher:s};return u})}function uae(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=sae(e),r=he(e._result).docsData.slice(0),o=he(e._result).docsDataMap,i=!1,a=t.map(u=>noe(u)).filter(Nj),s=a.find(u=>{var l={queryParams:n,changeEvent:u,previousResults:r,keyDocumentMap:o},c=Woe(l);if(c==="runFullQueryAgain")return!0;if(c!=="doNothing")return i=!0,zoe(c,n,u,r,o),!1});return s?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:i,newResults:r}}var lae=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(r){var o=r.toString();return pr(this._map,o,()=>r)},e}();function cae(){return new lae}function _$(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}function fae(e){return e.refCount$.observers.length}var dae=100,hae=30*1e3,pae=(e,t)=>(n,r)=>{if(!(r._map.size<e)){var o=$t()-t,i=[],a=Array.from(r._map.values());for(var s of a)if(!(fae(s)>0)){if(s._lastEnsureEqual===0&&s._creationTime<o){_$(r,s);continue}i.push(s)}var u=i.length-e;if(!(u<=0)){var l=i.sort((f,d)=>f._lastEnsureEqual-d._lastEnsureEqual),c=l.slice(0,u);c.forEach(f=>_$(r,f))}}},kN=pae(dae,hae),U0=new WeakSet;function mae(e){U0.has(e)||(U0.add(e),Ine().then(()=>Nne(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),U0.delete(e)}))}var MN=function(){function e(n,r,o){this.cacheItemByDocId=new Map,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(i=>{var a=i.docId,s=this.cacheItemByDocId.get(a);s&&(s.byRev.delete(i.revisionHeight),s.byRev.size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.registerIdleTasks=[],this.primaryPath=n,this.changes$=r,this.documentCreator=o,r.subscribe(i=>{var a=i.documentId,s=this.cacheItemByDocId.get(a);if(s){var u=ex(i);s.last=u}})}var t=e.prototype;return t.getLatestDocumentData=function(r){var o=ms(this.cacheItemByDocId,r);return o.last},t.getLatestDocumentDataIfExists=function(r){var o=this.cacheItemByDocId.get(r);if(o)return o.last},ya(e,[{key:"getCachedRxDocument",get:function(){var n=vae(this);return Fi(this,"getCachedRxDocument",n)}}]),e}();function vae(e){var t=e.primaryPath,n=e.cacheItemByDocId,r=e.registry,o=Fe.deepFreezeWhenDevMode,i=e.documentCreator,a=s=>{var u=s[t],l=HA(s._rev),c=pr(n,u,()=>gae(s)),f=c.byRev,d=f.get(l),h=d?d.deref():void 0;return h||(s=o(s),h=i(s),f.set(l,bae(h)),r&&(e.registerIdleTasks.push(h),e.registerIdlePromise||(e.registerIdlePromise=HE().then(()=>{e.registerIdlePromise=void 0;var m=e.registerIdleTasks;m.length!==0&&(e.registerIdleTasks=[],m.forEach(p=>{r.register(p,{docId:p.primary,revisionHeight:HA(p.revision)})}))})))),h};return a}function IN(e,t){for(var n=e.getCachedRxDocument,r=[],o=0;o<t.length;o++){var i=t[o],a=n(i);r.push(a)}return r}function gae(e){return{byRev:new Map,last:e}}var yae=typeof WeakRef=="function",bae=yae?wae:_ae;function wae(e){return new WeakRef(e)}function _ae(e){return{deref(){return e}}}var S$=function(){function e(t,n,r){this.time=$t(),this.collection=t,this.count=r,this.documents=IN(this.collection._docCache,n)}return ya(e,[{key:"docsData",get:function(){return Fi(this,"docsData",this.documents.map(t=>t._data))}},{key:"docsDataMap",get:function(){var t=new Map;return this.documents.forEach(n=>{t.set(n.primary,n._data)}),Fi(this,"docsDataMap",t)}},{key:"docsMap",get:function(){for(var t=new Map,n=this.documents,r=0;r<n.length;r++){var o=n[r];t.set(o.primary,o)}return Fi(this,"docsMap",t)}}]),e}(),Sae=0,Eae=function(){return++Sae},DN=function(){function e(n,r,o,i={}){this.id=Eae(),this._execOverDatabaseCount=0,this._creationTime=$t(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new So(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Vn,this.op=n,this.mangoQuery=r,this.collection=o,this.other=i,r||(this.mangoQuery=Kp()),this.isFindOneByIdQuery=Oae(this.collection.schema.primaryPath,r)}var t=e.prototype;return t._setResultData=function(r){if(typeof r=="number"){this._result=new S$(this.collection,[],r);return}else r instanceof Map&&(r=Array.from(r.values()));var o=new S$(this.collection,r,r.length);this._result=o},t._execOverDatabase=async function(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=$t(),this.op==="count"){var r=this.getPreparedQuery(),o=await this.collection.storageInstance.count(r);if(o.mode==="slow"&&!this.collection.database.allowSlowCount)throw ie("QU14",{collection:this.collection,queryObj:this.mangoQuery});return o.count}if(this.op==="findByIds"){var i=he(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,s=[];if(i.forEach(c=>{var f=this.collection._docCache.getLatestDocumentDataIfExists(c);if(f){if(!f._deleted){var d=this.collection._docCache.getCachedRxDocument(f);a.set(c,d)}}else s.push(c)}),s.length>0){var u=await this.collection.storageInstance.findDocumentsById(s,!1);u.forEach(c=>{var f=this.collection._docCache.getCachedRxDocument(c);a.set(f.primary,f)})}return a}var l=Cae(this);return l.then(c=>(this._lastExecEnd=$t(),c))},t.exec=function(r){if(r&&this.op!=="findOne")throw ie("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return E$(this).then(()=>Ya(this.$)).then(o=>{if(!o&&r)throw ie("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return o})},t.toString=function(){var r=Lm({op:this.op,query:this.mangoQuery,other:this.other},!0),o=JSON.stringify(r);return this.toString=()=>o,o},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:Um(this.collection.schema.jsonSchema,this.mangoQuery)};r.mangoQuery.selector._deleted={$eq:!1},r.mangoQuery.index&&r.mangoQuery.index.unshift("_deleted"),Dr("prePrepareQuery",r);var o=db(this.collection.schema.jsonSchema,r.mangoQuery);return this.getPreparedQuery=()=>o,o},t.doesDocumentDataMatch=function(r){return r._deleted?!1:this.queryMatcher(r)},t.remove=function(){return this.exec().then(r=>Array.isArray(r)?Promise.all(r.map(o=>o.remove())):r.remove())},t.update=function(r){throw qe("update")},t.where=function(r){throw qe("query-builder")},t.sort=function(r){throw qe("query-builder")},t.skip=function(r){throw qe("query-builder")},t.limit=function(r){throw qe("query-builder")},ya(e,[{key:"$",get:function(){if(!this._$){var n=this.collection.$.pipe(Qe(r=>!r.isLocal),rh(null),Ko(()=>E$(this)),Wt(()=>this._result),nh(Jd),Df((r,o)=>!!(r&&r.time===he(o).time)),Qe(r=>!!r),Wt(r=>{var o=he(r);return this.op==="count"?o.count:this.op==="findOne"?o.documents.length===0?null:o.documents[0]:this.op==="findByIds"?o.docsMap:o.documents.slice(0)}));this._$=roe(n,this.refCount$.pipe(Qe(()=>!1)))}return this._$}},{key:"queryMatcher",get:function(){var n=this.collection.schema.jsonSchema,r=Um(this.collection.schema.jsonSchema,this.mangoQuery);return Fi(this,"queryMatcher",fb(n,r))}},{key:"asRxQuery",get:function(){return this}}]),e}();function Kp(){return{selector:{}}}function xae(e){return e.collection._queryCache.getByQuery(e)}function _c(e,t,n,r){Dr("preCreateRxQuery",{op:e,queryObj:t,collection:n,other:r});var o=new DN(e,t,n,r);return o=xae(o),mae(n),o}function jN(e){var t=e.asRxQuery.collection._changeEventBuffer.counter;return e._latestChangeEvent>=t}function E$(e){return e.collection.database.destroyed||jN(e)?Vn:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>Pae(e)),e._ensureEqualQueue)}function Pae(e){if(e._lastEnsureEqual=$t(),e.collection.database.destroyed||jN(e))return Vn;var t=!1,n=!1;if(e._latestChangeEvent===-1&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(r===null)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var o=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if(e.op==="count"){var i=he(e._result).count,a=i;o.forEach(u=>{var l=u.previousDocumentData&&e.doesDocumentDataMatch(u.previousDocumentData),c=e.doesDocumentDataMatch(u.documentData);!l&&c&&a++,l&&!c&&a--}),a!==i&&(t=!0,e._setResultData(a))}else{var s=uae(e,o);s.runFullQueryAgain?n=!0:s.changed&&(t=!0,e._setResultData(s.newResults))}}}return n?e._execOverDatabase().then(u=>(e._latestChangeEvent=e.collection._changeEventBuffer.counter,typeof u=="number"?((!e._result||u!==e._result.count)&&(t=!0,e._setResultData(u)),t):((!e._result||!_ne(e.collection.schema.primaryPath,u,e._result.docsData))&&(t=!0,e._setResultData(u)),t))):Promise.resolve(t)}function db(e,t){if(!t.sort)throw ie("SNH",{query:t});var n=Koe(e,t);return{query:t,queryPlan:n}}async function Cae(e){var t=[],n=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var r=e.isFindOneByIdQuery;if(r=r.filter(c=>{var f=e.collection._docCache.getLatestDocumentDataIfExists(c);return f?(f._deleted||t.push(f),!1):!0}),r.length>0){var o=await n.storageInstance.findDocumentsById(r,!1);cl(t,o)}}else{var i=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(i);if(!a){var s=await n.storageInstance.findDocumentsById([i],!1);s[0]&&(a=s[0])}a&&!a._deleted&&t.push(a)}else{var u=e.getPreparedQuery(),l=await n.storageInstance.query(u);t=l.documents}return t}function Oae(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var n=t.selector[e];if(typeof n=="string")return n;if(Object.keys(n).length===1&&typeof n.$eq=="string"||Object.keys(n).length===1&&Array.isArray(n.$eq)&&!n.$eq.find(r=>typeof r!="string"))return n.$eq}return!1}var Aae="_rxdb_internal";async function sh(e,t){var n=await e.findDocumentsById([t],!1),r=n[0];if(r)return r}async function Nf(e,t,n){var r=await e.bulkWrite([t],n);if(r.error.length>0){var o=r.error[0];throw o}else{var i=r.success[0];return i}}function $ae(e,t){var n=sh(e,t),r=e.changeStream().pipe(Wt(o=>o.events.find(i=>i.documentId===t)),Qe(o=>!!o),Wt(o=>Promise.resolve(he(o).documentData)),rh(n),toe(o=>o),Qe(o=>!!o));return r}function Lf(e){return Object.assign({},...e)}function NN(e,t,n){var r=t.documentData,o=t.previousDocumentData,i={documentId:t.documentId,collectionName:n?n.name:void 0,isLocal:e,operation:t.operation,documentData:Fe.deepFreezeWhenDevMode(r),previousDocumentData:Fe.deepFreezeWhenDevMode(o)};return i}function Vm(e,t,n,r){if(r)throw r.status===409?ie("CONFLICT",{collection:e.name,id:t,writeError:r,data:n}):r.status===422?ie("VD2",{collection:e.name,id:t,writeError:r,data:n}):r}function LN(e,t,n,r,o,i,a){for(var s=!!e.schema.attachments,u=[],l=[],c=[],f=Xd(10),d={id:f,events:[],checkpoint:null,context:o,startTime:$t(),endTime:0},h=d.events,m=[],p=[],b=[],v=n.size>0,y,w=r.length,_=function(){var E=r[S],x=E.document,P=E.previous,O=x[t],T=x._deleted,R=P&&P._deleted,M=void 0;v&&(M=n.get(O));var U;if(M){var N=M._rev;if(!P||P&&N!==P._rev){var V={isError:!0,status:409,documentId:O,writeRow:E,documentInDb:M};return c.push(V),1}var I=s?V0(E):E;s&&(T?P&&Object.keys(P._attachments).forEach(H=>{p.push({documentId:O,attachmentId:H,digest:he(P)._attachments[H].digest})}):(Object.entries(x._attachments).find(([H,se])=>{var _e=P?P._attachments[H]:void 0;return!_e&&!se.data&&(U={documentId:O,documentInDb:M,isError:!0,status:510,writeRow:E,attachmentId:H}),!0}),U||Object.entries(x._attachments).forEach(([H,se])=>{var _e=P?P._attachments[H]:void 0;if(!_e)m.push({documentId:O,attachmentId:H,attachmentData:se,digest:se.digest});else{var te=I.document._attachments[H].digest;se.data&&_e.digest!==te&&b.push({documentId:O,attachmentId:H,attachmentData:se,digest:se.digest})}}))),U?c.push(U):(s?(l.push(V0(I)),a&&a(x)):(l.push(I),a&&a(x)),y=I);var A=null,D=null,F=null;if(R&&!T)F="INSERT",A=s?$i(x):x;else if(P&&!R&&!T)F="UPDATE",A=s?$i(x):x,D=P;else if(T)F="DELETE",A=he(x),D=P;else throw ie("SNH",{args:{writeRow:E}});var W={documentId:O,documentData:A,previousDocumentData:D,operation:F};h.push(W)}else{var $=!!T;if(s&&Object.entries(x._attachments).forEach(([H,se])=>{se.data?m.push({documentId:O,attachmentId:H,attachmentData:se,digest:se.digest}):(U={documentId:O,isError:!0,status:510,writeRow:E,attachmentId:H},c.push(U))}),U||(s?(u.push(V0(E)),i&&i(x)):(u.push(E),i&&i(x)),y=E),!$){var L={documentId:O,operation:"INSERT",documentData:s?$i(x):x,previousDocumentData:s&&P?$i(P):P};h.push(L)}}},S=0;S<w;S++)_();return{bulkInsertDocs:u,bulkUpdateDocs:l,newestRow:y,errors:c,eventBulk:d,attachmentsAdd:m,attachmentsRemove:p,attachmentsUpdate:b}}function V0(e){return{previous:e.previous,document:$i(e.document)}}function Tae(e){return atob(e).length}function Rae(e){var t=e.data;if(!t)return e;var n={length:Tae(t),digest:e.digest,type:e.type};return n}function $i(e){if(!e._attachments||Object.keys(e._attachments).length===0)return e;var t=Ae(e);return t._attachments={},Object.entries(e._attachments).forEach(([n,r])=>{t._attachments[n]=Rae(r)}),t}function fx(e){var t=Ae(e);return t._meta=Ae(e._meta),t}function dx(e,t,n){Fe.deepFreezeWhenDevMode(n);var r=Zn(n.primaryKey);function o(a){var s=Ae(a.document);if(s._meta=Ae(s._meta),Fe.isDevMode()){s=zj(r,n,s);try{typeof structuredClone=="function"?structuredClone(a):JSON.parse(JSON.stringify(a))}catch{throw ie("DOC24",{collection:t.collectionName,document:a.document})}a.previous,a.previous&&Object.keys(a.previous._meta).forEach(u=>{if(!Object.prototype.hasOwnProperty.call(a.document._meta,u))throw ie("SNH",{dataBefore:a.previous,dataAfter:a.document})})}return s._meta.lwt=$t(),s._rev=Vo(e.token,a.previous),{document:s,previous:a.previous}}var i={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite(a,s){var u=a.map(l=>o(l));return e.lockedRun(()=>t.bulkWrite(u,s)).then(l=>{var c={error:[],success:l.success.slice(0)},f=l.error.filter(h=>h.status===409&&!h.writeRow.previous&&!h.writeRow.document._deleted&&he(h.documentInDb)._deleted?!0:(c.error.push(h),!1));if(f.length>0){var d=f.map(h=>({previous:h.documentInDb,document:Object.assign({},h.writeRow.document,{_rev:Vo(e.token,h.documentInDb)})}));return e.lockedRun(()=>t.bulkWrite(d,s)).then(h=>(cl(c.error,h.error),cl(c.success,h.success),c))}return l})},query(a){return e.lockedRun(()=>t.query(a))},count(a){return e.lockedRun(()=>t.count(a))},findDocumentsById(a,s){return e.lockedRun(()=>t.findDocumentsById(a,s))},getAttachmentData(a,s,u){return e.lockedRun(()=>t.getAttachmentData(a,s,u))},getChangedDocumentsSince:t.getChangedDocumentsSince?(a,s)=>e.lockedRun(()=>t.getChangedDocumentsSince(he(a),s)):void 0,cleanup(a){return e.lockedRun(()=>t.cleanup(a))},remove(){return e.storageInstances.delete(i),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(i),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()},conflictResultionTasks(){return t.conflictResultionTasks()},resolveConflictResultionTask(a){if(a.output.isEqual)return t.resolveConflictResultionTask(a);var s=Object.assign({},a.output.documentData,{_meta:ba(),_rev:Hn(),_attachments:{}}),u=Ae(s);return delete u._meta,delete u._rev,delete u._attachments,t.resolveConflictResultionTask({id:a.id,output:{isEqual:!1,documentData:u}})}};return e.storageInstances.add(i),i}function FN(e){if(e.schema.keyCompression)throw ie("UT5",{args:{params:e}});if(Wm(e.schema))throw ie("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw ie("UT7",{args:{params:e}})}function Wm(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}async function BN(e,t,n){if(e.getChangedDocumentsSince)return e.getChangedDocumentsSince(t,n);var r=Zn(e.schema.primaryKey),o=n?n.lwt:zE,i=n?n.id:"",a=db(e.schema,{selector:{$or:[{"_meta.lwt":{$gt:o}},{"_meta.lwt":{$eq:o},[r]:{$gt:n?i:""}}],"_meta.lwt":{$gte:o}},sort:[{"_meta.lwt":"asc"},{[r]:"asc"}],skip:0,limit:t,index:["_meta.lwt",r]}),s=await e.query(a),u=s.documents,l=gne(u);return{documents:u,checkpoint:l?{id:l[r],lwt:l._meta.lwt}:n||{id:"",lwt:0}}}var UN=function(){function e(n,r,o,i){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=n,this.primaryPath=r,this.preWrite=o,this.postWrite=i}var t=e.prototype;return t.addWrite=function(r,o){var i=r[this.primaryPath],a=pr(this.queueByDocId,i,()=>[]),s=new Promise((u,l)=>{var c={lastKnownDocumentState:r,modifier:o,resolve:u,reject:l};he(a).push(c),this.triggerRun()});return s},t.triggerRun=async function(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var r=[],o=this.queueByDocId;this.queueByDocId=new Map,await Promise.all(Array.from(o.entries()).map(async([a,s])=>{var u=kae(s.map(f=>f.lastKnownDocumentState)),l=u;for(var c of s)try{l=await c.modifier(qn(l))}catch(f){c.reject(f),c.reject=()=>{},c.resolve=()=>{}}try{await this.preWrite(l,u)}catch(f){s.forEach(d=>d.reject(f));return}r.push({previous:u,document:l})}));var i=r.length>0?await this.storageInstance.bulkWrite(r,"incremental-write"):{error:[],success:[]};return await Promise.all(i.success.map(a=>{var s=a[this.primaryPath];this.postWrite(a);var u=ms(o,s);u.forEach(l=>l.resolve(a))})),i.error.forEach(a=>{var s=a.documentId,u=ms(o,s),l=ob(a);if(l){var c=pr(this.queueByDocId,s,()=>[]);u.reverse().forEach(d=>{d.lastKnownDocumentState=he(l.documentInDb),he(c).unshift(d)})}else{var f=Qne(a);u.forEach(d=>d.reject(f))}}),this.isRunning=!1,this.triggerRun()}},e}();function x$(e){var t=async n=>{var r=wne(n);r._deleted=n._deleted;var o=await e(r),i=Object.assign({},o,{_meta:n._meta,_attachments:n._attachments,_rev:n._rev,_deleted:typeof o._deleted<"u"?o._deleted:n._deleted});return typeof i._deleted>"u"&&(i._deleted=!1),i};return t}function kae(e){var t=e[0],n=fl(t._rev).height;return e.forEach(r=>{var o=fl(r._rev).height;o>n&&(t=r,n=o)}),t}var hb={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(Wt(t=>t._data._deleted))},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(Qe(t=>!t.isLocal),Qe(t=>t.documentId===this.primary),Wt(t=>ex(t)),rh(e.collection._docCache.getLatestDocumentData(this.primary)),Df((t,n)=>t._rev===n._rev),Wt(t=>this.collection._docCache.getCachedRxDocument(t)),nh(Jd))},get$(e){if(Fe.isDevMode()){if(e.includes(".item."))throw ie("DOC1",{path:e});if(e===this.primaryPath)throw ie("DOC2");if(this.collection.schema.finalFields.includes(e))throw ie("DOC3",{path:e});var t=Wo(this.collection.schema.jsonSchema,e);if(!t)throw ie("DOC4",{path:e})}return this.$.pipe(Wt(n=>Qi(n,e)),Df())},populate(e){var t=Wo(this.collection.schema.jsonSchema,e),n=this.get(e);if(!n)return KE;if(!t)throw ie("DOC5",{path:e});if(!t.ref)throw ie("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw ie("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?r.findByIds(n).exec().then(o=>{var i=o.values();return Array.from(i)}):r.findOne(n).exec()},get(e){return pr(this._propertyCache,e,()=>{var t=Qi(this._data,e);if(typeof t!="object"||t===null||Array.isArray(t))return Fe.deepFreezeWhenDevMode(t);var n=this,r=new Proxy(Ae(t),{get(o,i){if(typeof i!="string")return o[i];var a=i.charAt(i.length-1);if(a==="$"){var s=i.slice(0,-1);return n.get$(Bp(e+"."+s))}else if(a==="_"){var u=i.slice(0,-1);return n.populate(Bp(e+"."+u))}else return n.get(Bp(e+"."+i))}});return r})},toJSON(e=!1){if(e)return Fe.deepFreezeWhenDevMode(this._data);var t=Ae(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,Fe.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return qn(this.toJSON(e))},update(e){throw qe("update")},incrementalUpdate(e){throw qe("update")},updateCRDT(e){throw qe("crdt")},putAttachment(){throw qe("attachments")},getAttachment(){throw qe("attachments")},allAttachments(){throw qe("attachments")},get allAttachments$(){throw qe("attachments")},async modify(e,t){var n=this._data,r=await x$(e)(n);return this._saveData(r,n)},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,x$(e)).then(n=>this.collection._docCache.getCachedRxDocument(n))},patch(e){var t=this._data,n=qn(t);return Object.entries(e).forEach(([r,o])=>{n[r]=o}),this._saveData(n,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([n,r])=>{t[n]=r}),t))},async _saveData(e,t){if(e=Ae(e),this._data._deleted)throw ie("DOC11",{id:this.primary,document:this});await WN(this.collection,e,t);var n=await this.collection.storageInstance.bulkWrite([{previous:t,document:e}],"rx-document-save-data"),r=n.error[0];return Vm(this.collection,this.primary,e,r),await this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(n.success[0])},remove(){var e=this.collection;if(this.deleted)return Promise.reject(ie("DOC13",{document:this,id:this.primary}));var t=Ae(this._data),n;return e._runHooks("pre","remove",t,this).then(async()=>{t._deleted=!0;var r=await e.storageInstance.bulkWrite([{previous:this._data,document:t}],"rx-document-remove"),o=r.error[0];return Vm(e,this.primary,t,o),r.success[0]}).then(r=>(n=r,this.collection._runHooks("post","remove",t,this))).then(()=>this.collection._docCache.getCachedRxDocument(n))},incrementalRemove(){return this.incrementalModify(async e=>(await this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e)).then(async e=>(await this.collection._runHooks("post","remove",e._data,e),e))},destroy(){throw ie("DOC14")}};function VN(e=hb){var t=function(r,o){this.collection=r,this._data=o,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Mae(e,t,n){var r=new e(t,n);return Dr("createRxDocument",r),r}function WN(e,t,n){return t._meta=Object.assign({},n._meta,t._meta),Fe.isDevMode()&&e.schema.validateChange(n,t),e._runHooks("pre","save",t,n)}var Ja="collection",hx="storage-token",Hp="rx-migration-status",Iae="RxInternalDocument",px=ib({version:0,title:Iae,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Ja,hx,Hp,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function yl(e,t){return wa(px,{key:e,context:t})}async function zN(e){var t=db(e.schema,{selector:{context:Ja,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),n=await e.query(t),r=n.documents;return r}var KN="storageToken",Dae=yl(KN,hx);async function jae(e){var t=Xd(10),n=e.password?await e.hashFunction(JSON.stringify(e.password)):void 0,r={id:Dae,context:hx,key:KN,data:{rxdbVersion:e.rxdbVersion,token:t,instanceToken:e.token,passwordHash:n},_deleted:!1,_meta:ba(),_rev:Hn(),_attachments:{}},o=await e.internalStore.bulkWrite([{document:r}],"internal-add-storage-token");if(o.success[0])return o.success[0];var i=he(o.error[0]);if(i.isError&&ob(i)){var a=i;if(!Nae(a.documentInDb.data.rxdbVersion,e.rxdbVersion))throw ie("DM5",{args:{database:e.name,databaseStateVersion:a.documentInDb.data.rxdbVersion,codeVersion:e.rxdbVersion}});if(n&&n!==a.documentInDb.data.passwordHash)throw ie("DB1",{passwordHash:n,existingPasswordHash:a.documentInDb.data.passwordHash});var s=a.documentInDb;return he(s)}throw i}function Nae(e,t){if(!e||t.includes("beta")&&t!==e)return!1;var n=e.split(".")[0],r=t.split(".")[0];return n===r}async function HN(e,t,n){if(e.schema.version!==n.version)throw ie("SNH",{schema:n,version:e.schema.version,name:e.name,collection:e,args:{storageCollectionName:t}});for(var r=u_(e.name,e.schema.jsonSchema),o=yl(r,Ja);;){var i=await sh(e.database.internalStore,o),a=qn(he(i)),s=a.data.connectedStorages.find(u=>u.collectionName===t&&u.schema.version===n.version);if(s)return;a.data.connectedStorages.push({collectionName:t,schema:n});try{await Nf(e.database.internalStore,{previous:he(i),document:a},"add-connected-storage-to-collection")}catch(u){if(!ob(u))throw u}}}function u_(e,t){return e+"-"+t.version}function W0(e,t){return t=Ae(t),t=tre(e,t),t=zj(e.primaryPath,e.jsonSchema,t),t._meta=ba(),Object.prototype.hasOwnProperty.call(t,"_deleted")||(t._deleted=!1),Object.prototype.hasOwnProperty.call(t,"_attachments")||(t._attachments={}),Object.prototype.hasOwnProperty.call(t,"_rev")||(t._rev=Hn()),t}async function Lae(e,t){t.multiInstance=e.multiInstance;var n=await e.storage.createStorageInstance(t);return n}async function qN(e,t,n,r,o,i,a){var s=await zN(t),u=s.filter(d=>d.data.name===o),l=[];u.forEach(d=>{l.push({collectionName:d.data.name,schema:d.data.schema,isCollection:!0}),d.data.connectedStorages.forEach(h=>l.push({collectionName:h.collectionName,isCollection:!1,schema:h.schema}))});var c=new Set;if(l=l.filter(d=>{var h=d.collectionName+"||"+d.schema.version;return c.has(h)?!1:(c.add(h),!0)}),await Promise.all(l.map(async d=>{var h=await e.createStorageInstance({collectionName:d.collectionName,databaseInstanceToken:n,databaseName:r,multiInstance:!1,options:{},schema:d.schema,password:i,devMode:Fe.isDevMode()});await h.remove(),d.isCollection&&await vs("postRemoveRxCollection",{storage:e,databaseName:r,collectionName:o})})),a){var f=u.map(d=>{var h=fx(d);return h._deleted=!0,h._meta.lwt=$t(),h._rev=Vo(n,d),{previous:d,document:h}});await t.bulkWrite(f,"rx-database-remove-collection-all")}}var Fae=function(){function e(n){this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=n,this.subs.push(this.collection.$.pipe(Qe(r=>!r.isLocal)).subscribe(r=>this._handleChangeEvent(r)))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var o=this.buffer[0],i=this.eventCounterMap.get(o);if(r<i)return null;var a=r-i;return a},t.getFrom=function(r){var o=[],i=this.getArrayIndexByPointer(r);if(i===null)return null;for(;;){var a=this.buffer[i];if(i++,a)o.push(a);else return o}},t.runFrom=function(r,o){var i=this.getFrom(r);if(i===null)throw new Error("out of bounds");i.forEach(a=>o(a))},t.reduceByLastOfDoc=function(r){return r.slice(0)},t.destroy=function(){this.subs.forEach(r=>r.unsubscribe())},e}();function Bae(e){return new Fae(e)}var Uae=new WeakMap;function Vae(e){var t=e.schema.getDocumentPrototype(),n=Kae(e),r=hb,o={};return[t,n,r].forEach(i=>{var a=Object.getOwnPropertyNames(i);a.forEach(s=>{var u=Object.getOwnPropertyDescriptor(i,s),l=!0;(s.startsWith("_")||s.endsWith("_")||s.startsWith("$")||s.endsWith("$"))&&(l=!1),typeof u.value=="function"?Object.defineProperty(o,s,{get(){return u.value.bind(this)},enumerable:l,configurable:!1}):(u.enumerable=l,u.configurable=!1,u.writable&&(u.writable=!1),Object.defineProperty(o,s,u))})}),o}function Wae(e){return pr(Uae,e,()=>VN(Vae(e)))}function zae(e,t){var n=Mae(Wae(e),e,Fe.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,n),Dr("postCreateRxDocument",n),n}function Kae(e){var t={};return Object.entries(e.methods).forEach(([n,r])=>{t[n]=r}),t}async function zm(e,t){var n=wa(e.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),r=await e.input.metaInstance.findDocumentsById([n],!1),o=r[0];if(e.lastCheckpointDoc[t]=o,o)return o.checkpointData}async function Km(e,t,n){e.checkpointQueue=e.checkpointQueue.then(async()=>{var r=e.lastCheckpointDoc[t];if(n&&!e.events.canceled.getValue()&&(!r||JSON.stringify(r.checkpointData)!==JSON.stringify(n))){var o={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:n,_meta:ba(),_rev:Hn()};for(o.id=wa(e.input.metaInstance.schema,o);!e.events.canceled.getValue();){if(r&&(o.checkpointData=Lf([r.checkpointData,o.checkpointData])),o._meta.lwt=$t(),o._rev=Vo(await e.checkpointKey,r),e.events.canceled.getValue())return;var i=await e.input.metaInstance.bulkWrite([{previous:r,document:o}],"replication-set-checkpoint"),a=i.success[0];if(a){e.lastCheckpointDoc[t]=a;return}else{var s=i.error[0];if(s.status!==409)throw s;r=he(s.documentInDb),o._rev=Vo(await e.checkpointKey,r)}}}}),await e.checkpointQueue}async function Hae(e){var t=await e.hashFunction([e.identifier,e.forkInstance.databaseName,e.forkInstance.collectionName].join("||"));return"rx_storage_replication_"+t}function P$(e,t,n,r,o){var i=Object.assign({},r,{_attachments:t&&r._attachments?r._attachments:{},_meta:n?r._meta:{lwt:$t()},_rev:n?r._rev:Hn()});return i._rev||(i._rev=Vo(e,o)),i}function yi(e,t,n){var r=Ae(e);return t||delete r._attachments,n||(delete r._meta,delete r._rev),r}function l_(e,t){return e.hasAttachments?t.map(n=>{var r=qn(n.document);return r.docData=$i(r.docData),{document:r,previous:n.previous}}):t}function c_(e){for(;;)if(e.underlyingPersistentStorage)e=e.underlyingPersistentStorage;else return e}var qp="RxReplicationProtocolMetaData";function f_(e,t){var n=Xne(e),r={title:qp,primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:e.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:n+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:n>4?n:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:e.properties},isResolvedConflict:{type:"string"}},keyCompression:e.keyCompression,required:["id","isCheckpoint","itemId"]};t&&(r.encrypted=["docData"]);var o=ib(r);return o}function GN(e,t){return e.input.metaInstance.findDocumentsById(t.map(n=>{var r=wa(e.input.metaInstance.schema,{itemId:n,isCheckpoint:"0"});return r}),!0).then(n=>{var r={};return Object.values(n).forEach(o=>{r[o.itemId]={docData:o.docData,metaDocument:o}}),r})}async function Hm(e,t,n,r){var o=t[e.primaryPath],i=n?fx(n):{id:"",isCheckpoint:"0",itemId:o,docData:t,_attachments:{},_deleted:!1,_rev:Hn(),_meta:{lwt:0}};return i.docData=t,i.isResolvedConflict=r,i._meta.lwt=$t(),i.id=wa(e.input.metaInstance.schema,i),i._rev=Vo(await e.checkpointKey,n),{previous:n,document:i}}async function qae(e){if(e.input.initialCheckpoint&&e.input.initialCheckpoint.downstream){var t=await zm(e,"down");t||await Km(e,"down",e.input.initialCheckpoint.downstream)}var n=await e.input.hashFunction(e.input.identifier),r=e.input.replicationHandler,o=0,i=[];function a(m){e.stats.down.addNewTask=e.stats.down.addNewTask+1;var p={time:o++,task:m};i.push(p),e.streamQueue.down=e.streamQueue.down.then(()=>{for(var b=[];i.length>0;){e.events.active.down.next(!0);var v=he(i.shift());if(!(v.time<u)){if(v.task==="RESYNC")if(b.length===0){b.push(v.task);break}else break;b.push(v.task)}}if(b.length!==0)return b[0]==="RESYNC"?l():c(b)}).then(()=>{e.events.active.down.next(!1),!e.firstSyncDone.down.getValue()&&!e.events.canceled.getValue()&&e.firstSyncDone.down.next(!0)})}if(a("RESYNC"),!e.events.canceled.getValue()){var s=r.masterChangeStream$.subscribe(m=>{e.stats.down.masterChangeStreamEmit=e.stats.down.masterChangeStreamEmit+1,a(m)});Ya(e.events.canceled.pipe(Qe(m=>!!m))).then(()=>s.unsubscribe())}var u=-1;async function l(){if(e.stats.down.downstreamResyncOnce=e.stats.down.downstreamResyncOnce+1,!e.events.canceled.getValue()){e.checkpointQueue=e.checkpointQueue.then(()=>zm(e,"down"));for(var m=await e.checkpointQueue,p=[];!e.events.canceled.getValue();){u=o++;var b=await r.masterChangesSince(m,e.input.pullBatchSize);if(b.documents.length===0||(m=Lf([m,b.checkpoint]),p.push(h(b.documents,m)),b.documents.length<e.input.pullBatchSize))break}await Promise.all(p)}}function c(m){e.stats.down.downstreamProcessChanges=e.stats.down.downstreamProcessChanges+1;var p=[],b=null;return m.forEach(v=>{if(v==="RESYNC")throw new Error("SNH");cl(p,v.documents),b=Lf([b,v.checkpoint])}),h(p,he(b))}var f=en,d={docs:{}};function h(m,p){var b=e.primaryPath;return e.stats.down.persistFromMaster=e.stats.down.persistFromMaster+1,m.forEach(v=>{var y=v[b];d.docs[y]=v}),d.checkpoint=p,f=f.then(()=>{var v=d.docs;d.docs={};var y=d.checkpoint,w=Object.keys(v);if(e.events.canceled.getValue()||w.length===0)return en;var _=[],S={},E={},x=[];return Promise.all([e.input.forkInstance.findDocumentsById(w,!0),GN(e,w)]).then(([P,O])=>{var T=new Map;return P.forEach(R=>T.set(R[b],R)),Promise.all(w.map(async R=>{var M=T.get(R),U=M?yi(M,e.hasAttachments,!1):void 0,$=v[R],L=O[R];if(L&&M&&L.metaDocument.isResolvedConflict===M._rev)return en;var N=!L||!U?!1:await e.input.conflictHandler({realMasterState:L.docData,newDocumentState:U},"downstream-check-if-equal-0").then(F=>F.isEqual);if(!N&&L&&L.docData._rev&&M&&M._meta[e.input.identifier]&&fl(M._rev).height===M._meta[e.input.identifier]&&(N=!0),M&&L&&N===!1||M&&!L)return en;var V=U?await e.input.conflictHandler({realMasterState:$,newDocumentState:U},"downstream-check-if-equal-1").then(F=>F.isEqual):!1;if(U&&V)return(!L||N===!1)&&x.push(await Hm(e,U,L?L.metaDocument:void 0)),en;var I=Object.assign({},$,M?{_meta:Ae(M._meta),_attachments:e.hasAttachments&&$._attachments?$._attachments:{},_rev:Hn()}:{_meta:{lwt:$t()},_rev:Hn(),_attachments:e.hasAttachments&&$._attachments?$._attachments:{}});if($._rev){var A=M?fl(M._rev).height+1:1;I._meta[e.input.identifier]=A,e.input.keepMeta&&(I._rev=$._rev)}e.input.keepMeta&&$._meta&&(I._meta=$._meta);var D={previous:M,document:I};D.document._rev=D.document._rev?D.document._rev:Vo(n,D.previous),_.push(D),S[R]=D,E[R]=await Hm(e,$,L?L.metaDocument:void 0)}))}).then(async()=>{if(_.length>0)return e.input.forkInstance.bulkWrite(_,await e.downstreamBulkWriteFlag).then(P=>{P.success.forEach(O=>{var T=O[b];e.events.processed.down.next(S[T]),x.push(E[T])}),P.error.forEach(O=>{O.status!==409&&e.events.error.next(ie("RC_PULL",{writeError:O}))})})}).then(()=>{if(x.length>0)return e.input.metaInstance.bulkWrite(l_(e,x),"replication-down-write-meta").then(P=>{P.error.forEach(O=>{e.events.error.next(ie("RC_PULL",{id:O.documentId,writeError:O}))})})}).then(()=>{Km(e,"down",y)})}).catch(v=>e.events.error.next(v)),f}}var qm=function(e,t){var n=$i(e.newDocumentState),r=$i(e.realMasterState);return hl(n,r)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};async function Gae(e,t,n){var r=e.input.conflictHandler,o=await r(t,"replication-resolve-conflict");if(!o.isEqual){var i=Object.assign({},o.documentData,{_meta:Ae(n._meta),_rev:Hn(),_attachments:Ae(n._attachments)});return i._meta.lwt=$t(),i._rev=Vo(await e.checkpointKey,n),{resolvedDoc:i,output:o}}}async function d_(e,t,n,r){if(!n._attachments||r&&!r._attachments)throw new Error("_attachments missing");var o=n[e],i=new Set(r&&r._attachments?Object.keys(r._attachments):[]);return await Promise.all(Object.entries(n._attachments).map(async([a,s])=>{if((!i.has(a)||r&&he(r._attachments)[a].digest!==s.digest)&&!s.data){var u=await t.getAttachmentData(o,a,s.digest);s.data=u}})),n}async function Yae(e){if(e.input.initialCheckpoint&&e.input.initialCheckpoint.upstream){var t=await zm(e,"up");t||await Km(e,"up",e.input.initialCheckpoint.upstream)}var n=e.input.replicationHandler;e.streamQueue.up=e.streamQueue.up.then(()=>l().then(()=>{c()}));var r=0,o=-1,i=[],a=Vn,s={docs:{}},u=e.input.forkInstance.changeStream().subscribe(async d=>{if(d.context!==await e.downstreamBulkWriteFlag)return e.stats.up.forkChangeStreamEmit=e.stats.up.forkChangeStreamEmit+1,i.push({task:d,time:r++}),e.input.waitBeforePersist?e.input.waitBeforePersist().then(()=>c()):c()});Ya(e.events.canceled.pipe(Qe(d=>!!d))).then(()=>u.unsubscribe());async function l(){if(e.stats.up.upstreamInitialSync=e.stats.up.upstreamInitialSync+1,!e.events.canceled.getValue()){e.checkpointQueue=e.checkpointQueue.then(()=>zm(e,"up"));for(var d=await e.checkpointQueue,h=new Set,m=async function(){o=r++,h.size>3&&await Promise.race(Array.from(h));var v=await BN(e.input.forkInstance,e.input.pushBatchSize,d);if(v.documents.length===0)return 1;d=Lf([d,v.checkpoint]);var y=f(v.documents,he(d));h.add(y),y.catch().then(()=>h.delete(y))};!e.events.canceled.getValue()&&!await m(););var p=await Promise.all(h),b=p.find(v=>!!v);b?await l():!e.firstSyncDone.up.getValue()&&!e.events.canceled.getValue()&&e.firstSyncDone.up.next(!0)}}function c(){if(e.events.canceled.getValue()||i.length===0){e.events.active.up.next(!1);return}e.stats.up.processTasks=e.stats.up.processTasks+1,e.events.active.up.next(!0),e.streamQueue.up=e.streamQueue.up.then(()=>{for(var d=[],h={};i.length>0;){var m=he(i.shift());m.time<o||(cl(d,m.task.events.map(b=>b.documentData)),h=Lf([h,m.task.checkpoint]))}var p=d.length===0?Vn:f(d,h);return p.then(()=>{i.length===0?e.events.active.up.next(!1):c()})})}function f(d,h){return e.stats.up.persistToMaster=e.stats.up.persistToMaster+1,d.forEach(m=>{var p=m[e.primaryPath];s.docs[p]=m}),s.checkpoint=h,a=a.then(async()=>{if(e.events.canceled.getValue())return!1;var m=s.docs;s.docs={};var p=s.checkpoint,b=Object.keys(m);if(b.length===0)return!1;var v=await GN(e,b),y={},w=[],_={},S={};if(await Promise.all(b.map(async N=>{var V=m[N];S[N]=V;var I=yi(V,e.hasAttachments,!!e.input.keepMeta),A=v[N];A&&A.metaDocument.isResolvedConflict!==V._rev&&(await e.input.conflictHandler({realMasterState:A.docData,newDocumentState:I},"upstream-check-if-equal")).isEqual||A&&A.docData._rev&&fl(V._rev).height===V._meta[e.input.identifier]||(w.push(N),y[N]={assumedMasterState:A?A.docData:void 0,newDocumentState:I},_[N]=await Hm(e,I,A?A.metaDocument:void 0))})),w.length===0)return!1;var E=Object.values(y),x=new Set,P={},O=yne(E,e.input.pushBatchSize);await Promise.all(O.map(async N=>{e.hasAttachments&&await Promise.all(N.map(async I=>{I.newDocumentState=await d_(e.primaryPath,e.input.forkInstance,qn(I.newDocumentState),I.assumedMasterState)}));var V=await n.masterWrite(N);V.forEach(I=>{var A=I[e.primaryPath];x.add(A),P[A]=I})}));var T=[];if(w.forEach(N=>{x.has(N)||(e.events.processed.up.next(y[N]),T.push(_[N]))}),e.events.canceled.getValue())return!1;T.length>0&&await e.input.metaInstance.bulkWrite(l_(e,T),"replication-up-write-meta");var R=!1;if(x.size>0){e.stats.up.persistToMasterHadConflicts=e.stats.up.persistToMasterHadConflicts+1;var M=[],U={};if(await Promise.all(Object.entries(P).map(([N,V])=>{var I=y[N],A={newDocumentState:I.newDocumentState,assumedMasterState:I.assumedMasterState,realMasterState:V};return Gae(e,A,S[N]).then(async D=>{if(D){e.events.resolvedConflicts.next({input:A,output:D.output}),M.push({previous:S[N],document:D.resolvedDoc});var F=v[N];U[N]=await Hm(e,he(V),F?F.metaDocument:void 0,D.resolvedDoc._rev)}})})),M.length>0){R=!0,e.stats.up.persistToMasterConflictWrites=e.stats.up.persistToMasterConflictWrites+1;var $=await e.input.forkInstance.bulkWrite(M,"replication-up-write-conflict"),L=[];$.success.forEach(N=>{var V=N[e.primaryPath];L.push(U[V])}),L.length>0&&await e.input.metaInstance.bulkWrite(l_(e,L),"replication-up-write-conflict-meta")}}return Km(e,"up",p),R}).catch(m=>(e.events.error.next(m),!1)),a}}function YN(e){e=Ae(e),e.forkInstance=c_(e.forkInstance),e.metaInstance=c_(e.metaInstance);var t=Hae(e),n={primaryPath:Zn(e.forkInstance.schema.primaryKey),hasAttachments:!!e.forkInstance.schema.attachments,input:e,checkpointKey:t,downstreamBulkWriteFlag:t.then(r=>"replication-downstream-"+r),events:{canceled:new So(!1),active:{down:new So(!0),up:new So(!0)},processed:{down:new Ot,up:new Ot},resolvedConflicts:new Ot,error:new Ot},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new So(!1),up:new So(!1)},streamQueue:{down:en,up:en},checkpointQueue:en,lastCheckpointDoc:{}};return qae(n),Yae(n),n}function Gp(e){return Ya(hN([e.firstSyncDone.down.pipe(Qe(t=>!!t)),e.firstSyncDone.up.pipe(Qe(t=>!!t))])).then(()=>{})}function C$(e){return Promise.all([e.streamQueue.up,e.streamQueue.down,e.checkpointQueue])}function Qae(e,t,n,r=!1){e=c_(e);var o=!!e.schema.attachments,i=Zn(e.schema.primaryKey),a={masterChangeStream$:e.changeStream().pipe(Ko(async s=>{var u={checkpoint:s.checkpoint,documents:await Promise.all(s.events.map(async l=>{var c=yi(l.documentData,o,r);return o&&(c=await d_(i,e,qn(c),void 0)),c}))};return u})),masterChangesSince(s,u){return BN(e,u,s).then(async l=>({checkpoint:l.documents.length>0?l.checkpoint:s,documents:await Promise.all(l.documents.map(async c=>{var f=yi(c,o,r);return o&&(f=await d_(i,e,qn(f),void 0)),f}))}))},async masterWrite(s){var u={};s.forEach(p=>{var b=p.newDocumentState[i];u[b]=p});var l=Object.keys(u),c=await e.findDocumentsById(l,!0),f=new Map;c.forEach(p=>f.set(p[i],p));var d=[],h=[];if(await Promise.all(Object.entries(u).map(async([p,b])=>{var v=f.get(p);v?v&&!b.assumedMasterState?d.push(yi(v,o,r)):(await t({realMasterState:yi(v,o,r),newDocumentState:he(b.assumedMasterState)},"rxStorageInstanceToReplicationHandler-masterWrite")).isEqual===!0?h.push({previous:v,document:P$(n,o,r,b.newDocumentState,v)}):d.push(yi(v,o,r)):h.push({document:P$(n,o,r,b.newDocumentState)})})),h.length>0){var m=await e.bulkWrite(h,"replication-master-write");m.error.forEach(p=>{if(p.status!==409)throw new Error("non conflict error");d.push(yi(he(p.documentInDb),o,r))})}return d}};return a}async function QN(e){e.events.canceled.next(!0),e.events.active.up.complete(),e.events.active.down.complete(),e.events.processed.up.complete(),e.events.processed.down.complete(),e.events.resolvedConflicts.complete(),e.events.canceled.complete(),await e.checkpointQueue}var XN=["pre","post"],JN=["insert","save","remove","create"],O$=!1,ZN=function(){function e(n,r,o,i,a={},s={},u={},l={},c={},f=kN,d={},h=qm){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=cae(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.database=n,this.name=r,this.schema=o,this.internalStorageInstance=i,this.instanceCreationOptions=a,this.migrationStrategies=s,this.methods=u,this.attachments=l,this.options=c,this.cacheReplacementPolicy=f,this.statics=d,this.conflictHandler=h,Xae(this.asRxCollection)}var t=e.prototype;return t.prepare=async function(){this.storageInstance=dx(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new UN(this.storageInstance,this.schema.primaryPath,(a,s)=>WN(this,a,s),a=>this._runHooks("post","save",a));var r=this.database.eventBulks$.pipe(Qe(a=>a.collectionName===this.name));this.$=r.pipe(Ko(a=>a.events)),this.checkpoint$=r.pipe(Wt(a=>a.checkpoint)),this._changeEventBuffer=Bae(this.asRxCollection),this._docCache=new MN(this.schema.primaryPath,this.$.pipe(Qe(a=>!a.isLocal)),a=>zae(this.asRxCollection,a));var o=await this.database.storageToken,i=this.storageInstance.changeStream().subscribe(a=>{var s={id:a.id,internal:!1,collectionName:this.name,storageToken:o,events:a.events.map(u=>NN(!1,u,this)),databaseToken:this.database.token,checkpoint:a.checkpoint,context:a.context,endTime:a.endTime,startTime:a.startTime};this.database.$emit(s)});return this._subs.push(i),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(a=>{this.conflictHandler(a.input,a.context).then(s=>{this.storageInstance.resolveConflictResultionTask({id:a.id,output:s})})})),en},t.cleanup=function(r){throw qe("cleanup")},t.migrationNeeded=function(){throw qe("migration")},t.getMigrationState=function(){throw qe("migration")},t.startMigration=function(r=10){return this.getMigrationState().startMigration(r)},t.migratePromise=function(r=10){return this.getMigrationState().migratePromise(r)},t.insert=async function(r){var o=await this.bulkInsert([r]),i=o.error[0];Vm(this,r[this.schema.primaryPath],r,i);var a=he(o.success[0]);return a},t.bulkInsert=async function(r){if(r.length===0)return{success:[],error:[]};var o=this.schema.primaryPath,i=r.map(f=>{var d=W0(this.schema,f);return d}),a=this.hasHooks("pre","insert")?await Promise.all(i.map(f=>this._runHooks("pre","insert",f).then(()=>f))):i,s=a.map(f=>{var d={document:f};return d}),u=await this.storageInstance.bulkWrite(s,"rx-collection-bulk-insert"),l=IN(this._docCache,u.success);if(this.hasHooks("post","insert")){var c=new Map;a.forEach(f=>{c.set(f[o],f)}),await Promise.all(l.map(f=>this._runHooks("post","insert",c.get(f.primary),f)))}return{success:l,error:u.error}},t.bulkRemove=async function(r){var o=this.schema.primaryPath;if(r.length===0)return{success:[],error:[]};var i=await this.findByIds(r).exec(),a=[],s=new Map;Array.from(i.values()).forEach(d=>{var h=d.toMutableJSON(!0);a.push(h),s.set(d.primary,h)}),await Promise.all(a.map(d=>{var h=d[this.schema.primaryPath];return this._runHooks("pre","remove",d,i.get(h))}));var u=a.map(d=>{var h=Ae(d);return h._deleted=!0,{previous:d,document:h}}),l=await this.storageInstance.bulkWrite(u,"rx-collection-bulk-remove"),c=l.success.map(d=>d[o]);await Promise.all(c.map(d=>this._runHooks("post","remove",s.get(d),i.get(d))));var f=c.map(d=>ms(i,d));return{success:f,error:l.error}},t.bulkUpsert=async function(r){var o=[],i=new Map;r.forEach(l=>{var c=W0(this.schema,l),f=c[this.schema.primaryPath];if(!f)throw ie("COL3",{primaryPath:this.schema.primaryPath,data:c,schema:this.schema.jsonSchema});i.set(f,c),o.push(c)});var a=await this.bulkInsert(o),s=a.success.slice(0),u=[];return await Promise.all(a.error.map(async l=>{if(l.status!==409)u.push(l);else{var c=l.documentId,f=ms(i,c),d=he(l.documentInDb),h=this._docCache.getCachedRxDocument(d),m=await h.incrementalModify(()=>f);s.push(m)}})),{error:u,success:s}},t.upsert=async function(r){var o=await this.bulkUpsert([r]);return Vm(this.asRxCollection,r[this.schema.primaryPath],r,o.error[0]),o.success[0]},t.incrementalUpsert=function(r){var o=W0(this.schema,r),i=o[this.schema.primaryPath];if(!i)throw ie("COL4",{data:r});var a=this._incrementalUpsertQueues.get(i);return a||(a=en),a=a.then(()=>Zae(this,i,o)).then(s=>s.inserted?s.doc:Jae(s.doc,o)),this._incrementalUpsertQueues.set(i,a),a},t.find=function(r){if(typeof r=="string")throw ie("COL5",{queryObj:r});r||(r=Kp());var o=_c("find",r,this);return o},t.findOne=function(r){if(typeof r=="number"||Array.isArray(r))throw Kc("COL6",{queryObj:r});var o;if(typeof r=="string")o=_c("findOne",{selector:{[this.schema.primaryPath]:r},limit:1},this);else{if(r||(r=Kp()),r.limit)throw ie("QU6");r=Ae(r),r.limit=1,o=_c("findOne",r,this)}return o},t.count=function(r){r||(r=Kp());var o=_c("count",r,this);return o},t.findByIds=function(r){var o={selector:{[this.schema.primaryPath]:{$in:r.slice(0)}}},i=_c("findByIds",o,this);return i},t.exportJSON=function(){throw qe("json-dump")},t.importJSON=function(r){throw qe("json-dump")},t.insertCRDT=function(r){throw qe("crdt")},t.addHook=function(r,o,i,a=!1){if(typeof i!="function")throw Kc("COL7",{key:o,when:r});if(!XN.includes(r))throw Kc("COL8",{key:o,when:r});if(!JN.includes(o))throw ie("COL9",{key:o});if(r==="post"&&o==="create"&&a===!0)throw ie("COL10",{when:r,key:o,parallel:a});var s=i.bind(this),u=a?"parallel":"series";this.hooks[o]=this.hooks[o]||{},this.hooks[o][r]=this.hooks[o][r]||{series:[],parallel:[]},this.hooks[o][r][u].push(s)},t.getHooks=function(r,o){return!this.hooks[o]||!this.hooks[o][r]?{series:[],parallel:[]}:this.hooks[o][r]},t.hasHooks=function(r,o){var i=this.getHooks(r,o);return i?i.series.length>0||i.parallel.length>0:!1},t._runHooks=function(r,o,i,a){var s=this.getHooks(r,o);if(!s)return en;var u=s.series.map(l=>()=>l(i,a));return Lne(u).then(()=>Promise.all(s.parallel.map(l=>l(i,a))))},t._runHooksSync=function(r,o,i,a){var s=this.getHooks(r,o);s&&s.series.forEach(u=>u(i,a))},t.promiseWait=function(r){var o=new Promise(i=>{var a=setTimeout(()=>{this.timeouts.delete(a),i()},r);this.timeouts.add(a)});return o},t.destroy=function(){return this.destroyed?Vn:(this.destroyed=!0,Array.from(this.timeouts).forEach(r=>clearTimeout(r)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(r=>r.unsubscribe()),delete this.database.collections[this.name],vs("postDestroyRxCollection",this).then(()=>!0))))},t.remove=async function(){await this.destroy(),await qN(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)},ya(e,[{key:"insert$",get:function(){return this.$.pipe(Qe(n=>n.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(Qe(n=>n.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(Qe(n=>n.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}]),e}();function Xae(e){if(!O$){O$=!0;var t=Object.getPrototypeOf(e);JN.forEach(n=>{XN.map(r=>{var o=r+Lj(n);t[o]=function(i,a){return this.addHook(r,n,i,a)}})})}}function Jae(e,t){return e.incrementalModify(n=>t)}function Zae(e,t,n){var r=e._docCache.getLatestDocumentDataIfExists(t);return r?Promise.resolve({doc:e._docCache.getCachedRxDocument(r),inserted:!1}):e.findOne(t).exec().then(o=>o?{doc:o,inserted:!1}:e.insert(n).then(i=>({doc:i,inserted:!0})))}function ese({database:e,name:t,schema:n,instanceCreationOptions:r={},migrationStrategies:o={},autoMigrate:i=!0,statics:a={},methods:s={},attachments:u={},options:l={},localDocuments:c=!1,cacheReplacementPolicy:f=kN,conflictHandler:d=qm}){var h={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:n.jsonSchema,options:r,multiInstance:e.multiInstance,password:e.password,devMode:Fe.isDevMode()};return Dr("preCreateRxStorageInstance",h),Lae(e,h).then(m=>{var p=new ZN(e,t,n,m,r,o,s,u,l,f,a,d);return p.prepare().then(()=>{Object.entries(a).forEach(([v,y])=>{Object.defineProperty(p,v,{get:()=>y.bind(p)})});var b=en;return i&&p.schema.version!==0&&(b=p.migratePromise()),b}).then(()=>(Dr("createRxCollection",{collection:p,creator:{name:t,schema:n,storageInstance:m,instanceCreationOptions:r,migrationStrategies:o,methods:s,attachments:u,options:l,cacheReplacementPolicy:f,localDocuments:c,statics:a}}),p)).catch(b=>m.close().then(()=>Promise.reject(b)))})}var e2=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};e2.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,h_(this)},wrapCall:function(t){var n=this;this.lock();var r;try{r=t()}catch(o){throw this.unlock(),o}return!r.then||typeof r.then!="function"?(this.unlock(),r):r.then(function(o){return n.unlock(),o}).catch(function(o){throw n.unlock(),o})},requestIdlePromise:function(t){var n=this;t=t||{};var r,o=new Promise(function(s){return r=s}),i=function(){z0(n,o),r()};if(o._manRes=i,t.timeout){var a=setTimeout(function(){o._manRes()},t.timeout);o._timeoutObj=a}return this._iC.add(o),h_(this),o},cancelIdlePromise:function(t){z0(this,t)},requestIdleCallback:function(t,n){var r=this._lHN++,o=this.requestIdlePromise(n);return this._hPM.set(r,o),this._pHM.set(o,r),o.then(function(){return t()}),r},cancelIdleCallback:function(t){var n=this._hPM.get(t);this.cancelIdlePromise(n)},clear:function(){var t=this;this._iC.forEach(function(n){return z0(t,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function tse(e){if(e._iC.size!==0){var t=e._iC.values(),n=t.next().value;n._manRes(),setTimeout(function(){return h_(e)},0)}}function z0(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function h_(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}tse(e),e._tryIR=!1},0)},0))}class mx{constructor(t){kh(this,"ttl");kh(this,"map",new Map);kh(this,"_to",!1);this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,t2()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,nse(this)},0))}clear(){this.map.clear()}}function nse(e){const t=t2()-e.ttl,n=e.map[Symbol.iterator]();for(;;){const r=n.next().value;if(!r)return;const o=r[0];if(r[1]<t)e.map.delete(o);else return}}function t2(){return Date.now()}var Gm=new Set,n2=function(){function e(n,r,o,i,a,s,u=!1,l={},c,f,d,h){this.idleQueue=new e2,this.rxdbVersion=Wne,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.eventBulks$=new Ot,this.observable$=this.eventBulks$.pipe(Ko(m=>m.events)),this.storageToken=Vn,this.storageTokenDocument=Vn,this.emittedEventBulkIds=new mx(60*1e3),this.name=n,this.token=r,this.storage=o,this.instanceCreationOptions=i,this.password=a,this.multiInstance=s,this.eventReduce=u,this.options=l,this.internalStore=c,this.hashFunction=f,this.cleanupPolicy=d,this.allowSlowCount=h,this.name!=="pseudoInstance"&&(this.internalStore=dx(this.asRxDatabase,c,px),this.storageTokenDocument=jae(this.asRxDatabase).catch(m=>this.startupErrors.push(m)),this.storageToken=this.storageTokenDocument.then(m=>m.data.token).catch(m=>this.startupErrors.push(m)))}var t=e.prototype;return t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r))},t.removeCollectionDoc=async function(r,o){var i=await sh(this.internalStore,yl(u_(r,o),Ja));if(!i)throw ie("SNH",{name:r,schema:o});var a=fx(i);a._deleted=!0,await this.internalStore.bulkWrite([{document:a,previous:i}],"rx-database-remove-collection")},t.addCollections=async function(r){var o={},i={},a=[],s={};await Promise.all(Object.entries(r).map(async([c,f])=>{var d=c,h=f.schema;o[d]=h;var m=ore(h,this.hashFunction);if(i[d]=m,this.collections[c])throw ie("DB3",{name:c});var p=u_(c,h),b={id:yl(p,Ja),key:p,context:Ja,data:{name:d,schemaHash:await m.hash,schema:m.jsonSchema,version:m.version,connectedStorages:[]},_deleted:!1,_meta:ba(),_rev:Hn(),_attachments:{}};a.push({document:b});var v=Object.assign({},f,{name:d,schema:m,database:this}),y=Ae(f);y.database=this,y.name=c,Dr("preCreateRxCollection",y),v.conflictHandler=y.conflictHandler,s[d]=v}));var u=await this.internalStore.bulkWrite(a,"rx-database-add-collection");await ase(this),await Promise.all(u.error.map(async c=>{if(c.status!==409)throw ie("DB12",{database:this.name,writeError:c});var f=he(c.documentInDb),d=f.data.name,h=i[d];if(f.data.schemaHash!==await h.hash)throw ie("DB6",{database:this.name,collection:d,previousSchemaHash:f.data.schemaHash,schemaHash:await h.hash,previousSchema:f.data.schema,schema:he(o[d])})}));var l={};return await Promise.all(Object.keys(r).map(async c=>{var f=s[c],d=await ese(f);l[c]=d,this.collections[c]=d,this[c]||Object.defineProperty(this,c,{get:()=>this.collections[c]})})),l},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(r){throw qe("json-dump")},t.importJSON=function(r){throw qe("json-dump")},t.backup=function(r){throw qe("backup")},t.leaderElector=function(){throw qe("leader-election")},t.isLeader=function(){throw qe("leader-election")},t.waitForLeadership=function(){throw qe("leader-election")},t.migrationStates=function(){throw qe("migration")},t.destroy=async function(){return this.destroyed||(this.destroyed=!0,await vs("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(r=>r.unsubscribe()),this.name==="pseudoInstance")?Vn:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>Promise.all(Object.keys(this.collections).map(r=>this.collections[r]).map(r=>r.destroy()))).then(()=>this.internalStore.close()).then(()=>Gm.delete(this.name)).then(()=>!0)},t.remove=function(){return this.destroy().then(()=>ise(this.name,this.storage,this.password))},ya(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}]),e}();function rse(e){if(Gm.has(e))throw ie("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}async function r2(e,t,n,r,o,i){var a=await t.createStorageInstance({databaseInstanceToken:e,databaseName:n,collectionName:Aae,schema:px,options:r,multiInstance:o,password:i,devMode:Fe.isDevMode()});return a}function ose({storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:o=!0,eventReduce:i=!0,ignoreDuplicate:a=!1,options:s={},cleanupPolicy:u,allowSlowCount:l=!1,localDocuments:c=!1,hashFunction:f=Mne}){Dr("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:o,eventReduce:i,ignoreDuplicate:a,options:s,localDocuments:c}),a||rse(n),Gm.add(n);var d=Xd(10);return r2(d,e,n,t,o,r).catch(h=>{throw Gm.delete(n),h}).then(h=>{var m=new n2(n,d,e,t,r,o,i,s,h,f,u,l);return vs("createRxDatabase",{database:m,creator:{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:o,eventReduce:i,ignoreDuplicate:a,options:s,localDocuments:c}}).then(()=>m)})}async function ise(e,t,n){var r=Xd(10),o=await r2(r,t,e,{},!1,n),i=await zN(o),a=new Set;i.forEach(u=>a.add(u.data.name));var s=Array.from(a);return await Promise.all(s.map(u=>qN(t,o,r,e,u,n))),await vs("postRemoveRxDatabase",{databaseName:e,storage:t}),await o.remove(),s}async function ase(e){if(await e.storageToken,e.startupErrors[0])throw e.startupErrors[0]}var sse={RxSchema:Hj.prototype,RxDocument:hb,RxQuery:DN.prototype,RxCollection:ZN.prototype,RxDatabase:n2.prototype},K0=new Set,A$=new Set;function pb(e){if(Dr("preAddRxPlugin",{plugin:e,plugins:K0}),!K0.has(e)){{if(A$.has(e.name))throw ie("PL3",{name:e.name,plugin:e});K0.add(e),A$.add(e.name)}if(!e.rxdb)throw Kc("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,n])=>n(sse[t])),e.overwritable&&Object.assign(Fe,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,n])=>{n.after&&If[t].push(n.after),n.before&&If[t].unshift(n.before)})}}function use(e){return e&&typeof e.then=="function"}Promise.resolve(!1);var lse=Promise.resolve(!0),ko=Promise.resolve();function Wa(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function cse(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function uh(){return Math.random().toString(36).substring(2)}var H0=0;function lh(){var e=Date.now()*1e3;return e<=H0&&(e=H0+1),H0=e,e}function fse(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&typeof navigator.locks.request=="function"}var dse=lh,hse="native";function pse(e){var t={time:lh(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function mse(e){e.bc.close(),e.subFns=[]}function vse(e,t){try{return e.bc.postMessage(t,!1),ko}catch(n){return Promise.reject(n)}}function gse(e,t){e.messagesCallback=t}function yse(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function bse(){return 150}var wse={create:pse,close:mse,onMessage:gse,postMessage:vse,canBeUsed:yse,type:hse,averageResponseTime:bse,microSeconds:dse};function vx(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var _se=lh,Sse="pubkey.broadcast-channel-0-",qo="messages",mb={durability:"relaxed"},Ese="idb";function o2(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function gx(e){e.commit&&e.commit()}function xse(e){var t=o2(),n=Sse+e,r=t.open(n);return r.onupgradeneeded=function(o){var i=o.target.result;i.createObjectStore(qo,{keyPath:"id",autoIncrement:!0})},new Promise(function(o,i){r.onerror=function(a){return i(a)},r.onsuccess=function(){o(r.result)}})}function Pse(e,t,n){var r=Date.now(),o={uuid:t,time:r,data:n},i=e.transaction([qo],"readwrite",mb);return new Promise(function(a,s){i.oncomplete=function(){return a()},i.onerror=function(l){return s(l)};var u=i.objectStore(qo);u.add(o),gx(i)})}function Cse(e,t){var n=e.transaction(qo,"readonly",mb),r=n.objectStore(qo),o=[],i=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(i);return new Promise(function(u,l){a.onerror=function(c){return l(c)},a.onsuccess=function(c){u(c.target.result)}})}function s(){try{return i=IDBKeyRange.bound(t+1,1/0),r.openCursor(i)}catch{return r.openCursor()}}return new Promise(function(u,l){var c=s();c.onerror=function(f){return l(f)},c.onsuccess=function(f){var d=f.target.result;d?d.value.id<t+1?d.continue(t+1):(o.push(d.value),d.continue()):(gx(n),u(o))}})}function Ose(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(qo,"readwrite",mb),r=n.objectStore(qo);return Promise.all(t.map(function(o){var i=r.delete(o);return new Promise(function(a){i.onsuccess=function(){return a()}})}))}function Ase(e,t){var n=Date.now()-t,r=e.transaction(qo,"readonly",mb),o=r.objectStore(qo),i=[];return new Promise(function(a){o.openCursor().onsuccess=function(s){var u=s.target.result;if(u){var l=u.value;l.time<n?(i.push(l),u.continue()):(gx(r),a(i))}else a(i)}})}function $se(e){return Ase(e.db,e.options.idb.ttl).then(function(t){return Ose(e,t.map(function(n){return n.id}))})}function Tse(e,t){return t=vx(t),xse(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:uh(),eMIs:new mx(t.idb.ttl*2),writeBlockPromise:ko,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},i2(r),r})}function i2(e){e.closed||a2(e).then(function(){return Wa(e.options.idb.fallbackInterval)}).then(function(){return i2(e)})}function Rse(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function a2(e){return e.closed||!e.messagesCallback?ko:Cse(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return Rse(r,e)}).sort(function(r,o){return r.time-o.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),ko})}function kse(e){e.closed=!0,e.db.close()}function Mse(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return Pse(e.db,e.uuid,t)}).then(function(){cse(0,10)===0&&$se(e)}),e.writeBlockPromise}function Ise(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,a2(e)}function Dse(){return!!o2()}function jse(e){return e.idb.fallbackInterval*2}var Nse={create:Tse,close:kse,onMessage:Ise,postMessage:Mse,canBeUsed:Dse,type:Ese,averageResponseTime:jse,microSeconds:_se},Lse=lh,Fse="pubkey.broadcastChannel-",Bse="localstorage";function s2(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function u2(e){return Fse+e}function Use(e,t){return new Promise(function(n){Wa().then(function(){var r=u2(e.channelName),o={token:uh(),time:Date.now(),data:t,uuid:e.uuid},i=JSON.stringify(o);s2().setItem(r,i);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=i,window.dispatchEvent(a),n()})})}function Vse(e,t){var n=u2(e),r=function(i){i.key===n&&t(JSON.parse(i.newValue))};return window.addEventListener("storage",r),r}function Wse(e){window.removeEventListener("storage",e)}function zse(e,t){if(t=vx(t),!l2())throw new Error("BroadcastChannel: localstorage cannot be used");var n=uh(),r=new mx(t.localstorage.removeTimeout),o={channelName:e,uuid:n,eMIs:r};return o.listener=Vse(e,function(i){o.messagesCallback&&i.uuid!==n&&(!i.token||r.has(i.token)||i.data.time&&i.data.time<o.messagesCallbackTime||(r.add(i.token),o.messagesCallback(i.data)))}),o}function Kse(e){Wse(e.listener)}function Hse(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function l2(){var e=s2();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function qse(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var Gse={create:zse,close:Kse,onMessage:Hse,postMessage:Use,canBeUsed:l2,type:Bse,averageResponseTime:qse,microSeconds:Lse},c2=lh,Yse="simulate",yx=new Set;function Qse(e){var t={time:c2(),name:e,messagesCallback:null};return yx.add(t),t}function Xse(e){yx.delete(e)}var f2=5;function Jse(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(yx);r.forEach(function(o){o.name===e.name&&o!==e&&o.messagesCallback&&o.time<t.time&&o.messagesCallback(t)}),n()},f2)})}function Zse(e,t){e.messagesCallback=t}function eue(){return!0}function tue(){return f2}var nue={create:Qse,close:Xse,onMessage:Zse,postMessage:Jse,canBeUsed:eue,type:Yse,averageResponseTime:tue,microSeconds:c2},$$=[wse,Nse,Gse];function rue(e){var t=[].concat(e.methods,$$).filter(Boolean);if(e.type){if(e.type==="simulate")return nue;var n=t.find(function(o){return o.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(o){return o.type!=="idb"}));var r=t.find(function(o){return o.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify($$.map(function(o){return o.type})))}var d2=new Set,oue=0,vb=function(t,n){this.id=oue++,d2.add(this),this.name=t,T$&&(n=T$),this.options=vx(n),this.method=rue(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,iue(this)};vb._pubkey=!0;var T$;vb.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return R$(this,"message",t)},postInternal:function(t){return R$(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};M$(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,k$(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),o={time:r,fn:n};k$(this,t,o)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(o){return o.fn===n});M$(this,t,r)},close:function(){var t=this;if(!this.closed){d2.delete(this),this.closed=!0;var n=this._prepP?this._prepP:ko;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function R$(e,t,n){var r=e.method.microSeconds(),o={time:r,type:t,data:n},i=e._prepP?e._prepP:ko;return i.then(function(){var a=e.method.postMessage(e._state,o);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function iue(e){var t=e.method.create(e.name,e.options);use(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function h2(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function k$(e,t,n){e._addEL[t].push(n),aue(e)}function M$(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),sue(e)}function aue(e){if(!e._iL&&h2(e)){var t=function(o){e._addEL[o.type].forEach(function(i){o.time>=i.time&&i.fn(o.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function sue(e){if(e._iL&&!h2(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}function uue(e){if(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}function lue(e){process.on("exit",function(){return e()}),process.on("beforeExit",function(){return e().then(function(){return process.exit()})}),process.on("SIGINT",function(){return e().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return e().then(function(){console.trace(t),process.exit(101)})})}var cue=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",fue=cue?lue:uue,Hc=new Set,I$=!1;function due(){I$||(I$=!0,fue(pue))}function hue(e){if(due(),typeof e!="function")throw new Error("Listener is no function");Hc.add(e);var t={remove:function(){return Hc.delete(e)},run:function(){return Hc.delete(e),e()}};return t}function pue(){var e=[];return Hc.forEach(function(t){e.push(t()),Hc.delete(t)}),Promise.all(e)}function Za(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function p2(e){e.isLeader=!0,e._hasLeader=!0;var t=hue(function(){return e.die()});e._unl.push(t);var n=function(o){o.context==="leader"&&o.action==="apply"&&Za(e,"tell"),o.context==="leader"&&o.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),Za(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),Za(e,"tell")}var m2=function(t,n){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=n,this.isLeader=!1,this.isDead=!1,this.token=uh(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};m2.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(n){var r=n.held?n.held.filter(function(o){return o.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var n=new Promise(function(r,o){t._wKMC.res=r,t._wKMC.rej=o});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,p2(t),r(),n}).catch(function(){})})}return this._wLMP},set onduplicate(e){},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),Za(this,"death")}};var v2=function(t,n){var r=this;this.broadcastChannel=t,this._options=n,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=uh(),this._aplQ=ko,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var o=function(a){a.context==="leader"&&(a.action==="death"&&(r._hasLeader=!1),a.action==="tell"&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",o),this._lstns.push(o)};v2.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var n=this;if(this.isLeader)return Wa(0,!0);if(this.isDead)return Wa(0,!1);if(this._aplQC>1)return this._aplQ;var r=function(){if(n.isLeader)return lse;var i=!1,a,s=new Promise(function(c){a=function(){i=!0,c()}}),u=function(f){f.context==="leader"&&f.token!=n.token&&(f.action==="apply"&&f.token>n.token&&a(),f.action==="tell"&&(a(),n._hasLeader=!0))};n.broadcastChannel.addEventListener("internal",u);var l=t?n._options.responseTime*4:n._options.responseTime;return Za(n,"apply").then(function(){return Promise.race([Wa(l),s.then(function(){return Promise.reject(new Error)})])}).then(function(){return Za(n,"apply")}).then(function(){return Promise.race([Wa(l),s.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return n.broadcastChannel.removeEventListener("internal",u),i?!1:p2(n).then(function(){return!0})})};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return r()}).then(function(){n._aplQC=n._aplQC-1}),this._aplQ.then(function(){return n.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=mue(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,Za(this,"death")}};function mue(e){return e.isLeader?ko:new Promise(function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",i),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var o=function a(){return Wa(e._options.fallbackInterval).then(function(){if(!(e.isDead||n))if(e.isLeader)r();else return e.applyOnce(!0).then(function(){e.isLeader?r():a()})})};o();var i=function(s){s.context==="leader"&&s.action==="death"&&(e._hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&r()}))};e.broadcastChannel.addEventListener("internal",i),e._lstns.push(i)})}function vue(e,t){return e||(e={}),e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}function g2(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=vue(t,e);var n=fse()?new m2(e,t):new v2(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n,n}var Ym=new Map;function y2(e,t,n,r){var o=Ym.get(t);return o||(o={bc:new vb(["RxDB:",e,n].join("|")),refs:new Set},Ym.set(t,o)),o.refs.add(r),o.bc}function p_(e,t){var n=Ym.get(e);if(n&&(n.refs.delete(t),n.refs.size===0))return Ym.delete(e),n.bc.close()}function gue(e,t,n,r){if(t.multiInstance){var o=r||y2(e,t.databaseInstanceToken,n.databaseName,n),i=new Ot,a=d=>{d.storageName===e&&d.databaseName===t.databaseName&&d.collectionName===t.collectionName&&d.version===t.schema.version&&i.next(d.eventBulk)};o.addEventListener("message",a);var s=n.changeStream(),u=!1,l=s.subscribe(d=>{u||o.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:d})});n.changeStream=function(){return i.asObservable().pipe(Jre(s))};var c=n.close.bind(n);n.close=async function(){return u=!0,l.unsubscribe(),o.removeEventListener("message",a),r||await p_(t.databaseInstanceToken,n),c()};var f=n.remove.bind(n);n.remove=async function(){return u=!0,l.unsubscribe(),o.removeEventListener("message",a),r||await p_(t.databaseInstanceToken,n),f()}}}function yue(e,t){var n=t.map(r=>{var o=Wo(e,r);if(!o)throw new Error("not in schema: "+r);var i=o.type,a;(i==="number"||i==="integer")&&(a=bx(o));var s=Vj(r),u=o.maxLength?o.maxLength:0,l;i==="string"?l=f=>{var d=s(f);return d||(d=""),d.padEnd(u," ")}:i==="boolean"?l=f=>{var d=s(f);return d?"1":"0"}:l=f=>{var d=s(f);return Qm(a,d)};var c={fieldName:r,schemaPart:o,parsedLengths:a,getValue:s,getIndexStringPart:l};return c});return n}function bue(e,t){var n=yue(e,t),r=n.length,o=n.map(a=>a.getIndexStringPart),i=function(a){for(var s="",u=0;u<r;++u)s+=o[u](a);return s};return i}function bx(e){var t=Math.floor(e.minimum),n=Math.ceil(e.maximum),r=e.multipleOf,o=n-t,i=o.toString().length,a=r.toString().split("."),s=0;return a.length>1&&(s=a[1].length),{minimum:t,maximum:n,nonDecimals:i,decimals:s,roundedMinimum:t}}function Qm(e,t){typeof t>"u"&&(t=0),t<e.minimum&&(t=e.minimum),t>e.maximum&&(t=e.maximum);var n=(Math.floor(t)-e.roundedMinimum).toString(),r=n.padStart(e.nonDecimals,"0");if(e.decimals>0){var o=t.toString().split("."),i=o.length>1?o[1]:"0";r+=i.padEnd(e.decimals,"0")}return r}function D$(e,t,n){var r="";return t.forEach((o,i)=>{var a=Wo(e,o),s=n[i],u=a.type;switch(u){case"string":var l=he(a.maxLength);typeof s=="string"?r+=s.padEnd(l," "):r+="".padEnd(l," ");break;case"boolean":if(s===null)r+="0";else if(s===ro)r+="0";else if(s===Ar)r+="1";else{var c=s?"1":"0";r+=c}break;case"number":case"integer":var f=bx(a);if(s===null||s===ro){var d="0";r+=d.repeat(f.nonDecimals+f.decimals)}else if(s===Ar)r+=Qm(f,f.maximum);else{var h=Qm(f,s);r+=h}break;default:throw new Error("unknown index type "+u)}}),r}function wue(e,t,n){var r="";return t.forEach((o,i)=>{var a=Wo(e,o),s=n[i],u=a.type;switch(u){case"string":var l=he(a.maxLength);typeof s=="string"&&s!==Ar?r+=s.padEnd(l," "):s===ro?r+="".padEnd(l," "):r+="".padEnd(l,Ar);break;case"boolean":if(s===null)r+="1";else{var c=s?"1":"0";r+=c}break;case"number":case"integer":var f=bx(a);if(s===null||s===Ar){var d="9";r+=d.repeat(f.nonDecimals+f.decimals)}else if(s===ro){var h="0";r+=h.repeat(f.nonDecimals+f.decimals)}else r+=Qm(f,s);break;default:throw new Error("unknown index type "+u)}}),r}var b2={minimumDeletedTime:1e3*60*60*24*31,minimumCollectionAge:1e3*60,runEach:1e3*60*5,awaitReplicationsInSync:!0,waitForLeadership:!0},w2=new WeakMap,_ue=new WeakMap;function j$(e){return pr(_ue,e,()=>g2(e))}function Sue(){var e=y2(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return p_(this.token,this),t()};var n=j$(e);return n||(n=j$(e),w2.set(this,n)),this.leaderElector=()=>n,n}function Eue(){return this.multiInstance?this.leaderElector().isLeader:!0}function xue(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):dl}function Pue(e){var t=w2.get(e);t&&t.die()}var Cue=!0,Oue={RxDatabase:e=>{e.leaderElector=Sue,e.isLeader=Eue,e.waitForLeadership=xue}},Aue={name:"leader-election",rxdb:Cue,prototypes:Oue,hooks:{preDestroyRxDatabase:{after:Pue}}},N$=e=>Promise.resolve(e);function L$(e,t){if(e==="_deleted")return t;t=Ae(t);var n=!!t._deleted;return t[e]=n,delete t._deleted,t}function q0(e,t,n){return n.map(r=>{var o=Ae(r);if(t!=="_deleted"){var i=!!o[t];o._deleted=i,delete o[t]}else o._deleted=!!o._deleted;var a=e.schema.primaryPath;return o[a]=wa(e.schema.jsonSchema,o),o})}function F$(e,t){if(typeof window>"u"||typeof window!="object"||typeof window.addEventListener>"u"||navigator.onLine)return e.promiseWait(t);var n,r=new Promise(o=>{n=()=>{window.removeEventListener("online",n),o()},window.addEventListener("online",n)});return Promise.race([r,e.promiseWait(t)]).then(()=>{window.removeEventListener("online",n)})}var _2=new WeakMap,$ue=function(){function e(n,r,o,i,a,s,u,l){this.subs=[],this.subjects={received:new Ot,sent:new Ot,error:new Ot,canceled:new So(!1),active:new So(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.callOnStart=void 0,this.remoteEvents$=new Ot,this.replicationIdentifier=n,this.collection=r,this.deletedField=o,this.pull=i,this.push=a,this.live=s,this.retryTime=u,this.autoStart=l;var c=pr(_2,r,()=>[]);c.push(this),this.collection.onDestroy.push(()=>this.cancel()),Object.keys(this.subjects).forEach(d=>{Object.defineProperty(this,d+"$",{get:function(){return this.subjects[d].asObservable()}})});var f=new Promise(d=>{this.callOnStart=d});this.startPromise=f}var t=e.prototype;return t.start=async function(){if(!this.isStopped()){var r=this.pull&&this.pull.modifier?this.pull.modifier:N$,o=this.push&&this.push.modifier?this.push.modifier:N$,i=this.collection.database,a="rx-replication-meta-"+await i.hashFunction([this.collection.name,this.replicationIdentifier].join("-")),s=f_(this.collection.schema.jsonSchema,Wm(this.collection.schema.jsonSchema)),[u]=await Promise.all([this.collection.database.storage.createStorageInstance({databaseName:i.name,collectionName:a,databaseInstanceToken:i.token,multiInstance:i.multiInstance,options:{},schema:s,password:i.password,devMode:Fe.isDevMode()}),HN(this.collection,a,s)]);this.metaInstance=u,this.internalReplicationState=YN({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:i.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe(Qe(l=>!!this.pull),Ko(async l=>{if(l==="RESYNC")return l;var c=Ae(l);return c.documents=q0(this.collection,this.deletedField,c.documents),c.documents=await Promise.all(c.documents.map(f=>r(f))),c})),masterChangesSince:async(l,c)=>{if(!this.pull)return{checkpoint:null,documents:[]};for(var f=!1,d={};!f&&!this.isStopped();)try{d=await this.pull.handler(l,c),f=!0}catch(p){var h=ie("RC_PULL",{checkpoint:l,errors:ll(p).map(b=>X1(b)),direction:"pull"});this.subjects.error.next(h),await F$(this.collection,he(this.retryTime))}if(this.isStopped())return{checkpoint:null,documents:[]};var m=Ae(d);return m.documents=q0(this.collection,this.deletedField,m.documents),m.documents=await Promise.all(m.documents.map(p=>r(p))),m},masterWrite:async l=>{if(!this.push)return[];var c=!1;await vs("preReplicationMasterWrite",{rows:l,collection:this.collection});var f=await Promise.all(l.map(async b=>(b.newDocumentState=await o(b.newDocumentState),b.newDocumentState===null?null:(b.assumedMasterState&&(b.assumedMasterState=await o(b.assumedMasterState)),this.deletedField!=="_deleted"&&(b.newDocumentState=L$(this.deletedField,b.newDocumentState),b.assumedMasterState&&(b.assumedMasterState=L$(this.deletedField,b.assumedMasterState))),b)))),d=f.filter(Nj),h=null;for(d.length===0&&(c=!0,h=[]);!c&&!this.isStopped();)try{if(h=await this.push.handler(d),!Array.isArray(h))throw ie("RC_PUSH_NO_AR",{pushRows:l,direction:"push",args:{result:h}});c=!0}catch(b){var m=b.rxdb?b:ie("RC_PUSH",{pushRows:l,errors:ll(b).map(v=>X1(v)),direction:"push"});this.subjects.error.next(m),await F$(this.collection,he(this.retryTime))}if(this.isStopped())return[];await vs("preReplicationMasterWriteDocumentsHandle",{result:h,collection:this.collection});var p=q0(this.collection,this.deletedField,he(h));return p}}}),this.subs.push(this.internalReplicationState.events.error.subscribe(l=>{this.subjects.error.next(l)}),this.internalReplicationState.events.processed.down.subscribe(l=>this.subjects.received.next(l.document)),this.internalReplicationState.events.processed.up.subscribe(l=>{this.subjects.sent.next(l.newDocumentState)}),hN([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([l,c])=>{var f=l||c;this.subjects.active.next(f)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:l=>{this.remoteEvents$.next(l)},error:l=>{this.subjects.error.next(l)}})),this.live||(await Gp(this.internalReplicationState),await C$(this.internalReplicationState),await this.cancel()),this.callOnStart()}},t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.awaitInitialReplication=async function(){return await this.startPromise,Gp(he(this.internalReplicationState))},t.awaitInSync=async function(){return await this.startPromise,await Gp(he(this.internalReplicationState)),await this.collection.database.requestIdlePromise(),await C$(he(this.internalReplicationState)),!0},t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(r){this.remoteEvents$.next(r)},t.cancel=async function(){if(this.isStopped())return Vn;var r=[];return this.internalReplicationState&&await QN(this.internalReplicationState),this.metaInstance&&r.push(he(this.internalReplicationState).checkpointQueue.then(()=>he(this.metaInstance).close())),this.subs.forEach(o=>o.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(r)},e}();function Tue({replicationIdentifier:e,collection:t,deletedField:n="_deleted",pull:r,push:o,live:i=!0,retryTime:a=1e3*5,waitForLeadership:s=!0,autoStart:u=!0}){if(pb(Aue),!r&&!o)throw ie("UT3",{collection:t.name,args:{replicationIdentifier:e}});var l=new $ue(e,t,n,r,o,i,a,u);return Rue(s,l),l}function Rue(e,t){var n=e&&t.collection.database.multiInstance,r=n?t.collection.database.waitForLeadership():dl;return r.then(()=>{t.isStopped()||t.autoStart&&t.start()})}var G0=dl;async function kue(e){var t=e.database,n=Object.assign({},b2,t.cleanupPolicy?t.cleanupPolicy:{});await e.promiseWait(n.minimumCollectionAge),!e.destroyed&&(n.waitForLeadership&&await t.waitForLeadership(),!e.destroyed&&(await S2(e,n),await Mue(e,n)))}async function S2(e,t){for(var n=e.database,r=e.storageInstance,o=!1;!o&&!e.destroyed;){if(t.awaitReplicationsInSync){var i=_2.get(e);i&&await Promise.all(i.map(a=>{if(!a.isStopped())return a.awaitInSync()}))}if(await n.requestIdlePromise(),e.destroyed)return;G0=G0.then(()=>e.destroyed?!0:r.cleanup(t.minimumDeletedTime)),o=await G0}}async function Mue(e,t){for(;!e.destroyed;){if(await e.promiseWait(t.runEach),e.destroyed)return;await S2(e,t)}}var Iue={name:"cleanup",rxdb:!0,prototypes:{RxCollection:e=>{e.cleanup=async function(t){var n=Object.assign({},b2,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof t>"u"&&(t=n.minimumDeletedTime);for(var r=!1;!r&&!this.destroyed;)r=await this.storageInstance.cleanup(t)}}},hooks:{createRxCollection:{after:e=>{kue(e.collection)}}}};async function E2(e){var t=rre(e.collection.schema.jsonSchema).map(r=>e.collection.name+"-"+r),n=await e.database.internalStore.findDocumentsById(t.map(r=>yl(r,Ja)),!1);if(n.length>1)throw new Error("more the one old collection meta found");return n[0]}function Due(e,t,n){var r=Ae(n._attachments),o=qn(n),i=o._meta;delete o._meta,o._attachments=r;for(var a=t+1,s=Promise.resolve(o),u=function(){var l=a;s=s.then(c=>jue(e,l,c)),a++};a<=e.schema.version;)u();return s.then(l=>l===null?KE:(l._meta=i,l))}function jue(e,t,n){if(n===null)return KE;var r=e.migrationStrategies[t](n,e),o=jne(r);return o}async function x2(e){if(e.collection.schema.version===0)return Vn;var t=await E2(e);return!!t}var Nue=200,P2=new WeakMap;function Lue(e){var t=C2(e.database),n=t.getValue().slice(0);n.push(e),t.next(n)}function C2(e){return pr(P2,e,()=>new So([]))}function Fue(e){var t=P2.get(e);t&&t.complete()}var Bue=function(){function e(n,r,o=[n.name,"v",n.schema.version].join("-")){this.started=!1,this.updateStatusHandlers=[],this.updateStatusQueue=dl,this.collection=n,this.migrationStrategies=r,this.statusDocKey=o,this.database=n.database,this.oldCollectionMeta=E2(this),this.mustMigrate=x2(this),this.statusDocId=yl(this.statusDocKey,Hp),Lue(this),this.$=$ae(this.database.internalStore,this.statusDocId).pipe(Qe(i=>!!i),Wt(i=>he(i).data),nh(Jd))}var t=e.prototype;return t.getStatus=function(){return Ya(this.$)},t.startMigration=async function(r=Nue){var o=await this.mustMigrate;if(o){if(this.started)throw ie("DM1");this.started=!0;var i=void 0;if(this.database.multiInstance){i=new vb(["rx-migration-state",this.database.name,this.collection.name,this.collection.schema.version].join("|"));var a=g2(i);await a.awaitLeadership()}var s=await this.oldCollectionMeta,u=await this.database.storage.createStorageInstance({databaseName:this.database.name,collectionName:this.collection.name,databaseInstanceToken:this.database.token,multiInstance:this.database.multiInstance,options:{},schema:s.data.schema,password:this.database.password,devMode:Fe.isDevMode()}),l=await this.getConnectedStorageInstances(),c=await this.countAllDoucments([u].concat(l.map(f=>f.oldStorage)));await this.updateStatus(f=>(f.count.total=c,f));try{await Promise.all(l.map(async f=>{await HN(this.collection,f.newStorage.collectionName,f.newStorage.schema),await this.migrateStorage(f.oldStorage,f.newStorage,r),await f.newStorage.close()})),await this.migrateStorage(u,this.collection.storageInstance.originalStorageInstance,r)}catch(f){await u.close(),await this.updateStatus(d=>(d.status="ERROR",d.error=X1(f),d));return}await Nf(this.database.internalStore,{previous:s,document:Object.assign({},s,{_deleted:!0})},"rx-migration-remove-collection-meta"),await this.updateStatus(f=>(f.status="DONE",f)),i&&await i.close()}},t.updateStatus=function(r){return this.updateStatusHandlers.push(r),this.updateStatusQueue=this.updateStatusQueue.then(async()=>{if(this.updateStatusHandlers.length!==0){var o=this.updateStatusHandlers;for(this.updateStatusHandlers=[];;){var i=await sh(this.database.internalStore,this.statusDocId),a=qn(i);i||(a={id:this.statusDocId,key:this.statusDocKey,context:Hp,data:{collectionName:this.collection.name,status:"RUNNING",count:{total:0,handled:0,percent:0}},_deleted:!1,_meta:ba(),_rev:Hn(),_attachments:{}});var s=he(a).data;for(var u of o)s=u(s);if(s.count.percent=Math.round(s.count.handled/s.count.total*100),a&&i&&hl(a.data,i.data))break;try{await Nf(this.database.internalStore,{previous:i,document:he(a)},Hp);break}catch(l){if(!ob(l))throw l}}}}),this.updateStatusQueue},t.migrateStorage=async function(r,o,i){var a=await this.database.storage.createStorageInstance({databaseName:this.database.name,collectionName:"rx-migration-state-meta-"+this.collection.name+"-"+this.collection.schema.version,databaseInstanceToken:this.database.token,multiInstance:this.database.multiInstance,options:{},schema:f_(r.schema,Wm(r.schema)),password:this.database.password,devMode:Fe.isDevMode()}),s=Qae(o,qm,this.database.token,!0),u=YN({keepMeta:!0,identifier:["rx-migration-state",this.collection.name,r.schema.version,this.collection.schema.version].join("-"),replicationHandler:{masterChangesSince(){return Promise.resolve({checkpoint:null,documents:[]})},masterWrite:async c=>{c=await Promise.all(c.map(async d=>{var h=d.newDocumentState;if(o.schema.title===qp&&(h=d.newDocumentState.docData,d.newDocumentState.isCheckpoint==="1"))return{assumedMasterState:void 0,newDocumentState:d.newDocumentState};var m=await Due(this.collection,r.schema.version,h),p={assumedMasterState:void 0,newDocumentState:o.schema.title===qp?Object.assign({},d.newDocumentState,{docData:m}):m};return p})),c=c.filter(d=>!!d.newDocumentState);var f=await s.masterWrite(c);return f},masterChangeStream$:new Ot().asObservable()},forkInstance:r,metaInstance:a,pushBatchSize:i,pullBatchSize:0,conflictHandler:qm,hashFunction:this.database.hashFunction}),l=!1;if(u.events.error.subscribe(c=>l=c),u.events.processed.up.subscribe(()=>{this.updateStatus(c=>(c.count.handled=c.count.handled+1,c))}),await Gp(u),await QN(u),await this.updateStatusQueue,l)throw await a.close(),l;await Promise.all([r.remove(),a.remove()])},t.countAllDoucments=async function(r){var o=0;return await Promise.all(r.map(async i=>{var a=db(i.schema,Um(i.schema,{selector:{}})),s=await i.count(a);o+=s.count})),o},t.getConnectedStorageInstances=async function(){var r=await this.oldCollectionMeta,o=[];return await Promise.all(await Promise.all(r.data.connectedStorages.map(async i=>{if(i.schema.title!==qp)throw new Error("unknown migration handling for schema");var a=f_(qn(this.collection.schema.jsonSchema),Wm(i.schema));a.version=this.collection.schema.version;var[s,u]=await Promise.all([this.database.storage.createStorageInstance({databaseInstanceToken:this.database.token,databaseName:this.database.name,devMode:Fe.isDevMode(),multiInstance:this.database.multiInstance,options:{},schema:i.schema,password:this.database.password,collectionName:i.collectionName}),this.database.storage.createStorageInstance({databaseInstanceToken:this.database.token,databaseName:this.database.name,devMode:Fe.isDevMode(),multiInstance:this.database.multiInstance,options:{},schema:a,password:this.database.password,collectionName:i.collectionName})]);o.push({oldStorage:s,newStorage:u})}))),o},t.migratePromise=async function(r){this.startMigration(r);var o=await this.mustMigrate;if(!o)return{status:"DONE",collectionName:this.collection.name,count:{handled:0,percent:0,total:0}};var i=await Promise.race([Ya(this.$.pipe(Qe(a=>a.status==="DONE"))),Ya(this.$.pipe(Qe(a=>a.status==="ERROR")))]);if(i.status==="ERROR")throw ie("DM4",{collection:this.collection.name,error:i.error});return i},e}(),Uue=VN(),Vue=function(e){qE(t,e);function t(n,r,o){var i;return i=e.call(this,null,r)||this,i.id=n,i.parent=o,i}return t}(Uue),qc={get isLocal(){return!0},get allAttachments$(){throw ie("LD1",{document:this})},get primaryPath(){return"id"},get primary(){return this.id},get $(){var e=this,t=ms(m_,this.parent);return e.parent.$.pipe(Qe(n=>n.documentId===this.primary),Qe(n=>n.isLocal),Wt(n=>ex(n)),rh(t.docCache.getLatestDocumentData(this.primary)),Df((n,r)=>n._rev===r._rev),Wt(n=>t.docCache.getCachedRxDocument(n)),nh(Jd))},getLatest(){var e=ms(m_,this.parent),t=e.docCache.getLatestDocumentData(this.primary);return e.docCache.getCachedRxDocument(t)},get(e){if(e="data."+e,!!this._data){if(typeof e!="string")throw Kc("LD2",{objPath:e});var t=Qi(this._data,e);return t=Fe.deepFreezeWhenDevMode(t),t}},get$(e){if(e="data."+e,Fe.isDevMode()){if(e.includes(".item."))throw ie("LD3",{objPath:e});if(e===this.primaryPath)throw ie("LD4")}return this.$.pipe(Wt(t=>t._data),Wt(t=>Qi(t,e)),Df())},async incrementalModify(e){var t=await Gc(this.parent);return t.incrementalWriteQueue.addWrite(this._data,async n=>(n.data=await e(n.data,this),n)).then(n=>t.docCache.getCachedRxDocument(n))},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([n,r])=>{t[n]=r}),t))},async _saveData(e){var t=await Gc(this.parent),n=this._data;return e.id=this.id,t.storageInstance.bulkWrite([{previous:n,document:e}],"local-document-save-data").then(r=>{var o=r.success[0];if(!o)throw r.error[0];e=Ae(e),e._rev=o._rev})},async remove(){var e=await Gc(this.parent),t={id:this._data.id,data:{},_deleted:!0,_meta:ba(),_rev:Hn(),_attachments:{}};return Nf(e.storageInstance,{previous:this._data,document:t},"local-document-remove").then(n=>e.docCache.getCachedRxDocument(n))}},B$=!1,Wue=()=>{if(!B$){B$=!0;var e=hb,t=Object.getOwnPropertyNames(e);t.forEach(r=>{var o=Object.getOwnPropertyDescriptor(qc,r);if(!o){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(qc,r,i)}});var n=r=>()=>{throw ie("LD6",{functionName:r})};["populate","update","putAttachment","getAttachment","allAttachments"].forEach(r=>qc[r]=n(r))}};function zue(e,t){Wue();var n=new Vue(e.id,e,t);return Object.setPrototypeOf(n,qc),n.prototype=qc,n}var Xm=new WeakMap,m_=new WeakMap;function U$(e){var t=e.database?e.database:e,n=e.database?e.name:"",r=(async()=>{var o=await O2(t.token,t.storage,t.name,n,t.instanceCreationOptions,t.multiInstance);o=dx(t,o,A2);var i=new MN("id",e.$.pipe(Qe(c=>c.isLocal)),c=>zue(c,e)),a=new UN(o,"id",()=>{},()=>{}),s=await t.storageToken,u=o.changeStream().subscribe(c=>{var f={id:c.id,internal:!1,collectionName:e.database?e.name:void 0,storageToken:s,events:c.events.map(d=>NN(!0,d,e.database?e:void 0)),databaseToken:t.token,checkpoint:c.checkpoint,context:c.context,endTime:c.endTime,startTime:c.startTime};t.$emit(f)});e._subs.push(u);var l={database:t,parent:e,storageInstance:o,docCache:i,incrementalWriteQueue:a};return m_.set(e,l),l})();Xm.set(e,r)}function Gc(e){var t=Xm.get(e);if(!t){var n=e.database?e.database:e,r=e.database?e.name:"";throw ie("LD8",{database:n.name,collection:r})}return t}function O2(e,t,n,r,o,i){return t.createStorageInstance({databaseInstanceToken:e,databaseName:n,collectionName:Kue(r),schema:A2,options:o,multiInstance:i,devMode:Fe.isDevMode()})}function V$(e){var t=Xm.get(e);if(t)return Xm.delete(e),t.then(n=>n.storageInstance.close())}async function W$(e,t,n){var r=Xd(10),o=await O2(r,e,t,n,{},!1);await o.remove()}function Kue(e){return"plugin-local-documents-"+e}var A2=ib({title:"RxLocalDocument",version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:128},data:{type:"object",additionalProperties:!0}},required:["id","data"]});async function z$(e,t){var n=await Gc(this),r={id:e,data:t,_deleted:!1,_meta:ba(),_rev:Hn(),_attachments:{}};return Nf(n.storageInstance,{document:r},"local-document-insert").then(o=>n.docCache.getCachedRxDocument(o))}function K$(e,t){return this.getLocal(e).then(n=>{if(n)return n.incrementalModify(()=>t);var r=this.insertLocal(e,t);return r})}async function H$(e){var t=await Gc(this),n=t.docCache,r=n.getLatestDocumentDataIfExists(e);return r?Promise.resolve(n.getCachedRxDocument(r)):sh(t.storageInstance,e).then(o=>o?t.docCache.getCachedRxDocument(o):null)}function q$(e){return this.$.pipe(rh(null),Ko(async t=>{if(t)return{changeEvent:t};var n=await this.getLocal(e);return{doc:n}}),Ko(async t=>{if(t.changeEvent){var n=t.changeEvent;if(!n.isLocal||n.documentId!==e)return{use:!1};var r=await this.getLocal(e);return{use:!0,doc:r}}else return{use:!0,doc:t.doc}}),Qe(t=>t.use),Wt(t=>t.doc))}var Hue={name:"local-documents",rxdb:!0,prototypes:{RxCollection:e=>{e.insertLocal=z$,e.upsertLocal=K$,e.getLocal=H$,e.getLocal$=q$},RxDatabase:e=>{e.insertLocal=z$,e.upsertLocal=K$,e.getLocal=H$,e.getLocal$=q$}},hooks:{createRxDatabase:{before:e=>{e.creator.localDocuments&&U$(e.database)}},createRxCollection:{before:e=>{e.creator.localDocuments&&U$(e.collection)}},preDestroyRxDatabase:{after:e=>V$(e)},postDestroyRxCollection:{after:e=>V$(e)},postRemoveRxDatabase:{after:e=>W$(e.storage,e.databaseName,"")},postRemoveRxCollection:{after:e=>W$(e.storage,e.databaseName,e.collectionName)}},overwritable:{}},que=new WeakMap,Gue={name:"migration",rxdb:!0,init(){pb(Hue)},hooks:{preDestroyRxDatabase:{after:Fue}},prototypes:{RxDatabase:e=>{e.migrationStates=function(){return C2(this).pipe(nh(Jd))}},RxCollection:e=>{e.getMigrationState=function(){return pr(que,this,()=>new Bue(this.asRxCollection,this.migrationStrategies))},e.migrationNeeded=function(){return this.schema.version===0?Vn:x2(this.getMigrationState())}}}};const Ge=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yt=Object.keys,rn=Array.isArray;function vn(e,t){return typeof t!="object"||yt(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||Ge.Promise||(Ge.Promise=Promise);const bl=Object.getPrototypeOf,Yue={}.hasOwnProperty;function mr(e,t){return Yue.call(e,t)}function wl(e,t){typeof t=="function"&&(t=t(bl(e))),(typeof Reflect>"u"?yt:Reflect.ownKeys)(t).forEach(n=>{Mo(e,n,t[n])})}const $2=Object.defineProperty;function Mo(e,t,n,r){$2(e,t,vn(n&&mr(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Wu(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Mo(e.prototype,"constructor",e),{extend:wl.bind(null,e.prototype)}}}}const Que=Object.getOwnPropertyDescriptor;function wx(e,t){let n;return Que(e,t)||(n=bl(e))&&wx(n,t)}const Xue=[].slice;function Jm(e,t,n){return Xue.call(e,t,n)}function T2(e,t){return t(e)}function Tc(e){if(!e)throw new Error("Assertion Failed")}function R2(e){Ge.setImmediate?setImmediate(e):setTimeout(e,0)}function k2(e,t){return e.reduce((n,r,o)=>{var i=t(r,o);return i&&(n[i[0]]=i[1]),n},{})}function Io(e,t){if(mr(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,o=t.length;r<o;++r){var i=Io(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return s===void 0?void 0:Io(s,t.substr(a+1))}}function $r(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Tc(typeof n!="string"&&"length"in n);for(var r=0,o=t.length;r<o;++r)$r(e,t[r],n[r])}else{var i=t.indexOf(".");if(i!==-1){var a=t.substr(0,i),s=t.substr(i+1);if(s==="")n===void 0?rn(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var u=e[a];u&&mr(e,a)||(u=e[a]={}),$r(u,s,n)}}else n===void 0?rn(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function M2(e){var t={};for(var n in e)mr(e,n)&&(t[n]=e[n]);return t}const Jue=[].concat;function I2(e){return Jue.apply([],e)}const D2="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(I2([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>Ge[e]),Zue=D2.map(e=>Ge[e]);k2(D2,e=>[e,!0]);let bi=null;function ch(e){bi=typeof WeakMap<"u"&&new WeakMap;const t=v_(e);return bi=null,t}function v_(e){if(!e||typeof e!="object")return e;let t=bi&&bi.get(e);if(t)return t;if(rn(e)){t=[],bi&&bi.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(v_(e[n]))}else if(Zue.indexOf(e.constructor)>=0)t=e;else{const i=bl(e);for(var o in t=i===Object.prototype?{}:Object.create(i),bi&&bi.set(e,t),e)mr(e,o)&&(t[o]=v_(e[o]))}return t}const{toString:ele}={};function g_(e){return ele.call(e).slice(8,-1)}const y_=typeof Symbol<"u"?Symbol.iterator:"@@iterator",tle=typeof y_=="symbol"?function(e){var t;return e!=null&&(t=e[y_])&&t.apply(e)}:function(){return null},fu={};function Eo(e){var t,n,r,o;if(arguments.length===1){if(rn(e))return e.slice();if(this===fu&&typeof e=="string")return[e];if(o=tle(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const _x=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var mo=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function j2(e,t){mo=e,N2=t}var N2=()=>!0;const nle=!new Error("").stack;function Ks(){if(nle)try{throw Ks.arguments,new Error}catch(e){return e}return new Error}function b_(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(N2).map(r=>`
`+r).join("")):""}var L2=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Sx=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(L2),rle={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function zu(e,t){this._e=Ks(),this.name=e,this.message=t}function F2(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,o)=>o.indexOf(n)===r).join(`
`)}function Zm(e,t,n,r){this._e=Ks(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=F2(e,t)}function Yc(e,t){this._e=Ks(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=F2(e,t)}Wu(zu).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+b_(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Wu(Zm).from(zu),Wu(Yc).from(zu);var Ex=Sx.reduce((e,t)=>(e[t]=t+"Error",e),{});const ole=zu;var fe=Sx.reduce((e,t)=>{var n=t+"Error";function r(o,i){this._e=Ks(),this.name=n,o?typeof o=="string"?(this.message=`${o}${i?`
 `+i:""}`,this.inner=i||null):typeof o=="object"&&(this.message=`${o.name} ${o.message}`,this.inner=o):(this.message=rle[t]||n,this.inner=null)}return Wu(r).from(ole),e[t]=r,e},{});fe.Syntax=SyntaxError,fe.Type=TypeError,fe.Range=RangeError;var G$=L2.reduce((e,t)=>(e[t+"Error"]=fe[t],e),{}),Yp=Sx.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=fe[t]),e),{});function Le(){}function Ff(e){return e}function ile(e,t){return e==null||e===Ff?t:function(n){return t(e(n))}}function Ss(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ale(e,t){return e===Le?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ss(r,this.onsuccess):r),o&&(this.onerror=this.onerror?Ss(o,this.onerror):o),i!==void 0?i:n}}function sle(e,t){return e===Le?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ss(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ss(r,this.onerror):r)}}function ule(e,t){return e===Le?t:function(n){var r=e.apply(this,arguments);vn(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?Ss(o,this.onsuccess):o),i&&(this.onerror=this.onerror?Ss(i,this.onerror):i),r===void 0?a===void 0?void 0:a:vn(r,a)}}function lle(e,t){return e===Le?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function xx(e,t){return e===Le?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}Yp.ModifyError=Zm,Yp.DexieError=zu,Yp.BulkError=Yc;var Bf={};const[w_,ev,__]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,bl(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,bl(t),e]})(),B2=ev&&ev.then,Qp=w_&&w_.constructor,Px=!!__;var S_=!1,cle=__?()=>{__.then(ep)}:Ge.setImmediate?setImmediate.bind(null,ep):Ge.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{ep(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(ep,0)},Qc=function(e,t){Rc.push([e,t]),tv&&(cle(),tv=!1)},E_=!0,tv=!0,es=[],Xp=[],x_=null,P_=Ff,Ku={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Q$,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Q$(e[0],e[1])}catch{}})}},le=Ku,Rc=[],ts=0,Jp=[];function J(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Le,this._lib=!1;var t=this._PSD=le;if(mo&&(this._stackHolder=Ks(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Bf)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&O_(this,this._value))}this._state=null,this._value=null,++t.ref,V2(this,e)}const C_={get:function(){var e=le,t=nv;function n(r,o){var i=!e.global&&(e!==le||t!==nv);const a=i&&!Go();var s=new J((u,l)=>{Cx(this,new U2(rv(r,e,i,a),rv(o,e,i,a),u,l,e))});return mo&&K2(s,this),s}return n.prototype=Bf,n},set:function(e){Mo(this,"then",e&&e.prototype===Bf?C_:{get:function(){return e},set:C_.set})}};function U2(e,t,n,r,o){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=o}function V2(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&fh();n&&typeof n.then=="function"?V2(e,(o,i)=>{n instanceof J?n._then(o,i):n.then(o,i)}):(e._state=!0,e._value=n,W2(e)),r&&dh()}},O_.bind(null,e))}catch(n){O_(e,n)}}function O_(e,t){if(Xp.push(t),e._state===null){var n=e._lib&&fh();t=P_(t),e._state=!1,e._value=t,mo&&t!==null&&typeof t=="object"&&!t._promise&&function(r,o,i){try{r.apply(null,i)}catch(a){o&&o(a)}}(()=>{var r=wx(t,"stack");t._promise=e,Mo(t,"stack",{get:()=>S_?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){es.some(o=>o._value===r._value)||es.push(r)}(e),W2(e),n&&dh()}}function W2(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Cx(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),ts===0&&(++ts,Qc(()=>{--ts==0&&Ox()},[]))}function Cx(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ts,Qc(fle,[n,e,t])}else e._listeners.push(t)}function fle(e,t,n){try{x_=t;var r,o=t._value;t._state?r=e(o):(Xp.length&&(Xp=[]),r=e(o),Xp.indexOf(o)===-1&&function(i){for(var a=es.length;a;)if(es[--a]._value===i._value)return void es.splice(a,1)}(t)),n.resolve(r)}catch(i){n.reject(i)}finally{x_=null,--ts==0&&Ox(),--n.psd.ref||n.psd.finalize()}}function z2(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var o,i,a=e._value;a!=null?(o=a.name||"Error",i=a.message||a,r=b_(a,0)):(o=a,i=""),t.push(o+(i?": "+i:"")+r)}return mo&&((r=b_(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&z2(e._prev,t,n)),t}function K2(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function ep(){fh()&&dh()}function fh(){var e=E_;return E_=!1,tv=!1,e}function dh(){var e,t,n;do for(;Rc.length>0;)for(e=Rc,Rc=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Rc.length>0);E_=!0,tv=!0}function Ox(){var e=es;es=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=Jp.slice(0),n=t.length;n;)t[--n]()}function tp(e){return new J(Bf,!1,e)}function Ze(e,t){var n=le;return function(){var r=fh(),o=le;try{return Zi(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{Zi(o,!1),r&&dh()}}}wl(J.prototype,{then:C_,_then:function(e,t){Cx(this,new U2(null,null,e,t,le))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):tp(r)):this.then(null,r=>r&&r.name===t?n(r):tp(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),tp(t)))},stack:{get:function(){if(this._stack)return this._stack;try{S_=!0;var e=z2(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{S_=!1}}},timeout:function(e,t){return e<1/0?new J((n,r)=>{var o=setTimeout(()=>r(new fe.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,o))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Mo(J.prototype,Symbol.toStringTag,"Dexie.Promise"),Ku.env=H2(),wl(J,{all:function(){var e=Eo.apply(null,arguments).map(np);return new J(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((o,i)=>J.resolve(o).then(a=>{e[i]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof J)return e;if(e&&typeof e.then=="function")return new J((n,r)=>{e.then(n,r)});var t=new J(Bf,!0,e);return K2(t,x_),t},reject:tp,race:function(){var e=Eo.apply(null,arguments).map(np);return new J((t,n)=>{e.map(r=>J.resolve(r).then(t,n))})},PSD:{get:()=>le,set:e=>le=e},totalEchoes:{get:()=>nv},newPSD:Ji,usePSD:Kl,scheduler:{get:()=>Qc,set:e=>{Qc=e}},rejectionMapper:{get:()=>P_,set:e=>{P_=e}},follow:(e,t)=>new J((n,r)=>Ji((o,i)=>{var a=le;a.unhandleds=[],a.onunhandled=i,a.finalize=Ss(function(){(function(s){function u(){s(),Jp.splice(Jp.indexOf(u),1)}Jp.push(u),++ts,Qc(()=>{--ts==0&&Ox()},[])})(()=>{this.unhandleds.length===0?o():i(this.unhandleds[0])})},a.finalize),e()},t,n,r))}),Qp&&(Qp.allSettled&&Mo(J,"allSettled",function(){const e=Eo.apply(null,arguments).map(np);return new J(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((o,i)=>J.resolve(o).then(a=>r[i]={status:"fulfilled",value:a},a=>r[i]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),Qp.any&&typeof AggregateError<"u"&&Mo(J,"any",function(){const e=Eo.apply(null,arguments).map(np);return new J((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const o=new Array(r);e.forEach((i,a)=>J.resolve(i).then(s=>t(s),s=>{o[a]=s,--r||n(new AggregateError(o))}))})}));const nn={awaits:0,echoes:0,id:0};var dle=0,Zp=[],Y0=0,nv=0,hle=0;function Ji(e,t,n,r){var o=le,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++hle;var a=Ku.env;i.env=Px?{Promise:J,PromiseProp:{value:J,configurable:!0,writable:!0},all:J.all,race:J.race,allSettled:J.allSettled,any:J.any,resolve:J.resolve,reject:J.reject,nthen:Y$(a.nthen,i),gthen:Y$(a.gthen,i)}:{},t&&vn(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Kl(i,e,n,r);return i.ref===0&&i.finalize(),s}function zl(){return nn.id||(nn.id=++dle),++nn.awaits,nn.echoes+=100,nn.id}function Go(){return!!nn.awaits&&(--nn.awaits==0&&(nn.id=0),nn.echoes=100*nn.awaits,!0)}function np(e){return nn.echoes&&e&&e.constructor===Qp?(zl(),e.then(t=>(Go(),t),t=>(Go(),Tt(t)))):e}function ple(e){++nv,nn.echoes&&--nn.echoes!=0||(nn.echoes=nn.id=0),Zp.push(le),Zi(e,!0)}function mle(){var e=Zp[Zp.length-1];Zp.pop(),Zi(e,!1)}function Zi(e,t){var n=le;if((t?!nn.echoes||Y0++&&e===le:!Y0||--Y0&&e===le)||q2(t?ple.bind(null,e):mle),e!==le&&(le=e,n===Ku&&(Ku.env=H2()),Px)){var r=Ku.env.Promise,o=e.env;ev.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(Ge,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function H2(){var e=Ge.Promise;return Px?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Ge,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ev.then,gthen:e.prototype.then}:{}}function Kl(e,t,n,r,o){var i=le;try{return Zi(e,!0),t(n,r,o)}finally{Zi(i,!1)}}function q2(e){B2.call(w_,e)}function rv(e,t,n,r){return typeof e!="function"?e:function(){var o=le;n&&zl(),Zi(t,!0);try{return e.apply(this,arguments)}finally{Zi(o,!1),r&&q2(Go)}}}function Y$(e,t){return function(n,r){return e.call(this,rv(n,t),rv(r,t))}}(""+B2).indexOf("[native code]")===-1&&(zl=Go=Le);function Q$(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,o={promise:t,reason:e};if(Ge.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),vn(r,o)):Ge.CustomEvent&&vn(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&Ge.dispatchEvent&&(dispatchEvent(r),!Ge.PromiseRejectionEvent&&Ge.onunhandledrejection))try{Ge.onunhandledrejection(r)}catch{}mo&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var Tt=J.reject;function A_(e,t,n,r){if(e.idbdb&&(e._state.openComplete||le.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Ex.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>A_(e,t,n,r))):Tt(i)}return o._promise(t,(i,a)=>Ji(()=>(le.trans=o,r(i,a,o)))).then(i=>o._completion.then(()=>i))}if(e._state.openComplete)return Tt(new fe.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Tt(new fe.DatabaseClosed);e.open().catch(Le)}return e._state.dbReadyPromise.then(()=>A_(e,t,n,r))}const za="",go="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Xc=[],gb=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),vle=gb,gle=gb,G2=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function Es(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Y2={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function rp(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=ch(t))[e],t)}function yle(){throw fe.Type()}class ble{_trans(t,n,r){const o=this._tx||le.trans,i=this.name;function a(u,l,c){if(!c.schema[i])throw new fe.NotFound("Table "+i+" not part of transaction");return n(c.idbtrans,c)}const s=fh();try{return o&&o.db===this.db?o===le.trans?o._promise(t,a,r):Ji(()=>o._promise(t,a,r),{trans:o,transless:le.transless||le}):A_(this.db,t,[this.name],a)}finally{s&&dh()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(o=>this.hook.reading.fire(o))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(rn(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=yt(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(l=>l.compound&&n.every(c=>l.keyPath.indexOf(c)>=0)&&l.keyPath.every(c=>n.indexOf(c)>=0))[0];if(r&&this.db._maxKey!==za)return this.where(r.name).equals(r.keyPath.map(l=>t[l]));!r&&mo&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:o}=this.schema,i=this.db._deps.indexedDB;function a(l,c){try{return i.cmp(l,c)===0}catch{return!1}}const[s,u]=n.reduce(([l,c],f)=>{const d=o[f],h=t[f];return[l||d,l||!d?Es(c,d&&d.multi?m=>{const p=Io(m,f);return rn(p)&&p.some(b=>a(h,b))}:m=>a(h,Io(m,f))):c]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(u):r?this.filter(u):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,rn(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){const{db:n,name:r}=this;this.schema.mappedClass=t,t.prototype instanceof yle&&(t=class extends t{get db(){return n}table(){return r}});const o=new Set;for(let a=t.prototype;a;a=bl(a))Object.getOwnPropertyNames(a).forEach(s=>o.add(s));const i=a=>{if(!a)return a;const s=Object.create(t.prototype);for(let u in a)if(!o.has(u))try{s[u]=a[u]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=i,this.hook("reading",i),t}defineClass(){return this.mapToClass(function(t){vn(this,t)})}add(t,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=t;return o&&r&&(i=rp(o)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[i]})).then(a=>a.numFailures?J.reject(a.failures[0]):a.lastResult).then(a=>{if(o)try{$r(t,o,a)}catch{}return a})}update(t,n){if(typeof t!="object"||rn(t))return this.where(":id").equals(t).modify(n);{const r=Io(t,this.schema.primKey.keyPath);if(r===void 0)return Tt(new fe.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?yt(n).forEach(o=>{$r(t,o,n[o])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=t;return o&&r&&(i=rp(o)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[i],keys:n!=null?[n]:null})).then(a=>a.numFailures?J.reject(a.failures[0]):a.lastResult).then(a=>{if(o)try{$r(t,o,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?J.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Y2})).then(t=>t.numFailures?J.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(o=>this.hook.reading.fire(o))))}bulkAdd(t,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:u}=this.schema.primKey;if(u&&o)throw new fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");const l=t.length;let c=u&&s?t.map(rp(u)):t;return this.core.mutate({trans:a,type:"add",keys:o,values:c,wantResults:i}).then(({numFailures:f,results:d,lastResult:h,failures:m})=>{if(f===0)return i?d:h;throw new Yc(`${this.name}.bulkAdd(): ${f} of ${l} operations failed`,m)})})}bulkPut(t,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:u}=this.schema.primKey;if(u&&o)throw new fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");const l=t.length;let c=u&&s?t.map(rp(u)):t;return this.core.mutate({trans:a,type:"put",keys:o,values:c,wantResults:i}).then(({numFailures:f,results:d,lastResult:h,failures:m})=>{if(f===0)return i?d:h;throw new Yc(`${this.name}.bulkPut(): ${f} of ${l} operations failed`,m)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:o,failures:i})=>{if(r===0)return o;throw new Yc(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function Jc(e){var t={},n=function(s,u){if(u){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[s].subscribe.apply(null,c),e}if(typeof s=="string")return t[s]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(s,u,l){if(typeof s=="object")return a(s);u||(u=lle),l||(l=Le);var c={subscribers:[],fire:l,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=u(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(d){return d!==f}),c.fire=c.subscribers.reduce(u,l)}};return t[s]=n[s]=c,c}function a(s){yt(s).forEach(function(u){var l=s[u];if(rn(l))i(u,s[u][0],s[u][1]);else{if(l!=="asap")throw new fe.InvalidArgument("Invalid event config");var c=i(u,Ff,function(){for(var f=arguments.length,d=new Array(f);f--;)d[f]=arguments[f];c.subscribers.forEach(function(h){R2(function(){h.apply(null,d)})})})}})}}function Sc(e,t){return Wu(t).from({prototype:e}),t}function ru(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Q0(e,t){e.filter=Es(e.filter,t)}function X0(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Es(r(),t()):t,e.justLimit=n&&!r}function em(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new fe.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function X$(e,t,n){const r=em(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function op(e,t,n,r){const o=e.replayFilter?Es(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},a=(s,u,l)=>{if(!o||o(u,l,d=>u.stop(d),d=>u.fail(d))){var c=u.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),mr(i,f)||(i[f]=!0,t(s,u,l))}};return Promise.all([e.or._iterate(a,n),J$(X$(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return J$(X$(e,r,n),Es(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function J$(e,t,n,r){var o=Ze(r?(i,a,s)=>n(r(i),a,s):n);return e.then(i=>{if(i)return i.start(()=>{var a=()=>i.continue();t&&!t(i,s=>a=s,s=>{i.stop(s),a=Le},s=>{i.fail(s),a=Le})||o(i.value,i,s=>a=s),a()})})}function hn(e,t){try{const n=Z$(e),r=Z$(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(o,i){const a=o.length,s=i.length,u=a<s?a:s;for(let l=0;l<u;++l)if(o[l]!==i[l])return o[l]<i[l]?-1:1;return a===s?0:a<s?-1:1}(eT(e),eT(t));case"Array":return function(o,i){const a=o.length,s=i.length,u=a<s?a:s;for(let l=0;l<u;++l){const c=hn(o[l],i[l]);if(c!==0)return c}return a===s?0:a<s?-1:1}(e,t)}}catch{}return NaN}function Z$(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=g_(e);return n==="ArrayBuffer"?"binary":n}function eT(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class wle{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,Tt.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,Tt.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Es(n.algorithm,t)}_iterate(t,n){return op(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&vn(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>op(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,o=r.table.core;if(ru(r,!0))return o.count({trans:n,query:{index:em(r,o.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var i=0;return op(r,()=>(++i,!1),n,o).then(()=>i)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),o=r[0],i=r.length-1;function a(l,c){return c?a(l[r[c]],c-1):l[o]}var s=this._ctx.dir==="next"?1:-1;function u(l,c){var f=a(l,i),d=a(c,i);return f<d?-s:f>d?s:0}return this.toArray(function(l){return l.sort(u)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&ru(r,!0)&&r.limit>0){const{valueMapper:o}=r,i=em(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:a})=>o?a.map(o):a)}{const o=[];return op(r,i=>o.push(i),n,r.table.core).then(()=>o)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,ru(n)?X0(n,()=>{var r=t;return(o,i)=>r===0||(r===1?(--r,!1):(i(()=>{o.advance(r),r=0}),!1))}):X0(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),X0(this._ctx,()=>{var n=t;return function(r,o,i){return--n<=0&&o(i),n>=0}},!0),this}until(t,n){return Q0(this._ctx,function(r,o,i){return!t(r.value)||(o(i),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Q0(this._ctx,function(o){return t(o.value)}),n=this._ctx,r=t,n.isMatch=Es(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){t(o.key,o)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){t(o.primaryKey,o)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&ru(n,!0)&&n.limit>0)return this._read(o=>{var i=em(n,n.table.core.schema);return n.table.core.query({trans:o,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:o})=>o).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Q0(this._ctx,function(o){var i=o.primaryKey.toString(),a=mr(r,i);return r[i]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var o;if(typeof t=="function")o=t;else{var i=yt(t),a=i.length;o=function(p){for(var b=!1,v=0;v<a;++v){var y=i[v],w=t[y];Io(p,y)!==w&&($r(p,y,w),b=!0)}return b}}const s=n.table.core,{outbound:u,extractKey:l}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,f=[];let d=0;const h=[],m=(p,b)=>{const{failures:v,numFailures:y}=b;d+=p-y;for(let w of yt(v))f.push(v[w])};return this.clone().primaryKeys().then(p=>{const b=v=>{const y=Math.min(c,p.length-v);return s.getMany({trans:r,keys:p.slice(v,v+y),cache:"immutable"}).then(w=>{const _=[],S=[],E=u?[]:null,x=[];for(let O=0;O<y;++O){const T=w[O],R={value:ch(T),primKey:p[v+O]};o.call(R,R.value,R)!==!1&&(R.value==null?x.push(p[v+O]):u||hn(l(T),l(R.value))===0?(S.push(R.value),u&&E.push(p[v+O])):(x.push(p[v+O]),_.push(R.value)))}const P=ru(n)&&n.limit===1/0&&(typeof t!="function"||t===J0)&&{index:n.index,range:n.range};return Promise.resolve(_.length>0&&s.mutate({trans:r,type:"add",values:_}).then(O=>{for(let T in O.failures)x.splice(parseInt(T),1);m(_.length,O)})).then(()=>(S.length>0||P&&typeof t=="object")&&s.mutate({trans:r,type:"put",keys:E,values:S,criteria:P,changeSpec:typeof t!="function"&&t}).then(O=>m(S.length,O))).then(()=>(x.length>0||P&&t===J0)&&s.mutate({trans:r,type:"delete",keys:x,criteria:P}).then(O=>m(x.length,O))).then(()=>p.length>v+y&&b(v+c))})};return b(0).then(()=>{if(f.length>0)throw new Zm("Error modifying one or more objects",f,d,h);return p.length})})})}delete(){var t=this._ctx,n=t.range;return ru(t)&&(t.isPrimKey&&!gle||n.type===3)?this._write(r=>{const{primaryKey:o}=t.table.core.schema,i=n;return t.table.core.count({trans:r,query:{index:o,range:i}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:s,lastResult:u,results:l,numFailures:c})=>{if(c)throw new Zm("Could not delete some values",Object.keys(s).map(f=>s[f]),a-c);return a-c}))}):this.modify(J0)}}const J0=(e,t)=>t.value=null;function _le(e,t){return e<t?-1:e===t?0:1}function Sle(e,t){return e>t?-1:e===t?0:1}function Ln(e,t,n){var r=e instanceof X2?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function ou(e){return new e.Collection(e,()=>Q2("")).limit(0)}function Ele(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),s=-1,u=0;u<a;++u){var l=t[u];if(l!==r[u])return o(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):o(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;o(e[u],l)<0&&(s=u)}return a<r.length&&i==="next"?e+n.substr(e.length):a<e.length&&i==="prev"?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function ip(e,t,n,r){var o,i,a,s,u,l,c,f=n.length;if(!n.every(p=>typeof p=="string"))return Ln(e,"String expected.");function d(p){o=function(v){return v==="next"?y=>y.toUpperCase():y=>y.toLowerCase()}(p),i=function(v){return v==="next"?y=>y.toLowerCase():y=>y.toUpperCase()}(p),a=p==="next"?_le:Sle;var b=n.map(function(v){return{lower:i(v),upper:o(v)}}).sort(function(v,y){return a(v.lower,y.lower)});s=b.map(function(v){return v.upper}),u=b.map(function(v){return v.lower}),l=p,c=p==="next"?"":r}d("next");var h=new e.Collection(e,()=>di(s[0],u[f-1]+r));h._ondirectionchange=function(p){d(p)};var m=0;return h._addAlgorithm(function(p,b,v){var y=p.key;if(typeof y!="string")return!1;var w=i(y);if(t(w,u,m))return!0;for(var _=null,S=m;S<f;++S){var E=Ele(y,w,s[S],u[S],a,l);E===null&&_===null?m=S+1:(_===null||a(_,E)>0)&&(_=E)}return b(_!==null?function(){p.continue(_+c)}:v),!1}),h}function di(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Q2(e){return{type:1,lower:e,upper:e}}class X2{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,o){r=r!==!1,o=o===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||o)&&(!r||!o)?ou(this):new this.Collection(this,()=>di(t,n,!r,!o))}catch{return Ln(this,go)}}equals(t){return t==null?Ln(this,go):new this.Collection(this,()=>Q2(t))}above(t){return t==null?Ln(this,go):new this.Collection(this,()=>di(t,void 0,!0))}aboveOrEqual(t){return t==null?Ln(this,go):new this.Collection(this,()=>di(t,void 0,!1))}below(t){return t==null?Ln(this,go):new this.Collection(this,()=>di(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Ln(this,go):new this.Collection(this,()=>di(void 0,t))}startsWith(t){return typeof t!="string"?Ln(this,"String expected."):this.between(t,t+za,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):ip(this,(n,r)=>n.indexOf(r[0])===0,[t],za)}equalsIgnoreCase(t){return ip(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Eo.apply(fu,arguments);return t.length===0?ou(this):ip(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Eo.apply(fu,arguments);return t.length===0?ou(this):ip(this,(n,r)=>r.some(o=>n.indexOf(o)===0),t,za)}anyOf(){const t=Eo.apply(fu,arguments);let n=this._cmp;try{t.sort(n)}catch{return Ln(this,go)}if(t.length===0)return ou(this);const r=new this.Collection(this,()=>di(t[0],t[t.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,t.sort(n)};let o=0;return r._addAlgorithm((i,a,s)=>{const u=i.key;for(;n(u,t[o])>0;)if(++o,o===t.length)return a(s),!1;return n(u,t[o])===0||(a(()=>{i.continue(t[o])}),!1)}),r}notEqual(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Eo.apply(fu,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Ln(this,go)}const n=t.reduce((r,o)=>r?r.concat([[r[r.length-1][1],o]]):[[-1/0,o]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,o=this._ascending,i=this._descending,a=this._min,s=this._max;if(t.length===0)return ou(this);if(!t.every(y=>y[0]!==void 0&&y[1]!==void 0&&o(y[0],y[1])<=0))return Ln(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",fe.InvalidArgument);const u=!n||n.includeLowers!==!1,l=n&&n.includeUppers===!0;let c,f=o;function d(y,w){return f(y[0],w[0])}try{c=t.reduce(function(y,w){let _=0,S=y.length;for(;_<S;++_){const E=y[_];if(r(w[0],E[1])<0&&r(w[1],E[0])>0){E[0]=a(E[0],w[0]),E[1]=s(E[1],w[1]);break}}return _===S&&y.push(w),y},[]),c.sort(d)}catch{return Ln(this,go)}let h=0;const m=l?y=>o(y,c[h][1])>0:y=>o(y,c[h][1])>=0,p=u?y=>i(y,c[h][0])>0:y=>i(y,c[h][0])>=0;let b=m;const v=new this.Collection(this,()=>di(c[0][0],c[c.length-1][1],!u,!l));return v._ondirectionchange=y=>{y==="next"?(b=m,f=o):(b=p,f=i),c.sort(d)},v._addAlgorithm((y,w,_)=>{for(var S=y.key;b(S);)if(++h,h===c.length)return w(_),!1;return!!function(E){return!m(E)&&!p(E)}(S)||(this._cmp(S,c[h][1])===0||this._cmp(S,c[h][0])===0||w(()=>{f===o?y.continue(c[h][0]):y.continue(c[h][1])}),!1)}),v}startsWithAnyOf(){const t=Eo.apply(fu,arguments);return t.every(n=>typeof n=="string")?t.length===0?ou(this):this.inAnyRange(t.map(n=>[n,n+za])):Ln(this,"startsWithAnyOf() only works with strings")}}function Qr(e){return Ze(function(t){return Uf(t),e(t.target.error),!1})}function Uf(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const ea=Jc(null,"storagemutated");class xle{_lock(){return Tc(!le.global),++this._reculock,this._reculock!==1||le.global||(le.lockOwnerFor=this),this}_unlock(){if(Tc(!le.global),--this._reculock==0)for(le.global||(le.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Kl(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&le.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Tc(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new fe.DatabaseClosed(r);case"MissingAPIError":throw new fe.MissingAPI(r.message,r);default:throw new fe.OpenFailed(r)}if(!this.active)throw new fe.TransactionInactive;return Tc(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ze(o=>{Uf(o),this._reject(t.error)}),t.onabort=Ze(o=>{Uf(o),this.active&&this._reject(new fe.Abort(t.error)),this.active=!1,this.on("abort").fire(o)}),t.oncomplete=Ze(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&ea.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return Tt(new fe.ReadOnly("Transaction is readonly"));if(!this.active)return Tt(new fe.TransactionInactive);if(this._locked())return new J((i,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(i,a)},le])});if(r)return Ji(()=>{var i=new J((a,s)=>{this._lock();const u=n(a,s,this);u&&u.then&&u.then(a,s)});return i.finally(()=>this._unlock()),i._lib=!0,i});var o=new J((i,a)=>{var s=n(i,a,this);s&&s.then&&s.then(i,a)});return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=J.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var o=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(o.get(-1/0).onsuccess=a)})()}var i=n._waitingFor;return new J((a,s)=>{r.then(u=>n._waitingQueue.push(Ze(a.bind(null,u))),u=>n._waitingQueue.push(Ze(s.bind(null,u)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new fe.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(mr(n,t))return n[t];const r=this.schema[t];if(!r)throw new fe.NotFound("Table "+t+" not part of transaction");const o=new this.db.Table(t,r,this);return o.core=this.db.core.table(t),n[t]=o,o}}function $_(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+J2(t)}}function J2(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Z2(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:k2(n,r=>[r.name,r])}}let Vf=e=>{try{return e.only([[]]),Vf=()=>[[]],[[]]}catch{return Vf=()=>za,za}};function T_(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?n=>n[t]:n=>Io(n,t)}(e):t=>Io(t,e)}function tT(e){return[].slice.call(e)}let Ple=0;function Zc(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function Cle(e,t,n){function r(u){if(u.type===3)return null;if(u.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:l,upper:c,lowerOpen:f,upperOpen:d}=u;return l===void 0?c===void 0?null:t.upperBound(c,!!d):c===void 0?t.lowerBound(l,!!f):t.bound(l,c,!!f,!!d)}const{schema:o,hasGetAll:i}=function(u,l){const c=tT(u.objectStoreNames);return{schema:{name:u.name,tables:c.map(f=>l.objectStore(f)).map(f=>{const{keyPath:d,autoIncrement:h}=f,m=rn(d),p=d==null,b={},v={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:p,compound:m,keyPath:d,autoIncrement:h,unique:!0,extractKey:T_(d)},indexes:tT(f.indexNames).map(y=>f.index(y)).map(y=>{const{name:w,unique:_,multiEntry:S,keyPath:E}=y,x={name:w,compound:rn(E),keyPath:E,unique:_,multiEntry:S,extractKey:T_(E)};return b[Zc(E)]=x,x}),getIndexByKeyPath:y=>b[Zc(y)]};return b[":id"]=v.primaryKey,d!=null&&(b[Zc(d)]=v.primaryKey),v})},hasGetAll:c.length>0&&"getAll"in l.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=o.tables.map(u=>function(l){const c=l.name;return{name:c,schema:l,mutate:function({trans:f,type:d,keys:h,values:m,range:p}){return new Promise((b,v)=>{b=Ze(b);const y=f.objectStore(c),w=y.keyPath==null,_=d==="put"||d==="add";if(!_&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:S}=h||m||{length:1};if(h&&m&&h.length!==m.length)throw new Error("Given keys array must have same length as given values array.");if(S===0)return b({numFailures:0,failures:{},results:[],lastResult:void 0});let E;const x=[],P=[];let O=0;const T=M=>{++O,Uf(M)};if(d==="deleteRange"){if(p.type===4)return b({numFailures:O,failures:P,results:[],lastResult:void 0});p.type===3?x.push(E=y.clear()):x.push(E=y.delete(r(p)))}else{const[M,U]=_?w?[m,h]:[m,null]:[h,null];if(_)for(let $=0;$<S;++$)x.push(E=U&&U[$]!==void 0?y[d](M[$],U[$]):y[d](M[$])),E.onerror=T;else for(let $=0;$<S;++$)x.push(E=y[d](M[$])),E.onerror=T}const R=M=>{const U=M.target.result;x.forEach(($,L)=>$.error!=null&&(P[L]=$.error)),b({numFailures:O,failures:P,results:d==="delete"?h:x.map($=>$.result),lastResult:U})};E.onerror=M=>{T(M),R(M)},E.onsuccess=R})},getMany:({trans:f,keys:d})=>new Promise((h,m)=>{h=Ze(h);const p=f.objectStore(c),b=d.length,v=new Array(b);let y,w=0,_=0;const S=x=>{const P=x.target;v[P._pos]=P.result,++_===w&&h(v)},E=Qr(m);for(let x=0;x<b;++x)d[x]!=null&&(y=p.get(d[x]),y._pos=x,y.onsuccess=S,y.onerror=E,++w);w===0&&h(v)}),get:({trans:f,key:d})=>new Promise((h,m)=>{h=Ze(h);const p=f.objectStore(c).get(d);p.onsuccess=b=>h(b.target.result),p.onerror=Qr(m)}),query:function(f){return d=>new Promise((h,m)=>{h=Ze(h);const{trans:p,values:b,limit:v,query:y}=d,w=v===1/0?void 0:v,{index:_,range:S}=y,E=p.objectStore(c),x=_.isPrimaryKey?E:E.index(_.name),P=r(S);if(v===0)return h({result:[]});if(f){const O=b?x.getAll(P,w):x.getAllKeys(P,w);O.onsuccess=T=>h({result:T.target.result}),O.onerror=Qr(m)}else{let O=0;const T=b||!("openKeyCursor"in x)?x.openCursor(P):x.openKeyCursor(P),R=[];T.onsuccess=M=>{const U=T.result;return U?(R.push(b?U.value:U.primaryKey),++O===v?h({result:R}):void U.continue()):h({result:R})},T.onerror=Qr(m)}})}(i),openCursor:function({trans:f,values:d,query:h,reverse:m,unique:p}){return new Promise((b,v)=>{b=Ze(b);const{index:y,range:w}=h,_=f.objectStore(c),S=y.isPrimaryKey?_:_.index(y.name),E=m?p?"prevunique":"prev":p?"nextunique":"next",x=d||!("openKeyCursor"in S)?S.openCursor(r(w),E):S.openKeyCursor(r(w),E);x.onerror=Qr(v),x.onsuccess=Ze(P=>{const O=x.result;if(!O)return void b(null);O.___id=++Ple,O.done=!1;const T=O.continue.bind(O);let R=O.continuePrimaryKey;R&&(R=R.bind(O));const M=O.advance.bind(O),U=()=>{throw new Error("Cursor not stopped")};O.trans=f,O.stop=O.continue=O.continuePrimaryKey=O.advance=()=>{throw new Error("Cursor not started")},O.fail=Ze(v),O.next=function(){let $=1;return this.start(()=>$--?this.continue():this.stop()).then(()=>this)},O.start=$=>{const L=new Promise((V,I)=>{V=Ze(V),x.onerror=Qr(I),O.fail=I,O.stop=A=>{O.stop=O.continue=O.continuePrimaryKey=O.advance=U,V(A)}}),N=()=>{if(x.result)try{$()}catch(V){O.fail(V)}else O.done=!0,O.start=()=>{throw new Error("Cursor behind last entry")},O.stop()};return x.onsuccess=Ze(V=>{x.onsuccess=N,N()}),O.continue=T,O.continuePrimaryKey=R,O.advance=M,N(),L},b(O)},v)})},count({query:f,trans:d}){const{index:h,range:m}=f;return new Promise((p,b)=>{const v=d.objectStore(c),y=h.isPrimaryKey?v:v.index(h.name),w=r(m),_=w?y.count(w):y.count();_.onsuccess=Ze(S=>p(S.target.result)),_.onerror=Qr(b)})}}}(u)),s={};return a.forEach(u=>s[u.name]=u),{stack:"dbcore",transaction:e.transaction.bind(e),table(u){if(!s[u])throw new Error(`Table '${u}' not found`);return s[u]},MIN_KEY:-1/0,MAX_KEY:Vf(t),schema:o}}function R_({_novip:e},t){const n=t.db,r=function(o,i,{IDBKeyRange:a,indexedDB:s},u){return{dbcore:function(c,f){return f.reduce((d,{create:h})=>({...d,...h(d)}),c)}(Cle(i,a,u),o.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(o=>{const i=o.name;e.core.schema.tables.some(a=>a.name===i)&&(o.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=o.core))})}function ov({_novip:e},t,n,r){n.forEach(o=>{const i=r[o];t.forEach(a=>{const s=wx(a,o);(!s||"value"in s&&s.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?Mo(a,o,{get(){return this.table(o)},set(u){$2(this,o,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):a[o]=new e.Table(o,i))})})}function k_({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function Ole(e,t){return e._cfg.version-t._cfg.version}function Ale(e,t,n,r){const o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);const a=i._reject.bind(i),s=le.transless||le;Ji(()=>{le.trans=i,le.transless=s,t===0?(yt(o).forEach(u=>{Z0(n,u,o[u].primKey,o[u].indexes)}),R_(e,n),J.follow(()=>e.on.populate.fire(i)).catch(a)):function({_novip:u},l,c,f){const d=[],h=u._versions;let m=u._dbSchema=I_(u,u.idbdb,f),p=!1;function b(){return d.length?J.resolve(d.shift()(c.idbtrans)).then(b):J.resolve()}return h.filter(v=>v._cfg.version>=l).forEach(v=>{d.push(()=>{const y=m,w=v._cfg.dbschema;D_(u,y,f),D_(u,w,f),m=u._dbSchema=w;const _=eL(y,w);_.add.forEach(E=>{Z0(f,E[0],E[1].primKey,E[1].indexes)}),_.change.forEach(E=>{if(E.recreate)throw new fe.Upgrade("Not yet support for changing primary key");{const x=f.objectStore(E.name);E.add.forEach(P=>M_(x,P)),E.change.forEach(P=>{x.deleteIndex(P.name),M_(x,P)}),E.del.forEach(P=>x.deleteIndex(P))}});const S=v._cfg.contentUpgrade;if(S&&v._cfg.version>l){R_(u,f),c._memoizedTables={},p=!0;let E=M2(w);_.del.forEach(T=>{E[T]=y[T]}),k_(u,[u.Transaction.prototype]),ov(u,[u.Transaction.prototype],yt(E),E),c.schema=E;const x=_x(S);let P;x&&zl();const O=J.follow(()=>{if(P=S(c),P&&x){var T=Go.bind(null,null);P.then(T,T)}});return P&&typeof P.then=="function"?J.resolve(P):O.then(()=>P)}}),d.push(y=>{(!p||!vle)&&function(w,_){[].slice.call(_.db.objectStoreNames).forEach(S=>w[S]==null&&_.db.deleteObjectStore(S))}(v._cfg.dbschema,y),k_(u,[u.Transaction.prototype]),ov(u,[u.Transaction.prototype],u._storeNames,u._dbSchema),c.schema=u._dbSchema})}),b().then(()=>{var v,y;y=f,yt(v=m).forEach(w=>{y.db.objectStoreNames.contains(w)||Z0(y,w,v[w].primKey,v[w].indexes)})})}(e,t,i,n).catch(a)})}function eL(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const o=e[r],i=t[r];if(o){const a={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!gb)a.recreate=!0,n.change.push(a);else{const s=o.idxByName,u=i.idxByName;let l;for(l in s)u[l]||a.del.push(l);for(l in u){const c=s[l],f=u[l];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,i])}return n}function Z0(e,t,n,r){const o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>M_(o,i)),o}function M_(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function I_(e,t,n){const r={};return Jm(t.objectStoreNames,0).forEach(o=>{const i=n.objectStore(o);let a=i.keyPath;const s=$_(J2(a),a||"",!1,!1,!!i.autoIncrement,a&&typeof a!="string",!0),u=[];for(let c=0;c<i.indexNames.length;++c){const f=i.index(i.indexNames[c]);a=f.keyPath;var l=$_(f.name,a,!!f.unique,!!f.multiEntry,!1,a&&typeof a!="string",!1);u.push(l)}r[o]=Z2(o,s,u)}),r}function D_({_novip:e},t,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const i=r[o],a=n.objectStore(i);e._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){const u=a.indexNames[s],l=a.index(u).keyPath,c=typeof l=="string"?l:"["+Jm(l).join("+")+"]";if(t[i]){const f=t[i].idxByName[c];f&&(f.name=u,delete t[i].idxByName[c],t[i].idxByName[u]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ge.WorkerGlobalScope&&Ge instanceof Ge.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class $le{_parseStoresSpec(t,n){yt(t).forEach(r=>{if(t[r]!==null){var o=t[r].split(",").map((a,s)=>{const u=(a=a.trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;return $_(u,l||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),rn(l),s===0)}),i=o.shift();if(i.multi)throw new fe.Schema("Primary key cannot be multi-valued");o.forEach(a=>{if(a.auto)throw new fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new fe.Schema("Index must have a name and cannot be an empty string")}),n[r]=Z2(r,i,o)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?vn(this._cfg.storesSource,t):t;const r=n._versions,o={};let i={};return r.forEach(a=>{vn(o,a._cfg.storesSource),i=a._cfg.dbschema={},a._parseStoresSpec(o,i)}),n._dbSchema=i,k_(n,[n._allTables,n,n.Transaction.prototype]),ov(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],yt(i),i),n._storeNames=yt(i),this}upgrade(t){return this._cfg.contentUpgrade=xx(this._cfg.contentUpgrade||Le,t),this}}function Ax(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new ns("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function $x(e){return e&&typeof e.databases=="function"}function j_(e){return Ji(function(){return le.letThrough=!0,e()})}function Tle(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function Rle(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?Tt(t.dbOpenError):e);mo&&(t.openCanceller._stackHolder=Ks()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new fe.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,a=null,s=!1;return J.race([r,(typeof navigator>"u"?J.resolve():Tle()).then(()=>new J((u,l)=>{if(o(),!n)throw new fe.MissingAPI;const c=e.name,f=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!f)throw new fe.MissingAPI;f.onerror=Qr(l),f.onblocked=Ze(e._fireOnBlocked),f.onupgradeneeded=Ze(d=>{if(a=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=Uf,a.abort(),f.result.close();const m=n.deleteDatabase(c);m.onsuccess=m.onerror=Ze(()=>{l(new fe.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{a.onerror=Qr(l);var h=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;s=h<1,e._novip.idbdb=f.result,Ale(e,h/10,a,l)}},l),f.onsuccess=Ze(()=>{a=null;const d=e._novip.idbdb=f.result,h=Jm(d.objectStoreNames);if(h.length>0)try{const p=d.transaction((m=h).length===1?m[0]:m,"readonly");t.autoSchema?function({_novip:b},v,y){b.verno=v.version/10;const w=b._dbSchema=I_(0,v,y);b._storeNames=Jm(v.objectStoreNames,0),ov(b,[b._allTables],yt(w),w)}(e,d,p):(D_(e,e._dbSchema,p),function(b,v){const y=eL(I_(0,b.idbdb,v),b._dbSchema);return!(y.add.length||y.change.some(w=>w.add.length||w.change.length))}(e,p)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),R_(e,p)}catch{}var m;Xc.push(e),d.onversionchange=Ze(p=>{t.vcFired=!0,e.on("versionchange").fire(p)}),d.onclose=Ze(p=>{e.on("close").fire(p)}),s&&function({indexedDB:p,IDBKeyRange:b},v){!$x(p)&&v!=="__dbnames"&&Ax(p,b).put({name:v}).catch(Le)}(e._deps,c),u()},l)}))]).then(()=>(o(),t.onReadyBeingFired=[],J.resolve(j_(()=>e.on.ready.fire(e.vip))).then(function u(){if(t.onReadyBeingFired.length>0){let l=t.onReadyBeingFired.reduce(xx,Le);return t.onReadyBeingFired=[],J.resolve(j_(()=>l(e.vip))).then(u)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(u=>{t.dbOpenError=u;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),Tt(u)}).finally(()=>{t.openComplete=!0,i()})}function N_(e){var t=i=>e.next(i),n=o(t),r=o(i=>e.throw(i));function o(i){return a=>{var s=i(a),u=s.value;return s.done?u:u&&typeof u.then=="function"?u.then(n,r):rn(u)?Promise.all(u).then(n,r):n(u)}}return o(t)()}function kle(e,t,n){var r=arguments.length;if(r<2)throw new fe.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];n=o.pop();var i=I2(o);return[e,i,n]}function tL(e,t,n,r,o){return J.resolve().then(()=>{const i=le.transless||le,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===Ex.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>tL(e,t,n,null,o))):Tt(f)}const u=_x(o);let l;u&&zl();const c=J.follow(()=>{if(l=o.call(a,a),l)if(u){var f=Go.bind(null,null);l.then(f,f)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=N_(l))},s);return(l&&typeof l.then=="function"?J.resolve(l).then(f=>a.active?f:Tt(new fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>l)).then(f=>(r&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),Tt(f)))})}function ap(e,t,n){const r=rn(e)?e.slice():[e];for(let o=0;o<n;++o)r.push(t);return r}const Mle={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,o={},i=[];function a(c,f,d){const h=Zc(c),m=o[h]=o[h]||[],p=c==null?0:typeof c=="string"?1:c.length,b=f>0,v={...d,isVirtual:b,keyTail:f,keyLength:p,extractKey:T_(c),unique:!b&&d.unique};return m.push(v),v.isPrimaryKey||i.push(v),p>1&&a(p===2?c[0]:c.slice(0,p-1),f+1,d),m.sort((y,w)=>y.keyTail-w.keyTail),v}const s=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[s];for(const c of r.indexes)a(c.keyPath,0,c);function u(c){const f=c.query.index;return f.isVirtual?{...c,query:{index:f,range:(d=c.query.range,h=f.keyTail,{type:d.type===1?2:d.type,lower:ap(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,h),lowerOpen:!0,upper:ap(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,h),upperOpen:!0})}}:c;var d,h}return{...n,schema:{...r,primaryKey:s,indexes:i,getIndexByKeyPath:function(c){const f=o[Zc(c)];return f&&f[0]}},count:c=>n.count(u(c)),query:c=>n.query(u(c)),openCursor(c){const{keyTail:f,isVirtual:d,keyLength:h}=c.query.index;return d?n.openCursor(u(c)).then(m=>m&&function(p){return Object.create(p,{continue:{value:function(v){v!=null?p.continue(ap(v,c.reverse?e.MAX_KEY:e.MIN_KEY,f)):c.unique?p.continue(p.key.slice(0,h).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,f)):p.continue()}},continuePrimaryKey:{value(v,y){p.continuePrimaryKey(ap(v,e.MAX_KEY,f),y)}},primaryKey:{get:()=>p.primaryKey},key:{get(){const v=p.key;return h===1?v[0]:v.slice(0,h)}},value:{get:()=>p.value}})}(m)):n.openCursor(c)}}}}}};function Tx(e,t,n,r){return n=n||{},r=r||"",yt(e).forEach(o=>{if(mr(t,o)){var i=e[o],a=t[o];if(typeof i=="object"&&typeof a=="object"&&i&&a){const s=g_(i);s!==g_(a)?n[r+o]=t[o]:s==="Object"?Tx(i,a,n,r+o+"."):i!==a&&(n[r+o]=t[o])}else i!==a&&(n[r+o]=t[o])}else n[r+o]=void 0}),yt(t).forEach(o=>{mr(e,o)||(n[r+o]=t[o])}),n}const Ile={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(i){const a=le.trans,{deleting:s,creating:u,updating:l}=a.table(t).hook;switch(i.type){case"add":if(u.fire===Le)break;return a._promise("readwrite",()=>c(i),!0);case"put":if(u.fire===Le&&l.fire===Le)break;return a._promise("readwrite",()=>c(i),!0);case"delete":if(s.fire===Le)break;return a._promise("readwrite",()=>c(i),!0);case"deleteRange":if(s.fire===Le)break;return a._promise("readwrite",()=>function(d){return f(d.trans,d.range,1e4)}(i),!0)}return n.mutate(i);function c(d){const h=le.trans,m=d.keys||function(p,b){return b.type==="delete"?b.keys:b.keys||b.values.map(p.extractKey)}(r,d);if(!m)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:m}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(p,b,v){return b.type==="add"?Promise.resolve([]):p.getMany({trans:b.trans,keys:v,cache:"immutable"})}(n,d,m).then(p=>{const b=m.map((v,y)=>{const w=p[y],_={onerror:null,onsuccess:null};if(d.type==="delete")s.fire.call(_,v,w,h);else if(d.type==="add"||w===void 0){const S=u.fire.call(_,v,d.values[y],h);v==null&&S!=null&&(v=S,d.keys[y]=v,r.outbound||$r(d.values[y],r.keyPath,v))}else{const S=Tx(w,d.values[y]),E=l.fire.call(_,S,v,w,h);if(E){const x=d.values[y];Object.keys(E).forEach(P=>{mr(x,P)?x[P]=E[P]:$r(x,P,E[P])})}}return _});return n.mutate(d).then(({failures:v,results:y,numFailures:w,lastResult:_})=>{for(let S=0;S<m.length;++S){const E=y?y[S]:m[S],x=b[S];E==null?x.onerror&&x.onerror(v[S]):x.onsuccess&&x.onsuccess(d.type==="put"&&p[S]?d.values[S]:E)}return{failures:v,results:y,numFailures:w,lastResult:_}}).catch(v=>(b.forEach(y=>y.onerror&&y.onerror(v)),Promise.reject(v)))})}function f(d,h,m){return n.query({trans:d,values:!1,query:{index:r,range:h},limit:m}).then(({result:p})=>c({type:"delete",keys:p,trans:d}).then(b=>b.numFailures>0?Promise.reject(b.failures[0]):p.length<m?{failures:[],numFailures:0,lastResult:void 0}:f(d,{...h,lower:p[p.length-1],lowerOpen:!0},m)))}}}}})};function nL(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let o=0,i=0;o<t.keys.length&&i<e.length;++o)hn(t.keys[o],e[i])===0&&(r.push(n?ch(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch{return null}}const Dle={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const o=nL(r.keys,r.trans._cache,r.cache==="clone");return o?J.resolve(o):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?ch(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Rx(e){return!("from"in e)}const _o=function(e,t){if(!this){const n=new _o;return e&&"d"in e&&vn(n,e),n}vn(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Wf(e,t,n){const r=hn(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Rx(e))return vn(e,{from:t,to:n,d:1});const o=e.l,i=e.r;if(hn(n,e.from)<0)return o?Wf(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},nT(e);if(hn(t,e.to)>0)return i?Wf(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},nT(e);hn(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),hn(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;o&&!e.l&&iv(e,o),i&&a&&iv(e,i)}function iv(e,t){Rx(t)||function n(r,{from:o,to:i,l:a,r:s}){Wf(r,o,i),a&&n(r,a),s&&n(r,s)}(e,t)}function jle(e,t){const n=L_(t);let r=n.next();if(r.done)return!1;let o=r.value;const i=L_(e);let a=i.next(o.from),s=a.value;for(;!r.done&&!a.done;){if(hn(s.from,o.to)<=0&&hn(s.to,o.from)>=0)return!0;hn(o.from,s.from)<0?o=(r=n.next(s.from)).value:s=(a=i.next(o.from)).value}return!1}function L_(e){let t=Rx(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&hn(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||hn(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function nT(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const i=o==="r"?"l":"r",a={...e},s=e[o];e.from=s.from,e.to=s.to,e[o]=s[o],a[o]=s[i],e[i]=a,a.d=rT(a)}e.d=rT(e)}function rT({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}wl(_o.prototype,{add(e){return iv(this,e),this},addKey(e){return Wf(this,e,e),this},addKeys(e){return e.forEach(t=>Wf(this,t,t)),this},[y_](){return L_(this)}});const Nle={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new _o(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const o=e.table(r),{schema:i}=o,{primaryKey:a}=i,{extractKey:s,outbound:u}=a,l={...o,mutate:d=>{const h=d.trans,m=h.mutatedParts||(h.mutatedParts={}),p=E=>{const x=`idb://${t}/${r}/${E}`;return m[x]||(m[x]=new _o)},b=p(""),v=p(":dels"),{type:y}=d;let[w,_]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const S=d.trans._cache;return o.mutate(d).then(E=>{if(rn(w)){y!=="delete"&&(w=E.results),b.addKeys(w);const x=nL(w,S);x||y==="add"||v.addKeys(w),(x||_)&&function(P,O,T,R){function M(U){const $=P(U.name||"");function L(V){return V!=null?U.extractKey(V):null}const N=V=>U.multiEntry&&rn(V)?V.forEach(I=>$.addKey(I)):$.addKey(V);(T||R).forEach((V,I)=>{const A=T&&L(T[I]),D=R&&L(R[I]);hn(A,D)!==0&&(A!=null&&N(A),D!=null&&N(D))})}O.indexes.forEach(M)}(p,i,x,_)}else if(w){const x={from:w.lower,to:w.upper};v.add(x),b.add(x)}else b.add(n),v.add(n),i.indexes.forEach(x=>p(x.name).add(n));return E})}},c=({query:{index:d,range:h}})=>{var m,p;return[d,new _o((m=h.lower)!==null&&m!==void 0?m:e.MIN_KEY,(p=h.upper)!==null&&p!==void 0?p:e.MAX_KEY)]},f={get:d=>[a,new _o(d.key)],getMany:d=>[a,new _o().addKeys(d.keys)],count:c,query:c,openCursor:c};return yt(f).forEach(d=>{l[d]=function(h){const{subscr:m}=le;if(m){const p=_=>{const S=`idb://${t}/${r}/${_}`;return m[S]||(m[S]=new _o)},b=p(""),v=p(":dels"),[y,w]=f[d](h);if(p(y.name||"").add(w),!y.isPrimaryKey){if(d!=="count"){const _=d==="query"&&u&&h.values&&o.query({...h,values:!1});return o[d].apply(this,arguments).then(S=>{if(d==="query"){if(u&&h.values)return _.then(({result:x})=>(b.addKeys(x),S));const E=h.values?S.result.map(s):S.result;h.values?b.addKeys(E):v.addKeys(E)}else if(d==="openCursor"){const E=S,x=h.values;return E&&Object.create(E,{key:{get:()=>(v.addKey(E.primaryKey),E.key)},primaryKey:{get(){const P=E.primaryKey;return v.addKey(P),P}},value:{get:()=>(x&&b.addKey(E.primaryKey),E.value)}})}return S})}v.add(n)}}return o[d].apply(this,arguments)}}),l}}}};class ns{constructor(t,n){this._middlewares={},this.verno=0;const r=ns.dependencies;this._options=n={addons:ns.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:o}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Le,dbReadyPromise:null,cancelOpen:Le,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;i.dbReadyPromise=new J(s=>{i.dbReadyResolve=s}),i.openCanceller=new J((s,u)=>{i.cancelOpen=u}),this._state=i,this.name=t,this.on=Jc(this,"populate","blocked","versionchange","close",{ready:[xx,Le]}),this.on.ready.subscribe=T2(this.on.ready.subscribe,s=>(u,l)=>{ns.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||J.resolve().then(u),l&&s(u);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(u),l&&s(u);else{s(u);const f=this;l||s(function d(){f.on.ready.unsubscribe(u),f.on.ready.unsubscribe(d)})}})}),this.Collection=(a=this,Sc(wle.prototype,function(s,u){this.db=a;let l=Y2,c=null;if(u)try{l=u()}catch(m){c=m}const f=s._ctx,d=f.table,h=d.hook.reading.fire;this._ctx={table:d,index:f.index,isPrimKey:!f.index||d.schema.primKey.keyPath&&f.index===d.schema.primKey.name,range:l,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:f.or,valueMapper:h!==Ff?h:null}})),this.Table=function(s){return Sc(ble.prototype,function(u,l,c){this.db=s,this._tx=c,this.name=u,this.schema=l,this.hook=s._allTables[u]?s._allTables[u].hook:Jc(null,{creating:[ale,Le],reading:[ile,Ff],updating:[ule,Le],deleting:[sle,Le]})})}(this),this.Transaction=function(s){return Sc(xle.prototype,function(u,l,c,f,d){this.db=s,this.mode=u,this.storeNames=l,this.schema=c,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=Jc(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new J((h,m)=>{this._resolve=h,this._reject=m}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},h=>{var m=this.active;return this.active=!1,this.on.error.fire(h),this.parent?this.parent._reject(h):m&&this.idbtrans&&this.idbtrans.abort(),Tt(h)})})}(this),this.Version=function(s){return Sc($le.prototype,function(u){this.db=s,this._cfg={version:u,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(s){return Sc(X2.prototype,function(u,l,c){this.db=s,this._ctx={table:u,index:l===":id"?null:l,or:c};const f=s._deps.indexedDB;if(!f)throw new fe.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(d,h)=>f.cmp(h,d),this._max=(d,h)=>f.cmp(d,h)>0?d:h,this._min=(d,h)=>f.cmp(d,h)<0?d:h,this._IDBKeyRange=s._deps.IDBKeyRange})}(this),this.on("versionchange",s=>{s.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",s=>{!s.newVersion||s.newVersion<s.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${s.oldVersion/10}`)}),this._maxKey=Vf(n.IDBKeyRange),this._createTransaction=(s,u,l,c)=>new this.Transaction(s,u,l,this._options.chromeTransactionDurability,c),this._fireOnBlocked=s=>{this.on("blocked").fire(s),Xc.filter(u=>u.name===this.name&&u!==this&&!u._state.vcFired).map(u=>u.on("versionchange").fire(s))},this.use(Mle),this.use(Ile),this.use(Nle),this.use(Dle),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(s=>s(this))}version(t){if(isNaN(t)||t<.1)throw new fe.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(o=>o._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(Ole),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||le.letThrough||this._vip)?t():new J((n,r)=>{if(this._state.openComplete)return r(new fe.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new fe.DatabaseClosed);this.open().catch(Le)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:o}){o&&this.unuse({stack:t,name:o});const i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:r??10,name:o}),i.sort((a,s)=>a.level-s.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(o=>r?o.create!==r:!!n&&o.name!==n)),this}open(){return Rle(this)}_close(){const t=this._state,n=Xc.indexOf(this);if(n>=0&&Xc.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new J(r=>{t.dbReadyResolve=r}),t.openCanceller=new J((r,o)=>{t.cancelOpen=o})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new fe.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new J((r,o)=>{const i=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=Ze(()=>{(function({indexedDB:s,IDBKeyRange:u},l){!$x(s)&&l!=="__dbnames"&&Ax(s,u).delete(l).catch(Le)})(this._deps,this.name),r()}),a.onerror=Qr(o),a.onblocked=this._fireOnBlocked};if(t)throw new fe.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return yt(this._allTables).map(t=>this._allTables[t])}transaction(){const t=kle.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let o=le.trans;o&&o.db===this&&t.indexOf("!")===-1||(o=null);const i=t.indexOf("?")!==-1;let a,s;t=t.replace("!","").replace("?","");try{if(s=n.map(l=>{var c=l instanceof this.Table?l.name:l;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t==="readonly")a="readonly";else{if(t!="rw"&&t!="readwrite")throw new fe.InvalidArgument("Invalid transaction mode: "+t);a="readwrite"}if(o){if(o.mode==="readonly"&&a==="readwrite"){if(!i)throw new fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&s.forEach(l=>{if(o&&o.storeNames.indexOf(l)===-1){if(!i)throw new fe.SubTransaction("Table "+l+" not included in parent transaction.");o=null}}),i&&o&&!o.active&&(o=null)}}catch(l){return o?o._promise(null,(c,f)=>{f(l)}):Tt(l)}const u=tL.bind(null,this,a,s,o,r);return o?o._promise(a,u,"lock"):le.trans?Kl(le.transless,()=>this._whenReady(u)):this._whenReady(u)}table(t){if(!mr(this._allTables,t))throw new fe.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const Lle=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Fle{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[Lle](){return this}}function rL(e,t){return yt(t).forEach(n=>{iv(e[n]||(e[n]=new _o),t[n])}),e}function Ble(e){return new Fle(t=>{const n=_x(e);let r=!1,o={},i={};const a={get closed(){return r},unsubscribe:()=>{r=!0,ea.storagemutated.unsubscribe(c)}};t.start&&t.start(a);let s=!1,u=!1;function l(){return yt(i).some(d=>o[d]&&jle(o[d],i[d]))}const c=d=>{rL(o,d),l()&&f()},f=()=>{if(s||r)return;o={};const d={},h=function(m){n&&zl();const p=()=>Ji(e,{subscr:m,trans:null}),b=le.trans?Kl(le.transless,p):p();return n&&b.then(Go,Go),b}(d);u||(ea("storagemutated",c),u=!0),s=!0,Promise.resolve(h).then(m=>{s=!1,r||(l()?f():(o={},i=d,t.next&&t.next(m)))},m=>{["DatabaseClosedError","AbortError"].includes(m==null?void 0:m.name)||(s=!1,t.error&&t.error(m),a.unsubscribe())})};return f(),a})}let F_;try{F_={indexedDB:Ge.indexedDB||Ge.mozIndexedDB||Ge.webkitIndexedDB||Ge.msIndexedDB,IDBKeyRange:Ge.IDBKeyRange||Ge.webkitIDBKeyRange}}catch{F_={indexedDB:null,IDBKeyRange:null}}const Aa=ns;function tm(e){let t=Oo;try{Oo=!0,ea.storagemutated.fire(e)}finally{Oo=t}}wl(Aa,{...Yp,delete:e=>new Aa(e,{addons:[]}).delete(),exists:e=>new Aa(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return $x(t)?Promise.resolve(t.databases()).then(r=>r.map(o=>o.name).filter(o=>o!=="__dbnames")):Ax(t,n).toCollection().primaryKeys()}(Aa.dependencies).then(e)}catch{return Tt(new fe.MissingAPI)}},defineClass:()=>function(e){vn(this,e)},ignoreTransaction:e=>le.trans?Kl(le.transless,e):e(),vip:j_,async:function(e){return function(){try{var t=N_(e.apply(this,arguments));return t&&typeof t.then=="function"?t:J.resolve(t)}catch(n){return Tt(n)}}},spawn:function(e,t,n){try{var r=N_(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:J.resolve(r)}catch(o){return Tt(o)}},currentTransaction:{get:()=>le.trans||null},waitFor:function(e,t){const n=J.resolve(typeof e=="function"?Aa.ignoreTransaction(e):e).timeout(t||6e4);return le.trans?le.trans.waitFor(n):n},Promise:J,debug:{get:()=>mo,set:e=>{j2(e,e==="dexie"?()=>!0:G2)}},derive:Wu,extend:vn,props:wl,override:T2,Events:Jc,on:ea,liveQuery:Ble,extendObservabilitySet:rL,getByKeyPath:Io,setByKeyPath:$r,delByKeyPath:function(e,t){typeof t=="string"?$r(e,t,void 0):"length"in t&&[].map.call(t,function(n){$r(e,n,void 0)})},shallowClone:M2,deepClone:ch,getObjectDiff:Tx,cmp:hn,asap:R2,minKey:-1/0,addons:[],connections:Xc,errnames:Ex,dependencies:F_,semVer:"4.0.0-alpha.4",version:"4.0.0-alpha.4".split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Aa.maxKey=Vf(Aa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ea("storagemutated",e=>{if(!Oo){let t;gb?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Oo=!0,dispatchEvent(t),Oo=!1}}),addEventListener("x-storagemutated-1",({detail:e})=>{Oo||tm(e)}));let Oo=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel("x-storagemutated-1");typeof e.unref=="function"&&e.unref(),ea("storagemutated",t=>{Oo||e.postMessage(t)}),e.onmessage=t=>{t.data&&tm(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){ea("storagemutated",t=>{try{Oo||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:"x-storagemutated-1",changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key==="x-storagemutated-1"){const n=JSON.parse(t.newValue);n&&tm(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type==="x-storagemutated-1"&&tm(t.changedParts)})}J.rejectionMapper=function(e,t){if(!e||e instanceof zu||e instanceof TypeError||e instanceof SyntaxError||!e.name||!G$[e.name])return e;var n=new G$[e.name](t||e.message,e);return"stack"in e&&Mo(n,"stack",{get:function(){return this.inner.stack}}),n},j2(mo,G2);var av="docs",Ule="changes",oT="attachments",oL="dexie",iT=new Map,nm=new Map;function Vle(e,t,n,r){var o="rxdb-dexie-"+e+"--"+r.version+"--"+t,i=pr(iT,o,()=>{var a=(async()=>{var s=Ae(n);s.autoOpen=!1;var u=new ns(o,s),l={[av]:Kle(r),[Ule]:"++sequence, id",[oT]:"id"};return u.version(1).stores(l),await u.open(),{dexieDb:u,dexieTable:u[av],dexieAttachmentsTable:u[oT],booleanIndexes:Hle(r)}})();return iT.set(o,i),nm.set(i,0),a});return i}async function Wle(e){var t=await e,n=nm.get(e),r=n-1;r===0?(t.dexieDb.close(),nm.delete(e)):nm.set(e,r)}var B_="__";function hh(e){var t=e.split(".");if(t.length>1)return t.map(r=>hh(r)).join(".");if(e.startsWith("|")){var n=e.substring(1);return B_+n}else return e}function iL(e){var t=e.split(".");if(t.length>1)return t.map(r=>iL(r)).join(".");if(e.startsWith(B_)){var n=e.substring(B_.length);return"|"+n}else return e}function zle(e,t){return t&&(t=Ae(t),t=U_(t),e.forEach(n=>{var r=Qi(t,n),o=r?"1":"0";Uj(t,n,o)}),t)}function aL(e,t){return t&&(t=Ae(t),t=V_(t),e.forEach(n=>{var r=Qi(t,n),o=r==="1";Uj(t,n,o)}),t)}function U_(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>U_(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="object"&&(r=U_(r)),t[hh(n)]=r}),t}}function V_(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>V_(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="object"||Array.isArray(e))&&(r=V_(r)),t[iL(n)]=r}),t}}function Kle(e){var t=[],n=Zn(e.primaryKey);t.push([n]),t.push(["_deleted",n]),e.indexes&&e.indexes.forEach(i=>{var a=ll(i);t.push(a)}),t.push(["_meta.lwt",n]),t.push(["_meta.lwt"]),t=t.map(i=>i.map(a=>hh(a)));var r=t.map(i=>i.length===1?i[0]:"["+i.join("+")+"]");r=r.filter((i,a,s)=>s.indexOf(i)===a);var o=r.join(", ");return o}async function aT(e,t){var n=await e,r=await n.dexieTable.bulkGet(t);return r.map(o=>aL(n.booleanIndexes,o))}function sp(e,t){return e+"||"+t}function Hle(e){var t=new Set,n=[];return e.indexes?(e.indexes.forEach(r=>{var o=ll(r);o.forEach(i=>{if(!t.has(i)){t.add(i);var a=Wo(e,i);a.type==="boolean"&&n.push(i)}})}),n.push("_deleted"),bne(n)):n}function sT(e){return e===ro?-1/0:e}function uT(e,t,n){if(e.includes(t)){var r=n===Ar||n===!0?"1":"0";return r}else return n}function sL(e,t,n){if(!n){if(typeof window>"u")throw new Error("IDBKeyRange missing");n=window.IDBKeyRange}var r=t.startKeys.map((a,s)=>{var u=t.index[s];return uT(e,u,a)}).map(sT),o=t.endKeys.map((a,s)=>{var u=t.index[s];return uT(e,u,a)}).map(sT),i=n.bound(r,o,!t.inclusiveStart,!t.inclusiveEnd);return i}async function lT(e,t){var n=await e.internals,r=t.query,o=r.skip?r.skip:0,i=r.limit?r.limit:1/0,a=o+i,s=t.queryPlan,u=!1;s.selectorSatisfiedByIndex||(u=fb(e.schema,t.query));var l=sL(n.booleanIndexes,s,n.dexieDb._options.IDBKeyRange),c=s.index,f=[];if(await n.dexieDb.transaction("r",n.dexieTable,async h=>{var m=h.idbtrans,p=m.objectStore(av),b,v;v="["+c.map(w=>hh(w)).join("+")+"]",b=p.index(v);var y=b.openCursor(l);await new Promise(w=>{y.onsuccess=function(_){var S=_.target.result;if(S){var E=aL(n.booleanIndexes,S.value);(!u||u(E))&&f.push(E),s.sortSatisfiedByIndex&&f.length===a?w():S.continue()}else w()}})}),!s.sortSatisfiedByIndex){var d=cx(e.schema,t.query);f=f.sort(d)}return f=f.slice(o,a),{documents:f}}async function qle(e,t){var n=await e.internals,r=t.queryPlan,o=r.index,i=sL(n.booleanIndexes,r,n.dexieDb._options.IDBKeyRange),a=-1;return await n.dexieDb.transaction("r",n.dexieTable,async s=>{var u=s.idbtrans,l=u.objectStore(av),c,f;f="["+o.map(h=>hh(h)).join("+")+"]",c=l.index(f);var d=c.count(i);a=await new Promise((h,m)=>{d.onsuccess=function(){h(d.result)},d.onerror=p=>m(p)})}),a}var Gle=$t(),Yle=function(){function e(n,r,o,i,a,s,u){this.changes$=new Ot,this.instanceId=Gle++,this.storage=n,this.databaseName=r,this.collectionName=o,this.schema=i,this.internals=a,this.options=s,this.settings=u,this.primaryPath=Zn(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=async function(r,o){$a(this),r.forEach(c=>{if(!c.document._rev||c.previous&&!c.previous._rev)throw ie("SNH",{args:{row:c}})});var i=await this.internals,a={success:[],error:[]},s=r.map(c=>c.document[this.primaryPath]),u;if(await i.dexieDb.transaction("rw",i.dexieTable,i.dexieAttachmentsTable,async()=>{var c=new Map,f=await aT(this.internals,s);f.forEach(m=>{var p=m;return p&&c.set(p[this.primaryPath],p),p}),u=LN(this,this.primaryPath,c,r,o),a.error=u.errors;var d=[];u.bulkInsertDocs.forEach(m=>{a.success.push(m.document),d.push(m.document)}),u.bulkUpdateDocs.forEach(m=>{a.success.push(m.document),d.push(m.document)}),d=d.map(m=>zle(i.booleanIndexes,m)),d.length>0&&await i.dexieTable.bulkPut(d);var h=[];u.attachmentsAdd.forEach(m=>{h.push({id:sp(m.documentId,m.attachmentId),data:m.attachmentData.data})}),u.attachmentsUpdate.forEach(m=>{h.push({id:sp(m.documentId,m.attachmentId),data:m.attachmentData.data})}),await i.dexieAttachmentsTable.bulkPut(h),await i.dexieAttachmentsTable.bulkDelete(u.attachmentsRemove.map(m=>sp(m.documentId,m.attachmentId)))}),u=he(u),u.eventBulk.events.length>0){var l=he(u.newestRow).document;u.eventBulk.checkpoint={id:l[this.primaryPath],lwt:l._meta.lwt},u.eventBulk.endTime=$t(),this.changes$.next(u.eventBulk)}return a},t.findDocumentsById=async function(r,o){$a(this);var i=await this.internals,a=[];return await i.dexieDb.transaction("r",i.dexieTable,async()=>{var s=await aT(this.internals,r);s.forEach(u=>{u&&(!u._deleted||o)&&a.push(u)})}),a},t.query=function(r){return $a(this),lT(this,r)},t.count=async function(r){if(r.queryPlan.selectorSatisfiedByIndex){var o=await qle(this,r);return{count:o,mode:"fast"}}else{var i=await lT(this,r);return{count:i.documents.length,mode:"slow"}}},t.changeStream=function(){return $a(this),this.changes$.asObservable()},t.cleanup=async function(r){$a(this);var o=await this.internals;return await o.dexieDb.transaction("rw",o.dexieTable,async()=>{var i=$t()-r,a=await o.dexieTable.where("_meta.lwt").below(i).toArray(),s=[];a.forEach(u=>{u._deleted==="1"&&s.push(u[this.primaryPath])}),await o.dexieTable.bulkDelete(s)}),!0},t.getAttachmentData=async function(r,o,i){$a(this);var a=await this.internals,s=sp(r,o);return await a.dexieDb.transaction("r",a.dexieAttachmentsTable,async()=>{var u=await a.dexieAttachmentsTable.get(s);if(u)return u.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+o)})},t.remove=async function(){$a(this);var r=await this.internals;return await r.dexieTable.clear(),this.close()},t.close=function(){return this.closed?this.closed:(this.closed=(async()=>{this.changes$.complete(),await Wle(this.internals)})(),this.closed)},t.conflictResultionTasks=function(){return new Ot},t.resolveConflictResultionTask=async function(r){},e}();async function Qle(e,t,n){var r=Vle(t.databaseName,t.collectionName,n,t.schema),o=new Yle(e,t.databaseName,t.collectionName,t.schema,r,t.options,n);return await gue(oL,t,o),Promise.resolve(o)}function $a(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var Xle=function(){function e(n){this.name=oL,this.settings=n}var t=e.prototype;return t.createStorageInstance=function(r){return FN(r),Qle(this,r,this.settings)},e}();function Jle(e={}){var t=new Xle(e);return t}function Zle(e,t,n,r,o){for(var i=o+1;r<=o;){var a=r+o>>>1,s=e[a],u=n!==void 0?n(s,t):s-t;u>=0?(i=a,o=a-1):r=a+1}return i}function ece(e,t,n,r,o){for(var i=o+1;r<=o;){var a=r+o>>>1,s=e[a],u=n!==void 0?n(s,t):s-t;u>0?(i=a,o=a-1):r=a+1}return i}function tce(e,t,n,r,o){for(var i=r-1;r<=o;){var a=r+o>>>1,s=e[a],u=n!==void 0?n(s,t):s-t;u<0?(i=a,r=a+1):o=a-1}return i}function nce(e,t,n,r,o){for(var i=r-1;r<=o;){var a=r+o>>>1,s=e[a],u=n!==void 0?n(s,t):s-t;u<=0?(i=a,r=a+1):o=a-1}return i}function rce(e,t,n,r,o){for(;r<=o;){var i=r+o>>>1,a=e[i],s=n!==void 0?n(a,t):a-t;if(s===0)return i;s<=0?r=i+1:o=i-1}return-1}function ph(e,t,n,r,o,i){return typeof n=="function"?i(e,t,n,r===void 0?0:r|0,o===void 0?e.length-1:o|0):i(e,t,void 0,n===void 0?0:n|0,r===void 0?e.length-1:r|0)}function oce(e,t,n,r,o){return ph(e,t,n,r,o,Zle)}function cT(e,t,n,r,o){return ph(e,t,n,r,o,ece)}function ice(e,t,n,r,o){return ph(e,t,n,r,o,tce)}function ace(e,t,n,r,o){return ph(e,t,n,r,o,nce)}function uL(e,t,n,r,o){return ph(e,t,n,r,o,rce)}function lL(e,t,n){return[e,t,n].join("--memory--")}function up(e){if(e.internals.removed)throw new Error("removed")}function lp(e,t){return e+"||"+t}function sce(e,t){return e.indexString<t.indexString?-1:1}function fT(e,t,n,r,o){var i=r.document;t.documents.set(e,i);for(var a=0;a<n.length;++a){var s=n[a],u=s.docsWithIndex,l=s.getIndexableString,c=l(i),f=mN(u,{id:e,doc:i,indexString:c},sce,0);if(o){var d=l(o);if(d===c){var h=u[f-1];if(h&&h.id===e)u.splice(f-1,1);else{var m=u[f+1];if(m.id===e)u.splice(f+1,1);else throw ie("SNH",{args:{row:r,byIndex:s}})}}else{var p=uL(u,{indexString:d},ef);u.splice(p,1)}}}}function uce(e,t,n,r){var o=r[e];n.documents.delete(o),Object.values(n.byIndex).forEach(i=>{var a=i.docsWithIndex,s=i.getIndexableString(r),u=uL(a,{indexString:s},ef);a.splice(u,1)})}function ef(e,t){var n=e.indexString,r=t.indexString;return n<r?-1:n===r?0:1}function lce(e,t){var n=Zn(t.primaryKey),r=t.indexes?t.indexes.map(o=>ll(o)):[];r.push(["_deleted","_meta.lwt",n]),r.forEach(o=>{e.byIndex[W_(o)]={index:o,docsWithIndex:[],getIndexableString:bue(t,o)}})}function W_(e){return e.join(",")}var dT=new Set,cce=function(){function e(n,r,o,i,a,s,u){this.closed=!1,this.storage=n,this.databaseName=r,this.collectionName=o,this.schema=i,this.internals=a,this.options=s,this.settings=u,dT.add(this),this.primaryPath=Zn(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(r,o){this.ensurePersistence(),up(this);for(var i=this.internals,a=this.internals.documents,s=this.primaryPath,u=LN(this,s,a,r,o),l=u.errors,c=new Array(u.bulkInsertDocs.length),f=u.bulkInsertDocs,d=0;d<f.length;++d){var h=f[d],m=h.document;c[d]=m}for(var p=u.bulkUpdateDocs,b=0;b<p.length;++b){var v=p[b],y=v.document;c.push(y)}if(this.internals.ensurePersistenceTask=u,this.internals.ensurePersistenceIdlePromise||(this.internals.ensurePersistenceIdlePromise=HE().then(()=>{this.internals.ensurePersistenceIdlePromise=void 0,this.ensurePersistence()})),u.eventBulk.events.length>0){var w=he(u.newestRow).document;u.eventBulk.checkpoint={id:w[s],lwt:w._meta.lwt},u.eventBulk.endTime=$t(),dl.then(()=>{i.changes$.next(u.eventBulk)})}var _=Promise.resolve({success:c,error:l});return _},t.ensurePersistence=function(){if(this.internals.ensurePersistenceTask){var r=this.internals,o=this.internals.documents,i=this.primaryPath,a=this.internals.ensurePersistenceTask;delete this.internals.ensurePersistenceTask;for(var s=Object.values(this.internals.byIndex),u=a.bulkInsertDocs,l=0;l<u.length;++l){var c=u[l],f=c.document,d=f[i];fT(d,r,s,c,void 0)}for(var h=a.bulkUpdateDocs,m=0;m<h.length;++m){var p=h[m],b=p.document,v=b[i];fT(v,r,s,p,o.get(v))}if(this.schema.attachments){var y=r.attachments;a.attachmentsAdd.forEach(w=>{y.set(lp(w.documentId,w.attachmentId),{writeData:w.attachmentData,digest:w.digest})}),this.schema.attachments&&(a.attachmentsUpdate.forEach(w=>{y.set(lp(w.documentId,w.attachmentId),{writeData:w.attachmentData,digest:w.digest})}),a.attachmentsRemove.forEach(w=>{y.delete(lp(w.documentId,w.attachmentId))}))}}},t.findDocumentsById=function(r,o){this.ensurePersistence();var i=this.internals.documents,a=[];if(i.size===0)return Promise.resolve(a);for(var s=0;s<r.length;++s){var u=r[s],l=i.get(u);l&&(!l._deleted||o)&&a.push(l)}return Promise.resolve(a)},t.query=function(r){this.ensurePersistence();var o=r.queryPlan,i=r.query,a=i.skip?i.skip:0,s=i.limit?i.limit:1/0,u=a+s,l=!1;o.selectorSatisfiedByIndex||(l=fb(this.schema,r.query));var c=o.index,f=!o.sortSatisfiedByIndex,d=c,h=o.startKeys,m=D$(this.schema,d,h),p=o.endKeys;p=p;var b=wue(this.schema,d,p),v=W_(d);if(!this.internals.byIndex[v])throw new Error("index does not exist "+v);for(var y=this.internals.byIndex[v].docsWithIndex,w=(o.inclusiveStart?oce:cT)(y,{indexString:m},ef),_=(o.inclusiveEnd?ace:ice)(y,{indexString:b},ef),S=[],E=!1;!E;){var x=y[w];if(!x||w>_)break;var P=x.doc;(!l||l(P))&&S.push(P),S.length>=u&&!f&&(E=!0),w++}if(f){var O=cx(this.schema,r.query);S=S.sort(O)}return S=S.slice(a,u),Promise.resolve({documents:S})},t.count=async function(r){this.ensurePersistence();var o=await this.query(r);return{count:o.documents.length,mode:"fast"}},t.cleanup=function(r){this.ensurePersistence();for(var o=$t()-r,i=["_deleted","_meta.lwt",this.primaryPath],a=W_(i),s=this.internals.byIndex[a].docsWithIndex,u=D$(this.schema,i,[!0,0,""]),l=cT(s,{indexString:u},ef),c=!1;!c;){var f=s[l];!f||f.doc._meta.lwt>o?c=!0:(uce(this.primaryPath,this.schema,this.internals,f.doc),l++)}return dl},t.getAttachmentData=function(r,o,i){this.ensurePersistence(),up(this);var a=lp(r,o),s=this.internals.attachments.get(a);if(!i||!s||s.digest!==i)throw new Error("attachment does not exist: "+a);return Promise.resolve(s.writeData.data)},t.changeStream=function(){return up(this),this.internals.changes$.asObservable()},t.remove=async function(){if(this.closed)throw new Error("closed");this.ensurePersistence(),up(this),this.internals.removed=!0,this.storage.collectionStates.delete(lL(this.databaseName,this.collectionName,this.schema.version)),await this.close()},t.close=function(){return dT.delete(this),this.ensurePersistence(),this.closed||(this.closed=!0,this.internals.refCount=this.internals.refCount-1),en},t.conflictResultionTasks=function(){return this.internals.conflictResultionTasks$.asObservable()},t.resolveConflictResultionTask=function(r){return en},e}();function fce(e,t,n){var r=lL(t.databaseName,t.collectionName,t.schema.version),o=e.collectionStates.get(r);if(!o)o={schema:t.schema,removed:!1,refCount:1,documents:new Map,attachments:t.schema.attachments?new Map:void 0,byIndex:{},conflictResultionTasks$:new Ot,changes$:new Ot},lce(o,t.schema),e.collectionStates.set(r,o);else{if(t.devMode&&!hl(o.schema,t.schema))throw new Error("storage was already created with a different schema");o.refCount=o.refCount+1}var i=new cce(e,t.databaseName,t.collectionName,t.schema,o,t.options,n);return Promise.resolve(i)}var dce=new Map;function hce(e={}){var t={name:"memory",collectionStates:dce,createStorageInstance(n){FN(n);var r=Object.assign({},e,n.options);return fce(this,n,r)}};return t}const pce={title:"cards",version:1,type:"object",primaryKey:"id",properties:{id:{type:"string",maxLength:100},nativeText:{type:"string"},learnText:{type:"string"},pronunciation:{type:"string"},examples:{type:"string"},createdAt:{type:"number"},updatedAt:{type:"number"}}},mce={title:"settings",version:0,type:"object",primaryKey:"id",properties:{id:{type:"string",maxLength:100},nativeLanguage:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}},learnLanguage:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}},cardsFront:{type:"string"}}};pb(Gue);pb(Iue);const hT="production".toLowerCase()==="test",vce=async()=>{var r,o,i;const e=hT?hce():Jle(),t=await ose({name:"cards_db",storage:e,eventReduce:!0,cleanupPolicy:{},ignoreDuplicate:hT});await t.addCollections({cards:{schema:pce},settings:{schema:mce}});const n=a=>{a.updatedAt=new Date().getTime()};return(r=t.collections.cards)==null||r.preSave(n,!0),(o=t.collections.cards)==null||o.preInsert(n,!0),(i=t.collections.cards)==null||i.preRemove(n,!0),t},gce=({children:e})=>{const[t,n]=g.useState();return g.useEffect(()=>{t||vce().then(n)},[]),t?C.jsx(Mr.Provider,{db:t,children:e}):null},cL=()=>localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches,z_=e=>{const t=document.querySelector("meta[name=theme-color]");t==null||t.setAttribute("content",e)},yce=()=>(g.useEffect(()=>{cL()&&(z_("#000"),document.documentElement.classList.add("dark"))},[]),C.jsx(gce,{children:C.jsxs(b7,{children:[C.jsx(ME,{}),C.jsx(g7,{})]})})),fL=()=>C.jsx("main",{className:"flex h-screen flex-col justify-between gap-4",children:C.jsx("section",{className:"flex h-full w-full grow flex-col items-center justify-center gap-4 overflow-auto p-2",children:C.jsx(ME,{})})}),bce=jE("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ye=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},i)=>{const a=r?rl:"button";return C.jsx(a,{className:Oe(bce({variant:t,size:n,className:e})),ref:i,...o})});ye.displayName="Button";const on=g.forwardRef(({className:e,type:t,...n},r)=>C.jsx("input",{ref:r,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),type:t,...n}));on.displayName="Input";const mh=({isLoading:e,className:t,children:n,...r})=>C.jsxs(ye,{className:Oe("grid grid-cols-[1fr_auto_1fr] gap-2",t),...r,children:[e&&C.jsx(kW,{className:"animate-spin justify-self-end"}),C.jsx("span",{className:"col-start-2",children:n})]}),Yn="access_token",wce=async(e,{bodyParse:t=a=>a.json(),onResponse:n,onBadResponse:r,baseUrl:o,...i}={})=>{const a=new URL(e,o),s=await fetch(a,i);return s.status>=400?(r==null||r(s),{res:s}):(n==null||n(s),{res:s,data:await t(s)})},Lt=async(e,{onBadResponse:t,headers:n={"Content-type":"application/json"},...r}={})=>wce(e,{baseUrl:"http://192.168.1.100:4000",headers:{Authorization:`Bearer ${localStorage.getItem(Yn)}`,...n},onBadResponse:o=>{if(o.status===401&&!o.url.includes("/auth/")&&!o.url.includes("/webauthn/")){location.href="/auth/login";return}t==null||t(o)},...r}),zf=({className:e,...t})=>C.jsx("form",{className:jt("flex w-full max-w-md flex-col gap-4",e),...t}),_ce=()=>{const{toast:e}=Fr(),[t,n]=g.useState(!1),[r,o]=g.useState(!1),i=a=>{a.preventDefault(),n(!0);const s=a.currentTarget.elements.namedItem("email").value;s&&Lt("auth/forgot",{method:"POST",body:JSON.stringify({email:s})}).then(({res:u})=>{if(n(!1),u.status===401)return e({variant:"destructive",title:"No such user"});if(u.status>=400)return e({variant:"destructive",title:"Something went wrong"});o(!0)}).finally(()=>n(!1))};return r?C.jsxs(zf,{children:[C.jsx("h3",{className:"text-center text-lg",children:"Thank you for submitting the form!"}),C.jsx("p",{children:"We've just sent an email to the address associated with your account. Please check your inbox for further instructions on resetting your password."}),C.jsx(ye,{type:"button",variant:"outline",asChild:!0,children:C.jsx(Ye,{to:"/auth/login",children:"Back to login"})})]}):C.jsxs(zf,{onSubmit:i,children:[C.jsx(on,{name:"email",placeholder:"Email",type:"email",required:!0}),C.jsx(mh,{isLoading:t,type:"submit",children:"Continue"}),C.jsx(ye,{type:"button",variant:"outline",asChild:!0,children:C.jsx(Ye,{to:"/auth/login",children:"Back to login"})})]})};function Sce(e){return new TextEncoder().encode(e)}function xo(e){const t=new Uint8Array(e);let n="";for(const o of t)n+=String.fromCharCode(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function kx(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4,r=t.padEnd(t.length+n,"="),o=atob(r),i=new ArrayBuffer(o.length),a=new Uint8Array(i);for(let s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return i}function Kf(){return(window==null?void 0:window.PublicKeyCredential)!==void 0&&typeof window.PublicKeyCredential=="function"}function dL(e){const{id:t}=e;return{...e,id:kx(t),transports:e.transports}}function hL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}class Qt extends Error{constructor({message:t,code:n,cause:r,name:o}){super(t,{cause:r}),this.name=o??r.name,this.code=n}}function Ece({error:e,options:t}){var r,o;const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=n.authenticatorSelection)==null?void 0:r.requireResidentKey)===!0)return new Qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(((o=n.authenticatorSelection)==null?void 0:o.userVerification)==="required")return new Qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return n.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(hL(i)){if(n.rp.id!==i)return new Qt({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new Qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}class xce{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const pL=new xce,Pce=["cross-platform","platform"];function mL(e){if(e&&!(Pce.indexOf(e)<0))return e}async function Cce(e){var d;if(!Kf())throw new Error("WebAuthn is not supported in this browser");const n={publicKey:{...e,challenge:kx(e.challenge),user:{...e.user,id:Sce(e.user.id)},excludeCredentials:(d=e.excludeCredentials)==null?void 0:d.map(dL)}};n.signal=pL.createNewAbortSignal();let r;try{r=await navigator.credentials.create(n)}catch(h){throw Ece({error:h,options:n})}if(!r)throw new Error("Registration was not completed");const{id:o,rawId:i,response:a,type:s}=r;let u;typeof a.getTransports=="function"&&(u=a.getTransports());let l;if(typeof a.getPublicKeyAlgorithm=="function")try{l=a.getPublicKeyAlgorithm()}catch(h){ew("getPublicKeyAlgorithm()",h)}let c;if(typeof a.getPublicKey=="function")try{const h=a.getPublicKey();h!==null&&(c=xo(h))}catch(h){ew("getPublicKey()",h)}let f;if(typeof a.getAuthenticatorData=="function")try{f=xo(a.getAuthenticatorData())}catch(h){ew("getAuthenticatorData()",h)}return{id:o,rawId:xo(i),response:{attestationObject:xo(a.attestationObject),clientDataJSON:xo(a.clientDataJSON),transports:u,publicKeyAlgorithm:l,publicKey:c,authenticatorData:f},type:s,clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:mL(r.authenticatorAttachment)}}function ew(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}function Oce(e){return new TextDecoder("utf-8").decode(e)}function Ace(){const e=window.PublicKeyCredential;return e.isConditionalMediationAvailable===void 0?new Promise(t=>t(!1)):e.isConditionalMediationAvailable()}function $ce({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(hL(r)){if(n.rpId!==r)return new Qt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}async function pT(e,t=!1){var f,d;if(!Kf())throw new Error("WebAuthn is not supported in this browser");let n;((f=e.allowCredentials)==null?void 0:f.length)!==0&&(n=(d=e.allowCredentials)==null?void 0:d.map(dL));const r={...e,challenge:kx(e.challenge),allowCredentials:n},o={};if(t){if(!await Ace())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');o.mediation="conditional",r.allowCredentials=[]}o.publicKey=r,o.signal=pL.createNewAbortSignal();let i;try{i=await navigator.credentials.get(o)}catch(h){throw $ce({error:h,options:o})}if(!i)throw new Error("Authentication was not completed");const{id:a,rawId:s,response:u,type:l}=i;let c;return u.userHandle&&(c=Oce(u.userHandle)),{id:a,rawId:xo(s),response:{authenticatorData:xo(u.authenticatorData),clientDataJSON:xo(u.clientDataJSON),signature:xo(u.signature),userHandle:c},type:l,clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:mL(i.authenticatorAttachment)}}const Tce=()=>{var e;return(e=window.PublicKeyCredential)!=null&&e.isConditionalMediationAvailable?window.PublicKeyCredential.isConditionalMediationAvailable():new Promise(t=>t(!1))},Rce=()=>{const{toast:e}=Fr(),t=ln(),[n,r]=g.useState(!1),[o,i]=g.useState(!1),a=async u=>{const{data:{jwtToken:l}={}}=await Lt("/webauthn/login-complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});return l?(localStorage.setItem(Yn,l),t("/upsert")):e({variant:"destructive",title:"Something went wrong"})};if(g.useEffect(()=>{Kf()&&Tce().then(async u=>{if(r(u),i(!0),!!u)try{const{data:l}=await Lt("/webauthn/login");if(!l)return;const{signedChallenge:c,...f}=l,d=await pT(f,!0);await a({...d,signedChallenge:c})}catch(l){console.error(l),e({variant:"destructive",title:"Something went wrong"})}})},[]),!Kf()||!o||n)return null;const s=async()=>{try{const{data:u}=await Lt("/webauthn/login");if(!u)return e({variant:"destructive",title:"Something went wrong"});const{signedChallenge:l,...c}=u,f=await pT(c);await a({...f,signedChallenge:l})}catch(u){if(console.error(u),u.name==="NotAllowedError")return e({variant:"destructive",title:"Use settings to register passwordless"});e({variant:"destructive",title:"Something went wrong"})}};return C.jsx(ye,{onClick:s,type:"button",children:"Login without password"})},vL=()=>C.jsx("img",{alt:"google logo",className:"h-5 w-5",loading:"lazy",src:"https://www.svgrepo.com/show/475656/google-color.svg"}),gL=()=>C.jsxs("div",{className:"relative text-center uppercase",children:[C.jsx("div",{className:"absolute left-0 top-1/2 h-0.5 w-full rounded-full bg-[linear-gradient(to_right,_theme(colors.slate.400)_0%,_theme(colors.slate.400)_43%,_transparent_43%,_transparent_57%,_theme(colors.slate.400)_57%,_theme(colors.slate.400)_100%)] text-center uppercase"}),"or"]}),yL=(e="Wrong google account")=>{const[t,n]=IE(),{toast:r}=Fr();g.useEffect(()=>{t.has("error")&&(setTimeout(()=>r({variant:"destructive",title:e}),0),n({}))},[])},kce=()=>{const e=g.useRef(null),t=g.useRef(null),n=ln(),{toast:r}=Fr(),[o,i]=g.useState(!1);yL();const a=s=>{var c,f;if(s.preventDefault(),o)return;const u=(c=e.current)==null?void 0:c.value,l=(f=t.current)==null?void 0:f.value;!u||!l||(i(!0),Lt("auth/login",{method:"POST",body:JSON.stringify({email:u,password:l})}).then(({data:d})=>{if(d!=null&&d.jwtToken)return localStorage.setItem(Yn,d==null?void 0:d.jwtToken),n("/upsert");r({variant:"destructive",title:"Wrong credentials"})}).finally(()=>i(!1)))};return C.jsxs(zf,{onSubmit:a,children:[C.jsx(on,{ref:e,autoComplete:"username webauthn",name:"email",placeholder:"email",type:"email",required:!0}),C.jsx(on,{ref:t,autoComplete:"current-password webauthn",placeholder:"password",type:"password",required:!0}),C.jsx(Ye,{className:"text-accent-foreground text-end underline",to:"/auth/forgot",children:"Forgot password?"}),C.jsx(mh,{isLoading:o,type:"submit",children:"Login"}),C.jsx(Rce,{}),C.jsx(gL,{}),C.jsx(ye,{type:"button",children:C.jsxs(Ye,{className:"flex gap-2",to:"http://192.168.1.100:4000/auth/google",children:[C.jsx(vL,{}),"Login with google"]})}),C.jsxs("p",{className:"text-center",children:[C.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-200",children:"By continuing, you agree to Lingo Cards "}),C.jsx(Ye,{className:"whitespace-nowrap text-base font-bold underline",to:"/privacy-policy",children:"Privacy Policy"}),"."]}),C.jsxs("div",{className:"mt-10 flex justify-center gap-2",children:[C.jsx("p",{children:"Don't have an account?"}),C.jsx(Ye,{className:"text-accent-foreground underline",to:"/auth/register",children:"Sign up"})]}),C.jsx(ye,{type:"button",variant:"outline",asChild:!0,children:C.jsx(Ye,{onClick:()=>localStorage.removeItem(Yn),to:"/",children:"Skip login (limited features)"})})]})},Mce=()=>C.jsxs("div",{className:"flex w-full max-w-md flex-col gap-4",children:[C.jsx("h3",{className:"text-center text-lg",children:" Almost there! Please check your email to confirm your registration."}),C.jsx(ye,{type:"button",variant:"outline",asChild:!0,children:C.jsx(Ye,{to:"/auth/login",children:"To login"})})]}),Ice=()=>{const{toast:e}=Fr(),[t,n]=g.useState(!1),[r,o]=g.useState(!1);if(yL(),r)return C.jsx(Mce,{});const i=a=>{a.preventDefault(),n(!0);const s=a.currentTarget,u=s.elements.namedItem("email").value,l=s.elements.namedItem("password").value,c=s.elements.namedItem("username").value;!u||!l||Lt("auth/register",{method:"POST",body:JSON.stringify({email:u,password:l,username:c})}).then(({res:f})=>{if(n(!1),f.status===403)return e({variant:"destructive",title:"The email is already in use"});if(f.status>=400)return e({variant:"destructive",title:"Something went wrong"});o(!0)}).finally(()=>n(!1))};return C.jsxs(zf,{onSubmit:i,children:[C.jsx(on,{name:"username",placeholder:"Username"}),C.jsx(on,{autoComplete:"email",name:"email",placeholder:"Email",type:"email",required:!0}),C.jsx(on,{name:"password",placeholder:"Password",type:"password",required:!0}),C.jsx(mh,{isLoading:t,type:"submit",children:"Register"}),C.jsx(gL,{}),C.jsx(ye,{type:"button",children:C.jsxs(Ye,{className:"flex gap-2",to:"http://192.168.1.100:4000/auth/google",children:[C.jsx(vL,{}),"Register with google"]})}),C.jsx(ye,{type:"button",variant:"outline",asChild:!0,children:C.jsx(Ye,{onClick:()=>localStorage.removeItem(Yn),to:"/auth/login",children:"Back to login"})})]})},Dce=()=>{const{toast:e}=Fr(),[t,n]=g.useState(!1),[r]=IE(),o=ln(),i=a=>{a.preventDefault(),n(!0);const s=a.currentTarget.elements.namedItem("password").value,u=r.get("token");if(!u)return e({variant:"destructive",title:"No token in the query"});s&&Lt("auth/reset-password",{method:"POST",body:JSON.stringify({password:s,token:u})}).then(({res:l,data:c})=>{if(n(!1),l.status===401)return e({variant:"destructive",title:"Broken reset link"});if(l.status>=400)return e({variant:"destructive",title:"Something went wrong"});if(c!=null&&c.jwtToken)return localStorage.setItem(Yn,c==null?void 0:c.jwtToken),o("/")}).finally(()=>n(!1))};return C.jsxs(zf,{onSubmit:i,children:[C.jsx(on,{name:"password",placeholder:"Password",type:"password",required:!0}),C.jsx(mh,{isLoading:t,type:"submit",children:"Reset password"}),C.jsx(ye,{type:"button",variant:"outline",asChild:!0,children:C.jsx(Ye,{to:"/auth/login",children:"To login"})})]})},jce={element:C.jsx(fL,{}),children:[{path:"login",element:C.jsx(kce,{})},{path:"register",element:C.jsx(Ice,{})},{path:"forgot",element:C.jsx(_ce,{})},{path:"reset-password",element:C.jsx(Dce,{})}]},yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Hl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Mx(e){return"nodeType"in e}function In(e){var t,n;return e?Hl(e)?e:Mx(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ix(e){const{Document:t}=In(e);return e instanceof t}function vh(e){return Hl(e)?!1:e instanceof In(e).HTMLElement}function Nce(e){return e instanceof In(e).SVGElement}function ql(e){return e?Hl(e)?e.document:Mx(e)?Ix(e)?e:vh(e)?e.ownerDocument:document:document:document}const ta=yb?g.useLayoutEffect:g.useEffect;function Dx(e){const t=g.useRef(e);return ta(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Lce(){const e=g.useRef(null),t=g.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=g.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function jx(e,t){t===void 0&&(t=[e]);const n=g.useRef(e);return ta(()=>{n.current!==e&&(n.current=e)},t),n}function gh(e,t){const n=g.useRef();return g.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function K_(e){const t=Dx(e),n=g.useRef(null),r=g.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function H_(e){const t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}let tw={};function Nx(e,t){return g.useMemo(()=>{if(t)return t;const n=tw[e]==null?0:tw[e]+1;return tw[e]=n,e+"-"+n},[e,t])}function bL(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,a)=>{const s=Object.entries(a);for(const[u,l]of s){const c=i[u];c!=null&&(i[u]=c+e*l)}return i},{...t})}}const Hu=bL(1),sv=bL(-1);function Fce(e){return"clientX"in e&&"clientY"in e}function wL(e){if(!e)return!1;const{KeyboardEvent:t}=In(e.target);return t&&e instanceof t}function Bce(e){if(!e)return!1;const{TouchEvent:t}=In(e.target);return t&&e instanceof t}function q_(e){if(Bce(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Fce(e)?{x:e.clientX,y:e.clientY}:null}const mT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Uce(e){return e.matches(mT)?e:e.querySelector(mT)}const Vce={display:"none"};function Wce(e){let{id:t,value:n}=e;return He.createElement("div",{id:t,style:Vce},n)}const zce={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function Kce(e){let{id:t,announcement:n}=e;return He.createElement("div",{id:t,style:zce,role:"status","aria-live":"assertive","aria-atomic":!0},n)}function Hce(){const[e,t]=g.useState("");return{announce:g.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const _L=g.createContext(null);function bb(e){const t=g.useContext(_L);g.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function qce(){const[e]=g.useState(()=>new Set),t=g.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[g.useCallback(r=>{let{type:o,event:i}=r;e.forEach(a=>{var s;return(s=a[o])==null?void 0:s.call(a,i)})},[e]),t]}const Gce={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Yce={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Qce(e){let{announcements:t=Yce,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Gce}=e;const{announce:i,announcement:a}=Hce(),s=Nx("DndLiveRegion"),[u,l]=g.useState(!1);if(g.useEffect(()=>{l(!0)},[]),bb(g.useMemo(()=>({onDragStart(f){let{active:d}=f;i(t.onDragStart({active:d}))},onDragMove(f){let{active:d,over:h}=f;t.onDragMove&&i(t.onDragMove({active:d,over:h}))},onDragOver(f){let{active:d,over:h}=f;i(t.onDragOver({active:d,over:h}))},onDragEnd(f){let{active:d,over:h}=f;i(t.onDragEnd({active:d,over:h}))},onDragCancel(f){let{active:d,over:h}=f;i(t.onDragCancel({active:d,over:h}))}}),[i,t])),!u)return null;const c=He.createElement(He.Fragment,null,He.createElement(Wce,{id:r,value:o.draggable}),He.createElement(Kce,{id:s,announcement:a}));return n?Cn.createPortal(c,n):c}var Jt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Jt||(Jt={}));function uv(){}function vT(e,t){return g.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Xce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Nr=Object.freeze({x:0,y:0});function Jce(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Zce(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function efe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,s=i-n;if(r<o&&n<i){const u=t.width*t.height,l=e.width*e.height,c=a*s,f=c/(u+l-c);return Number(f.toFixed(4))}return 0}const tfe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:a}=i,s=n.get(a);if(s){const u=efe(s,t);u>0&&o.push({id:a,data:{droppableContainer:i,value:u}})}}return o.sort(Jce)};function nfe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function SL(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Nr}function rfe(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((a,s)=>({...a,top:a.top+e*s.y,bottom:a.bottom+e*s.y,left:a.left+e*s.x,right:a.right+e*s.x}),{...n})}}const ofe=rfe(1);function ife(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function afe(e,t,n){const r=ife(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:s}=r,u=e.left-a-(1-o)*parseFloat(n),l=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),c=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:c,height:f,top:l,right:u+c,bottom:l+f,left:u}}const sfe={ignoreTransform:!1};function yh(e,t){t===void 0&&(t=sfe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:l,transformOrigin:c}=In(e).getComputedStyle(e);l&&(n=afe(n,l,c))}const{top:r,left:o,width:i,height:a,bottom:s,right:u}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:u}}function gT(e){return yh(e,{ignoreTransform:!0})}function ufe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function lfe(e,t){return t===void 0&&(t=In(e).getComputedStyle(e)),t.position==="fixed"}function cfe(e,t){t===void 0&&(t=In(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function Lx(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Ix(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!vh(o)||Nce(o)||n.includes(o))return n;const i=In(e).getComputedStyle(o);return o!==e&&cfe(o,i)&&n.push(o),lfe(o,i)?n:r(o.parentNode)}return e?r(e):n}function EL(e){const[t]=Lx(e,1);return t??null}function nw(e){return!yb||!e?null:Hl(e)?e:Mx(e)?Ix(e)||e===ql(e).scrollingElement?window:vh(e)?e:null:null}function xL(e){return Hl(e)?e.scrollX:e.scrollLeft}function PL(e){return Hl(e)?e.scrollY:e.scrollTop}function G_(e){return{x:xL(e),y:PL(e)}}var Dt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Dt||(Dt={}));function CL(e){return!yb||!e?!1:e===document.scrollingElement}function OL(e){const t={x:0,y:0},n=CL(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:a,isRight:s,maxScroll:r,minScroll:t}}const ffe={x:.2,y:.2};function dfe(e,t,n,r,o){let{top:i,left:a,right:s,bottom:u}=n;r===void 0&&(r=10),o===void 0&&(o=ffe);const{isTop:l,isBottom:c,isLeft:f,isRight:d}=OL(e),h={x:0,y:0},m={x:0,y:0},p={height:t.height*o.y,width:t.width*o.x};return!l&&i<=t.top+p.height?(h.y=Dt.Backward,m.y=r*Math.abs((t.top+p.height-i)/p.height)):!c&&u>=t.bottom-p.height&&(h.y=Dt.Forward,m.y=r*Math.abs((t.bottom-p.height-u)/p.height)),!d&&s>=t.right-p.width?(h.x=Dt.Forward,m.x=r*Math.abs((t.right-p.width-s)/p.width)):!f&&a<=t.left+p.width&&(h.x=Dt.Backward,m.x=r*Math.abs((t.left+p.width-a)/p.width)),{direction:h,speed:m}}function hfe(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function AL(e){return e.reduce((t,n)=>Hu(t,G_(n)),Nr)}function pfe(e){return e.reduce((t,n)=>t+xL(n),0)}function mfe(e){return e.reduce((t,n)=>t+PL(n),0)}function vfe(e,t){if(t===void 0&&(t=yh),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);EL(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const gfe=[["x",["left","right"],pfe],["y",["top","bottom"],mfe]];class Fx{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Lx(n),o=AL(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,a,s]of gfe)for(const u of a)Object.defineProperty(this,u,{get:()=>{const l=s(r),c=o[i]-l;return this.rect[u]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class tf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function yfe(e){const{EventTarget:t}=In(e);return e instanceof t?e:ql(e)}function rw(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ir;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ir||(ir={}));function yT(e){e.preventDefault()}function bfe(e){e.stopPropagation()}var Ve;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Ve||(Ve={}));const $L={start:[Ve.Space,Ve.Enter],cancel:[Ve.Esc],end:[Ve.Space,Ve.Enter]},wfe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ve.Right:return{...n,x:n.x+25};case Ve.Left:return{...n,x:n.x-25};case Ve.Down:return{...n,y:n.y+25};case Ve.Up:return{...n,y:n.y-25}}};class TL{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new tf(ql(n)),this.windowListeners=new tf(In(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ir.Resize,this.handleCancel),this.windowListeners.add(ir.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ir.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&vfe(r),n(Nr)}handleKeyDown(t){if(wL(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=$L,coordinateGetter:a=wfe,scrollBehavior:s="smooth"}=o,{code:u}=t;if(i.end.includes(u)){this.handleEnd(t);return}if(i.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:l}=r.current,c=l?{x:l.left,y:l.top}:Nr;this.referenceCoordinates||(this.referenceCoordinates=c);const f=a(t,{active:n,context:r.current,currentCoordinates:c});if(f){const d=sv(f,c),h={x:0,y:0},{scrollableAncestors:m}=r.current;for(const p of m){const b=t.code,{isTop:v,isRight:y,isLeft:w,isBottom:_,maxScroll:S,minScroll:E}=OL(p),x=hfe(p),P={x:Math.min(b===Ve.Right?x.right-x.width/2:x.right,Math.max(b===Ve.Right?x.left:x.left+x.width/2,f.x)),y:Math.min(b===Ve.Down?x.bottom-x.height/2:x.bottom,Math.max(b===Ve.Down?x.top:x.top+x.height/2,f.y))},O=b===Ve.Right&&!y||b===Ve.Left&&!w,T=b===Ve.Down&&!_||b===Ve.Up&&!v;if(O&&P.x!==f.x){const R=p.scrollLeft+d.x,M=b===Ve.Right&&R<=S.x||b===Ve.Left&&R>=E.x;if(M&&!d.y){p.scrollTo({left:R,behavior:s});return}M?h.x=p.scrollLeft-R:h.x=b===Ve.Right?p.scrollLeft-S.x:p.scrollLeft-E.x,h.x&&p.scrollBy({left:-h.x,behavior:s});break}else if(T&&P.y!==f.y){const R=p.scrollTop+d.y,M=b===Ve.Down&&R<=S.y||b===Ve.Up&&R>=E.y;if(M&&!d.x){p.scrollTo({top:R,behavior:s});return}M?h.y=p.scrollTop-R:h.y=b===Ve.Down?p.scrollTop-S.y:p.scrollTop-E.y,h.y&&p.scrollBy({top:-h.y,behavior:s});break}}this.handleMove(t,Hu(sv(f,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}TL.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=$L,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function bT(e){return!!(e&&"distance"in e)}function wT(e){return!!(e&&"delay"in e)}class Bx{constructor(t,n,r){var o;r===void 0&&(r=yfe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:a}=i;this.props=t,this.events=n,this.document=ql(a),this.documentListeners=new tf(this.document),this.listeners=new tf(r),this.windowListeners=new tf(In(a)),this.initialCoordinates=(o=q_(i))!=null?o:Nr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(ir.Resize,this.handleCancel),this.windowListeners.add(ir.DragStart,yT),this.windowListeners.add(ir.VisibilityChange,this.handleCancel),this.windowListeners.add(ir.ContextMenu,yT),this.documentListeners.add(ir.Keydown,this.handleKeydown),n){if(bT(n))return;if(wT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ir.Click,bfe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ir.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:a,options:{activationConstraint:s}}=i;if(!o)return;const u=(n=q_(t))!=null?n:Nr,l=sv(o,u);if(!r&&s){if(wT(s))return rw(l,s.tolerance)?this.handleCancel():void 0;if(bT(s))return s.tolerance!=null&&rw(l,s.tolerance)?this.handleCancel():rw(l,s.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),a(u)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Ve.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const _fe={move:{name:"pointermove"},end:{name:"pointerup"}};class RL extends Bx{constructor(t){const{event:n}=t,r=ql(n.target);super(t,_fe,r)}}RL.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Sfe={move:{name:"mousemove"},end:{name:"mouseup"}};var Y_;(function(e){e[e.RightClick=2]="RightClick"})(Y_||(Y_={}));class kL extends Bx{constructor(t){super(t,Sfe,ql(t.event.target))}}kL.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Y_.RightClick?!1:(r==null||r({event:n}),!0)}}];const ow={move:{name:"touchmove"},end:{name:"touchend"}};class ML extends Bx{constructor(t){super(t,ow)}static setup(){return window.addEventListener(ow.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ow.move.name,t)};function t(){}}}ML.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var nf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(nf||(nf={}));var lv;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(lv||(lv={}));function Efe(e){let{acceleration:t,activator:n=nf.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:a=5,order:s=lv.TreeOrder,pointerCoordinates:u,scrollableAncestors:l,scrollableAncestorRects:c,delta:f,threshold:d}=e;const h=Pfe({delta:f,disabled:!i}),[m,p]=Lce(),b=g.useRef({x:0,y:0}),v=g.useRef({x:0,y:0}),y=g.useMemo(()=>{switch(n){case nf.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case nf.DraggableRect:return o}},[n,o,u]),w=g.useRef(null),_=g.useCallback(()=>{const E=w.current;if(!E)return;const x=b.current.x*v.current.x,P=b.current.y*v.current.y;E.scrollBy(x,P)},[]),S=g.useMemo(()=>s===lv.TreeOrder?[...l].reverse():l,[s,l]);g.useEffect(()=>{if(!i||!l.length||!y){p();return}for(const E of S){if((r==null?void 0:r(E))===!1)continue;const x=l.indexOf(E),P=c[x];if(!P)continue;const{direction:O,speed:T}=dfe(E,P,y,t,d);for(const R of["x","y"])h[R][O[R]]||(T[R]=0,O[R]=0);if(T.x>0||T.y>0){p(),w.current=E,m(_,a),b.current=T,v.current=O;return}}b.current={x:0,y:0},v.current={x:0,y:0},p()},[t,_,r,p,i,a,JSON.stringify(y),JSON.stringify(h),m,l,S,c,JSON.stringify(d)])}const xfe={x:{[Dt.Backward]:!1,[Dt.Forward]:!1},y:{[Dt.Backward]:!1,[Dt.Forward]:!1}};function Pfe(e){let{delta:t,disabled:n}=e;const r=H_(t);return gh(o=>{if(n||!r||!o)return xfe;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Dt.Backward]:o.x[Dt.Backward]||i.x===-1,[Dt.Forward]:o.x[Dt.Forward]||i.x===1},y:{[Dt.Backward]:o.y[Dt.Backward]||i.y===-1,[Dt.Forward]:o.y[Dt.Forward]||i.y===1}}},[n,t,r])}function Cfe(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return gh(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function Ofe(e,t){return g.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...i]},[]),[e,t])}var Hf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Hf||(Hf={}));var Q_;(function(e){e.Optimized="optimized"})(Q_||(Q_={}));const _T=new Map;function Afe(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,a]=g.useState(null),{frequency:s,measure:u,strategy:l}=o,c=g.useRef(e),f=b(),d=jx(f),h=g.useCallback(function(v){v===void 0&&(v=[]),!d.current&&a(y=>y===null?v:y.concat(v.filter(w=>!y.includes(w))))},[d]),m=g.useRef(null),p=gh(v=>{if(f&&!n)return _T;if(!v||v===_T||c.current!==e||i!=null){const y=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const _=w.node.current,S=_?new Fx(u(_),_):null;w.rect.current=S,S&&y.set(w.id,S)}return y}return v},[e,i,n,f,u]);return g.useEffect(()=>{c.current=e},[e]),g.useEffect(()=>{f||h()},[n,f]),g.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),g.useEffect(()=>{f||typeof s!="number"||m.current!==null||(m.current=setTimeout(()=>{h(),m.current=null},s))},[s,f,h,...r]),{droppableRects:p,measureDroppableContainers:h,measuringScheduled:i!=null};function b(){switch(l){case Hf.Always:return!1;case Hf.BeforeDragging:return n;default:return!n}}}function IL(e,t){return gh(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function $fe(e,t){return IL(e,t)}function Tfe(e){let{callback:t,disabled:n}=e;const r=Dx(t),o=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return g.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Ux(e){let{callback:t,disabled:n}=e;const r=Dx(t),o=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return g.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Rfe(e){return new Fx(yh(e),e)}function ST(e,t,n){t===void 0&&(t=Rfe);const[r,o]=g.useReducer(s,null),i=Tfe({callback(u){if(e)for(const l of u){const{type:c,target:f}=l;if(c==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),a=Ux({callback:o});return ta(()=>{o(),e?(a==null||a.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[e]),r;function s(u){if(!e)return null;if(e.isConnected===!1){var l;return(l=u??n)!=null?l:null}const c=t(e);return JSON.stringify(u)===JSON.stringify(c)?u:c}}function kfe(e){const t=IL(e);return SL(e,t)}const ET=[];function Mfe(e){const t=g.useRef(e),n=gh(r=>e?r&&r!==ET&&e&&t.current&&e.parentNode===t.current.parentNode?r:Lx(e):ET,[e]);return g.useEffect(()=>{t.current=e},[e]),n}function Ife(e){const[t,n]=g.useState(null),r=g.useRef(e),o=g.useCallback(i=>{const a=nw(i.target);a&&n(s=>s?(s.set(a,G_(a)),new Map(s)):null)},[]);return g.useEffect(()=>{const i=r.current;if(e!==i){a(i);const s=e.map(u=>{const l=nw(u);return l?(l.addEventListener("scroll",o,{passive:!0}),[l,G_(l)]):null}).filter(u=>u!=null);n(s.length?new Map(s):null),r.current=e}return()=>{a(e),a(i)};function a(s){s.forEach(u=>{const l=nw(u);l==null||l.removeEventListener("scroll",o)})}},[o,e]),g.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,a)=>Hu(i,a),Nr):AL(e):Nr,[e,t])}function xT(e,t){t===void 0&&(t=[]);const n=g.useRef(null);return g.useEffect(()=>{n.current=null},t),g.useEffect(()=>{const r=e!==Nr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?sv(e,n.current):Nr}function Dfe(e){g.useEffect(()=>{if(!yb)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function jfe(e,t){return g.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=a=>{i(a,t)},n},{}),[e,t])}function DL(e){return g.useMemo(()=>e?ufe(e):null,[e])}const iw=[];function Nfe(e,t){t===void 0&&(t=yh);const[n]=e,r=DL(n?In(n):null),[o,i]=g.useReducer(s,iw),a=Ux({callback:i});return e.length>0&&o===iw&&i(),ta(()=>{e.length?e.forEach(u=>a==null?void 0:a.observe(u)):(a==null||a.disconnect(),i())},[e]),o;function s(){return e.length?e.map(u=>CL(u)?r:new Fx(t(u),u)):iw}}function Lfe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return vh(t)?t:e}function Ffe(e){let{measure:t}=e;const[n,r]=g.useState(null),o=g.useCallback(l=>{for(const{target:c}of l)if(vh(c)){r(f=>{const d=t(c);return f?{...f,width:d.width,height:d.height}:d});break}},[t]),i=Ux({callback:o}),a=g.useCallback(l=>{const c=Lfe(l);i==null||i.disconnect(),c&&(i==null||i.observe(c)),r(c?t(c):null)},[t,i]),[s,u]=K_(a);return g.useMemo(()=>({nodeRef:s,rect:n,setRef:u}),[n,s,u])}const Bfe=[{sensor:RL,options:{}},{sensor:TL,options:{}}],Ufe={current:{}},rm={draggable:{measure:gT},droppable:{measure:gT,strategy:Hf.WhileDragging,frequency:Q_.Optimized},dragOverlay:{measure:yh}};class rf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Vfe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new rf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:uv},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rm,measureDroppableContainers:uv,windowRect:null,measuringScheduled:!1},Wfe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:uv,draggableNodes:new Map,over:null,measureDroppableContainers:uv},Vx=g.createContext(Wfe),zfe=g.createContext(Vfe);function Kfe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new rf}}}function Hfe(e,t){switch(t.type){case Jt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Jt.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Jt.DragEnd:case Jt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Jt.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new rf(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Jt.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new rf(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case Jt.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new rf(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function qfe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=g.useContext(Vx),i=H_(r),a=H_(n==null?void 0:n.id);return g.useEffect(()=>{if(!t&&!r&&i&&a!=null){if(!wL(i)||document.activeElement===i.target)return;const s=o.get(a);if(!s)return;const{activatorNode:u,node:l}=s;if(!u.current&&!l.current)return;requestAnimationFrame(()=>{for(const c of[u.current,l.current]){if(!c)continue;const f=Uce(c);if(f){f.focus();break}}})}},[r,t,o,a,i]),null}function Gfe(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function Yfe(e){return g.useMemo(()=>({draggable:{...rm.draggable,...e==null?void 0:e.draggable},droppable:{...rm.droppable,...e==null?void 0:e.droppable},dragOverlay:{...rm.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Qfe(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=g.useRef(!1),{x:a,y:s}=typeof o=="boolean"?{x:o,y:o}:o;ta(()=>{if(!a&&!s||!t){i.current=!1;return}if(i.current||!r)return;const l=t==null?void 0:t.node.current;if(!l||l.isConnected===!1)return;const c=n(l),f=SL(c,r);if(a||(f.x=0),s||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const d=EL(l);d&&d.scrollBy({top:f.y,left:f.x})}},[t,a,s,r,n])}const jL=g.createContext({...Nr,scaleX:1,scaleY:1});var wi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(wi||(wi={}));const NL=g.memo(function(t){var n,r,o,i;let{id:a,accessibility:s,autoScroll:u=!0,children:l,sensors:c=Bfe,collisionDetection:f=tfe,measuring:d,modifiers:h,...m}=t;const p=g.useReducer(Hfe,void 0,Kfe),[b,v]=p,[y,w]=qce(),[_,S]=g.useState(wi.Uninitialized),E=_===wi.Initialized,{draggable:{active:x,nodes:P,translate:O},droppable:{containers:T}}=b,R=x?P.get(x):null,M=g.useRef({initial:null,translated:null}),U=g.useMemo(()=>{var Z;return x!=null?{id:x,data:(Z=R==null?void 0:R.data)!=null?Z:Ufe,rect:M}:null},[x,R]),$=g.useRef(null),[L,N]=g.useState(null),[V,I]=g.useState(null),A=jx(m,Object.values(m)),D=Nx("DndDescribedBy",a),F=g.useMemo(()=>T.getEnabled(),[T]),W=Yfe(d),{droppableRects:H,measureDroppableContainers:se,measuringScheduled:_e}=Afe(F,{dragging:E,dependencies:[O.x,O.y],config:W.droppable}),te=Cfe(P,x),de=g.useMemo(()=>V?q_(V):null,[V]),wt=Y(),ht=$fe(te,W.draggable.measure);Qfe({activeNode:x?P.get(x):null,config:wt.layoutShiftCompensation,initialRect:ht,measure:W.draggable.measure});const Be=ST(te,W.draggable.measure,ht),Ue=ST(te?te.parentElement:null),_t=g.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),jn=T.getNodeFor((n=_t.current.over)==null?void 0:n.id),qt=Ffe({measure:W.dragOverlay.measure}),q=(r=qt.nodeRef.current)!=null?r:te,ne=E?(o=qt.rect)!=null?o:Be:null,je=!!(qt.nodeRef.current&&qt.rect),Se=kfe(je?null:Be),me=DL(q?In(q):null),be=Mfe(E?jn??te:null),ke=Nfe(be),St=Gfe(h,{transform:{x:O.x-Se.x,y:O.y-Se.y,scaleX:1,scaleY:1},activatorEvent:V,active:U,activeNodeRect:Be,containerNodeRect:Ue,draggingNodeRect:ne,over:_t.current.over,overlayNodeRect:qt.rect,scrollableAncestors:be,scrollableAncestorRects:ke,windowRect:me}),Et=de?Hu(de,O):null,gr=Ife(be),ai=xT(gr),si=xT(gr,[Be]),zr=Hu(St,ai),yr=ne?ofe(ne,St):null,tr=U&&yr?f({active:U,collisionRect:yr,droppableRects:H,droppableContainers:F,pointerCoordinates:Et}):null,Sa=Zce(tr,"id"),[_n,Js]=g.useState(null),Zs=je?St:Hu(St,si),ec=nfe(Zs,(i=_n==null?void 0:_n.rect)!=null?i:null,Be),Ea=g.useCallback((Z,re)=>{let{sensor:ae,options:oe}=re;if($.current==null)return;const Q=P.get($.current);if(!Q)return;const ve=Z.nativeEvent,Ee=new ae({active:$.current,activeNode:Q,event:ve,options:oe,context:_t,onStart(ge){const Me=$.current;if(Me==null)return;const cn=P.get(Me);if(!cn)return;const{onDragStart:Sn}=A.current,nr={active:{id:Me,data:cn.data,rect:M}};Cn.unstable_batchedUpdates(()=>{Sn==null||Sn(nr),S(wi.Initializing),v({type:Jt.DragStart,initialCoordinates:ge,active:Me}),y({type:"onDragStart",event:nr})})},onMove(ge){v({type:Jt.DragMove,coordinates:ge})},onEnd:pe(Jt.DragEnd),onCancel:pe(Jt.DragCancel)});Cn.unstable_batchedUpdates(()=>{N(Ee),I(Z.nativeEvent)});function pe(ge){return async function(){const{active:cn,collisions:Sn,over:nr,scrollAdjustedTranslate:ui}=_t.current;let Ft=null;if(cn&&ui){const{cancelDrop:Bt}=A.current;Ft={activatorEvent:ve,active:cn,collisions:Sn,delta:ui,over:nr},ge===Jt.DragEnd&&typeof Bt=="function"&&await Promise.resolve(Bt(Ft))&&(ge=Jt.DragCancel)}$.current=null,Cn.unstable_batchedUpdates(()=>{v({type:ge}),S(wi.Uninitialized),Js(null),N(null),I(null);const Bt=ge===Jt.DragEnd?"onDragEnd":"onDragCancel";if(Ft){const Kr=A.current[Bt];Kr==null||Kr(Ft),y({type:Bt,event:Ft})}})}}},[P]),tc=g.useCallback((Z,re)=>(ae,oe)=>{const Q=ae.nativeEvent,ve=P.get(oe);if($.current!==null||!ve||Q.dndKit||Q.defaultPrevented)return;const Ee={active:ve};Z(ae,re.options,Ee)===!0&&(Q.dndKit={capturedBy:re.sensor},$.current=oe,Ea(ae,re))},[P,Ea]),j=Ofe(c,tc);Dfe(c),ta(()=>{Be&&_===wi.Initializing&&S(wi.Initialized)},[Be,_]),g.useEffect(()=>{const{onDragMove:Z}=A.current,{active:re,activatorEvent:ae,collisions:oe,over:Q}=_t.current;if(!re||!ae)return;const ve={active:re,activatorEvent:ae,collisions:oe,delta:{x:zr.x,y:zr.y},over:Q};Cn.unstable_batchedUpdates(()=>{Z==null||Z(ve),y({type:"onDragMove",event:ve})})},[zr.x,zr.y]),g.useEffect(()=>{const{active:Z,activatorEvent:re,collisions:ae,droppableContainers:oe,scrollAdjustedTranslate:Q}=_t.current;if(!Z||$.current==null||!re||!Q)return;const{onDragOver:ve}=A.current,Ee=oe.get(Sa),pe=Ee&&Ee.rect.current?{id:Ee.id,rect:Ee.rect.current,data:Ee.data,disabled:Ee.disabled}:null,ge={active:Z,activatorEvent:re,collisions:ae,delta:{x:Q.x,y:Q.y},over:pe};Cn.unstable_batchedUpdates(()=>{Js(pe),ve==null||ve(ge),y({type:"onDragOver",event:ge})})},[Sa]),ta(()=>{_t.current={activatorEvent:V,active:U,activeNode:te,collisionRect:yr,collisions:tr,droppableRects:H,draggableNodes:P,draggingNode:q,draggingNodeRect:ne,droppableContainers:T,over:_n,scrollableAncestors:be,scrollAdjustedTranslate:zr},M.current={initial:ne,translated:yr}},[U,te,tr,yr,P,q,ne,H,T,_n,be,zr]),Efe({...wt,delta:O,draggingRect:yr,pointerCoordinates:Et,scrollableAncestors:be,scrollableAncestorRects:ke});const B=g.useMemo(()=>({active:U,activeNode:te,activeNodeRect:Be,activatorEvent:V,collisions:tr,containerNodeRect:Ue,dragOverlay:qt,draggableNodes:P,droppableContainers:T,droppableRects:H,over:_n,measureDroppableContainers:se,scrollableAncestors:be,scrollableAncestorRects:ke,measuringConfiguration:W,measuringScheduled:_e,windowRect:me}),[U,te,Be,V,tr,Ue,qt,P,T,H,_n,se,be,ke,W,_e,me]),z=g.useMemo(()=>({activatorEvent:V,activators:j,active:U,activeNodeRect:Be,ariaDescribedById:{draggable:D},dispatch:v,draggableNodes:P,over:_n,measureDroppableContainers:se}),[V,j,U,Be,v,D,P,_n,se]);return He.createElement(_L.Provider,{value:w},He.createElement(Vx.Provider,{value:z},He.createElement(zfe.Provider,{value:B},He.createElement(jL.Provider,{value:ec},l)),He.createElement(qfe,{disabled:(s==null?void 0:s.restoreFocus)===!1})),He.createElement(Qce,{...s,hiddenTextDescribedById:D}));function Y(){const Z=(L==null?void 0:L.autoScrollEnabled)===!1,re=typeof u=="object"?u.enabled===!1:u===!1,ae=E&&!Z&&!re;return typeof u=="object"?{...u,enabled:ae}:{enabled:ae}}}),Xfe=g.createContext(null),PT="button",Jfe="Droppable";function LL(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=Nx(Jfe),{activators:a,activatorEvent:s,active:u,activeNodeRect:l,ariaDescribedById:c,draggableNodes:f,over:d}=g.useContext(Vx),{role:h=PT,roleDescription:m="draggable",tabIndex:p=0}=o??{},b=(u==null?void 0:u.id)===t,v=g.useContext(b?jL:Xfe),[y,w]=K_(),[_,S]=K_(),E=jfe(a,t),x=jx(n);ta(()=>(f.set(t,{id:t,key:i,node:y,activatorNode:_,data:x}),()=>{const O=f.get(t);O&&O.key===i&&f.delete(t)}),[f,t]);const P=g.useMemo(()=>({role:h,tabIndex:p,"aria-disabled":r,"aria-pressed":b&&h===PT?!0:void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[r,h,p,b,m,c.draggable]);return{active:u,activatorEvent:s,activeNodeRect:l,attributes:P,isDragging:b,listeners:r?void 0:E,node:y,over:d,setNodeRef:w,setActivatorNodeRef:S,transform:v}}const Zfe=(e,t)=>e.replace(new RegExp(`(${t.join("|")})`,"gi"),'<strong style="font-weight: 900">$1</strong>'),FL=g.forwardRef(({front:e,back:t,examples:n,className:r,onClick:o,innerContainerClassName:i,pronunciation:a,...s},u)=>{const[l,c]=g.useState(!0);return C.jsx("article",{ref:u,className:Oe("group mx-auto h-96 w-[90vw] max-w-md [perspective:1000px] max-h-[60vh]",r),onClick:f=>{c(!l),o==null||o(f)},...s,children:C.jsxs("div",{className:Oe("relative h-full w-full rounded-xl border border-slate-100 dark:border-slate-700 transition-all duration-1000 [transform-style:preserve-3d]",l||"[transform:rotateY(180deg)]",i),children:[C.jsx("h3",{className:"absolute inset-0 flex h-full w-full items-center justify-center rounded-xl bg-white p-4 text-3xl font-medium [backface-visibility:hidden] [overflow-wrap:anywhere] dark:bg-slate-800",children:e}),C.jsx("div",{className:"text-slate absolute inset-0 h-full w-full rounded-xl bg-white p-2 text-center [backface-visibility:hidden] [transform:rotateY(180deg)] dark:border-slate-700 dark:bg-slate-800",children:C.jsxs("div",{className:"flex min-h-full flex-col items-center justify-center gap-4",children:[C.jsxs("div",{children:[C.jsx("h3",{className:"break-all text-3xl font-medium",children:t}),C.jsx("p",{className:"break-all text-base",children:a})]}),n&&C.jsx("p",{dangerouslySetInnerHTML:{__html:Zfe(n,[t,e])},className:"text-zink-700 px-4 text-left indent-4 text-base"})]})})]})})}),X_=20,qf=e=>e>0,Wx=e=>Math.abs(e)<=X_;var ede={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tde=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wn=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:s,...u},l)=>g.createElement("svg",{ref:l,...ede,width:o,height:o,stroke:r,strokeWidth:a?Number(i)*24/Number(o):i,className:`lucide lucide-${tde(e)}`,...u},[...t.map(([c,f])=>g.createElement(c,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},nde=wn("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),BL=wn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),rde=wn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ode=wn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ide=wn("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]),ade=wn("FileDiff",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"M9 10h6",key:"9gxzsh"}],["path",{d:"M9 17h6",key:"r8uit2"}]]),sde=wn("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),ude=wn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),lde=wn("PlusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),cde=wn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fde=wn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dde=wn("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),hde=wn("Speech",[["path",{d:"M8.8 20v-4.1l1.9.2a2.3 2.3 0 0 0 2.164-2.1V8.3A5.37 5.37 0 0 0 2 8.25c0 2.8.656 3.054 1 4.55a5.77 5.77 0 0 1 .029 2.758L2 20",key:"11atix"}],["path",{d:"M19.8 17.8a7.5 7.5 0 0 0 .003-10.603",key:"yol142"}],["path",{d:"M17 15a3.5 3.5 0 0 0-.025-4.975",key:"ssbmkc"}]]),zx=wn("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),pde=wn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CT=e=>speechSynthesis.getVoices().find(t=>t.lang.startsWith(e)),mde=e=>{const[t,n]=g.useState(()=>CT(e));return g.useEffect(()=>{const r=()=>n(CT(e));return speechSynthesis.addEventListener("voiceschanged",r),()=>speechSynthesis.removeEventListener("voiceschanged",r)},[e]),t},vde=({activeCard:e,settings:t,onChangeCardsFront:n,onDelete:r})=>{const o=mde(t.learnLanguage.value),i=()=>{if(!o)return;const a=new SpeechSynthesisUtterance(e.learnText);a.voice=o,a.pitch=1,a.rate=1,speechSynthesis.speak(a)};return C.jsxs("div",{className:"flex justify-between gap-2",children:[C.jsx("div",{className:"flex-1"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx(ye,{"aria-label":"reverse front side text",onClick:()=>t.patch({cardsFront:t.cardsFront==="learn"?"native":"learn"}).then(n),variant:"outline",children:C.jsx(nde,{})}),o&&C.jsx(ye,{"aria-label":"pronounce the learn text",onClick:i,variant:"outline",children:C.jsx(hde,{})})]}),C.jsx("div",{className:"flex-1 text-right",children:C.jsx(ye,{"aria-label":"delete active card",className:"text-red-800 hover:text-red-600",onClick:()=>e.remove().then(r),variant:"outline",children:C.jsx(zx,{})})})]})},gde=({className:e,id:t="draggable",innerContainerClassName:n,...r})=>{const{attributes:o,listeners:i,setNodeRef:a,transform:s,isDragging:u}=LL({id:t}),l=s?{transform:`translate3d(${s.x}px, ${s.y}px, 0)`}:void 0,c=u&&s&&!Wx(s.x);return C.jsx(FL,{className:jt("touch-manipulation",e),innerContainerClassName:jt("border",n,{"border-green-200 dark:border-green-900 shadow-green-700/50":c&&qf(s.x),"border-red-200 dark:border-red-900 shadow-red-700/50":c&&!qf(s.x)}),...r,ref:a,style:l,...i,...o})},yde=({onRepeat:e,onReviewUnknown:t})=>C.jsxs("div",{className:"flex h-full items-center justify-center gap-4 overflow-hidden",children:[C.jsx(ye,{onClick:e,children:"Repeat Stack"}),C.jsx(ye,{onClick:t,children:"Review Unknown"})]}),bde=({guessedNumber:e,notGuessedNumber:t,className:n,activeCardNumber:r,cardsLength:o})=>{const[i,a]=g.useState(!1),[s,u]=g.useState(!1),l=()=>{a(!1),u(!1)};return bb({onDragMove(c){if(Wx(c.delta.x)){a(!1),u(!1);return}return qf(c.delta.x)?(a(!0),u(!1)):(u(!0),a(!1))},onDragEnd(){return l()}}),C.jsxs("section",{className:Oe("relative flex justify-between w-full px-2 text-lg",n),children:[C.jsx("p",{className:jt("text-red-700 transition-transform",s&&"scale-150",t||"invisible"),children:t}),C.jsx("p",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:`${r} / ${o}`}),C.jsx("p",{className:jt("text-green-700 transition-transform",i&&"scale-150",e||"invisible"),children:e})]})},OT=(e,t)=>({front:t==="learn"?e.learnText:e.nativeText,back:t==="learn"?e.nativeText:e.learnText}),wde=({cards:e,settings:t,fadingDurationClass:n="duration-500"})=>{const[r,o]=g.useState(()=>KA(e)),[i,a]=g.useState(r.length-1),[s,u]=g.useState([]),[l,c]=g.useState(!1),f=ln(),d=p=>{if(qf(p)||u([...s,r[i]]),!i&&!s.length&&qf(p))return f("/cards/finish");a(v=>v-1),c(!1)};bb({onDragEnd(p){var v;if(Wx(p.delta.x))return;const b=(v=n.match(/duration-(\d+)/))==null?void 0:v[1];setTimeout(()=>d(p.delta.x),b?+b:500),c(!0)}});const h=r[i],m=p=>{const b=KA(p);o(b),a(b.length-1),u([])};return h?C.jsxs("div",{className:"relative flex h-full flex-col justify-between overflow-hidden",children:[C.jsx(bde,{activeCardNumber:r.length-i,cardsLength:r.length,guessedNumber:r.length-i-s.length-1,notGuessedNumber:s.length}),C.jsx("div",{className:"relative mx-auto",children:r.slice(0,i+1).map((p,b)=>b===i?C.jsx("div",{className:jt(b%2?"translate-x-1 translate-y-1":"-translate-x-1 -translate-y-1"),children:C.jsx(gde,{className:jt(l&&"scale-0 opacity-0 transition",l&&n),examples:p.examples,id:p.id,innerContainerClassName:"shadow-lg",pronunciation:p.pronunciation,...OT(p,t.cardsFront)})},p.id):C.jsx(FL,{className:jt("absolute",b%2?"translate-x-1 translate-y-1":"-translate-x-1 -translate-y-1"),id:p.id,innerContainerClassName:jt(b===i-1&&"shadow-lg"),...OT(p,t.cardsFront)},p.id))}),C.jsx(vde,{activeCard:h,onChangeCardsFront:()=>m(e),onDelete:()=>m(e.filter(p=>p.id!==h.id)),settings:t})]}):C.jsx(yde,{onRepeat:()=>m(e),onReviewUnknown:()=>m(s)})},_de=()=>{const{result:e,isFetching:t}=Mr.useRxData("cards",i=>i.find({})),{result:[n],isFetching:r}=Mr.useRxData("settings",i=>i.find({})),o=Xce(vT(ML,{activationConstraint:{distance:X_}}),vT(kL,{activationConstraint:{distance:X_}}));return t||r||!n?null:e.length?C.jsx(NL,{sensors:o,children:C.jsx(wde,{cards:e,settings:n})}):C.jsx("div",{className:"relative flex h-full items-center justify-center overflow-hidden",children:C.jsx(ye,{asChild:!0,children:C.jsx(Ye,{to:"/upsert",children:"Add new cards"})})})},Sde=()=>C.jsx("main",{className:"flex h-full w-full items-center justify-center",children:C.jsx(ye,{asChild:!0,children:C.jsx(Ye,{to:"/cards",children:"Repeat Stack"})})}),Ede=()=>{const e=ln(),n=ha().key==="default";return C.jsxs("div",{className:"fixed mx-auto h-full max-w-2xl overflow-auto p-4",children:[C.jsx("h1",{className:"mb-4 text-3xl font-bold",children:"Lingo-Cards Privacy Policy"}),C.jsx("p",{children:"Welcome to Lingo-Cards! This Privacy Policy outlines how we collect, use, and protect your data when you use our services."}),C.jsxs("div",{className:"mt-4",children:[C.jsx("h2",{className:"mb-2 text-xl font-bold",children:"1. Information We Collect"}),C.jsx("p",{children:"Lingo-Cards uses the following information from your Google account:"}),C.jsxs("ul",{className:"list-disc pl-5",children:[C.jsx("li",{children:"Email: Used for authentication purposes."}),C.jsx("li",{children:"Given Name and Family Name: Concatenated to create a username."})]})]}),C.jsxs("div",{className:"mt-4",children:[C.jsx("h2",{className:"mb-2 text-xl font-bold",children:"2. How We Use Your Information"}),C.jsx("p",{children:"We use the collected information to:"}),C.jsxs("ul",{className:"list-disc pl-5",children:[C.jsx("li",{children:"Authenticate your identity using your Google email."}),C.jsx("li",{children:"Create a personalized username for your account."}),C.jsx("li",{children:"Include the username in email templates for personalized messages."})]})]}),C.jsxs("div",{className:"mt-4",children:[C.jsx("h2",{className:"mb-2 text-xl font-bold",children:"3. Data Security"}),C.jsx("p",{children:"We take the security of your data seriously. We implement measures to protect your information from unauthorized access or disclosure."})]}),C.jsxs("div",{className:"mt-4",children:[C.jsx("h2",{className:"mb-2 text-xl font-bold",children:"4. Your Choices"}),C.jsx("p",{children:"You can choose not to provide certain information, but this may limit your access to certain features of Lingo-Cards."})]}),C.jsxs("div",{className:"mt-4",children:[C.jsx("h2",{className:"mb-2 text-xl font-bold",children:"5. Third-Party Access"}),C.jsx("p",{children:"We do not share your data with third parties without your consent, except as required by law."})]}),C.jsxs("div",{className:"mt-4",children:[C.jsx("h2",{className:"mb-2 text-xl font-bold",children:"6. Updates to This Policy"}),C.jsx("p",{children:"This Privacy Policy may be updated periodically. Please review it occasionally for any changes."})]}),C.jsxs("div",{className:"mt-4",children:[C.jsx("h2",{className:"mb-2 text-xl font-bold",children:"7. Contact Us"}),C.jsxs("p",{children:["If you have any questions or concerns about this Privacy Policy, please contact us at"," ",C.jsx("a",{className:"text-blue-500",href:"mailto:lingo-cards-ar@gmail.com",children:"lingo-cards-ar@gmail.com"}),"."]}),C.jsx("p",{className:"mt-2",children:"Last Updated: 1 February 2024"})]}),C.jsx("div",{className:"mt-2 flex justify-center gap-2",children:C.jsxs(ye,{className:"flex w-36 items-center gap-1",onClick:()=>e(n?"/auth/login":-1),children:[!n&&C.jsx(ode,{}),n?"To login page":"Back"]})})]})},xde=LS.useId||(()=>{});let Pde=0;function UL(e){const[t,n]=g.useState(xde());return Hi(()=>{e||n(r=>r??String(Pde++))},[e]),e||(t?`radix-${t}`:"")}const aw="focusScope.autoFocusOnMount",sw="focusScope.autoFocusOnUnmount",AT={bubbles:!1,cancelable:!0},Cde=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[s,u]=g.useState(null),l=hr(o),c=hr(i),f=g.useRef(null),d=Rn(t,p=>u(p)),h=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(E){if(h.paused||!s)return;const x=E.target;s.contains(x)?f.current=x:hi(f.current,{select:!0})},w=function(E){if(h.paused||!s)return;const x=E.relatedTarget;x!==null&&(s.contains(x)||hi(f.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&hi(s)};var p=y,b=w,v=_;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const S=new MutationObserver(_);return s&&S.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),S.disconnect()}}},[r,s,h.paused]),g.useEffect(()=>{if(s){TT.add(h);const p=document.activeElement;if(!s.contains(p)){const v=new CustomEvent(aw,AT);s.addEventListener(aw,l),s.dispatchEvent(v),v.defaultPrevented||(Ode(kde(VL(s)),{select:!0}),document.activeElement===p&&hi(s))}return()=>{s.removeEventListener(aw,l),setTimeout(()=>{const v=new CustomEvent(sw,AT);s.addEventListener(sw,c),s.dispatchEvent(v),v.defaultPrevented||hi(p??document.body,{select:!0}),s.removeEventListener(sw,c),TT.remove(h)},0)}}},[s,l,c,h]);const m=g.useCallback(p=>{if(!n&&!r||h.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(b&&v){const y=p.currentTarget,[w,_]=Ade(y);w&&_?!p.shiftKey&&v===_?(p.preventDefault(),n&&hi(w,{select:!0})):p.shiftKey&&v===w&&(p.preventDefault(),n&&hi(_,{select:!0})):v===y&&p.preventDefault()}},[n,r,h.paused]);return g.createElement(bt.div,Ht({tabIndex:-1},a,{ref:d,onKeyDown:m}))});function Ode(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(hi(r,{select:t}),document.activeElement!==n)return}function Ade(e){const t=VL(e),n=$T(t,e),r=$T(t.reverse(),e);return[n,r]}function VL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $T(e,t){for(const n of e)if(!$de(n,{upTo:t}))return n}function $de(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Tde(e){return e instanceof HTMLInputElement&&"select"in e}function hi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Tde(e)&&t&&e.select()}}const TT=Rde();function Rde(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=RT(e,t),e.unshift(t)},remove(t){var n;e=RT(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function RT(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function kde(e){return e.filter(t=>t.tagName!=="A")}let uw=0;function Mde(){g.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:kT()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:kT()),uw++,()=>{uw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),uw--}},[])}function kT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var of="right-scroll-bar-position",af="width-before-scroll-bar",Ide="with-scroll-bars-hidden",Dde="--removed-body-scroll-bar-size";function jde(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Nde(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function WL(e,t){return Nde(t||null,function(n){return e.forEach(function(r){return jde(r,n)})})}function Lde(e){return e}function Fde(e,t){t===void 0&&(t=Lde);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(s){return i(s)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(i),a=n}var u=function(){var c=a;a=[],c.forEach(i)},l=function(){return Promise.resolve().then(u)};l(),n={push:function(c){a.push(c),l()},filter:function(c){return a=a.filter(c),n}}}};return o}function zL(e){e===void 0&&(e={});var t=Fde(null);return t.options=tn({async:!0,ssr:!1},e),t}var KL=function(e){var t=e.sideCar,n=GE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,tn({},n))};KL.isSideCarExport=!0;function HL(e,t){return e.useMedium(t),KL}var qL=zL(),lw=function(){},wb=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:lw,onWheelCapture:lw,onTouchMoveCapture:lw}),o=r[0],i=r[1],a=e.forwardProps,s=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,m=e.inert,p=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,y=GE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=d,_=WL([n,t]),S=tn(tn({},y),o);return g.createElement(g.Fragment,null,c&&g.createElement(w,{sideCar:qL,removeScrollBar:l,shards:f,noIsolation:h,inert:m,setCallbacks:i,allowPinchZoom:!!p,lockRef:n}),a?g.cloneElement(g.Children.only(s),tn(tn({},S),{ref:_})):g.createElement(v,tn({},S,{className:u,ref:_}),s))});wb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wb.classNames={fullWidth:af,zeroRight:of};var MT,Bde=function(){if(MT)return MT;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ude(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Bde();return t&&e.setAttribute("nonce",t),e}function Vde(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Wde(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zde=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Ude())&&(Vde(t,n),Wde(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Kde=function(){var e=zde();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Kx=function(){var e=Kde(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},Hde={left:0,top:0,right:0,gap:0},cw=function(e){return parseInt(e||"",10)||0},qde=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[cw(n),cw(r),cw(o)]},Gde=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Hde;var t=qde(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Yde=Kx(),Qde=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ide,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(of,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(af,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(of," .").concat(of,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(af," .").concat(af,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(Dde,": ").concat(s,`px;
  }
`)},GL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,i=g.useMemo(function(){return Gde(o)},[o]);return g.createElement(Yde,{styles:Qde(i,!t,o,n?"":"!important")})},J_=!1;if(typeof window<"u")try{var cp=Object.defineProperty({},"passive",{get:function(){return J_=!0,!0}});window.addEventListener("test",cp,cp),window.removeEventListener("test",cp,cp)}catch{J_=!1}var iu=J_?{passive:!1}:!1,Xde=function(e){return e.tagName==="TEXTAREA"},YL=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xde(e)&&n[t]==="visible")},Jde=function(e){return YL(e,"overflowY")},Zde=function(e){return YL(e,"overflowX")},IT=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=QL(e,n);if(r){var o=XL(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},ehe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},the=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},QL=function(e,t){return e==="v"?Jde(t):Zde(t)},XL=function(e,t){return e==="v"?ehe(t):the(t)},nhe=function(e,t){return e==="h"&&t==="rtl"?-1:1},rhe=function(e,t,n,r,o){var i=nhe(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,u=t.contains(s),l=!1,c=a>0,f=0,d=0;do{var h=XL(e,s),m=h[0],p=h[1],b=h[2],v=p-b-i*m;(m||v)&&QL(e,s)&&(f+=v,d+=m),s=s.parentNode}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return(c&&(o&&f===0||!o&&a>f)||!c&&(o&&d===0||!o&&-a>d))&&(l=!0),l},fp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},DT=function(e){return[e.deltaX,e.deltaY]},jT=function(e){return e&&"current"in e?e.current:e},ohe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ihe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ahe=0,au=[];function she(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),o=g.useState(ahe++)[0],i=g.useState(function(){return Kx()})[0],a=g.useRef(e);g.useEffect(function(){a.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=io([e.lockRef.current],(e.shards||[]).map(jT),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=g.useCallback(function(p,b){if("touches"in p&&p.touches.length===2)return!a.current.allowPinchZoom;var v=fp(p),y=n.current,w="deltaX"in p?p.deltaX:y[0]-v[0],_="deltaY"in p?p.deltaY:y[1]-v[1],S,E=p.target,x=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&x==="h"&&E.type==="range")return!1;var P=IT(x,E);if(!P)return!0;if(P?S=x:(S=x==="v"?"h":"v",P=IT(x,E)),!P)return!1;if(!r.current&&"changedTouches"in p&&(w||_)&&(r.current=S),!S)return!0;var O=r.current||S;return rhe(O,b,p,O==="h"?w:_,!0)},[]),u=g.useCallback(function(p){var b=p;if(!(!au.length||au[au.length-1]!==i)){var v="deltaY"in b?DT(b):fp(b),y=t.current.filter(function(S){return S.name===b.type&&S.target===b.target&&ohe(S.delta,v)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(a.current.shards||[]).map(jT).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=w.length>0?s(b,w[0]):!a.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),l=g.useCallback(function(p,b,v,y){var w={name:p,delta:b,target:v,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),c=g.useCallback(function(p){n.current=fp(p),r.current=void 0},[]),f=g.useCallback(function(p){l(p.type,DT(p),p.target,s(p,e.lockRef.current))},[]),d=g.useCallback(function(p){l(p.type,fp(p),p.target,s(p,e.lockRef.current))},[]);g.useEffect(function(){return au.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",u,iu),document.addEventListener("touchmove",u,iu),document.addEventListener("touchstart",c,iu),function(){au=au.filter(function(p){return p!==i}),document.removeEventListener("wheel",u,iu),document.removeEventListener("touchmove",u,iu),document.removeEventListener("touchstart",c,iu)}},[]);var h=e.removeScrollBar,m=e.inert;return g.createElement(g.Fragment,null,m?g.createElement(i,{styles:ihe(o)}):null,h?g.createElement(GL,{gapMode:"margin"}):null)}const uhe=HL(qL,she);var JL=g.forwardRef(function(e,t){return g.createElement(wb,tn({},e,{ref:t,sideCar:uhe}))});JL.classNames=wb.classNames;const lhe=JL;var che=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},su=new WeakMap,dp=new WeakMap,hp={},fw=0,ZL=function(e){return e&&(e.host||ZL(e.parentNode))},fhe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=ZL(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dhe=function(e,t,n,r){var o=fhe(t,Array.isArray(e)?e:[e]);hp[n]||(hp[n]=new WeakMap);var i=hp[n],a=[],s=new Set,u=new Set(o),l=function(f){!f||s.has(f)||(s.add(f),l(f.parentNode))};o.forEach(l);var c=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(d){if(s.has(d))c(d);else{var h=d.getAttribute(r),m=h!==null&&h!=="false",p=(su.get(d)||0)+1,b=(i.get(d)||0)+1;su.set(d,p),i.set(d,b),a.push(d),p===1&&m&&dp.set(d,!0),b===1&&d.setAttribute(n,"true"),m||d.setAttribute(r,"true")}})};return c(t),s.clear(),fw++,function(){a.forEach(function(f){var d=su.get(f)-1,h=i.get(f)-1;su.set(f,d),i.set(f,h),d||(dp.has(f)||f.removeAttribute(r),dp.delete(f)),h||f.removeAttribute(n)}),fw--,fw||(su=new WeakMap,su=new WeakMap,dp=new WeakMap,hp={})}},eF=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||che(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),dhe(r,o,n,"aria-hidden")):function(){return null}};function qu(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function hhe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function tF(...e){return t=>e.forEach(n=>hhe(n,t))}function bh(...e){return g.useCallback(tF(...e),e)}function phe(e,t=[]){let n=[];function r(i,a){const s=g.createContext(a),u=n.length;n=[...n,a];function l(f){const{scope:d,children:h,...m}=f,p=(d==null?void 0:d[e][u])||s,b=g.useMemo(()=>m,Object.values(m));return g.createElement(p.Provider,{value:b},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||s,m=g.useContext(h);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return l.displayName=i+"Provider",[l,c]}const o=()=>{const i=n.map(a=>g.createContext(a));return function(s){const u=(s==null?void 0:s[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...s,[e]:u}}),[s,u])}};return o.scopeName=e,[r,mhe(o,...t)]}function mhe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=r.reduce((s,{useScope:u,scopeName:l})=>{const f=u(i)[`__scope${l}`];return{...s,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}const Z_=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},vhe=LS.useId||(()=>{});let ghe=0;function dw(e){const[t,n]=g.useState(vhe());return Z_(()=>{e||n(r=>r??String(ghe++))},[e]),e||(t?`radix-${t}`:"")}function xs(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function yhe({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=bhe({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,s=xs(n),u=g.useCallback(l=>{if(i){const f=typeof l=="function"?l(e):l;f!==e&&s(f)}else o(l)},[i,e,o,s]);return[a,u]}function bhe({defaultProp:e,onChange:t}){const n=g.useState(e),[r]=n,o=g.useRef(r),i=xs(t);return g.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},na.apply(this,arguments)}const Hx=g.forwardRef((e,t)=>{const{children:n,...r}=e,o=g.Children.toArray(n),i=o.find(_he);if(i){const a=i.props.children,s=o.map(u=>u===i?g.Children.count(a)>1?g.Children.only(null):g.isValidElement(a)?a.props.children:null:u);return g.createElement(eS,na({},r,{ref:t}),g.isValidElement(a)?g.cloneElement(a,void 0,s):null)}return g.createElement(eS,na({},r,{ref:t}),n)});Hx.displayName="Slot";const eS=g.forwardRef((e,t)=>{const{children:n,...r}=e;return g.isValidElement(n)?g.cloneElement(n,{...She(r,n.props),ref:tF(t,n.ref)}):g.Children.count(n)>1?g.Children.only(null):null});eS.displayName="SlotClone";const whe=({children:e})=>g.createElement(g.Fragment,null,e);function _he(e){return g.isValidElement(e)&&e.type===whe}function She(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?n[r]=(...s)=>{i==null||i(...s),o==null||o(...s)}:r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}const Ehe=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],_b=Ehe.reduce((e,t)=>{const n=g.forwardRef((r,o)=>{const{asChild:i,...a}=r,s=i?Hx:t;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(s,na({},a,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function xhe(e,t){e&&Cn.flushSync(()=>e.dispatchEvent(t))}function Phe(e){const t=xs(e);g.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const tS="dismissableLayer.update",Che="dismissableLayer.pointerDownOutside",Ohe="dismissableLayer.focusOutside";let NT;const Ahe=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$he=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=e,l=g.useContext(Ahe),[c,f]=g.useState(null),[,d]=g.useState({}),h=bh(t,E=>f(E)),m=Array.from(l.layers),[p]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(p),v=c?m.indexOf(c):-1,y=l.layersWithOutsidePointerEventsDisabled.size>0,w=v>=b,_=The(E=>{const x=E.target,P=[...l.branches].some(O=>O.contains(x));!w||P||(o==null||o(E),a==null||a(E),E.defaultPrevented||s==null||s())}),S=Rhe(E=>{const x=E.target;[...l.branches].some(O=>O.contains(x))||(i==null||i(E),a==null||a(E),E.defaultPrevented||s==null||s())});return Phe(E=>{v===l.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))}),g.useEffect(()=>{if(c)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(NT=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),LT(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=NT)}},[c,n,l]),g.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),LT())},[c,l]),g.useEffect(()=>{const E=()=>d({});return document.addEventListener(tS,E),()=>document.removeEventListener(tS,E)},[]),g.createElement(_b.div,na({},u,{ref:h,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:qu(e.onFocusCapture,S.onFocusCapture),onBlurCapture:qu(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:qu(e.onPointerDownCapture,_.onPointerDownCapture)}))});function The(e){const t=xs(e),n=g.useRef(!1),r=g.useRef(()=>{});return g.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){nF(Che,t,u,{discrete:!0})};var s=l;const u={originalEvent:a};a.pointerType==="touch"?(document.removeEventListener("click",r.current),r.current=l,document.addEventListener("click",r.current,{once:!0})):l()}n.current=!1},i=window.setTimeout(()=>{document.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),document.removeEventListener("pointerdown",o),document.removeEventListener("click",r.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function Rhe(e){const t=xs(e),n=g.useRef(!1);return g.useEffect(()=>{const r=o=>{o.target&&!n.current&&nF(Ohe,t,{originalEvent:o},{discrete:!1})};return document.addEventListener("focusin",r),()=>document.removeEventListener("focusin",r)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function LT(){const e=new CustomEvent(tS);document.dispatchEvent(e)}function nF(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?xhe(o,i):o.dispatchEvent(i)}const hw="focusScope.autoFocusOnMount",pw="focusScope.autoFocusOnUnmount",FT={bubbles:!1,cancelable:!0},khe=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[s,u]=g.useState(null),l=xs(o),c=xs(i),f=g.useRef(null),d=bh(t,p=>u(p)),h=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(w){if(h.paused||!s)return;const _=w.target;s.contains(_)?f.current=_:Ia(f.current,{select:!0})},y=function(w){h.paused||!s||s.contains(w.relatedTarget)||Ia(f.current,{select:!0})};var p=v,b=y;return document.addEventListener("focusin",v),document.addEventListener("focusout",y),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y)}}},[r,s,h.paused]),g.useEffect(()=>{if(s){UT.add(h);const p=document.activeElement;if(!s.contains(p)){const v=new CustomEvent(hw,FT);s.addEventListener(hw,l),s.dispatchEvent(v),v.defaultPrevented||(Mhe(Lhe(rF(s)),{select:!0}),document.activeElement===p&&Ia(s))}return()=>{s.removeEventListener(hw,l),setTimeout(()=>{const v=new CustomEvent(pw,FT);s.addEventListener(pw,c),s.dispatchEvent(v),v.defaultPrevented||Ia(p??document.body,{select:!0}),s.removeEventListener(pw,c),UT.remove(h)},0)}}},[s,l,c,h]);const m=g.useCallback(p=>{if(!n&&!r||h.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(b&&v){const y=p.currentTarget,[w,_]=Ihe(y);w&&_?!p.shiftKey&&v===_?(p.preventDefault(),n&&Ia(w,{select:!0})):p.shiftKey&&v===w&&(p.preventDefault(),n&&Ia(_,{select:!0})):v===y&&p.preventDefault()}},[n,r,h.paused]);return g.createElement(_b.div,na({tabIndex:-1},a,{ref:d,onKeyDown:m}))});function Mhe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ia(r,{select:t}),document.activeElement!==n)return}function Ihe(e){const t=rF(e),n=BT(t,e),r=BT(t.reverse(),e);return[n,r]}function rF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function BT(e,t){for(const n of e)if(!Dhe(n,{upTo:t}))return n}function Dhe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jhe(e){return e instanceof HTMLInputElement&&"select"in e}function Ia(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jhe(e)&&t&&e.select()}}const UT=Nhe();function Nhe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=VT(e,t),e.unshift(t)},remove(t){var n;e=VT(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function VT(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Lhe(e){return e.filter(t=>t.tagName!=="A")}const Fhe=g.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?eD.createPortal(g.createElement(_b.div,na({},o,{ref:t})),r):null});function Bhe(e,t){return g.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const Sb=e=>{const{present:t,children:n}=e,r=Uhe(t),o=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=bh(r.ref,o.ref);return typeof n=="function"||r.isPresent?g.cloneElement(o,{ref:i}):null};Sb.displayName="Presence";function Uhe(e){const[t,n]=g.useState(),r=g.useRef({}),o=g.useRef(e),i=g.useRef("none"),a=e?"mounted":"unmounted",[s,u]=Bhe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const l=pp(r.current);i.current=s==="mounted"?l:"none"},[s]),Z_(()=>{const l=r.current,c=o.current;if(c!==e){const d=i.current,h=pp(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),Z_(()=>{if(t){const l=f=>{const h=pp(r.current).includes(f.animationName);f.target===t&&h&&Cn.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(i.current=pp(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:g.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function pp(e){return(e==null?void 0:e.animationName)||"none"}let mw=0;function Vhe(){g.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:WT()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:WT()),mw++,()=>{mw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),mw--}},[])}function WT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var oF=zL(),vw=function(){},Eb=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:vw,onWheelCapture:vw,onTouchMoveCapture:vw}),o=r[0],i=r[1],a=e.forwardProps,s=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,m=e.inert,p=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,y=GE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=d,_=WL([n,t]),S=tn(tn({},y),o);return g.createElement(g.Fragment,null,c&&g.createElement(w,{sideCar:oF,removeScrollBar:l,shards:f,noIsolation:h,inert:m,setCallbacks:i,allowPinchZoom:!!p,lockRef:n}),a?g.cloneElement(g.Children.only(s),tn(tn({},S),{ref:_})):g.createElement(v,tn({},S,{className:u,ref:_}),s))});Eb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eb.classNames={fullWidth:af,zeroRight:of};var nS=!1;if(typeof window<"u")try{var mp=Object.defineProperty({},"passive",{get:function(){return nS=!0,!0}});window.addEventListener("test",mp,mp),window.removeEventListener("test",mp,mp)}catch{nS=!1}var uu=nS?{passive:!1}:!1,Whe=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},zhe=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},zT=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=iF(e,n);if(r){var o=aF(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Khe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Hhe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},iF=function(e,t){return e==="v"?Whe(t):zhe(t)},aF=function(e,t){return e==="v"?Khe(t):Hhe(t)},qhe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ghe=function(e,t,n,r,o){var i=qhe(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,u=t.contains(s),l=!1,c=a>0,f=0,d=0;do{var h=aF(e,s),m=h[0],p=h[1],b=h[2],v=p-b-i*m;(m||v)&&iF(e,s)&&(f+=v,d+=m),s=s.parentNode}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return(c&&(o&&f===0||!o&&a>f)||!c&&(o&&d===0||!o&&-a>d))&&(l=!0),l},vp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},KT=function(e){return[e.deltaX,e.deltaY]},HT=function(e){return e&&"current"in e?e.current:e},Yhe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Qhe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xhe=0,lu=[];function Jhe(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),o=g.useState(Xhe++)[0],i=g.useState(function(){return Kx()})[0],a=g.useRef(e);g.useEffect(function(){a.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=io([e.lockRef.current],(e.shards||[]).map(HT),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=g.useCallback(function(p,b){if("touches"in p&&p.touches.length===2)return!a.current.allowPinchZoom;var v=vp(p),y=n.current,w="deltaX"in p?p.deltaX:y[0]-v[0],_="deltaY"in p?p.deltaY:y[1]-v[1],S,E=p.target,x=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&x==="h"&&E.type==="range")return!1;var P=zT(x,E);if(!P)return!0;if(P?S=x:(S=x==="v"?"h":"v",P=zT(x,E)),!P)return!1;if(!r.current&&"changedTouches"in p&&(w||_)&&(r.current=S),!S)return!0;var O=r.current||S;return Ghe(O,b,p,O==="h"?w:_,!0)},[]),u=g.useCallback(function(p){var b=p;if(!(!lu.length||lu[lu.length-1]!==i)){var v="deltaY"in b?KT(b):vp(b),y=t.current.filter(function(S){return S.name===b.type&&S.target===b.target&&Yhe(S.delta,v)})[0];if(y&&y.should){b.preventDefault();return}if(!y){var w=(a.current.shards||[]).map(HT).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=w.length>0?s(b,w[0]):!a.current.noIsolation;_&&b.preventDefault()}}},[]),l=g.useCallback(function(p,b,v,y){var w={name:p,delta:b,target:v,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),c=g.useCallback(function(p){n.current=vp(p),r.current=void 0},[]),f=g.useCallback(function(p){l(p.type,KT(p),p.target,s(p,e.lockRef.current))},[]),d=g.useCallback(function(p){l(p.type,vp(p),p.target,s(p,e.lockRef.current))},[]);g.useEffect(function(){return lu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",u,uu),document.addEventListener("touchmove",u,uu),document.addEventListener("touchstart",c,uu),function(){lu=lu.filter(function(p){return p!==i}),document.removeEventListener("wheel",u,uu),document.removeEventListener("touchmove",u,uu),document.removeEventListener("touchstart",c,uu)}},[]);var h=e.removeScrollBar,m=e.inert;return g.createElement(g.Fragment,null,m?g.createElement(i,{styles:Qhe(o)}):null,h?g.createElement(GL,{gapMode:"margin"}):null)}const Zhe=HL(oF,Jhe);var sF=g.forwardRef(function(e,t){return g.createElement(Eb,tn({},e,{ref:t,sideCar:Zhe}))});sF.classNames=Eb.classNames;const epe=sF,uF="Dialog",[lF,PEe]=phe(uF),[tpe,Hs]=lF(uF),npe=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,s=g.useRef(null),u=g.useRef(null),[l=!1,c]=yhe({prop:r,defaultProp:o,onChange:i});return g.createElement(tpe,{scope:t,triggerRef:s,contentRef:u,contentId:dw(),titleId:dw(),descriptionId:dw(),open:l,onOpenChange:c,onOpenToggle:g.useCallback(()=>c(f=>!f),[c]),modal:a},n)},cF="DialogPortal",[rpe,fF]=lF(cF,{forceMount:void 0}),ope=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=Hs(cF,t);return g.createElement(rpe,{scope:t,forceMount:n},g.Children.map(r,a=>g.createElement(Sb,{present:n||i.open},g.createElement(Fhe,{asChild:!0,container:o},a))))},rS="DialogOverlay",ipe=g.forwardRef((e,t)=>{const n=fF(rS,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Hs(rS,e.__scopeDialog);return i.modal?g.createElement(Sb,{present:r||i.open},g.createElement(ape,Ht({},o,{ref:t}))):null}),ape=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Hs(rS,n);return g.createElement(epe,{as:Hx,allowPinchZoom:!0,shards:[o.contentRef]},g.createElement(_b.div,Ht({"data-state":hF(o.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),Gf="DialogContent",spe=g.forwardRef((e,t)=>{const n=fF(Gf,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Hs(Gf,e.__scopeDialog);return g.createElement(Sb,{present:r||i.open},i.modal?g.createElement(upe,Ht({},o,{ref:t})):g.createElement(lpe,Ht({},o,{ref:t})))}),upe=g.forwardRef((e,t)=>{const n=Hs(Gf,e.__scopeDialog),r=g.useRef(null),o=bh(t,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return eF(i)},[]),g.createElement(dF,Ht({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qu(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:qu(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&i.preventDefault()}),onFocusOutside:qu(e.onFocusOutside,i=>i.preventDefault())}))}),lpe=g.forwardRef((e,t)=>{const n=Hs(Gf,e.__scopeDialog),r=g.useRef(!1);return g.createElement(dF,Ht({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1},onInteractOutside:o=>{var i,a;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(r.current=!0);const s=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(s))&&o.preventDefault()}}))}),dF=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...a}=e,s=Hs(Gf,n),u=g.useRef(null),l=bh(t,u);return Vhe(),g.createElement(g.Fragment,null,g.createElement(khe,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i},g.createElement($he,Ht({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":hF(s.open)},a,{ref:l,onDismiss:()=>s.onOpenChange(!1)}))),!1)});function hF(e){return e?"open":"closed"}const cpe=npe,fpe=ope,dpe=ipe,hpe=spe;var qT=1,ppe=.9,mpe=.3,gw=.1,vpe=0,yw=.999,gpe=.9999,ype=.99,GT=/[\\\/\-_+.# \t"@\[\(\{&]/,bpe=/[\\\/\-_+.# \t"@\[\(\{&]/g;function oS(e,t,n,r,o,i){if(i===t.length)return o===e.length?qT:ype;for(var a=r.charAt(i),s=n.indexOf(a,o),u=0,l,c,f;s>=0;)l=oS(e,t,n,r,s+1,i+1),l>u&&(s===o?l*=qT:GT.test(e.charAt(s-1))?(l*=ppe,f=e.slice(o,s-1).match(bpe),f&&o>0&&(l*=Math.pow(yw,f.length))):GT.test(e.slice(o,s-1))?(l*=vpe,o>0&&(l*=Math.pow(yw,s-o))):(l*=mpe,o>0&&(l*=Math.pow(yw,s-o))),e.charAt(s)!==t.charAt(i)&&(l*=gpe)),l<gw&&n.charAt(s-1)===r.charAt(i+1)&&n.charAt(s-1)!==r.charAt(i)&&(c=oS(e,t,n,r,s+1,i+2),c*gw>l&&(l=c*gw)),l>u&&(u=l),s=n.indexOf(a,s+1);return u}function wpe(e,t){return oS(e,t,e.toLowerCase(),t.toLowerCase(),0,0)}var _pe=wpe;const Spe=MS(_pe);var Epe='[cmdk-list-sizer=""]',Ec='[cmdk-group=""]',bw='[cmdk-group-items=""]',xpe='[cmdk-group-heading=""]',pF='[cmdk-item=""]',YT=`${pF}:not([aria-disabled="true"])`,iS="cmdk-item-select",pi="data-value",Ppe=(e,t)=>Spe(e,t),mF=g.createContext(void 0),wh=()=>g.useContext(mF),vF=g.createContext(void 0),qx=()=>g.useContext(vF),gF=g.createContext(void 0),yF=g.forwardRef((e,t)=>{let n=g.useRef(null),r=du(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),o=du(()=>new Set),i=du(()=>new Map),a=du(()=>new Map),s=du(()=>new Set),u=bF(e),{label:l,children:c,value:f,onValueChange:d,filter:h,shouldFilter:m,...p}=e,b=g.useId(),v=g.useId(),y=g.useId(),w=jpe();Gl(()=>{if(f!==void 0){let A=f.trim().toLowerCase();r.current.value=A,w(6,T),_.emit()}},[f]);let _=g.useMemo(()=>({subscribe:A=>(s.current.add(A),()=>s.current.delete(A)),snapshot:()=>r.current,setState:(A,D,F)=>{var W,H,se;if(!Object.is(r.current[A],D)){if(r.current[A]=D,A==="search")O(),x(),w(1,P);else if(A==="value")if(((W=u.current)==null?void 0:W.value)!==void 0){(se=(H=u.current).onValueChange)==null||se.call(H,D);return}else F||w(5,T);_.emit()}},emit:()=>{s.current.forEach(A=>A())}}),[]),S=g.useMemo(()=>({value:(A,D)=>{D!==a.current.get(A)&&(a.current.set(A,D),r.current.filtered.items.set(A,E(D)),w(2,()=>{x(),_.emit()}))},item:(A,D)=>(o.current.add(A),D&&(i.current.has(D)?i.current.get(D).add(A):i.current.set(D,new Set([A]))),w(3,()=>{O(),x(),r.current.value||P(),_.emit()}),()=>{a.current.delete(A),o.current.delete(A),r.current.filtered.items.delete(A),w(4,()=>{O(),P(),_.emit()})}),group:A=>(i.current.has(A)||i.current.set(A,new Set),()=>{a.current.delete(A),i.current.delete(A)}),filter:()=>u.current.shouldFilter,label:l||e["aria-label"],listId:b,inputId:y,labelId:v}),[]);function E(A){var D;let F=((D=u.current)==null?void 0:D.filter)??Ppe;return A?F(A,r.current.search):0}function x(){if(!n.current||!r.current.search||u.current.shouldFilter===!1)return;let A=r.current.filtered.items,D=[];r.current.filtered.groups.forEach(W=>{let H=i.current.get(W),se=0;H.forEach(_e=>{let te=A.get(_e);se=Math.max(te,se)}),D.push([W,se])});let F=n.current.querySelector(Epe);M().sort((W,H)=>{let se=W.getAttribute(pi),_e=H.getAttribute(pi);return(A.get(_e)??0)-(A.get(se)??0)}).forEach(W=>{let H=W.closest(bw);H?H.appendChild(W.parentElement===H?W:W.closest(`${bw} > *`)):F.appendChild(W.parentElement===F?W:W.closest(`${bw} > *`))}),D.sort((W,H)=>H[1]-W[1]).forEach(W=>{let H=n.current.querySelector(`${Ec}[${pi}="${W[0]}"]`);H==null||H.parentElement.appendChild(H)})}function P(){let A=M().find(F=>!F.ariaDisabled),D=A==null?void 0:A.getAttribute(pi);_.setState("value",D||void 0)}function O(){if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=o.current.size;return}r.current.filtered.groups=new Set;let A=0;for(let D of o.current){let F=a.current.get(D),W=E(F);r.current.filtered.items.set(D,W),W>0&&A++}for(let[D,F]of i.current)for(let W of F)if(r.current.filtered.items.get(W)>0){r.current.filtered.groups.add(D);break}r.current.filtered.count=A}function T(){var A,D,F;let W=R();W&&(((A=W.parentElement)==null?void 0:A.firstChild)===W&&((F=(D=W.closest(Ec))==null?void 0:D.querySelector(xpe))==null||F.scrollIntoView({block:"nearest"})),W.scrollIntoView({block:"nearest"}))}function R(){return n.current.querySelector(`${pF}[aria-selected="true"]`)}function M(){return Array.from(n.current.querySelectorAll(YT))}function U(A){let D=M()[A];D&&_.setState("value",D.getAttribute(pi))}function $(A){var D;let F=R(),W=M(),H=W.findIndex(_e=>_e===F),se=W[H+A];(D=u.current)!=null&&D.loop&&(se=H+A<0?W[W.length-1]:H+A===W.length?W[0]:W[H+A]),se&&_.setState("value",se.getAttribute(pi))}function L(A){let D=R(),F=D==null?void 0:D.closest(Ec),W;for(;F&&!W;)F=A>0?Ipe(F,Ec):Dpe(F,Ec),W=F==null?void 0:F.querySelector(YT);W?_.setState("value",W.getAttribute(pi)):$(A)}let N=()=>U(M().length-1),V=A=>{A.preventDefault(),A.metaKey?N():A.altKey?L(1):$(1)},I=A=>{A.preventDefault(),A.metaKey?U(0):A.altKey?L(-1):$(-1)};return g.createElement("div",{ref:_h([n,t]),...p,"cmdk-root":"",onKeyDown:A=>{var D;if((D=p.onKeyDown)==null||D.call(p,A),!A.defaultPrevented)switch(A.key){case"n":case"j":{A.ctrlKey&&V(A);break}case"ArrowDown":{V(A);break}case"p":case"k":{A.ctrlKey&&I(A);break}case"ArrowUp":{I(A);break}case"Home":{A.preventDefault(),U(0);break}case"End":{A.preventDefault(),N();break}case"Enter":{A.preventDefault();let F=R();if(F){let W=new Event(iS);F.dispatchEvent(W)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:Npe},l),g.createElement(vF.Provider,{value:_},g.createElement(mF.Provider,{value:S},c)))}),Cpe=g.forwardRef((e,t)=>{let n=g.useId(),r=g.useRef(null),o=g.useContext(gF),i=wh(),a=bF(e);Gl(()=>i.item(n,o),[]);let s=wF(n,r,[e.value,e.children,r]),u=qx(),l=_l(v=>v.value&&v.value===s.current),c=_l(v=>i.filter()===!1?!0:v.search?v.filtered.items.get(n)>0:!0);g.useEffect(()=>{let v=r.current;if(!(!v||e.disabled))return v.addEventListener(iS,f),()=>v.removeEventListener(iS,f)},[c,e.onSelect,e.disabled]);function f(){var v,y;(y=(v=a.current).onSelect)==null||y.call(v,s.current)}function d(){u.setState("value",s.current,!0)}if(!c)return null;let{disabled:h,value:m,onSelect:p,...b}=e;return g.createElement("div",{ref:_h([r,t]),...b,"cmdk-item":"",role:"option","aria-disabled":h||void 0,"aria-selected":l||void 0,"data-selected":l||void 0,onPointerMove:h?void 0:d,onClick:h?void 0:f},e.children)}),Ope=g.forwardRef((e,t)=>{let{heading:n,children:r,...o}=e,i=g.useId(),a=g.useRef(null),s=g.useRef(null),u=g.useId(),l=wh(),c=_l(d=>l.filter()===!1?!0:d.search?d.filtered.groups.has(i):!0);Gl(()=>l.group(i),[]),wF(i,a,[e.value,e.heading,s]);let f=g.createElement(gF.Provider,{value:i},r);return g.createElement("div",{ref:_h([a,t]),...o,"cmdk-group":"",role:"presentation",hidden:c?void 0:!0},n&&g.createElement("div",{ref:s,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},f))}),Ape=g.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,o=g.useRef(null),i=_l(a=>!a.search);return!n&&!i?null:g.createElement("div",{ref:_h([o,t]),...r,"cmdk-separator":"",role:"separator"})}),$pe=g.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,o=e.value!=null,i=qx(),a=_l(u=>u.search),s=wh();return g.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),g.createElement("input",{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":s.listId,"aria-labelledby":s.labelId,id:s.inputId,type:"text",value:o?e.value:a,onChange:u=>{o||i.setState("search",u.target.value),n==null||n(u.target.value)}})}),Tpe=g.forwardRef((e,t)=>{let{children:n,...r}=e,o=g.useRef(null),i=g.useRef(null),a=wh();return g.useEffect(()=>{if(i.current&&o.current){let s=i.current,u=o.current,l,c=new ResizeObserver(()=>{l=requestAnimationFrame(()=>{let f=s.getBoundingClientRect().height;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return c.observe(s),()=>{cancelAnimationFrame(l),c.unobserve(s)}}},[]),g.createElement("div",{ref:_h([o,t]),...r,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:a.listId,"aria-labelledby":a.inputId},g.createElement("div",{ref:i,"cmdk-list-sizer":""},n))}),Rpe=g.forwardRef((e,t)=>{let{open:n,onOpenChange:r,container:o,...i}=e;return g.createElement(cpe,{open:n,onOpenChange:r},g.createElement(fpe,{container:o},g.createElement(dpe,{"cmdk-overlay":""}),g.createElement(hpe,{"aria-label":e.label,"cmdk-dialog":""},g.createElement(yF,{ref:t,...i}))))}),kpe=g.forwardRef((e,t)=>{let n=g.useRef(!0),r=_l(o=>o.filtered.count===0);return g.useEffect(()=>{n.current=!1},[]),n.current||!r?null:g.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),Mpe=g.forwardRef((e,t)=>{let{progress:n,children:r,...o}=e;return g.createElement("div",{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},g.createElement("div",{"aria-hidden":!0},r))}),Dn=Object.assign(yF,{List:Tpe,Item:Cpe,Input:$pe,Group:Ope,Separator:Ape,Dialog:Rpe,Empty:kpe,Loading:Mpe});function Ipe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Dpe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function bF(e){let t=g.useRef(e);return Gl(()=>{t.current=e}),t}var Gl=typeof window>"u"?g.useEffect:g.useLayoutEffect;function du(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function _h(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function _l(e){let t=qx(),n=()=>e(t.snapshot());return g.useSyncExternalStore(t.subscribe,n,n)}function wF(e,t,n){let r=g.useRef(),o=wh();return Gl(()=>{var i;let a=(()=>{var s;for(let u of n){if(typeof u=="string")return u.trim().toLowerCase();if(typeof u=="object"&&"current"in u&&u.current)return(s=u.current.textContent)==null?void 0:s.trim().toLowerCase()}})();o.value(e,a),(i=t.current)==null||i.setAttribute(pi,a),r.current=a}),r}var jpe=()=>{let[e,t]=g.useState(),n=du(()=>new Map);return Gl(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,o)=>{n.current.set(r,o),t({})}},Npe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _F=g.forwardRef(({className:e,...t},n)=>C.jsx(Dn,{ref:n,className:Oe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));_F.displayName=Dn.displayName;const SF=g.forwardRef(({className:e,...t},n)=>C.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[C.jsx(MW,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),C.jsx(Dn.Input,{ref:n,className:Oe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));SF.displayName=Dn.Input.displayName;const Lpe=g.forwardRef(({className:e,...t},n)=>C.jsx(Dn.List,{ref:n,className:Oe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Lpe.displayName=Dn.List.displayName;const EF=g.forwardRef((e,t)=>C.jsx(Dn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));EF.displayName=Dn.Empty.displayName;const xF=g.forwardRef(({className:e,...t},n)=>C.jsx(Dn.Group,{ref:n,className:Oe("p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground overflow-auto",e),...t}));xF.displayName=Dn.Group.displayName;const Fpe=g.forwardRef(({className:e,...t},n)=>C.jsx(Dn.Separator,{ref:n,className:Oe("-mx-1 h-px bg-border",e),...t}));Fpe.displayName=Dn.Separator.displayName;const PF=g.forwardRef(({className:e,...t},n)=>C.jsx(Dn.Item,{ref:n,className:Oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));PF.displayName=Dn.Item.displayName;const Bpe=["top","right","bottom","left"],ra=Math.min,Bn=Math.max,cv=Math.round,gp=Math.floor,oa=e=>({x:e,y:e}),Upe={left:"right",right:"left",bottom:"top",top:"bottom"},Vpe={start:"end",end:"start"};function aS(e,t,n){return Bn(e,ra(t,n))}function Yo(e,t){return typeof e=="function"?e(t):e}function Qo(e){return e.split("-")[0]}function Yl(e){return e.split("-")[1]}function Gx(e){return e==="x"?"y":"x"}function Yx(e){return e==="y"?"height":"width"}function Ql(e){return["top","bottom"].includes(Qo(e))?"y":"x"}function Qx(e){return Gx(Ql(e))}function Wpe(e,t,n){n===void 0&&(n=!1);const r=Yl(e),o=Qx(e),i=Yx(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=fv(a)),[a,fv(a)]}function zpe(e){const t=fv(e);return[sS(e),t,sS(t)]}function sS(e){return e.replace(/start|end/g,t=>Vpe[t])}function Kpe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}function Hpe(e,t,n,r){const o=Yl(e);let i=Kpe(Qo(e),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(sS)))),i}function fv(e){return e.replace(/left|right|bottom|top/g,t=>Upe[t])}function qpe(e){return{top:0,right:0,bottom:0,left:0,...e}}function CF(e){return typeof e!="number"?qpe(e):{top:e,right:e,bottom:e,left:e}}function dv(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function QT(e,t,n){let{reference:r,floating:o}=e;const i=Ql(t),a=Qx(t),s=Yx(a),u=Qo(t),l=i==="y",c=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[s]/2-o[s]/2;let h;switch(u){case"top":h={x:c,y:r.y-o.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-o.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Yl(t)){case"start":h[a]-=d*(n&&l?-1:1);break;case"end":h[a]+=d*(n&&l?-1:1);break}return h}const Gpe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:f}=QT(l,r,u),d=r,h={},m=0;for(let p=0;p<s.length;p++){const{name:b,fn:v}=s[p],{x:y,y:w,data:_,reset:S}=await v({x:c,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:h,rects:l,platform:a,elements:{reference:e,floating:t}});if(c=y??c,f=w??f,h={...h,[b]:{...h[b],..._}},S&&m<=50){m++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(l=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:c,y:f}=QT(l,d,u)),p=-1;continue}}return{x:c,y:f,placement:d,strategy:o,middlewareData:h}};async function Yf(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Yo(t,e),m=CF(h),b=s[d?f==="floating"?"reference":"floating":f],v=dv(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:c,strategy:u})),y=f==="floating"?{...a.floating,x:r,y:o}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=dv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:u}):y);return{top:(v.top-S.top+m.top)/_.y,bottom:(S.bottom-v.bottom+m.bottom)/_.y,left:(v.left-S.left+m.left)/_.x,right:(S.right-v.right+m.right)/_.x}}const XT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:u}=t,{element:l,padding:c=0}=Yo(e,t)||{};if(l==null)return{};const f=CF(c),d={x:n,y:r},h=Qx(o),m=Yx(h),p=await a.getDimensions(l),b=h==="y",v=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=i.reference[m]+i.reference[h]-d[h]-i.floating[m],S=d[h]-i.reference[h],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let x=E?E[w]:0;(!x||!await(a.isElement==null?void 0:a.isElement(E)))&&(x=s.floating[w]||i.floating[m]);const P=_/2-S/2,O=x/2-p[m]/2-1,T=ra(f[v],O),R=ra(f[y],O),M=T,U=x-p[m]-R,$=x/2-p[m]/2+P,L=aS(M,$,U),N=!u.arrow&&Yl(o)!=null&&$!=L&&i.reference[m]/2-($<M?T:R)-p[m]/2<0,V=N?$<M?$-M:$-U:0;return{[h]:d[h]+V,data:{[h]:L,centerOffset:$-L-V,...N&&{alignmentOffset:V}},reset:N}}}),Ype=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...b}=Yo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Qo(o),y=Qo(s)===s,w=await(u.isRTL==null?void 0:u.isRTL(l.floating)),_=d||(y||!p?[fv(s)]:zpe(s));!d&&m!=="none"&&_.push(...Hpe(s,p,m,w));const S=[s,..._],E=await Yf(t,b),x=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&x.push(E[v]),f){const M=Wpe(o,a,w);x.push(E[M[0]],E[M[1]])}if(P=[...P,{placement:o,overflows:x}],!x.every(M=>M<=0)){var O,T;const M=(((O=i.flip)==null?void 0:O.index)||0)+1,U=S[M];if(U)return{data:{index:M,overflows:P},reset:{placement:U}};let $=(T=P.filter(L=>L.overflows[0]<=0).sort((L,N)=>L.overflows[1]-N.overflows[1])[0])==null?void 0:T.placement;if(!$)switch(h){case"bestFit":{var R;const L=(R=P.map(N=>[N.placement,N.overflows.filter(V=>V>0).reduce((V,I)=>V+I,0)]).sort((N,V)=>N[1]-V[1])[0])==null?void 0:R[0];L&&($=L);break}case"initialPlacement":$=s;break}if(o!==$)return{reset:{placement:$}}}return{}}}};function JT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ZT(e){return Bpe.some(t=>e[t]>=0)}const Qpe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Yo(e,t);switch(r){case"referenceHidden":{const i=await Yf(t,{...o,elementContext:"reference"}),a=JT(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ZT(a)}}}case"escaped":{const i=await Yf(t,{...o,altBoundary:!0}),a=JT(i,n.floating);return{data:{escapedOffsets:a,escaped:ZT(a)}}}default:return{}}}}};async function Xpe(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Qo(n),s=Yl(n),u=Ql(n)==="y",l=["left","top"].includes(a)?-1:1,c=i&&u?-1:1,f=Yo(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return s&&typeof m=="number"&&(h=s==="end"?m*-1:m),u?{x:h*c,y:d*l}:{x:d*l,y:h*c}}const Jpe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await Xpe(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},Zpe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:b=>{let{x:v,y}=b;return{x:v,y}}},...u}=Yo(e,t),l={x:n,y:r},c=await Yf(t,u),f=Ql(Qo(o)),d=Gx(f);let h=l[d],m=l[f];if(i){const b=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=h+c[b],w=h-c[v];h=aS(y,h,w)}if(a){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=m+c[b],w=m-c[v];m=aS(y,m,w)}const p=s.fn({...t,[d]:h,[f]:m});return{...p,data:{x:p.x-n,y:p.y-r}}}}},eme=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:u=!0,crossAxis:l=!0}=Yo(e,t),c={x:n,y:r},f=Ql(o),d=Gx(f);let h=c[d],m=c[f];const p=Yo(s,t),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(u){const w=d==="y"?"height":"width",_=i.reference[d]-i.floating[w]+b.mainAxis,S=i.reference[d]+i.reference[w]-b.mainAxis;h<_?h=_:h>S&&(h=S)}if(l){var v,y;const w=d==="y"?"width":"height",_=["top","left"].includes(Qo(o)),S=i.reference[f]-i.floating[w]+(_&&((v=a.offset)==null?void 0:v[f])||0)+(_?0:b.crossAxis),E=i.reference[f]+i.reference[w]+(_?0:((y=a.offset)==null?void 0:y[f])||0)-(_?b.crossAxis:0);m<S?m=S:m>E&&(m=E)}return{[d]:h,[f]:m}}}},tme=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:a=()=>{},...s}=Yo(e,t),u=await Yf(t,s),l=Qo(n),c=Yl(n),f=Ql(n)==="y",{width:d,height:h}=r.floating;let m,p;l==="top"||l==="bottom"?(m=l,p=c===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(p=l,m=c==="end"?"top":"bottom");const b=h-u[m],v=d-u[p],y=!t.middlewareData.shift;let w=b,_=v;if(f){const E=d-u.left-u.right;_=c||y?ra(v,E):E}else{const E=h-u.top-u.bottom;w=c||y?ra(b,E):E}if(y&&!c){const E=Bn(u.left,0),x=Bn(u.right,0),P=Bn(u.top,0),O=Bn(u.bottom,0);f?_=d-2*(E!==0||x!==0?E+x:Bn(u.left,u.right)):w=h-2*(P!==0||O!==0?P+O:Bn(u.top,u.bottom))}await a({...t,availableWidth:_,availableHeight:w});const S=await o.getDimensions(i.floating);return d!==S.width||h!==S.height?{reset:{rects:!0}}:{}}}};function ia(e){return OF(e)?(e.nodeName||"").toLowerCase():"#document"}function zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ii(e){var t;return(t=(OF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function OF(e){return e instanceof Node||e instanceof zn(e).Node}function Xo(e){return e instanceof Element||e instanceof zn(e).Element}function ao(e){return e instanceof HTMLElement||e instanceof zn(e).HTMLElement}function eR(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zn(e).ShadowRoot}function Sh(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function nme(e){return["table","td","th"].includes(ia(e))}function Xx(e){const t=Jx(),n=vr(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function rme(e){let t=Sl(e);for(;ao(t)&&!xb(t);){if(Xx(t))return t;t=Sl(t)}return null}function Jx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xb(e){return["html","body","#document"].includes(ia(e))}function vr(e){return zn(e).getComputedStyle(e)}function Pb(e){return Xo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Sl(e){if(ia(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eR(e)&&e.host||ii(e);return eR(t)?t.host:t}function AF(e){const t=Sl(e);return xb(t)?e.ownerDocument?e.ownerDocument.body:e.body:ao(t)&&Sh(t)?t:AF(t)}function Qf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=AF(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=zn(o);return i?t.concat(a,a.visualViewport||[],Sh(o)?o:[],a.frameElement&&n?Qf(a.frameElement):[]):t.concat(o,Qf(o,[],n))}function $F(e){const t=vr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ao(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=cv(n)!==i||cv(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function Zx(e){return Xo(e)?e:e.contextElement}function Gu(e){const t=Zx(e);if(!ao(t))return oa(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=$F(t);let a=(i?cv(n.width):n.width)/r,s=(i?cv(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const ome=oa(0);function TF(e){const t=zn(e);return!Jx()||!t.visualViewport?ome:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ime(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zn(e)?!1:t}function Ps(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Zx(e);let a=oa(1);t&&(r?Xo(r)&&(a=Gu(r)):a=Gu(e));const s=ime(i,n,r)?TF(i):oa(0);let u=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,c=o.width/a.x,f=o.height/a.y;if(i){const d=zn(i),h=r&&Xo(r)?zn(r):r;let m=d.frameElement;for(;m&&r&&h!==d;){const p=Gu(m),b=m.getBoundingClientRect(),v=vr(m),y=b.left+(m.clientLeft+parseFloat(v.paddingLeft))*p.x,w=b.top+(m.clientTop+parseFloat(v.paddingTop))*p.y;u*=p.x,l*=p.y,c*=p.x,f*=p.y,u+=y,l+=w,m=zn(m).frameElement}}return dv({width:c,height:f,x:u,y:l})}function ame(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=ao(n),i=ii(n);if(n===i)return t;let a={scrollLeft:0,scrollTop:0},s=oa(1);const u=oa(0);if((o||!o&&r!=="fixed")&&((ia(n)!=="body"||Sh(i))&&(a=Pb(n)),ao(n))){const l=Ps(n);s=Gu(n),u.x=l.x+n.clientLeft,u.y=l.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+u.x,y:t.y*s.y-a.scrollTop*s.y+u.y}}function sme(e){return Array.from(e.getClientRects())}function RF(e){return Ps(ii(e)).left+Pb(e).scrollLeft}function ume(e){const t=ii(e),n=Pb(e),r=e.ownerDocument.body,o=Bn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Bn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+RF(e);const s=-n.scrollTop;return vr(r).direction==="rtl"&&(a+=Bn(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}function lme(e,t){const n=zn(e),r=ii(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,u=0;if(o){i=o.width,a=o.height;const l=Jx();(!l||l&&t==="fixed")&&(s=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:s,y:u}}function cme(e,t){const n=Ps(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=ao(e)?Gu(e):oa(1),a=e.clientWidth*i.x,s=e.clientHeight*i.y,u=o*i.x,l=r*i.y;return{width:a,height:s,x:u,y:l}}function tR(e,t,n){let r;if(t==="viewport")r=lme(e,n);else if(t==="document")r=ume(ii(e));else if(Xo(t))r=cme(t,n);else{const o=TF(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return dv(r)}function kF(e,t){const n=Sl(e);return n===t||!Xo(n)||xb(n)?!1:vr(n).position==="fixed"||kF(n,t)}function fme(e,t){const n=t.get(e);if(n)return n;let r=Qf(e,[],!1).filter(s=>Xo(s)&&ia(s)!=="body"),o=null;const i=vr(e).position==="fixed";let a=i?Sl(e):e;for(;Xo(a)&&!xb(a);){const s=vr(a),u=Xx(a);!u&&s.position==="fixed"&&(o=null),(i?!u&&!o:!u&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Sh(a)&&!u&&kF(e,a))?r=r.filter(c=>c!==a):o=s,a=Sl(a)}return t.set(e,r),r}function dme(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?fme(t,this._c):[].concat(n),r],s=a[0],u=a.reduce((l,c)=>{const f=tR(t,c,o);return l.top=Bn(f.top,l.top),l.right=ra(f.right,l.right),l.bottom=ra(f.bottom,l.bottom),l.left=Bn(f.left,l.left),l},tR(t,s,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function hme(e){return $F(e)}function pme(e,t,n){const r=ao(t),o=ii(t),i=n==="fixed",a=Ps(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const u=oa(0);if(r||!r&&!i)if((ia(t)!=="body"||Sh(o))&&(s=Pb(t)),r){const l=Ps(t,!0,i,t);u.x=l.x+t.clientLeft,u.y=l.y+t.clientTop}else o&&(u.x=RF(o));return{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function nR(e,t){return!ao(e)||vr(e).position==="fixed"?null:t?t(e):e.offsetParent}function MF(e,t){const n=zn(e);if(!ao(e))return n;let r=nR(e,t);for(;r&&nme(r)&&vr(r).position==="static";)r=nR(r,t);return r&&(ia(r)==="html"||ia(r)==="body"&&vr(r).position==="static"&&!Xx(r))?n:r||rme(e)||n}const mme=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||MF,i=this.getDimensions;return{reference:pme(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function vme(e){return vr(e).direction==="rtl"}const gme={convertOffsetParentRelativeRectToViewportRelativeRect:ame,getDocumentElement:ii,getClippingRect:dme,getOffsetParent:MF,getElementRects:mme,getClientRects:sme,getDimensions:hme,getScale:Gu,isElement:Xo,isRTL:vme};function yme(e,t){let n=null,r;const o=ii(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function a(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),i();const{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h=gp(c),m=gp(o.clientWidth-(l+f)),p=gp(o.clientHeight-(c+d)),b=gp(l),y={rootMargin:-h+"px "+-m+"px "+-p+"px "+-b+"px",threshold:Bn(0,ra(1,u))||1};let w=!0;function _(S){const E=S[0].intersectionRatio;if(E!==u){if(!w)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(_,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,y)}n.observe(e)}return a(!0),i}function bme(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=Zx(e),c=o||i?[...l?Qf(l):[],...Qf(t)]:[];c.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=l&&s?yme(l,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{h&&h.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let m,p=u?Ps(e):null;u&&b();function b(){const v=Ps(e);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&n(),p=v,m=requestAnimationFrame(b)}return n(),()=>{c.forEach(v=>{o&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f&&f(),h&&h.disconnect(),h=null,u&&cancelAnimationFrame(m)}}const wme=(e,t,n)=>{const r=new Map,o={platform:gme,...n},i={...o.platform,_c:r};return Gpe(e,t,{...o,platform:i})},_me=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?XT({element:r.current,padding:o}).fn(n):{}:r?XT({element:r,padding:o}).fn(n):{}}}};var om=typeof document<"u"?g.useLayoutEffect:g.useEffect;function hv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!hv(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!hv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function IF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rR(e,t){const n=IF(e);return Math.round(t*n)/n}function oR(e){const t=g.useRef(e);return om(()=>{t.current=e}),t}function Sme(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:s=!0,whileElementsMounted:u,open:l}=e,[c,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=g.useState(r);hv(d,r)||h(r);const[m,p]=g.useState(null),[b,v]=g.useState(null),y=g.useCallback(N=>{N!=E.current&&(E.current=N,p(N))},[p]),w=g.useCallback(N=>{N!==x.current&&(x.current=N,v(N))},[v]),_=i||m,S=a||b,E=g.useRef(null),x=g.useRef(null),P=g.useRef(c),O=oR(u),T=oR(o),R=g.useCallback(()=>{if(!E.current||!x.current)return;const N={placement:t,strategy:n,middleware:d};T.current&&(N.platform=T.current),wme(E.current,x.current,N).then(V=>{const I={...V,isPositioned:!0};M.current&&!hv(P.current,I)&&(P.current=I,Cn.flushSync(()=>{f(I)}))})},[d,t,n,T]);om(()=>{l===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[l]);const M=g.useRef(!1);om(()=>(M.current=!0,()=>{M.current=!1}),[]),om(()=>{if(_&&(E.current=_),S&&(x.current=S),_&&S){if(O.current)return O.current(_,S,R);R()}},[_,S,R,O]);const U=g.useMemo(()=>({reference:E,floating:x,setReference:y,setFloating:w}),[y,w]),$=g.useMemo(()=>({reference:_,floating:S}),[_,S]),L=g.useMemo(()=>{const N={position:n,left:0,top:0};if(!$.floating)return N;const V=rR($.floating,c.x),I=rR($.floating,c.y);return s?{...N,transform:"translate("+V+"px, "+I+"px)",...IF($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:I}},[n,s,$.floating,c.x,c.y]);return g.useMemo(()=>({...c,update:R,refs:U,elements:$,floatingStyles:L}),[c,R,U,$,L])}function DF(e){const[t,n]=g.useState(void 0);return Hi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,s;if("borderBoxSize"in i){const u=i.borderBoxSize,l=Array.isArray(u)?u[0]:u;a=l.inlineSize,s=l.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const jF="Popper",[NF,LF]=$l(jF),[Eme,FF]=NF(jF),xme=e=>{const{__scopePopper:t,children:n}=e,[r,o]=g.useState(null);return g.createElement(Eme,{scope:t,anchor:r,onAnchorChange:o},n)},Pme="PopperAnchor",Cme=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=FF(Pme,n),a=g.useRef(null),s=Rn(t,a);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:g.createElement(bt.div,Ht({},o,{ref:s}))}),BF="PopperContent",[Ome,CEe]=NF(BF),Ame=g.forwardRef((e,t)=>{var n,r,o,i,a,s,u,l;const{__scopePopper:c,side:f="bottom",sideOffset:d=0,align:h="center",alignOffset:m=0,arrowPadding:p=0,avoidCollisions:b=!0,collisionBoundary:v=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:_=!1,updatePositionStrategy:S="optimized",onPlaced:E,...x}=e,P=FF(BF,c),[O,T]=g.useState(null),R=Rn(t,q=>T(q)),[M,U]=g.useState(null),$=DF(M),L=(n=$==null?void 0:$.width)!==null&&n!==void 0?n:0,N=(r=$==null?void 0:$.height)!==null&&r!==void 0?r:0,V=f+(h!=="center"?"-"+h:""),I=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},A=Array.isArray(v)?v:[v],D=A.length>0,F={padding:I,boundary:A.filter($me),altBoundary:D},{refs:W,floatingStyles:H,placement:se,isPositioned:_e,middlewareData:te}=Sme({strategy:"fixed",placement:V,whileElementsMounted:(...q)=>bme(...q,{animationFrame:S==="always"}),elements:{reference:P.anchor},middleware:[Jpe({mainAxis:d+N,alignmentAxis:m}),b&&Zpe({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?eme():void 0,...F}),b&&Ype({...F}),tme({...F,apply:({elements:q,rects:ne,availableWidth:je,availableHeight:Se})=>{const{width:me,height:be}=ne.reference,ke=q.floating.style;ke.setProperty("--radix-popper-available-width",`${je}px`),ke.setProperty("--radix-popper-available-height",`${Se}px`),ke.setProperty("--radix-popper-anchor-width",`${me}px`),ke.setProperty("--radix-popper-anchor-height",`${be}px`)}}),M&&_me({element:M,padding:p}),Tme({arrowWidth:L,arrowHeight:N}),_&&Qpe({strategy:"referenceHidden",...F})]}),[de,wt]=UF(se),ht=hr(E);Hi(()=>{_e&&(ht==null||ht())},[_e,ht]);const Be=(o=te.arrow)===null||o===void 0?void 0:o.x,Ue=(i=te.arrow)===null||i===void 0?void 0:i.y,_t=((a=te.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[jn,qt]=g.useState();return Hi(()=>{O&&qt(window.getComputedStyle(O).zIndex)},[O]),g.createElement("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:_e?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:jn,"--radix-popper-transform-origin":[(s=te.transformOrigin)===null||s===void 0?void 0:s.x,(u=te.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:e.dir},g.createElement(Ome,{scope:c,placedSide:de,onArrowChange:U,arrowX:Be,arrowY:Ue,shouldHideArrow:_t},g.createElement(bt.div,Ht({"data-side":de,"data-align":wt},x,{ref:R,style:{...x.style,animation:_e?void 0:"none",opacity:(l=te.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}}))))});function $me(e){return e!==null}const Tme=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,i,a;const{placement:s,rects:u,middlewareData:l}=t,f=((n=l.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,d=f?0:e.arrowWidth,h=f?0:e.arrowHeight,[m,p]=UF(s),b={start:"0%",center:"50%",end:"100%"}[p],v=((r=(o=l.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+d/2,y=((i=(a=l.arrow)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0)+h/2;let w="",_="";return m==="bottom"?(w=f?b:`${v}px`,_=`${-h}px`):m==="top"?(w=f?b:`${v}px`,_=`${u.floating.height+h}px`):m==="right"?(w=`${-h}px`,_=f?b:`${y}px`):m==="left"&&(w=`${u.floating.width+h}px`,_=f?b:`${y}px`),{data:{x:w,y:_}}}});function UF(e){const[t,n="center"]=e.split("-");return[t,n]}const Rme=xme,kme=Cme,Mme=Ame,VF="Popover",[WF,OEe]=$l(VF,[LF]),eP=LF(),[Ime,Xl]=WF(VF),Dme=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:a=!1}=e,s=eP(t),u=g.useRef(null),[l,c]=g.useState(!1),[f=!1,d]=Xv({prop:r,defaultProp:o,onChange:i});return g.createElement(Rme,s,g.createElement(Ime,{scope:t,contentId:UL(),triggerRef:u,open:f,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),hasCustomAnchor:l,onCustomAnchorAdd:g.useCallback(()=>c(!0),[]),onCustomAnchorRemove:g.useCallback(()=>c(!1),[]),modal:a},n))},jme="PopoverTrigger",Nme=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Xl(jme,n),i=eP(n),a=Rn(t,o.triggerRef),s=g.createElement(bt.button,Ne({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":HF(o.open)},r,{ref:a,onClick:Pt(e.onClick,o.onOpenToggle)}));return o.hasCustomAnchor?s:g.createElement(kme,Ne({asChild:!0},i),s)}),zF="PopoverPortal",[Lme,Fme]=WF(zF,{forceMount:void 0}),Bme=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=Xl(zF,t);return g.createElement(Lme,{scope:t,forceMount:n},g.createElement(cd,{present:n||i.open},g.createElement(_D,{asChild:!0,container:o},r)))},Xf="PopoverContent",Ume=g.forwardRef((e,t)=>{const n=Fme(Xf,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=Xl(Xf,e.__scopePopover);return g.createElement(cd,{present:r||i.open},i.modal?g.createElement(Vme,Ne({},o,{ref:t})):g.createElement(Wme,Ne({},o,{ref:t})))}),Vme=g.forwardRef((e,t)=>{const n=Xl(Xf,e.__scopePopover),r=g.useRef(null),o=Rn(t,r),i=g.useRef(!1);return g.useEffect(()=>{const a=r.current;if(a)return eF(a)},[]),g.createElement(lhe,{as:rl,allowPinchZoom:!0},g.createElement(KF,Ne({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pt(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),i.current||(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:Pt(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,u=s.button===0&&s.ctrlKey===!0,l=s.button===2||u;i.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:Pt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})))}),Wme=g.forwardRef((e,t)=>{const n=Xl(Xf,e.__scopePopover),r=g.useRef(!1),o=g.useRef(!1);return g.createElement(KF,Ne({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,i),!i.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),i.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:i=>{var a,s;(a=e.onInteractOutside)===null||a===void 0||a.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=i.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(u))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}}))}),KF=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:l,onInteractOutside:c,...f}=e,d=Xl(Xf,n),h=eP(n);return Mde(),g.createElement(Cde,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i},g.createElement(bD,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:c,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:l,onDismiss:()=>d.onOpenChange(!1)},g.createElement(Mme,Ne({"data-state":HF(d.open),role:"dialog",id:d.contentId},h,f,{ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function HF(e){return e?"open":"closed"}const zme=Dme,Kme=Nme,Hme=Bme,qF=Ume,qme=zme,Gme=Kme,GF=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>C.jsx(Hme,{children:C.jsx(qF,{ref:o,align:t,className:Oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),sideOffset:n,...r})}));GF.displayName=qF.displayName;const iR=({options:e,placeholder:t,onSelect:n,defaultOption:r})=>{var u;const[o,i]=g.useState(!1),[a,s]=g.useState(r==null?void 0:r.value);return C.jsxs(qme,{onOpenChange:i,open:o,children:[C.jsx(Gme,{asChild:!0,children:C.jsxs(ye,{"aria-expanded":o,className:"w-[200px] justify-between",role:"combobox",variant:"outline",children:[a?(u=e.find(l=>l.value===a))==null?void 0:u.label:t,C.jsx(RW,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),C.jsx(GF,{className:"w-[200px] p-0",children:C.jsxs(_F,{className:"max-h-[var(--radix-popover-content-available-height)]",children:[C.jsx(SF,{placeholder:t}),C.jsx(EF,{children:"Nothing found."}),C.jsx(xF,{children:e.map(l=>C.jsxs(PF,{onSelect:c=>{var d;const f=(d=e.find(h=>h.label.toLowerCase()===c))==null?void 0:d.value;f&&(n(l),s(f===a?"":f),i(!1))},value:l.label,children:[C.jsx(TW,{className:Oe("mr-2 h-4 w-4",a===l.value?"opacity-100":"opacity-0")}),l.label]},l.value))})]})})]})},aR=({className:e,...t})=>C.jsx("div",{className:Oe("animate-pulse rounded-md bg-primary/10",e),...t}),YF=({defaultLearnLanguage:e,defaultNativeLanguage:t})=>{const[n,r]=g.useState(null),[o,i]=g.useState(t),[a,s]=g.useState(e),u=Mr.useRxCollection("settings"),l=ln();return g.useEffect(()=>{Lt("translation/languages").then(({data:c})=>{c&&r(Object.keys(c).map(f=>({value:f,label:c[f]})))})},[]),n?C.jsxs("form",{className:"flex flex-col gap-4",onSubmit:async c=>{c.preventDefault(),await(u==null?void 0:u.upsert({id:"settings",nativeLanguage:o,learnLanguage:a,cardsFront:"native"})),l("/cards")},children:[C.jsx(iR,{defaultOption:o,onSelect:i,options:n,placeholder:"Native language"}),C.jsx(iR,{defaultOption:a,onSelect:s,options:n,placeholder:"Language to learn"}),C.jsx(ye,{disabled:!o||!a,type:"submit",children:"Save"})]}):C.jsxs("div",{className:"flex flex-col gap-4",children:[C.jsx(aR,{className:"h-10 w-[200px]"}),C.jsx(aR,{className:"h-10 w-[200px]"}),C.jsx(ye,{disabled:!0,children:"Save"})]})},Yme=g.forwardRef((e,t)=>g.createElement(bt.label,Ne({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),QF=Yme,Qme=jE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Au=g.forwardRef(({className:e,...t},n)=>C.jsx(QF,{ref:n,className:Oe(Qme(),e),...t}));Au.displayName=QF.displayName;const tP=g.forwardRef(({className:e,...t},n)=>C.jsx("textarea",{ref:n,className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t}));tP.displayName="Textarea";const uS=({children:e})=>C.jsx("main",{className:"flex h-full justify-center gap-4",children:C.jsx("section",{className:"flex h-full w-full max-w-md grow flex-col justify-end gap-4 overflow-auto p-2 md:justify-center",children:e})}),XF=g.createContext(void 0),Cb=()=>g.useContext(XF),Xme=({children:e})=>{const[t,n]=g.useState(),r=ln();return g.useEffect(()=>{localStorage.getItem(Yn)&&Lt("user/me").then(({data:o,res:i})=>{var a,s;i.status>=400||(o!=null&&o.user&&!((s=(a=o==null?void 0:o.user)==null?void 0:a.subscription)!=null&&s.id)&&r("/subscription",{replace:!0}),o!=null&&o.jwt&&localStorage.setItem(Yn,o==null?void 0:o.jwt),n(o==null?void 0:o.user))})},[]),C.jsx(XF.Provider,{value:{user:t,setUser:n},children:e})},Jme=()=>{const[e,t]=g.useState(!1),[n,r]=g.useState(!1),{user:o}=Cb(),{toast:i}=Fr(),a=s=>{var h,m,p,b;s.preventDefault();const u=s.currentTarget,l=(h=u.elements.namedItem("name"))==null?void 0:h.value,c=(m=u.elements.namedItem("email"))==null?void 0:m.value,f=(p=u.elements.namedItem("subject"))==null?void 0:p.value,d=(b=u.elements.namedItem("message"))==null?void 0:b.value;t(!0),Lt("/contact",{body:JSON.stringify({username:l||(o==null?void 0:o.username),email:c||(o==null?void 0:o.email),subject:f,message:d}),method:"POST"}).then(({res:v})=>{if(v.status<400)return r(!0);i({variant:"destructive",title:"Something went wrong"})}).finally(()=>t(!1))};return n?C.jsxs(uS,{children:[C.jsx("h2",{className:"text-center text-2xl font-bold",children:"Thank you for reaching out!"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Your message has been received, and we'll get back to you as soon as possible. We appreciate your interest and look forward to assisting you."}),C.jsx(ye,{variant:"outline",asChild:!0,children:C.jsx(Ye,{to:"/settings",children:"Back to settings"})})]}):C.jsxs(uS,{children:[C.jsx("h2",{className:"text-center text-2xl font-bold",children:"Contact Form"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Reach out to us by completing the form below. We'll respond promptly to assist you."}),C.jsxs("form",{className:"flex flex-col gap-3",onSubmit:a,children:[!(o!=null&&o.id)&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx(Au,{htmlFor:"name",children:"Name"}),C.jsx(on,{id:"name",name:"name",placeholder:"Enter your name",required:!0})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx(Au,{htmlFor:"email",children:"Email"}),C.jsx(on,{id:"email",name:"email",placeholder:"Enter your email",type:"email",required:!0})]})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx(Au,{htmlFor:"subject",children:"Subject"}),C.jsx(on,{id:"subject",name:"subject",placeholder:"Enter the subject",required:!0})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx(Au,{htmlFor:"message",children:"Message"}),C.jsx(tP,{className:"min-h-[100px]",id:"message",name:"message",placeholder:"Enter your message",required:!0})]}),C.jsx(mh,{className:"w-full",isLoading:e,type:"submit",children:"Submit Your Message"})]}),C.jsx(ye,{variant:"outline",asChild:!0,children:C.jsx(Ye,{to:"/settings",children:"Back"})})]})},pv="app-was-installed",JF=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,ZF=()=>/^((?!chrome|android|CriOS).)*safari/i.test(navigator.userAgent),nP=()=>"standalone"in window.navigator&&!!window.navigator.standalone,Zme=()=>{const[e,t]=g.useState(!1),n=ln();return g.useEffect(()=>{const r=JF()&&ZF()&&!localStorage.getItem(pv)&&!nP();t(r),r||n("/")},[]),e?C.jsxs("main",{className:"flex h-full w-full flex-col items-center justify-end gap-10",children:[C.jsxs("section",{className:"flex flex-col items-center gap-2",children:[C.jsx("h3",{className:"max-w-xs text-center text-xl",children:"Install this application on your home screen for a better experience"}),C.jsxs("p",{className:"flex items-center gap-3",children:["Tap ",C.jsx(dde,{className:"stroke-blue-500"})]}),"then",C.jsxs("p",{className:"flex items-center gap-3",children:["Add to Home Screen ",C.jsx(lde,{})]})]}),C.jsxs("section",{className:"flex flex-col gap-3",children:[C.jsx(ye,{className:"w-[200px]",onClick:()=>localStorage.setItem(pv,"true"),variant:"secondary",asChild:!0,children:C.jsx(Ye,{to:"/",children:"Already installed"})}),C.jsx(ye,{className:"w-[200px]",variant:"outline",asChild:!0,children:C.jsx(Ye,{to:"/settings",children:"Back"})})]})]}):null},eve=()=>{const{result:[e],isFetching:t}=Mr.useRxData("settings",n=>n.find({}));return t?null:C.jsxs("main",{className:"flex h-full w-full flex-col items-center justify-center gap-4",children:[C.jsx(YF,{defaultLearnLanguage:e==null?void 0:e.learnLanguage,defaultNativeLanguage:e==null?void 0:e.nativeLanguage}),C.jsx(ye,{className:"w-[200px]",variant:"outline",asChild:!0,children:C.jsx(Ye,{to:"/settings",children:"Back"})})]})},mv=()=>localStorage.getItem(Yn),tve="isWebAuthnRegistered",e3=e=>`${tve}_${e}`,nve=e=>localStorage.getItem(e3(e))==="true",sR=(e,t)=>localStorage.setItem(e3(e),`${t}`),rve=()=>{const{toast:e}=Fr(),{user:t}=Cb(),[n,r]=g.useState(!1);if(!Kf()||!t||nve(t.email)||n)return null;const o=async()=>{try{const{data:i}=await Lt("/webauthn/register");if(!i)return;const a=await Cce(i),{data:{verified:s}={}}=await Lt("/webauthn/register-complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(s)return sR((t==null?void 0:t.email)||"",!0),r(!0),e({title:"Authenticator was registered"});e({variant:"destructive",title:"Something went wrong"})}catch(i){if(typeof i=="object"&&i&&"name"in i&&i.name==="InvalidStateError")return console.error("Authenticator was probably already registered"),sR((t==null?void 0:t.email)||"",!0),r(!0);console.error(i),e({variant:"destructive",title:i.message||"Something went wrong"})}};return C.jsx(ye,{onClick:o,type:"button",children:"Enable passwordless login"})},ove=()=>{const{beforeInstallPromptEvent:e,reset:t}=y7();return!e||nP()?null:C.jsx(ye,{onClick:async()=>{e.prompt();const{outcome:n}=await e.userChoice;n!=="dismissed"&&(localStorage.setItem(pv,"true"),t())},variant:"secondary",children:"Install"})};function ive(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const t3="Switch",[ave,AEe]=$l(t3),[sve,uve]=ave(t3),lve=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:i,required:a,disabled:s,value:u="on",onCheckedChange:l,...c}=e,[f,d]=g.useState(null),h=Rn(t,y=>d(y)),m=g.useRef(!1),p=f?!!f.closest("form"):!0,[b=!1,v]=Xv({prop:o,defaultProp:i,onChange:l});return g.createElement(sve,{scope:n,checked:b,disabled:s},g.createElement(bt.button,Ne({type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":n3(b),"data-disabled":s?"":void 0,disabled:s,value:u},c,{ref:h,onClick:Pt(e.onClick,y=>{v(w=>!w),p&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})),p&&g.createElement(dve,{control:f,bubbles:!m.current,name:r,value:u,checked:b,required:a,disabled:s,style:{transform:"translateX(-100%)"}}))}),cve="SwitchThumb",fve=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=uve(cve,n);return g.createElement(bt.span,Ne({"data-state":n3(o.checked),"data-disabled":o.disabled?"":void 0},r,{ref:t}))}),dve=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,i=g.useRef(null),a=ive(n),s=DF(t);return g.useEffect(()=>{const u=i.current,l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"checked").set;if(a!==n&&f){const d=new Event("click",{bubbles:r});f.call(u,n),u.dispatchEvent(d)}},[a,n,r]),g.createElement("input",Ne({type:"checkbox","aria-hidden":!0,defaultChecked:n},o,{tabIndex:-1,ref:i,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function n3(e){return e?"checked":"unchecked"}const r3=lve,hve=fve,o3=g.forwardRef(({className:e,...t},n)=>C.jsx(r3,{className:Oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:C.jsx(hve,{className:Oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));o3.displayName=r3.displayName;const pve=()=>{const e=g.useId(),[t,n]=g.useState(cL());return C.jsxs("section",{className:"flex items-center gap-2",children:[C.jsx(o3,{checked:t,id:e,onCheckedChange:r=>{if(n(r),r)return z_("#000"),localStorage.theme="dark",document.documentElement.classList.add("dark");z_("#fff"),localStorage.theme="light",document.documentElement.classList.remove("dark")}}),C.jsx(Au,{htmlFor:e,children:"Dark Mode"})]})},mve=()=>!JF()||!ZF()||localStorage.getItem(pv)||nP()?null:C.jsx(ye,{variant:"secondary",asChild:!0,children:C.jsx(Ye,{to:"ios-install",children:"Install"})}),vve=()=>{const e=ln();return C.jsxs(uS,{children:[C.jsx(ye,{asChild:!0,children:C.jsx(Ye,{to:"/settings/languages",children:"Change languages"})}),C.jsx(ye,{asChild:!0,children:C.jsx(Ye,{to:"/settings/contact-us",children:"Contact us"})}),!mv()&&C.jsx(ye,{asChild:!0,children:C.jsx(Ye,{to:"/auth/login",children:"Login to use advanced"})}),C.jsx(rve,{}),C.jsx(ove,{}),C.jsx(mve,{}),mv()&&C.jsx(ye,{onClick:()=>{localStorage.removeItem(Yn),e("/auth/login")},variant:"secondary",children:"Logout"}),C.jsx(pve,{}),C.jsx(Ye,{className:"self-end whitespace-nowrap text-base font-bold underline",to:"/privacy-policy",children:"Privacy Policy"})]})},gve={children:[{path:"",element:C.jsx(vve,{})},{path:"languages",element:C.jsx(eve,{})},{path:"ios-install",element:C.jsx(Zme,{})},{path:"contact-us",element:C.jsx(Jme,{})}]},yve=[{id:1,name:"Basic Plan",price:0,translationCount:4e3,textCount:3e3,speechToTextMs:2e6},{id:2,name:"Free Plan",price:0,translationCount:0,textCount:0,speechToTextMs:0}],i3=g.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:Oe("rounded-xl border bg-card text-card-foreground shadow",e),...t}));i3.displayName="Card";const a3=g.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 md:p-6 p-4",e),...t}));a3.displayName="CardHeader";const s3=g.forwardRef(({className:e,...t},n)=>C.jsx("h3",{ref:n,className:Oe("font-semibold leading-none tracking-tight text-center text-lg",e),...t}));s3.displayName="CardTitle";const bve=g.forwardRef(({className:e,...t},n)=>C.jsx("p",{ref:n,className:Oe("text-sm text-muted-foreground",e),...t}));bve.displayName="CardDescription";const u3=g.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:Oe("md:p-6 p-4 pt-0",e),...t}));u3.displayName="CardContent";const wve=g.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:Oe("flex items-center md:p-6 p-4 pt-0",e),...t}));wve.displayName="CardFooter";const _ve=({bulletPoints:e,price:t,title:n,crossedPrice:r,onSelect:o,className:i})=>C.jsxs(i3,{className:jt("w-full max-w-md transition duration-300 hover:scale-105 hover:shadow-lg",i),children:[C.jsx(a3,{children:C.jsx(s3,{children:n})}),C.jsxs(u3,{children:[C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsxs("div",{className:"flex gap-2 max-md:items-end md:flex-col",children:[C.jsx("div",{className:"text-4xl font-bold",children:`$${t}`}),C.jsx("div",{className:"text-sm text-gray-500",children:"per month"})]}),!!r&&C.jsx("div",{className:"text-sm text-gray-500 line-through",children:`$${r}/month`})]}),!!e.length&&C.jsx("ul",{className:"grid gap-2 py-4",children:e.map(({label:a,isNegative:s})=>C.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s?C.jsx(pde,{className:"stroke-red-700"}):C.jsx(BL,{className:"stroke-green-700"}),a]},a))}),C.jsx(ye,{className:"w-full",onClick:o,children:"Get Started"})]})]}),Sve=e=>e==="Free Plan"?[{label:"Access to Basic Features"},{label:"Clean and Simple Interface"},{label:"No Data Syncing",isNegative:!0},{label:"No Translation Suggestions",isNegative:!0},{label:"No AI Enhancements",isNegative:!0}]:[{label:"AI Enhancements"},{label:"Cross-Device Syncing"},{label:"Translation Suggestions"},{label:"Advanced Features Limited",isNegative:!0}],Eve=()=>{const{toast:e}=Fr(),t=ln();return C.jsxs("main",{className:"fixed flex h-full flex-col items-center gap-6 overflow-auto p-6",children:[C.jsxs("header",{className:"text-center",children:[C.jsx("h1",{className:"text-4xl font-bold",children:"Select Your Plan"}),C.jsx("p",{className:"text-lg text-gray-500",children:"Choose the plan that best suits you"})]}),C.jsx("section",{className:"flex w-full flex-wrap justify-center gap-4 md:gap-8",children:yve.map(n=>C.jsx(_ve,{bulletPoints:Sve(n.name),className:jt(n.name==="Basic Plan"&&"bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-blue-900 dark:to-indigo-900"),crossedPrice:n.name==="Basic Plan"?1:void 0,onSelect:()=>Lt("subscription",{method:"POST",body:JSON.stringify({planId:n.id}),onBadResponse:()=>e({variant:"destructive",title:"Something went wrong"})}).then(({data:r})=>{r!=null&&r.jwtToken&&localStorage.setItem(Yn,r.jwtToken),t("cards")}),price:0,title:n.name},n.id))})]})};let yp;const xve=new Uint8Array(16);function Pve(){if(!yp&&(yp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yp(xve)}const Ut=[];for(let e=0;e<256;++e)Ut.push((e+256).toString(16).slice(1));function Cve(e,t=0){return Ut[e[t+0]]+Ut[e[t+1]]+Ut[e[t+2]]+Ut[e[t+3]]+"-"+Ut[e[t+4]]+Ut[e[t+5]]+"-"+Ut[e[t+6]]+Ut[e[t+7]]+"-"+Ut[e[t+8]]+Ut[e[t+9]]+"-"+Ut[e[t+10]]+Ut[e[t+11]]+Ut[e[t+12]]+Ut[e[t+13]]+Ut[e[t+14]]+Ut[e[t+15]]}const Ove=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uR={randomUUID:Ove};function Ave(e,t,n){if(uR.randomUUID&&!t&&!e)return uR.randomUUID();e=e||{};const r=e.random||(e.rng||Pve)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=r[o];return t}return Cve(r)}const lR=({isLoading:e,className:t})=>C.jsx("div",{className:jt("h-0.5 w-full",e?"animate-[horizontalBgSlide_1s_linear_infinite] bg-[linear-gradient(to_right,theme(colors.primary.DEFAULT),theme(colors.secondary.DEFAULT),theme(colors.destructive.DEFAULT),theme(colors.primary.DEFAULT))] bg-[length:200%]":"bg-transparent",t)}),l3=()=>{const[e,t]=g.useState(!0);return g.useEffect(()=>{const n=()=>t(!1),r=()=>t(!0);return window.addEventListener("offline",n),window.addEventListener("online",r),()=>{window.removeEventListener("offline",n),window.removeEventListener("online",r)}},[]),e},$ve=({translations:e,onSuggestionSelect:t,className:n})=>{const[r,o]=g.useState(0);return g.useEffect(()=>{const i=a=>{a.code==="ArrowUp"&&o(s=>Math.max(0,s-1)),a.code==="ArrowDown"&&o(s=>Math.min(e.length-1,s+1)),a.code==="Enter"&&(a.stopPropagation(),a.preventDefault(),t(e[r]))};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[r]),C.jsx("ul",{className:jt("border-input shadow-perimeter dark-border-slate-800 absolute -top-1 z-50 flex w-full -translate-y-full flex-wrap justify-between gap-1 overflow-hidden rounded-md border border-slate-500 bg-white dark:bg-slate-800 dark:shadow-slate-700 sm:flex-col",n),children:e.map((i,a)=>C.jsx("li",{className:"grow basis-1/4",children:C.jsx("button",{className:Oe("border-input h-full w-full sm:border-b px-2 py-1 sm:text-start text-center",a===r?"md:bg-blue-200 md:dark:bg-slate-500":"hover:bg-blue-100 dark:bg-slate-800 dark:hover:bg-slate-600"),onClick:()=>{t(i)},onMouseDown:s=>s.preventDefault(),tabIndex:-1,children:i})},i))})},Tve=["af-ZA","am-ET","ar-SA","az-AZ","bg-BG","bn-IN","bs-BA","ca-ES","cs-CZ","cy-GB","da-DK","de-DE","el-GR","en-US","es-ES","et-EE","eu-ES","fa-IR","fi-FI","fil-PH","fr-FR","ga-IE","gl-ES","gu-IN","he-IL","hi-IN","hr-HR","hu-HU","hy-AM","id-ID","is-IS","it-IT","ja-JP","jv-ID","ka-GE","kk-KZ","km-KH","kn-IN","ko-KR","lo-LA","lt-LT","lv-LV","mk-MK","ml-IN","mn-MN","mr-IN","ms-MY","mt-MT","my-MM","nb-NO","ne-NP","nl-NL","pa-IN","pl-PL","ps-AF","pt-PT","ro-RO","ru-RU","si-LK","sk-SK","sl-SI","so-SO","sq-AL","sr-RS","sv-SE","sw-KE","ta-IN","te-IN","th-TH","tr-TR","uk-UA","ur-IN","uz-UZ","vi-VN","wuu-CN","yue-CN","zh-CN","zu-ZA"],Rve=Object.fromEntries(Tve.map(e=>[e.split("-")[0],e])),cR=e=>Rve[e],kve=e=>t=>{const n=e(t);return t.add(n),n},Mve=e=>(t,n)=>(e.set(t,n),n),fR=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,c3=536870912,dR=c3*2,Ive=(e,t)=>n=>{const r=t.get(n);let o=r===void 0?n.size:r<dR?r+1:0;if(!n.has(o))return e(n,o);if(n.size<c3){for(;n.has(o);)o=Math.floor(Math.random()*dR);return e(n,o)}if(n.size>fR)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(o);)o=Math.floor(Math.random()*fR);return e(n,o)},f3=new WeakMap,Dve=Mve(f3),rP=Ive(Dve,f3),jve=kve(rP),Nve=e=>typeof e.start=="function",hR=new WeakMap,Lve=e=>({...e,connect:({call:t})=>async()=>{const{port1:n,port2:r}=new MessageChannel,o=await t("connect",{port:n},[n]);return hR.set(r,o),r},disconnect:({call:t})=>async n=>{const r=hR.get(n);if(r===void 0)throw new Error("The given port is not connected.");await t("disconnect",{portId:r})},isSupported:({call:t})=>()=>t("isSupported")}),ww=new WeakMap,Fve=e=>{if(ww.has(e))return ww.get(e);const t=new Map;return ww.set(e,t),t},d3=e=>{const t=Lve(e);return n=>{const r=Fve(n);n.addEventListener("message",({data:s})=>{const{id:u}=s;if(u!==null&&r.has(u)){const{reject:l,resolve:c}=r.get(u);r.delete(u),s.error===void 0?c(s.result):l(new Error(s.error.message))}}),Nve(n)&&n.start();const o=(s,u=null,l=[])=>new Promise((c,f)=>{const d=rP(r);r.set(d,{reject:f,resolve:c}),u===null?n.postMessage({id:d,method:s},l):n.postMessage({id:d,method:s,params:u},l)}),i=(s,u,l=[])=>{n.postMessage({id:null,method:s,params:u},l)};let a={};for(const[s,u]of Object.entries(t))a={...a,[s]:u({call:o,notify:i})};return{...a}}},pR=new Set,Bve=d3({encode:({call:e})=>async(t,n)=>{const r=await e("encode",{encoderId:t,timeslice:n});return pR.delete(t),r},instantiate:({call:e})=>async(t,n)=>{const r=jve(pR),o=await e("instantiate",{encoderId:r,mimeType:t,sampleRate:n});return{encoderId:r,port:o}},register:({call:e})=>t=>e("register",{port:t},[t])}),Uve=e=>{const t=new Worker(e);return Bve(t)},Vve=`(()=>{var e={312:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),c=void 0===a?r.size:a<s?a+1:0;if(!r.has(c))return e(r,c);if(r.size<o){for(;r.has(c);)c=Math.floor(Math.random()*s);return e(r,c)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(c);)c=Math.floor(Math.random()*n);return e(r,c)}},c=new WeakMap,i=r(c),l=a(i,c),u=t(l);e.addUniqueNumber=u,e.generateUniqueNumber=l}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o('The handler of the method called "'.concat(t,'" returned an unexpected result.'),e),a=(t,r)=>async a=>{let{data:{id:c,method:i,params:l}}=a;const u=r[i];try{if(void 0===u)throw(e=>o('The requested method called "'.concat(e,'" is not supported.'),n))(i);const r=void 0===l?u():u(l);if(void 0===r)throw(t=>o('The handler of the method called "'.concat(t,'" returned no required result.'),e))(i);const a=r instanceof Promise?await r:r;if(null===c){if(void 0!==a.result)throw s(i)}else{if(void 0===a.result)throw s(i);const{result:e,transferables:r=[]}=a;t.postMessage({id:c,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:c})}};var c=r(312);const i=new Map,l=(e,r,n)=>({...r,connect:t=>{let{port:n}=t;n.start();const o=e(n,r),s=(0,c.generateUniqueNumber)(i);return i.set(s,(()=>{o(),n.close(),i.delete(s)})),{result:s}},disconnect:e=>{let{portId:r}=e;const n=i.get(r);if(void 0===n)throw(e=>o('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),t))(r);return n(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),u=function(e,t){const r=l(u,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=a(e,r);return e.addEventListener("message",n),()=>e.removeEventListener("message",n)},d=e=>{e.onmessage=null,e.close()},h=new WeakMap,f=new WeakMap,p=(e=>{const t=(r=e,{...r,connect:e=>{let{call:t}=e;return async()=>{const{port1:e,port2:r}=new MessageChannel,n=await t("connect",{port:e},[e]);return h.set(r,n),r}},disconnect:e=>{let{call:t}=e;return async e=>{const r=h.get(e);if(void 0===r)throw new Error("The given port is not connected.");await t("disconnect",{portId:r})}},isSupported:e=>{let{call:t}=e;return()=>t("isSupported")}});var r;return e=>{const r=(e=>{if(f.has(e))return f.get(e);const t=new Map;return f.set(e,t),t})(e);e.addEventListener("message",(e=>{let{data:t}=e;const{id:n}=t;if(null!==n&&r.has(n)){const{reject:e,resolve:o}=r.get(n);r.delete(n),void 0===t.error?o(t.result):e(new Error(t.error.message))}})),(e=>"function"==typeof e.start)(e)&&e.start();const n=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(((s,a)=>{const i=(0,c.generateUniqueNumber)(r);r.set(i,{reject:a,resolve:s}),null===n?e.postMessage({id:i,method:t},o):e.postMessage({id:i,method:t,params:n},o)}))},o=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.postMessage({id:null,method:t,params:r},n)};let s={};for(const[e,r]of Object.entries(t))s={...s,[e]:r({call:n,notify:o})};return{...s}}})({characterize:e=>{let{call:t}=e;return()=>t("characterize")},encode:e=>{let{call:t}=e;return(e,r)=>t("encode",{recordingId:e,timeslice:r})},record:e=>{let{call:t}=e;return async(e,r,n)=>{await t("record",{recordingId:e,sampleRate:r,typedArrays:n},n.map((e=>{let{buffer:t}=e;return t})))}}}),w=async(e,t)=>{const r=p(t),n=await r.characterize(),o=n.toString();if(e.has(o))throw new Error("There is already an encoder stored which handles exactly the same mime types.");return e.set(o,[n,r]),n},m=new Map,g=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error("There was no instance of an encoder stored with the given id.");return r})(m),v=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(m,g),y=new Map,M=((e,t)=>r=>{const[n,o,s,a]=t(r);return s?new Promise((t=>{o.onmessage=s=>{let{data:c}=s;0===c.length?(e(o),t(n.encode(r,null))):n.record(r,a,c)}})):n.encode(r,null)})(d,v),E=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error("There is no encoder registered which could handle the given mimeType.")})(y),b=((e,t,r)=>(n,o,s)=>{if(t.has(n))throw new Error('There is already an encoder registered with an id called "'.concat(n,'".'));const a=r(o),{port1:c,port2:i}=new MessageChannel,l=[a,c,!0,s];return t.set(n,l),c.onmessage=t=>{let{data:r}=t;0===r.length?(e(c),l[2]=!1):a.record(n,s,r.map((e=>"number"==typeof e?new Float32Array(e):e)))},i})(d,m,E),T=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(g);u(self,{encode:async e=>{let{encoderId:t,timeslice:r}=e;const n=null===r?await M(t):await T(t,r);return{result:n,transferables:n}},instantiate:e=>{let{encoderId:t,mimeType:r,sampleRate:n}=e;const o=b(t,r,n);return{result:o,transferables:[o]}},register:async e=>{let{port:t}=e;return{result:await w(y,t)}}})})()})();`,Wve=new Blob([Vve],{type:"application/javascript; charset=utf-8"}),h3=URL.createObjectURL(Wve),oP=Uve(h3),vv=oP.encode,p3=oP.instantiate,zve=oP.register;URL.revokeObjectURL(h3);const Kve=e=>(t,n)=>{if(e===null)throw new Error("A native BlobEvent could not be created.");return new e(t,n)},Hve=(e,t)=>(n,r,o)=>{const i=[];let a=r,s=0;for(;s<n.byteLength;)if(a===null){const u=t(n,s);if(u===null)break;const{length:l,type:c}=u;a=c,s+=l}else{const u=e(n,s,a,o);if(u===null)break;const{content:l,length:c}=u;a=null,s+=c,l!==null&&i.push(l)}return{contents:i,currentElementType:a,offset:s}},qve=(e,t)=>class{constructor(r=null){this._listeners=new WeakMap,this._nativeEventTarget=r===null?e():r}addEventListener(r,o,i){if(o!==null){let a=this._listeners.get(o);a===void 0&&(a=t(this,o),typeof o=="function"&&this._listeners.set(o,a)),this._nativeEventTarget.addEventListener(r,a,i)}}dispatchEvent(r){return this._nativeEventTarget.dispatchEvent(r)}removeEventListener(r,o,i){const a=o===null?void 0:this._listeners.get(o);this._nativeEventTarget.removeEventListener(r,a===void 0?null:a,i)}},Gve=e=>()=>{if(e===null)throw new Error("A native EventTarget could not be created.");return e.document.createElement("p")},Yve=(e="")=>{try{return new DOMException(e,"InvalidModificationError")}catch(t){return t.code=13,t.message=e,t.name="InvalidModificationError",t}},Qve=()=>{try{return new DOMException("","InvalidStateError")}catch(e){return e.code=11,e.name="InvalidStateError",e}},Xve=(e,t,n,r,o,i,a)=>class extends i{constructor(u,l={}){const{mimeType:c}=l;if(a!==null&&(c===void 0||a.isTypeSupported!==void 0&&a.isTypeSupported(c))){const f=e(a,u,l);super(f),this._internalMediaRecorder=f}else if(c!==void 0&&o.some(f=>f.test(c)))super(),a!==null&&a.isTypeSupported!==void 0&&a.isTypeSupported("audio/webm;codecs=pcm")?this._internalMediaRecorder=r(this,a,u,c):this._internalMediaRecorder=n(this,u,c);else throw a!==null&&e(a,u,l),t();this._ondataavailable=null,this._onerror=null,this._onpause=null,this._onresume=null,this._onstart=null,this._onstop=null}get mimeType(){return this._internalMediaRecorder.mimeType}get ondataavailable(){return this._ondataavailable===null?this._ondataavailable:this._ondataavailable[0]}set ondataavailable(u){if(this._ondataavailable!==null&&this.removeEventListener("dataavailable",this._ondataavailable[1]),typeof u=="function"){const l=u.bind(this);this.addEventListener("dataavailable",l),this._ondataavailable=[u,l]}else this._ondataavailable=null}get onerror(){return this._onerror===null?this._onerror:this._onerror[0]}set onerror(u){if(this._onerror!==null&&this.removeEventListener("error",this._onerror[1]),typeof u=="function"){const l=u.bind(this);this.addEventListener("error",l),this._onerror=[u,l]}else this._onerror=null}get onpause(){return this._onpause===null?this._onpause:this._onpause[0]}set onpause(u){if(this._onpause!==null&&this.removeEventListener("pause",this._onpause[1]),typeof u=="function"){const l=u.bind(this);this.addEventListener("pause",l),this._onpause=[u,l]}else this._onpause=null}get onresume(){return this._onresume===null?this._onresume:this._onresume[0]}set onresume(u){if(this._onresume!==null&&this.removeEventListener("resume",this._onresume[1]),typeof u=="function"){const l=u.bind(this);this.addEventListener("resume",l),this._onresume=[u,l]}else this._onresume=null}get onstart(){return this._onstart===null?this._onstart:this._onstart[0]}set onstart(u){if(this._onstart!==null&&this.removeEventListener("start",this._onstart[1]),typeof u=="function"){const l=u.bind(this);this.addEventListener("start",l),this._onstart=[u,l]}else this._onstart=null}get onstop(){return this._onstop===null?this._onstop:this._onstop[0]}set onstop(u){if(this._onstop!==null&&this.removeEventListener("stop",this._onstop[1]),typeof u=="function"){const l=u.bind(this);this.addEventListener("stop",l),this._onstop=[u,l]}else this._onstop=null}get state(){return this._internalMediaRecorder.state}pause(){return this._internalMediaRecorder.pause()}resume(){return this._internalMediaRecorder.resume()}start(u){return this._internalMediaRecorder.start(u)}stop(){return this._internalMediaRecorder.stop()}static isTypeSupported(u){return a!==null&&a.isTypeSupported!==void 0&&a.isTypeSupported(u)||o.some(l=>l.test(u))}},Jve=e=>e!==null&&e.BlobEvent!==void 0?e.BlobEvent:null,Zve=e=>e===null||e.MediaRecorder===void 0?null:e.MediaRecorder,ege=e=>(t,n,r)=>{const o=new Map,i=new WeakMap,a=new WeakMap,s=[],u=new t(n,r),l=new WeakMap;return u.addEventListener("stop",({isTrusted:c})=>{c&&setTimeout(()=>s.shift())}),u.addEventListener=(c=>(f,d,h)=>{let m=d;if(typeof d=="function")if(f==="dataavailable"){const p=[];m=b=>{const[[v,y]=[!1,!1]]=s;v&&!y?p.push(b):d.call(u,b)},o.set(d,p),i.set(d,m)}else f==="error"?(m=p=>{p instanceof ErrorEvent?d.call(u,p):d.call(u,new ErrorEvent("error",{error:p.error}))},a.set(d,m)):f==="stop"&&(m=p=>{for(const[b,v]of o.entries())if(v.length>0){const[y]=v;v.length>1&&Object.defineProperty(y,"data",{value:new Blob(v.map(({data:w})=>w),{type:y.data.type})}),v.length=0,b.call(u,y)}d.call(u,p)},l.set(d,m));return c.call(u,f,m,h)})(u.addEventListener),u.removeEventListener=(c=>(f,d,h)=>{let m=d;if(typeof d=="function"){if(f==="dataavailable"){o.delete(d);const p=i.get(d);p!==void 0&&(m=p)}else if(f==="error"){const p=a.get(d);p!==void 0&&(m=p)}else if(f==="stop"){const p=l.get(d);p!==void 0&&(m=p)}}return c.call(u,f,m,h)})(u.removeEventListener),u.start=(c=>f=>{if(r.mimeType!==void 0&&r.mimeType.startsWith("audio/")&&n.getVideoTracks().length>0)throw e();return u.state==="inactive"&&s.push([f!==void 0,!0]),f===void 0?c.call(u):c.call(u,f)})(u.start),u.stop=(c=>()=>{u.state!=="inactive"&&(s[0][1]=!1),c.call(u)})(u.stop),u},lS=()=>{try{return new DOMException("","NotSupportedError")}catch(e){return e.code=9,e.name="NotSupportedError",e}},tge=e=>(t,n,r,o=2)=>{const i=e(t,n);if(i===null)return i;const{length:a,value:s}=i;if(r==="master")return{content:null,length:a};if(n+a+s>t.byteLength)return null;if(r==="binary"){const u=(s/Float32Array.BYTES_PER_ELEMENT-1)/o,l=Array.from({length:o},()=>new Float32Array(u));for(let c=0;c<u;c+=1){const f=c*o+1;for(let d=0;d<o;d+=1)l[d][c]=t.getFloat32(n+a+(f+d)*Float32Array.BYTES_PER_ELEMENT,!0)}return{content:l,length:a+s}}return{content:null,length:a+s}},nge=e=>(t,n)=>{const r=e(t,n);if(r===null)return r;const{length:o,value:i}=r;return i===35?{length:o,type:"binary"}:i===46||i===97||i===88713574||i===106212971||i===139690087||i===172351395||i===256095861?{length:o,type:"master"}:{length:o,type:"unknown"}},rge=e=>(t,n)=>{const r=e(t,n);if(r===null)return r;const o=n+Math.floor((r-1)/8);if(o+r>t.byteLength)return null;let a=t.getUint8(o)&(1<<8-r%8)-1;for(let s=1;s<r;s+=1)a=(a<<8)+t.getUint8(o+s);return{length:r,value:a}},mR=Symbol.observable||"@@observable";function oge(e){return Symbol.observable||(typeof e=="function"&&e.prototype&&e.prototype[Symbol.observable]?(e.prototype[mR]=e.prototype[Symbol.observable],delete e.prototype[Symbol.observable]):(e[mR]=e[Symbol.observable],delete e[Symbol.observable])),e}const bp=()=>{},vR=e=>{throw e};function ige(e){return e?e.next&&e.error&&e.complete?e:{complete:(e.complete??bp).bind(e),error:(e.error??vR).bind(e),next:(e.next??bp).bind(e)}:{complete:bp,error:vR,next:bp}}const age=e=>(t,n,r)=>e(o=>{const i=a=>o.next(a);return t.addEventListener(n,i,r),()=>t.removeEventListener(n,i,r)}),sge=(e,t)=>{const n=()=>{},r=o=>typeof o[0]=="function";return o=>{const i=(...a)=>{const s=o(r(a)?t({next:a[0]}):t(...a));return s!==void 0?s:n};return i[Symbol.observable]=()=>({subscribe:(...a)=>({unsubscribe:i(...a)})}),e(i)}},uge=sge(oge,ige),m3=age(uge),lge=(e,t,n)=>async r=>{const o=new e([n],{type:"application/javascript; charset=utf-8"}),i=t.createObjectURL(o);try{await r(i)}finally{t.revokeObjectURL(i)}},cge=e=>({data:t})=>{const{id:n}=t;if(n!==null){const r=e.get(n);if(r!==void 0){const{reject:o,resolve:i}=r;e.delete(n),t.error===void 0?i(t.result):o(new Error(t.error.message))}}},fge=e=>(t,n)=>(r,o=[])=>new Promise((i,a)=>{const s=e(t);t.set(s,{reject:a,resolve:i}),n.postMessage({id:s,...r},o)}),dge=(e,t,n,r)=>(o,i,a={})=>{const s=new o(i,"recorder-audio-worklet-processor",{...a,channelCountMode:"explicit",numberOfInputs:1,numberOfOutputs:0}),u=new Map,l=t(u,s.port),c=n(s.port,"message")(e(u));s.port.start();let f="inactive";return Object.defineProperties(s,{pause:{get(){return async()=>(r(["recording"],f),f="paused",l({method:"pause"}))}},port:{get(){throw new Error("The port of a RecorderAudioWorkletNode can't be accessed.")}},record:{get(){return async d=>(r(["inactive"],f),f="recording",l({method:"record",params:{encoderPort:d}},[d]))}},resume:{get(){return async()=>(r(["paused"],f),f="recording",l({method:"resume"}))}},stop:{get(){return async()=>{r(["paused","recording"],f),f="stopped";try{await l({method:"stop"})}finally{c()}}}}}),s},hge=(e,t)=>{if(!e.includes(t))throw new Error(`Expected the state to be ${e.map(n=>`"${n}"`).join(" or ")} but it was "${t}".`)},pge='(()=>{"use strict";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._numberOfChannels=0,this._state="inactive",this.port.onmessage=e=>{let{data:t}=e;"pause"===t.method?"active"===this._state||"recording"===this._state?(this._state="paused",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"record"===t.method?"inactive"===this._state?(this._encoderPort=t.params.encoderPort,this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"resume"===t.method?"paused"===this._state?(this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"stop"===t.method?"active"!==this._state&&"paused"!==this._state&&"recording"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(t.id):(this._stop(this._encoderPort),this._sendAcknowledgement(t.id)):"number"==typeof t.id&&this.port.postMessage({error:{code:-32601,message:"The requested method is not supported."},id:t.id})}}process(e){let[t]=e;if("inactive"===this._state||"paused"===this._state)return!0;if("active"===this._state){if(void 0===t)throw new Error("No channelData was received for the first input.");if(0===t.length)return!0;this._state="recording"}if("recording"===this._state&&null!==this._encoderPort){if(void 0===t)throw new Error("No channelData was received for the first input.");return 0===t.length?this._encoderPort.postMessage(Array.from({length:this._numberOfChannels},(()=>128))):(this._encoderPort.postMessage(t,t.map((e=>{let{buffer:t}=e;return t}))),this._numberOfChannels=t.length),!0}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:"The internal state does not allow to process the given message."},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state="stopped"}}e.parameterDescriptors=[],registerProcessor("recorder-audio-worklet-processor",e)})();',mge=lge(Blob,URL,pge),vge=dge(cge,fge(rP),m3,hge),gR=(e,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}),yR=(e,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:e}),cS=(e,t)=>({startTime:t,type:"setValue",value:e}),v3=(e,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:e}),g3=(e,t,{startTime:n,target:r,timeConstant:o})=>r+(t-r)*Math.exp((n-e)/o),$u=e=>e.type==="exponentialRampToValue",gv=e=>e.type==="linearRampToValue",_i=e=>$u(e)||gv(e),iP=e=>e.type==="setValue",bo=e=>e.type==="setValueCurve",yv=(e,t,n,r)=>{const o=e[t];return o===void 0?r:_i(o)||iP(o)?o.value:bo(o)?o.values[o.values.length-1]:g3(n,yv(e,t-1,o.startTime,r),o)},bR=(e,t,n,r,o)=>n===void 0?[r.insertTime,o]:_i(n)?[n.endTime,n.value]:iP(n)?[n.startTime,n.value]:bo(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,yv(e,t-1,n.startTime,o)],fS=e=>e.type==="cancelAndHold",dS=e=>e.type==="cancelScheduledValues",fi=e=>fS(e)||dS(e)?e.cancelTime:$u(e)||gv(e)?e.endTime:e.startTime,wR=(e,t,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((e-t)/(r-t)):0,_R=(e,t,n,{endTime:r,value:o})=>n+(e-t)/(r-t)*(o-n),gge=(e,t)=>{const n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]},yge=(e,{duration:t,startTime:n,values:r})=>{const o=(e-n)/t*(r.length-1);return gge(r,o)},wp=e=>e.type==="setTarget";class bge{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const n=fi(t);if(fS(t)||dS(t)){const r=this._automationEvents.findIndex(i=>dS(t)&&bo(i)?i.startTime+i.duration>=n:fi(i)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),fS(t)){const i=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&_i(o)){if(i!==void 0&&wp(i))throw new Error("The internal list is malformed.");const a=i===void 0?o.insertTime:bo(i)?i.startTime+i.duration:fi(i),s=i===void 0?this._defaultValue:bo(i)?i.values[i.values.length-1]:i.value,u=$u(o)?wR(n,a,s,o):_R(n,a,s,o),l=$u(o)?gR(u,n,this._currenTime):yR(u,n,this._currenTime);this._automationEvents.push(l)}if(i!==void 0&&wp(i)&&this._automationEvents.push(cS(this.getValue(n),n)),i!==void 0&&bo(i)&&i.startTime+i.duration>n){const a=n-i.startTime,s=(i.values.length-1)/i.duration,u=Math.max(2,1+Math.ceil(a*s)),l=a/(u-1)*s,c=i.values.slice(0,u);if(l<1)for(let f=1;f<u;f+=1){const d=l*f%1;c[f]=i.values[f-1]*(1-d)+i.values[f]*d}this._automationEvents[this._automationEvents.length-1]=v3(c,i.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>fi(a)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&bo(o)&&fi(o)+o.duration>n)return!1;const i=$u(t)?gR(t.value,t.endTime,this._currenTime):gv(t)?yR(t.value,n,this._currenTime):t;if(r===-1)this._automationEvents.push(i);else{if(bo(t)&&n+t.duration>fi(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(t){const n=this._automationEvents.findIndex(r=>fi(r)>t);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];wp(o)&&r.unshift(cS(yv(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>fi(a)>t),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[o];if(i!==void 0&&wp(i)&&(r===void 0||!_i(r)||r.insertTime>t))return g3(t,yv(this._automationEvents,o-1,i.startTime,this._defaultValue),i);if(i!==void 0&&iP(i)&&(r===void 0||!_i(r)))return i.value;if(i!==void 0&&bo(i)&&(r===void 0||!_i(r)||i.startTime+i.duration>t))return t<i.startTime+i.duration?yge(t,i):i.values[i.values.length-1];if(i!==void 0&&_i(i)&&(r===void 0||!_i(r)))return i.value;if(r!==void 0&&$u(r)){const[a,s]=bR(this._automationEvents,o,i,r,this._defaultValue);return wR(t,a,s,r)}if(r!==void 0&&gv(r)){const[a,s]=bR(this._automationEvents,o,i,r,this._defaultValue);return _R(t,a,s,r)}return this._defaultValue}}const wge=e=>({cancelTime:e,type:"cancelAndHold"}),_ge=e=>({cancelTime:e,type:"cancelScheduledValues"}),Sge=(e,t)=>({endTime:t,type:"exponentialRampToValue",value:e}),Ege=(e,t)=>({endTime:t,type:"linearRampToValue",value:e}),xge=(e,t,n)=>({startTime:t,target:e,timeConstant:n,type:"setTarget"}),Pge=()=>new DOMException("","AbortError"),Cge=e=>(t,n,[r,o,i],a)=>{e(t[o],[n,r,i],s=>s[0]===n&&s[1]===r,a)},Oge=e=>(t,n,r)=>{const o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);e.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},Age=e=>(t,n)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},El=new WeakSet,y3=new WeakMap,b3=new WeakMap,w3=new WeakMap,_3=new WeakMap,S3=new WeakMap,E3=new WeakMap,hS=new WeakMap,pS=new WeakMap,mS=new WeakMap,x3={construct(){return x3}},$ge=e=>{try{const t=new Proxy(e,x3);new t}catch{return!1}return!0},SR=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,ER=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),o=r.match(SR);for(;o!==null;){const i=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,t).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(SR)}return[n.join(";"),r]},xR=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},PR=e=>{if(!$ge(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Tge=(e,t,n,r,o,i,a,s,u,l,c,f,d)=>{let h=0;return(m,p,b={credentials:"omit"})=>{const v=c.get(m);if(v!==void 0&&v.has(p))return Promise.resolve();const y=l.get(m);if(y!==void 0){const S=y.get(p);if(S!==void 0)return S}const w=i(m),_=w.audioWorklet===void 0?o(p).then(([S,E])=>{const[x,P]=ER(S,E),O=`${x};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${P}
})})(window,'_AWGS')`;return n(O)}).then(()=>{const S=d._AWGS.pop();if(S===void 0)throw new SyntaxError;r(w.currentTime,w.sampleRate,()=>S(class{},void 0,(E,x)=>{if(E.trim()==="")throw t();const P=pS.get(w);if(P!==void 0){if(P.has(E))throw t();PR(x),xR(x.parameterDescriptors),P.set(E,x)}else PR(x),xR(x.parameterDescriptors),pS.set(w,new Map([[E,x]]))},w.sampleRate,void 0,void 0))}):Promise.all([o(p),Promise.resolve(e(f,f))]).then(([[S,E],x])=>{const P=h+1;h=P;const[O,T]=ER(S,E),$=`${O};((AudioWorkletProcessor,registerProcessor)=>{${T}
})(${x?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${x?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${x?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${P}',class extends AudioWorkletProcessor{process(){return !1}})`,L=new Blob([$],{type:"application/javascript; charset=utf-8"}),N=URL.createObjectURL(L);return w.audioWorklet.addModule(N,b).then(()=>{if(s(w))return w;const V=a(w);return V.audioWorklet.addModule(N,b).then(()=>V)}).then(V=>{if(u===null)throw new SyntaxError;try{new u(V,`__sac${P}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(N))});return y===void 0?l.set(m,new Map([[p,_]])):y.set(p,_),_.then(()=>{const S=c.get(m);S===void 0?c.set(m,new Set([p])):S.add(p)}).finally(()=>{const S=l.get(m);S!==void 0&&S.delete(p)}),_}},Lr=(e,t)=>{const n=e.get(t);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Ob=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return e.delete(r),r},P3=(e,t,n,r)=>{const o=Lr(e,t),i=Ob(o,a=>a[0]===n&&a[1]===r);return o.size===0&&e.delete(t),i},Eh=e=>Lr(E3,e),bv=e=>{if(El.has(e))throw new Error("The AudioNode is already stored.");El.add(e),Eh(e).forEach(t=>t(!0))},C3=e=>"port"in e,aP=e=>{if(!El.has(e))throw new Error("The AudioNode is not stored.");El.delete(e),Eh(e).forEach(t=>t(!1))},vS=(e,t)=>{!C3(e)&&t.every(n=>n.size===0)&&aP(e)},Rge=(e,t,n,r,o,i,a,s,u,l,c,f,d)=>{const h=new WeakMap;return(m,p,b,v,y)=>{const{activeInputs:w,passiveInputs:_}=i(p),{outputs:S}=i(m),E=s(m),x=P=>{const O=u(p),T=u(m);if(P){const R=P3(_,m,b,v);e(w,m,R,!1),!y&&!f(m)&&n(T,O,b,v),d(p)&&bv(p)}else{const R=r(w,m,b,v);t(_,v,R,!1),!y&&!f(m)&&o(T,O,b,v);const M=a(p);if(M===0)c(p)&&vS(p,w);else{const U=h.get(p);U!==void 0&&clearTimeout(U),h.set(p,setTimeout(()=>{c(p)&&vS(p,w)},M*1e3))}}};return l(S,[p,b,v],P=>P[0]===p&&P[1]===b&&P[2]===v,!0)?(E.add(x),c(m)?e(w,m,[b,v,x],!0):t(_,v,[m,b,x],!0),!0):!1}},kge=e=>(t,n,[r,o,i],a)=>{const s=t.get(r);s===void 0?t.set(r,new Set([[o,n,i]])):e(s,[o,n,i],u=>u[0]===o&&u[1]===n,a)},Mge=e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},Ige=e=>(t,n)=>{e(t).add(n)},O3=(e,t)=>e.context===t,CR=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},qs=()=>new DOMException("","IndexSizeError"),Dge=e=>{e.getChannelData=(t=>n=>{try{return t.call(e,n)}catch(r){throw r.code===12?qs():r}})(e.getChannelData)},jge={numberOfChannels:1},Nge=(e,t,n,r,o,i,a,s)=>{let u=null;return class A3{constructor(c){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:f,numberOfChannels:d,sampleRate:h}={...jge,...c};u===null&&(u=new o(1,1,44100));const m=r!==null&&t(i,i)?new r({length:f,numberOfChannels:d,sampleRate:h}):u.createBuffer(d,f,h);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(a(m),Dge(m)):t(CR,()=>CR(m))||s(m),e.add(m),m}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===A3.prototype||e.has(c)}}},Ab=-34028234663852886e22,sP=-Ab,rs=e=>El.has(e),Lge={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Fge=(e,t,n,r,o,i,a,s)=>class extends e{constructor(l,c){const f=i(l),d={...Lge,...c},h=o(f,d),m=a(f),p=m?t():null;super(l,!1,h,p),this._audioBufferSourceNodeRenderer=p,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=h,this._onended=null,this._playbackRate=n(this,m,h.playbackRate,sP,Ab)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?s(this,l):null;this._nativeAudioBufferSourceNode.onended=c;const f=this._nativeAudioBufferSourceNode.onended;this._onended=f!==null&&f===c?l:f}get playbackRate(){return this._playbackRate}start(l=0,c=0,f){if(this._nativeAudioBufferSourceNode.start(l,c,f),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=f===void 0?[l,c]:[l,c,f]),this.context.state!=="closed"){bv(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),rs(this)&&aP(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}},Bge=(e,t,n,r,o)=>()=>{const i=new WeakMap;let a=null,s=null;const u=async(l,c)=>{let f=n(l);const d=O3(f,c);if(!d){const h={buffer:f.buffer,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,loop:f.loop,loopEnd:f.loopEnd,loopStart:f.loopStart,playbackRate:f.playbackRate.value};f=t(c,h),a!==null&&f.start(...a),s!==null&&f.stop(s)}return i.set(c,f),d?await e(c,l.playbackRate,f.playbackRate):await r(c,l.playbackRate,f.playbackRate),await o(l,c,f),f};return{set start(l){a=l},set stop(l){s=l},render(l,c){const f=i.get(c);return f!==void 0?Promise.resolve(f):u(l,c)}}},Uge=e=>"playbackRate"in e,Vge=e=>"frequency"in e&&"gain"in e,Wge=e=>"offset"in e,zge=e=>!("frequency"in e)&&"gain"in e,Kge=e=>"detune"in e&&"frequency"in e,Hge=e=>"pan"in e,pn=e=>Lr(y3,e),xh=e=>Lr(w3,e),gS=(e,t)=>{const{activeInputs:n}=pn(e);n.forEach(o=>o.forEach(([i])=>{t.includes(e)||gS(i,[...t,e])}));const r=Uge(e)?[e.playbackRate]:C3(e)?Array.from(e.parameters.values()):Vge(e)?[e.Q,e.detune,e.frequency,e.gain]:Wge(e)?[e.offset]:zge(e)?[e.gain]:Kge(e)?[e.detune,e.frequency]:Hge(e)?[e.pan]:[];for(const o of r){const i=xh(o);i!==void 0&&i.activeInputs.forEach(([a])=>gS(a,t))}rs(e)&&aP(e)},qge=e=>{gS(e.destination,[])},Gge=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback"),Yge=(e,t,n,r,o,i,a,s)=>class extends e{constructor(l,c){const f=i(l),d=a(f),h=o(f,c,d),m=d?t(s):null;super(l,!1,h,m),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=h}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Qge=e=>{const t=new WeakMap,n=async(r,o)=>{const i=o.destination;return t.set(o,i),await e(r,o,i),i};return{render(r,o){const i=t.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}},Xge=(e,t,n,r,o,i,a,s)=>(u,l)=>{const c=l.listener,f=()=>{const S=new Float32Array(1),E=t(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),x=a(l);let P=!1,O=[0,0,-1,0,1,0],T=[0,0,0];const R=()=>{if(P)return;P=!0;const L=r(l,256,9,0);L.onaudioprocess=({inputBuffer:N})=>{const V=[i(N,S,0),i(N,S,1),i(N,S,2),i(N,S,3),i(N,S,4),i(N,S,5)];V.some((A,D)=>A!==O[D])&&(c.setOrientation(...V),O=V);const I=[i(N,S,6),i(N,S,7),i(N,S,8)];I.some((A,D)=>A!==T[D])&&(c.setPosition(...I),T=I)},E.connect(L)},M=L=>N=>{N!==O[L]&&(O[L]=N,c.setOrientation(...O))},U=L=>N=>{N!==T[L]&&(T[L]=N,c.setPosition(...T))},$=(L,N,V)=>{const I=n(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:N});I.connect(E,0,L),I.start(),Object.defineProperty(I.offset,"defaultValue",{get(){return N}});const A=e({context:u},x,I.offset,sP,Ab);return s(A,"value",D=>()=>D.call(A),D=>F=>{try{D.call(A,F)}catch(W){if(W.code!==9)throw W}R(),x&&V(F)}),A.cancelAndHoldAtTime=(D=>x?()=>{throw o()}:(...F)=>{const W=D.apply(A,F);return R(),W})(A.cancelAndHoldAtTime),A.cancelScheduledValues=(D=>x?()=>{throw o()}:(...F)=>{const W=D.apply(A,F);return R(),W})(A.cancelScheduledValues),A.exponentialRampToValueAtTime=(D=>x?()=>{throw o()}:(...F)=>{const W=D.apply(A,F);return R(),W})(A.exponentialRampToValueAtTime),A.linearRampToValueAtTime=(D=>x?()=>{throw o()}:(...F)=>{const W=D.apply(A,F);return R(),W})(A.linearRampToValueAtTime),A.setTargetAtTime=(D=>x?()=>{throw o()}:(...F)=>{const W=D.apply(A,F);return R(),W})(A.setTargetAtTime),A.setValueAtTime=(D=>x?()=>{throw o()}:(...F)=>{const W=D.apply(A,F);return R(),W})(A.setValueAtTime),A.setValueCurveAtTime=(D=>x?()=>{throw o()}:(...F)=>{const W=D.apply(A,F);return R(),W})(A.setValueCurveAtTime),A};return{forwardX:$(0,0,M(0)),forwardY:$(1,0,M(1)),forwardZ:$(2,-1,M(2)),positionX:$(6,0,U(0)),positionY:$(7,0,U(1)),positionZ:$(8,0,U(2)),upX:$(3,0,M(3)),upY:$(4,1,M(4)),upZ:$(5,0,M(5))}},{forwardX:d,forwardY:h,forwardZ:m,positionX:p,positionY:b,positionZ:v,upX:y,upY:w,upZ:_}=c.forwardX===void 0?f():c;return{get forwardX(){return d},get forwardY(){return h},get forwardZ(){return m},get positionX(){return p},get positionY(){return b},get positionZ(){return v},get upX(){return y},get upY(){return w},get upZ(){return _}}},wv=e=>"context"in e,Ph=e=>wv(e[0]),Gs=(e,t,n,r)=>{for(const o of e)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},OR=(e,t,[n,r],o)=>{Gs(e,[t,n,r],i=>i[0]===t&&i[1]===n,o)},AR=(e,[t,n,r],o)=>{const i=e.get(t);i===void 0?e.set(t,new Set([[n,r]])):Gs(i,[n,r],a=>a[0]===n,o)},$3=e=>"inputs"in e,yS=(e,t,n,r)=>{if($3(t)){const o=t.inputs[r];return e.connect(o,n,0),[o,n,0]}return e.connect(t,n,r),[t,n,r]},T3=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},Jge=(e,t,n)=>Ob(e,r=>r[0]===t&&r[1]===n),R3=(e,t)=>{if(!Eh(e).delete(t))throw new Error("Missing the expected event listener.")},k3=(e,t,n)=>{const r=Lr(e,t),o=Ob(r,i=>i[0]===n);return r.size===0&&e.delete(t),o},bS=(e,t,n,r)=>{$3(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},Tr=e=>Lr(b3,e),Jf=e=>Lr(_3,e),Cs=e=>hS.has(e),im=e=>!El.has(e),$R=(e,t)=>new Promise(n=>{if(t!==null)n(!0);else{const r=e.createScriptProcessor(256,1,1),o=e.createGain(),i=e.createBuffer(1,2,44100),a=i.getChannelData(0);a[0]=1,a[1]=1;const s=e.createBufferSource();s.buffer=i,s.loop=!0,s.connect(r).connect(e.destination),s.connect(o),s.disconnect(o),r.onaudioprocess=u=>{const l=u.inputBuffer.getChannelData(0);Array.prototype.some.call(l,c=>c===1)?n(!0):n(!1),s.stop(),r.onaudioprocess=null,s.disconnect(r),r.disconnect(e.destination)},s.start()}}),_w=(e,t)=>{const n=new Map;for(const r of e)for(const o of r){const i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>t(o,r))},_v=e=>"context"in e,Zge=e=>{const t=new Map;e.connect=(n=>(r,o=0,i=0)=>{const a=_v(r)?n(r,o,i):n(r,o),s=t.get(r);return s===void 0?t.set(r,[{input:i,output:o}]):s.every(u=>u.input!==i||u.output!==o)&&s.push({input:i,output:o}),a})(e.connect.bind(e)),e.disconnect=(n=>(r,o,i)=>{if(n.apply(e),r===void 0)t.clear();else if(typeof r=="number")for(const[a,s]of t){const u=s.filter(l=>l.output!==r);u.length===0?t.delete(a):t.set(a,u)}else if(t.has(r))if(o===void 0)t.delete(r);else{const a=t.get(r);if(a!==void 0){const s=a.filter(u=>u.output!==o&&(u.input!==i||i===void 0));s.length===0?t.delete(r):t.set(r,s)}}for(const[a,s]of t)s.forEach(u=>{_v(a)?e.connect(a,u.output,u.input):e.connect(a,u.output)})})(e.disconnect)},eye=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:i}=xh(t),{outputs:a}=pn(e),s=Eh(e),u=l=>{const c=Tr(e),f=Jf(t);if(l){const d=k3(i,e,n);OR(o,e,d,!1),!r&&!Cs(e)&&c.connect(f,n)}else{const d=Jge(o,e,n);AR(i,d,!1),!r&&!Cs(e)&&c.disconnect(f,n)}};return Gs(a,[t,n],l=>l[0]===t&&l[1]===n,!0)?(s.add(u),rs(e)?OR(o,e,[n,u],!0):AR(i,[e,n,u],!0),!0):!1},tye=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:i}=pn(t),a=T3(o[r],e,n);return a===null?[P3(i,e,n,r)[2],!1]:[a[2],!0]},nye=(e,t,n)=>{const{activeInputs:r,passiveInputs:o}=xh(t),i=T3(r,e,n);return i===null?[k3(o,e,n)[1],!1]:[i[2],!0]},uP=(e,t,n,r,o)=>{const[i,a]=tye(e,n,r,o);if(i!==null&&(R3(e,i),a&&!t&&!Cs(e)&&bS(Tr(e),Tr(n),r,o)),rs(n)){const{activeInputs:s}=pn(n);vS(n,s)}},lP=(e,t,n,r)=>{const[o,i]=nye(e,n,r);o!==null&&(R3(e,o),i&&!t&&!Cs(e)&&Tr(e).disconnect(Jf(n),r))},rye=(e,t)=>{const n=pn(e),r=[];for(const o of n.outputs)Ph(o)?uP(e,t,...o):lP(e,t,...o),r.push(o[0]);return n.outputs.clear(),r},oye=(e,t,n)=>{const r=pn(e),o=[];for(const i of r.outputs)i[1]===n&&(Ph(i)?uP(e,t,...i):lP(e,t,...i),o.push(i[0]),r.outputs.delete(i));return o},iye=(e,t,n,r,o)=>{const i=pn(e);return Array.from(i.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(o===void 0||a[2]===o)).map(a=>(Ph(a)?uP(e,t,...a):lP(e,t,...a),i.outputs.delete(a),a[0]))},aye=(e,t,n,r,o,i,a,s,u,l,c,f,d,h,m,p)=>class extends l{constructor(v,y,w,_){super(w),this._context=v,this._nativeAudioNode=w;const S=c(v);f(S)&&n($R,()=>$R(S,p))!==!0&&Zge(w),b3.set(this,w),E3.set(this,new Set),v.state!=="closed"&&y&&bv(this),e(this,_,w)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,y=0,w=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw o();const _=c(this._context),S=m(_);if(d(v)||h(v))throw i();if(wv(v)){const P=Tr(v);try{const T=yS(this._nativeAudioNode,P,y,w),R=im(this);(S||R)&&this._nativeAudioNode.disconnect(...T),this.context.state!=="closed"&&!R&&im(v)&&bv(v)}catch(T){throw T.code===12?i():T}if(t(this,v,y,w,S)){const T=u([this],v);_w(T,r(S))}return v}const E=Jf(v);if(E.name==="playbackRate"&&E.maxValue===1024)throw a();try{this._nativeAudioNode.connect(E,y),(S||im(this))&&this._nativeAudioNode.disconnect(E,y)}catch(P){throw P.code===12?i():P}if(eye(this,v,y,S)){const P=u([this],v);_w(P,r(S))}}disconnect(v,y,w){let _;const S=c(this._context),E=m(S);if(v===void 0)_=rye(this,E);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw o();_=oye(this,E,v)}else{if(y!==void 0&&(y<0||y>=this.numberOfOutputs)||wv(v)&&w!==void 0&&(w<0||w>=v.numberOfInputs))throw o();if(_=iye(this,E,v,y,w),_.length===0)throw i()}for(const x of _){const P=u([this],x);_w(P,s)}}},sye=(e,t,n,r,o,i,a,s,u,l,c,f,d)=>(h,m,p,b=null,v=null)=>{const y=p.value,w=new bge(y),_=m?r(w):null,S={get defaultValue(){return y},get maxValue(){return b===null?p.maxValue:b},get minValue(){return v===null?p.minValue:v},get value(){return p.value},set value(E){p.value=E,S.setValueAtTime(E,h.context.currentTime)},cancelAndHoldAtTime(E){if(typeof p.cancelAndHoldAtTime=="function")_===null&&w.flush(h.context.currentTime),w.add(o(E)),p.cancelAndHoldAtTime(E);else{const x=Array.from(w).pop();_===null&&w.flush(h.context.currentTime),w.add(o(E));const P=Array.from(w).pop();p.cancelScheduledValues(E),x!==P&&P!==void 0&&(P.type==="exponentialRampToValue"?p.exponentialRampToValueAtTime(P.value,P.endTime):P.type==="linearRampToValue"?p.linearRampToValueAtTime(P.value,P.endTime):P.type==="setValue"?p.setValueAtTime(P.value,P.startTime):P.type==="setValueCurve"&&p.setValueCurveAtTime(P.values,P.startTime,P.duration))}return S},cancelScheduledValues(E){return _===null&&w.flush(h.context.currentTime),w.add(i(E)),p.cancelScheduledValues(E),S},exponentialRampToValueAtTime(E,x){if(E===0)throw new RangeError;if(!Number.isFinite(x)||x<0)throw new RangeError;const P=h.context.currentTime;return _===null&&w.flush(P),Array.from(w).length===0&&(w.add(l(y,P)),p.setValueAtTime(y,P)),w.add(a(E,x)),p.exponentialRampToValueAtTime(E,x),S},linearRampToValueAtTime(E,x){const P=h.context.currentTime;return _===null&&w.flush(P),Array.from(w).length===0&&(w.add(l(y,P)),p.setValueAtTime(y,P)),w.add(s(E,x)),p.linearRampToValueAtTime(E,x),S},setTargetAtTime(E,x,P){return _===null&&w.flush(h.context.currentTime),w.add(u(E,x,P)),p.setTargetAtTime(E,x,P),S},setValueAtTime(E,x){return _===null&&w.flush(h.context.currentTime),w.add(l(E,x)),p.setValueAtTime(E,x),S},setValueCurveAtTime(E,x,P){const O=E instanceof Float32Array?E:new Float32Array(E);if(f!==null&&f.name==="webkitAudioContext"){const T=x+P,R=h.context.sampleRate,M=Math.ceil(x*R),U=Math.floor(T*R),$=U-M,L=new Float32Array($);for(let V=0;V<$;V+=1){const I=(O.length-1)/P*((M+V)/R-x),A=Math.floor(I),D=Math.ceil(I);L[V]=A===D?O[A]:(1-(I-A))*O[A]+(1-(D-I))*O[D]}_===null&&w.flush(h.context.currentTime),w.add(c(L,x,P)),p.setValueCurveAtTime(L,x,P);const N=U/R;N<T&&d(S,L[L.length-1],N),d(S,O[O.length-1],T)}else _===null&&w.flush(h.context.currentTime),w.add(c(O,x,P)),p.setValueCurveAtTime(O,x,P);return S}};return n.set(S,p),t.set(S,h),e(S,_),S},uye=e=>({replay(t){for(const n of e)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;t.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;t.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:i}=n;t.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;t.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:i}=n;t.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}});class M3{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,n=null){return this._map.forEach((r,o)=>t.call(n,r,o,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const lye={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},cye=(e,t,n,r,o,i,a,s,u,l,c,f,d,h)=>class extends t{constructor(p,b,v){var y;const w=s(p),_=u(w),S=c({...lye,...v});d(S);const E=pS.get(w),x=E==null?void 0:E.get(b),P=_||w.state!=="closed"?w:(y=a(w))!==null&&y!==void 0?y:w,O=o(P,_?null:p.baseLatency,l,b,x,S),T=_?r(b,S,x):null;super(p,!0,O,T);const R=[];O.parameters.forEach((U,$)=>{const L=n(this,_,U);R.push([$,L])}),this._nativeAudioWorkletNode=O,this._onprocessorerror=null,this._parameters=new M3(R),_&&e(w,this);const{activeInputs:M}=i(this);f(O,M)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(p){const b=typeof p=="function"?h(this,p):null;this._nativeAudioWorkletNode.onprocessorerror=b;const v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===b?p:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Sv(e,t,n,r,o){if(typeof e.copyFromChannel=="function")t[n].byteLength===0&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],r,o);else{const i=e.getChannelData(r);if(t[n].byteLength===0)t[n]=i.slice(o,o+128);else{const a=new Float32Array(i.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(a)}}}const I3=(e,t,n,r,o)=>{typeof e.copyToChannel=="function"?t[n].byteLength!==0&&e.copyToChannel(t[n],r,o):t[n].byteLength!==0&&e.getChannelData(r).set(t[n],o)},Ev=(e,t)=>{const n=[];for(let r=0;r<e;r+=1){const o=[],i=typeof t=="number"?t:t[r];for(let a=0;a<i;a+=1)o.push(new Float32Array(128));n.push(o)}return n},fye=(e,t)=>{const n=Lr(mS,e),r=Tr(t);return Lr(n,r)},dye=async(e,t,n,r,o,i,a)=>{const s=t===null?Math.ceil(e.context.length/128)*128:t.length,u=r.channelCount*r.numberOfInputs,l=o.reduce((b,v)=>b+v,0),c=l===0?null:n.createBuffer(l,s,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const f=pn(e),d=await fye(n,e),h=Ev(r.numberOfInputs,r.channelCount),m=Ev(r.numberOfOutputs,o),p=Array.from(e.parameters.keys()).reduce((b,v)=>({...b,[v]:new Float32Array(128)}),{});for(let b=0;b<s;b+=128){if(r.numberOfInputs>0&&t!==null)for(let v=0;v<r.numberOfInputs;v+=1)for(let y=0;y<r.channelCount;y+=1)Sv(t,h[v],y,y,b);i.parameterDescriptors!==void 0&&t!==null&&i.parameterDescriptors.forEach(({name:v},y)=>{Sv(t,p,v,u+y,b)});for(let v=0;v<r.numberOfInputs;v+=1)for(let y=0;y<o[v];y+=1)m[v][y].byteLength===0&&(m[v][y]=new Float32Array(128));try{const v=h.map((w,_)=>f.activeInputs[_].size===0?[]:w),y=a(b/n.sampleRate,n.sampleRate,()=>d.process(v,m,p));if(c!==null)for(let w=0,_=0;w<r.numberOfOutputs;w+=1){for(let S=0;S<o[w];S+=1)I3(c,m[w],S,_+S,b);_+=o[w]}if(!y)break}catch(v){e.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return c},hye=(e,t,n,r,o,i,a,s,u,l,c,f,d,h,m,p)=>(b,v,y)=>{const w=new WeakMap;let _=null;const S=async(E,x)=>{let P=c(E),O=null;const T=O3(P,x),R=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(f===null){const M=R.reduce((N,V)=>N+V,0),U=o(x,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),$=[];for(let N=0;N<E.numberOfOutputs;N+=1)$.push(r(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:R[N]}));const L=a(x,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});L.connect=t.bind(null,$),L.disconnect=u.bind(null,$),O=[U,$,L]}else T||(P=new f(x,b));if(w.set(x,O===null?P:O[2]),O!==null){if(_===null){if(y===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const V=E.channelCount*E.numberOfInputs,I=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length,A=V+I;_=dye(E,A===0?null:await(async()=>{const F=new d(A,Math.ceil(E.context.length/128)*128,x.sampleRate),W=[],H=[];for(let te=0;te<v.numberOfInputs;te+=1)W.push(a(F,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),H.push(o(F,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const se=await Promise.all(Array.from(E.parameters.values()).map(async te=>{const de=i(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:te.value});return await h(F,te,de.offset),de})),_e=r(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,V+I)});for(let te=0;te<v.numberOfInputs;te+=1){W[te].connect(H[te]);for(let de=0;de<v.channelCount;de+=1)H[te].connect(_e,de,te*v.channelCount+de)}for(const[te,de]of se.entries())de.connect(_e,0,V+te),de.start(0);return _e.connect(F.destination),await Promise.all(W.map(te=>m(E,F,te))),p(F)})(),x,v,R,y,l)}const M=await _,U=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,L,N]=O;M!==null&&(U.buffer=M,U.start(0)),U.connect($);for(let V=0,I=0;V<E.numberOfOutputs;V+=1){const A=L[V];for(let D=0;D<R[V];D+=1)$.connect(A,I+D,D);I+=R[V]}return N}if(T)for(const[M,U]of E.parameters.entries())await e(x,U,P.parameters.get(M));else for(const[M,U]of E.parameters.entries())await h(x,U,P.parameters.get(M));return await m(E,x,P),P};return{render(E,x){s(x,E);const P=w.get(x);return P!==void 0?Promise.resolve(P):S(E,x)}}},pye=(e,t)=>(n,r)=>{const o=t.get(n);if(o!==void 0)return o;const i=e.get(n);if(i!==void 0)return i;try{const a=r();return a instanceof Promise?(e.set(n,a),a.catch(()=>!1).then(s=>(e.delete(n),t.set(n,s),s))):(t.set(n,a),a)}catch{return t.set(n,!1),!1}},mye=e=>(t,n,r)=>e(n,t,r),vye=e=>(t,n,r=0,o=0)=>{const i=t[r];if(i===void 0)throw e();return _v(n)?i.connect(n,0,o):i.connect(n,0)},gye=e=>t=>(e[0]=t,e[0]),yye=(e,t,n,r,o,i,a,s)=>(u,l)=>{const c=t.get(u);if(c===void 0)throw new Error("Missing the expected cycle count.");const f=i(u.context),d=s(f);if(c===l){if(t.delete(u),!d&&a(u)){const h=r(u),{outputs:m}=n(u);for(const p of m)if(Ph(p)){const b=r(p[0]);e(h,b,p[1],p[2])}else{const b=o(p[0]);h.connect(b,p[1])}}}else t.set(u,c-l)},bye=e=>(t,n,r,o)=>e(t[o],i=>i[0]===n&&i[1]===r),wye=e=>(t,n)=>{e(t).delete(n)},_ye=e=>"delayTime"in e,Sye=(e,t,n)=>function r(o,i){const a=wv(i)?i:n(e,i);if(_ye(a))return[];if(o[0]===a)return[o];if(o.includes(a))return[];const{outputs:s}=t(a);return Array.from(s).map(u=>r([...o,a],u[0])).reduce((u,l)=>u.concat(l),[])},_p=(e,t,n)=>{const r=t[n];if(r===void 0)throw e();return r},Eye=e=>(t,n=void 0,r=void 0,o=0)=>n===void 0?t.forEach(i=>i.disconnect()):typeof n=="number"?_p(e,t,n).disconnect():_v(n)?r===void 0?t.forEach(i=>i.disconnect(n)):o===void 0?_p(e,t,r).disconnect(n,0):_p(e,t,r).disconnect(n,0,o):r===void 0?t.forEach(i=>i.disconnect(n)):_p(e,t,r).disconnect(n,0),xye=e=>t=>new Promise((n,r)=>{if(e===null){r(new SyntaxError);return}const o=e.document.head;if(o===null)r(new SyntaxError);else{const i=e.document.createElement("script"),a=new Blob([t],{type:"application/javascript"}),s=URL.createObjectURL(a),u=e.onerror,l=()=>{e.onerror=u,URL.revokeObjectURL(s)};e.onerror=(c,f,d,h,m)=>{if(f===s||f===e.location.href&&d===1&&h===1)return l(),r(m),!1;if(u!==null)return u(c,f,d,h,m)},i.onerror=()=>{l(),r(new SyntaxError)},i.onload=()=>{l(),n()},i.src=s,i.type="module",o.appendChild(i)}}),Pye=e=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=e(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,o)}},Cye=e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(t*n)}},currentTime:{configurable:!0,get(){return t}}});try{return r()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}},Oye=e=>async t=>{try{const n=await fetch(t);if(n.ok)return[await n.text(),n.url]}catch{}throw e()},Aye=(e,t)=>n=>t(e,n),$ye=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},Tye=e=>t=>{var n;return(n=e.get(t))!==null&&n!==void 0?n:0},Rye=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},kye=e=>t=>e.get(t),Rr=()=>new DOMException("","InvalidStateError"),Mye=e=>t=>{const n=e.get(t);if(n===void 0)throw Rr();return n},Iye=(e,t)=>n=>{let r=e.get(n);if(r!==void 0)return r;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r},Dye=e=>t=>{const n=e.get(t);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},jye=()=>new DOMException("","InvalidAccessError"),Nye=(e,t,n,r,o,i)=>a=>(s,u)=>{const l=e.get(s);if(l===void 0){if(!a&&i(s)){const c=r(s),{outputs:f}=n(s);for(const d of f)if(Ph(d)){const h=r(d[0]);t(c,h,d[1],d[2])}else{const h=o(d[0]);c.disconnect(h,d[1])}}e.set(s,u)}else e.set(s,l+u)},Lye=e=>t=>e!==null&&t instanceof e,Fye=e=>t=>e!==null&&typeof e.AudioNode=="function"&&t instanceof e.AudioNode,Bye=e=>t=>e!==null&&typeof e.AudioParam=="function"&&t instanceof e.AudioParam,Uye=e=>t=>e!==null&&t instanceof e,Vye=e=>e!==null&&e.isSecureContext,Wye=(e,t,n,r)=>class extends e{constructor(i,a){const s=n(i),u=t(s,a);if(r(s))throw new TypeError;super(i,!0,u,null),this._nativeMediaStreamAudioSourceNode=u}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},zye=(e,t,n,r,o)=>class extends r{constructor(a={}){if(o===null)throw new Error("Missing the native AudioContext constructor.");let s;try{s=new o(a)}catch(c){throw c.code===12&&c.message==="sampleRate is not in range"?t():c}if(s===null)throw n();if(!Gge(a.latencyHint))throw new TypeError(`The provided value '${a.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(a.sampleRate!==void 0&&s.sampleRate!==a.sampleRate)throw t();super(s,2);const{latencyHint:u}=a,{sampleRate:l}=s;if(this._baseLatency=typeof s.baseLatency=="number"?s.baseLatency:u==="balanced"?512/l:u==="interactive"||u===void 0?256/l:u==="playback"?1024/l:Math.max(2,Math.min(128,Math.round(u*l/128)))*128/l,this._nativeAudioContext=s,o.name==="webkitAudioContext"?(this._nativeGainNode=s.createGain(),this._nativeOscillatorNode=s.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(s.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,s.state==="running"){this._state="suspended";const c=()=>{this._state==="suspended"&&(this._state=null),s.removeEventListener("statechange",c)};s.addEventListener("statechange",c)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),qge(this)}))}resume(){return this._state==="suspended"?new Promise((a,s)=>{const u=()=>{this._nativeAudioContext.removeEventListener("statechange",u),this._nativeAudioContext.state==="running"?a():this.resume().then(a,s)};this._nativeAudioContext.addEventListener("statechange",u)}):this._nativeAudioContext.resume().catch(a=>{throw a===void 0||a.code===15?e():a})}suspend(){return this._nativeAudioContext.suspend().catch(a=>{throw a===void 0?e():a})}},Kye=(e,t,n,r,o,i)=>class extends n{constructor(s,u){super(s),this._nativeContext=s,S3.set(this,s),r(s)&&o.set(s,new Set),this._destination=new e(this,u),this._listener=t(this,s),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(s){const u=typeof s=="function"?i(this,s):null;this._nativeContext.onstatechange=u;const l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===u?s:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},TR=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},Hye=(e,t)=>(n,r,o)=>{const i=new Set;return n.connect=(a=>(s,u=0,l=0)=>{const c=i.size===0;if(t(s))return a.call(n,s,u,l),e(i,[s,u,l],f=>f[0]===s&&f[1]===u&&f[2]===l,!0),c&&r(),s;a.call(n,s,u),e(i,[s,u],f=>f[0]===s&&f[1]===u,!0),c&&r()})(n.connect),n.disconnect=(a=>(s,u,l)=>{const c=i.size>0;if(s===void 0)a.apply(n),i.clear();else if(typeof s=="number"){a.call(n,s);for(const d of i)d[1]===s&&i.delete(d)}else{t(s)?a.call(n,s,u,l):a.call(n,s,u);for(const d of i)d[0]===s&&(u===void 0||d[1]===u)&&(l===void 0||d[2]===l)&&i.delete(d)}const f=i.size===0;c&&f&&o()})(n.disconnect),n},Ka=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n]&&(e[n]=r)},Ch=(e,t)=>{Ka(e,t,"channelCount"),Ka(e,t,"channelCountMode"),Ka(e,t,"channelInterpretation")},qye=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null,cP=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n].value&&(e[n].value=r)},Gye=e=>{e.start=(t=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw Rr();t.call(e,r,o,i),n=!0}})(e.start)},D3=e=>{e.start=(t=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,o)})(e.start)},j3=e=>{e.stop=(t=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})(e.stop)},Yye=(e,t,n,r,o,i,a,s,u,l,c)=>(f,d)=>{const h=f.createBufferSource();return Ch(h,d),cP(h,d,"playbackRate"),Ka(h,d,"buffer"),Ka(h,d,"loop"),Ka(h,d,"loopEnd"),Ka(h,d,"loopStart"),t(n,()=>n(f))||Gye(h),t(r,()=>r(f))||u(h),t(o,()=>o(f))||l(h,f),t(i,()=>i(f))||D3(h),t(a,()=>a(f))||c(h,f),t(s,()=>s(f))||j3(h),e(f,h),h},Qye=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null,Xye=(e,t)=>(n,r,o)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const a=e(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return t(a,"channelCount",s=>()=>s.call(a),s=>u=>{s.call(a,u);try{i.channelCount=u}catch(l){if(u>i.maxChannelCount)throw l}}),t(a,"channelCountMode",s=>()=>s.call(a),s=>u=>{s.call(a,u),i.channelCountMode=u}),t(a,"channelInterpretation",s=>()=>s.call(a),s=>u=>{s.call(a,u),i.channelInterpretation=u}),Object.defineProperty(a,"maxChannelCount",{get:()=>i.maxChannelCount}),a.connect(i),a},Jye=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null,Zye=e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}},ebe=(e,t,n,r,o)=>(i,a,s,u,l,c)=>{if(s!==null)try{const f=new s(i,u,c),d=new Map;let h=null;if(Object.defineProperties(f,{channelCount:{get:()=>c.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>h,set:m=>{typeof h=="function"&&f.removeEventListener("processorerror",h),h=typeof m=="function"?m:null,typeof h=="function"&&f.addEventListener("processorerror",h)}}}),f.addEventListener=(m=>(...p)=>{if(p[0]==="processorerror"){const b=typeof p[1]=="function"?p[1]:typeof p[1]=="object"&&p[1]!==null&&typeof p[1].handleEvent=="function"?p[1].handleEvent:null;if(b!==null){const v=d.get(p[1]);v!==void 0?p[1]=v:(p[1]=y=>{y.type==="error"?(Object.defineProperties(y,{type:{value:"processorerror"}}),b(y)):b(new ErrorEvent(p[0],{...y}))},d.set(b,p[1]))}}return m.call(f,"error",p[1],p[2]),m.call(f,...p)})(f.addEventListener),f.removeEventListener=(m=>(...p)=>{if(p[0]==="processorerror"){const b=d.get(p[1]);b!==void 0&&(d.delete(p[1]),p[1]=b)}return m.call(f,"error",p[1],p[2]),m.call(f,p[0],p[1],p[2])})(f.removeEventListener),c.numberOfOutputs!==0){const m=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return f.connect(m).connect(i.destination),o(f,()=>m.disconnect(),()=>m.connect(i.destination))}return f}catch(f){throw f.code===11?r():f}if(l===void 0)throw r();return Zye(c),t(i,a,l,c)},tbe=(e,t)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),nbe=e=>new Promise((t,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),o.close(),t(i)},r.onmessageerror=({data:i})=>{r.close(),o.close(),n(i)},o.postMessage(e)}),rbe=async(e,t)=>{const n=await nbe(t);return new e(n)},obe=(e,t,n,r)=>{let o=mS.get(e);o===void 0&&(o=new WeakMap,mS.set(e,o));const i=rbe(n,r);return o.set(t,i),i},ibe=(e,t,n,r,o,i,a,s,u,l,c,f,d)=>(h,m,p,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw u();const v=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(v.some(q=>q<1))throw u();if(v.length!==b.numberOfOutputs)throw t();if(b.channelCountMode!=="explicit")throw u();const y=b.channelCount*b.numberOfInputs,w=v.reduce((q,ne)=>q+ne,0),_=p.parameterDescriptors===void 0?0:p.parameterDescriptors.length;if(y+_>6||w>6)throw u();const S=new MessageChannel,E=[],x=[];for(let q=0;q<b.numberOfInputs;q+=1)E.push(a(h,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),x.push(o(h,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const P=[];if(p.parameterDescriptors!==void 0)for(const{defaultValue:q,maxValue:ne,minValue:je,name:Se}of p.parameterDescriptors){const me=i(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[Se]!==void 0?b.parameterData[Se]:q===void 0?0:q});Object.defineProperties(me.offset,{defaultValue:{get:()=>q===void 0?0:q},maxValue:{get:()=>ne===void 0?sP:ne},minValue:{get:()=>je===void 0?Ab:je}}),P.push(me)}const O=r(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+_)}),T=tbe(m,h.sampleRate),R=s(h,T,y+_,Math.max(1,w)),M=o(h,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),U=[];for(let q=0;q<b.numberOfOutputs;q+=1)U.push(r(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[q]}));for(let q=0;q<b.numberOfInputs;q+=1){E[q].connect(x[q]);for(let ne=0;ne<b.channelCount;ne+=1)x[q].connect(O,ne,q*b.channelCount+ne)}const $=new M3(p.parameterDescriptors===void 0?[]:p.parameterDescriptors.map(({name:q},ne)=>{const je=P[ne];return je.connect(O,0,y+ne),je.start(0),[q,je.offset]}));O.connect(R);let L=b.channelInterpretation,N=null;const V=b.numberOfOutputs===0?[R]:U,I={get bufferSize(){return T},get channelCount(){return b.channelCount},set channelCount(q){throw n()},get channelCountMode(){return b.channelCountMode},set channelCountMode(q){throw n()},get channelInterpretation(){return L},set channelInterpretation(q){for(const ne of E)ne.channelInterpretation=q;L=q},get context(){return R.context},get inputs(){return E},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return N},set onprocessorerror(q){typeof N=="function"&&I.removeEventListener("processorerror",N),N=typeof q=="function"?q:null,typeof N=="function"&&I.addEventListener("processorerror",N)},get parameters(){return $},get port(){return S.port2},addEventListener(...q){return R.addEventListener(q[0],q[1],q[2])},connect:e.bind(null,V),disconnect:l.bind(null,V),dispatchEvent(...q){return R.dispatchEvent(q[0])},removeEventListener(...q){return R.removeEventListener(q[0],q[1],q[2])}},A=new Map;S.port1.addEventListener=(q=>(...ne)=>{if(ne[0]==="message"){const je=typeof ne[1]=="function"?ne[1]:typeof ne[1]=="object"&&ne[1]!==null&&typeof ne[1].handleEvent=="function"?ne[1].handleEvent:null;if(je!==null){const Se=A.get(ne[1]);Se!==void 0?ne[1]=Se:(ne[1]=me=>{c(h.currentTime,h.sampleRate,()=>je(me))},A.set(je,ne[1]))}}return q.call(S.port1,ne[0],ne[1],ne[2])})(S.port1.addEventListener),S.port1.removeEventListener=(q=>(...ne)=>{if(ne[0]==="message"){const je=A.get(ne[1]);je!==void 0&&(A.delete(ne[1]),ne[1]=je)}return q.call(S.port1,ne[0],ne[1],ne[2])})(S.port1.removeEventListener);let D=null;Object.defineProperty(S.port1,"onmessage",{get:()=>D,set:q=>{typeof D=="function"&&S.port1.removeEventListener("message",D),D=typeof q=="function"?q:null,typeof D=="function"&&(S.port1.addEventListener("message",D),S.port1.start())}}),p.prototype.port=S.port1;let F=null;obe(h,I,p,b).then(q=>F=q);const H=Ev(b.numberOfInputs,b.channelCount),se=Ev(b.numberOfOutputs,v),_e=p.parameterDescriptors===void 0?[]:p.parameterDescriptors.reduce((q,{name:ne})=>({...q,[ne]:new Float32Array(128)}),{});let te=!0;const de=()=>{b.numberOfOutputs>0&&R.disconnect(M);for(let q=0,ne=0;q<b.numberOfOutputs;q+=1){const je=U[q];for(let Se=0;Se<v[q];Se+=1)M.disconnect(je,ne+Se,Se);ne+=v[q]}},wt=new Map;R.onaudioprocess=({inputBuffer:q,outputBuffer:ne})=>{if(F!==null){const je=f(I);for(let Se=0;Se<T;Se+=128){for(let me=0;me<b.numberOfInputs;me+=1)for(let be=0;be<b.channelCount;be+=1)Sv(q,H[me],be,be,Se);p.parameterDescriptors!==void 0&&p.parameterDescriptors.forEach(({name:me},be)=>{Sv(q,_e,me,y+be,Se)});for(let me=0;me<b.numberOfInputs;me+=1)for(let be=0;be<v[me];be+=1)se[me][be].byteLength===0&&(se[me][be]=new Float32Array(128));try{const me=H.map((ke,St)=>{if(je[St].size>0)return wt.set(St,T/128),ke;const gr=wt.get(St);return gr===void 0?[]:(ke.every(ai=>ai.every(si=>si===0))&&(gr===1?wt.delete(St):wt.set(St,gr-1)),ke)});te=c(h.currentTime+Se/h.sampleRate,h.sampleRate,()=>F.process(me,se,_e));for(let ke=0,St=0;ke<b.numberOfOutputs;ke+=1){for(let Et=0;Et<v[ke];Et+=1)I3(ne,se[ke],Et,St+Et,Se);St+=v[ke]}}catch(me){te=!1,I.dispatchEvent(new ErrorEvent("processorerror",{colno:me.colno,filename:me.filename,lineno:me.lineno,message:me.message}))}if(!te){for(let me=0;me<b.numberOfInputs;me+=1){E[me].disconnect(x[me]);for(let be=0;be<b.channelCount;be+=1)x[Se].disconnect(O,be,me*b.channelCount+be)}if(p.parameterDescriptors!==void 0){const me=p.parameterDescriptors.length;for(let be=0;be<me;be+=1){const ke=P[be];ke.disconnect(O,0,y+be),ke.stop()}}O.disconnect(R),R.onaudioprocess=null,ht?de():_t();break}}}};let ht=!1;const Be=a(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ue=()=>R.connect(Be).connect(h.destination),_t=()=>{R.disconnect(Be),Be.disconnect()},jn=()=>{if(te){_t(),b.numberOfOutputs>0&&R.connect(M);for(let q=0,ne=0;q<b.numberOfOutputs;q+=1){const je=U[q];for(let Se=0;Se<v[q];Se+=1)M.connect(je,ne+Se,Se);ne+=v[q]}}ht=!0},qt=()=>{te&&(Ue(),de()),ht=!1};return Ue(),d(I,jn,qt)},abe=(e,t)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&t(n,o),Ch(o,r),o},sbe=e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:n=>{if(n!==t)throw Rr()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Rr()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Rr()}})},N3=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return Ch(n,t),sbe(n),n},ube=(e,t,n,r,o)=>(i,a)=>{if(i.createConstantSource===void 0)return n(i,a);const s=i.createConstantSource();return Ch(s,a),cP(s,a,"offset"),t(r,()=>r(i))||D3(s),t(o,()=>o(i))||j3(s),e(i,s),s},L3=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),lbe=(e,t,n,r)=>(o,{offset:i,...a})=>{const s=o.createBuffer(1,2,44100),u=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n(o,{...a,gain:i}),c=s.getChannelData(0);c[0]=1,c[1]=1,u.buffer=s,u.loop=!0;const f={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(m){l.channelCount=m},get channelCountMode(){return l.channelCountMode},set channelCountMode(m){l.channelCountMode=m},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(m){l.channelInterpretation=m},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return u.onended},set onended(m){u.onended=m},addEventListener(...m){return u.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return u.dispatchEvent(m[0])},removeEventListener(...m){return u.removeEventListener(m[0],m[1],m[2])},start(m=0){u.start.call(u,m)},stop(m=0){u.stop.call(u,m)}},d=()=>u.connect(l),h=()=>u.disconnect(l);return e(o,u),r(L3(f,l),d,h)},aa=(e,t)=>{const n=e.createGain();return Ch(n,t),cP(n,t,"gain"),n},cbe=(e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort((i,a)=>i.id<a.id?-1:i.id>a.id?1:0);const r=n.slice(0,1),o=e.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:t}),o},fbe=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null,fP=(e,t,n,r)=>e.createScriptProcessor(t,n,r),Ys=()=>new DOMException("","NotSupportedError"),dbe=(e,t)=>(n,r,o)=>(e(r).replay(o),t(r,n,o)),hbe=(e,t,n)=>async(r,o,i)=>{const a=e(r);await Promise.all(a.activeInputs.map((s,u)=>Array.from(s).map(async([l,c])=>{const d=await t(l).render(l,o),h=r.context.destination;!n(l)&&(r!==h||!n(r))&&d.connect(i,c,u)})).reduce((s,u)=>[...s,...u],[]))},pbe=(e,t,n)=>async(r,o,i)=>{const a=t(r);await Promise.all(Array.from(a.activeInputs).map(async([s,u])=>{const c=await e(s).render(s,o);n(s)||c.connect(i,u)}))},mbe=(e,t,n,r)=>o=>e(TR,()=>TR(o))?Promise.resolve(e(r,r)).then(i=>{if(!i){const a=n(o,512,0,1);o.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>o.currentTime,a.connect(o.destination)}return o.startRendering()}):new Promise(i=>{const a=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=s=>{a.disconnect(),i(s.renderedBuffer)},a.connect(o.destination),o.startRendering()}),vbe=e=>(t,n)=>{e.set(t,n)},gbe=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0},ybe=(e,t)=>async()=>{if(e===null)return!0;if(t===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),o=URL.createObjectURL(n);let i=!1,a=!1;try{await r.audioWorklet.addModule(o);const s=new e(r,"a",{numberOfOutputs:0}),u=r.createOscillator();s.port.onmessage=()=>i=!0,s.onprocessorerror=()=>a=!0,u.connect(s),u.start(0),await r.startRendering(),await new Promise(l=>setTimeout(l))}catch{}finally{URL.revokeObjectURL(o)}return i&&!a},bbe=(e,t)=>()=>{if(t===null)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},wbe=()=>new DOMException("","UnknownError"),_be=()=>typeof window>"u"?null:window,Sbe=(e,t)=>n=>{n.copyFromChannel=(r,o,i=0)=>{const a=e(i),s=e(o);if(s>=n.numberOfChannels)throw t();const u=n.length,l=n.getChannelData(s),c=r.length;for(let f=a<0?-a:0;f+a<u&&f<c;f+=1)r[f]=l[f+a]},n.copyToChannel=(r,o,i=0)=>{const a=e(i),s=e(o);if(s>=n.numberOfChannels)throw t();const u=n.length,l=n.getChannelData(s),c=r.length;for(let f=a<0?-a:0;f+a<u&&f<c;f+=1)l[f+a]=r[f]}},Ebe=e=>t=>{t.copyFromChannel=(n=>(r,o,i=0)=>{const a=e(i),s=e(o);if(a<t.length)return n.call(t,r,s,a)})(t.copyFromChannel),t.copyToChannel=(n=>(r,o,i=0)=>{const a=e(i),s=e(o);if(a<t.length)return n.call(t,r,s,a)})(t.copyToChannel)},xbe=e=>(t,n)=>{const r=n.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=r),e(t,"buffer",o=>()=>{const i=o.call(t);return i===r?null:i},o=>i=>o.call(t,i===null?r:i))},Pbe=(e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const o=n.createBufferSource();t(r,()=>{const s=r.numberOfInputs;for(let u=0;u<s;u+=1)o.connect(r,0,u)},()=>o.disconnect(r))},Cbe=(e,t,n)=>e.copyFromChannel===void 0?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),dP=(e,t,n,r)=>{let o=e;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:i,set:a}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:n(i),set:r(a)})},Obe=e=>({...e,outputChannelCount:e.outputChannelCount!==void 0?e.outputChannelCount:e.numberOfInputs===1&&e.numberOfOutputs===1?[e.channelCount]:Array.from({length:e.numberOfOutputs},()=>1)}),F3=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(r.code!==9)throw r;F3(e,t,n+1e-7)}},Abe=e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},$be=e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0},Tbe=e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},B3=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},Rbe=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},U3=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},kbe=e=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),n.close()}},Mbe=e=>{e.start=(t=>(n=0,r=0,o)=>{const i=e.buffer,a=i===null?r:Math.min(i.duration,r);i!==null&&a>i.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,a,o)})(e.start)},Ibe=(e,t)=>{const n=t.createGain();e.connect(n);const r=(o=>()=>{o.call(e,n),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),L3(e,n),e.stop=(o=>{let i=!1;return(a=0)=>{if(i)try{o.call(e,a)}catch{n.gain.setValueAtTime(0,a)}else o.call(e,a),i=!0}})(e.stop)},$b=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof t=="function"?t.call(e,n):t.handleEvent.call(e,n)},Dbe=Cge(Gs),jbe=kge(Gs),Nbe=bye(Ob),Lbe=new WeakMap,Fbe=Tye(Lbe),Jl=pye(new Map,new WeakMap),so=_be(),V3=$ye(pn),hP=hbe(pn,V3,Cs),Os=Mye(S3),Zl=fbe(so),Jo=Uye(Zl),W3=new WeakMap,z3=Pye($b),Tb=Qye(so),Bbe=Lye(Tb),K3=Fye(so),Ube=Bye(so),Zf=Jye(so),Rb=aye(Oge(y3),Rge(Dbe,jbe,yS,Nbe,bS,pn,Fbe,Eh,Tr,Gs,rs,Cs,im),Jl,Nye(hS,bS,pn,Tr,Jf,rs),qs,jye,Ys,yye(yS,hS,pn,Tr,Jf,Os,rs,Jo),Sye(W3,pn,Lr),z3,Os,Bbe,K3,Ube,Jo,Zf),Vbe=new WeakSet,RR=qye(so),H3=gye(new Uint32Array(1)),Wbe=Sbe(H3,qs),zbe=Ebe(H3),Kbe=Nge(Vbe,Jl,Ys,RR,Zl,gbe(RR),Wbe,zbe),pP=Mge(aa),q3=pbe(V3,xh,Cs),G3=mye(q3),kb=Yye(pP,Jl,Abe,$be,Tbe,B3,Rbe,U3,Mbe,xbe(dP),Ibe),Y3=dbe(Rye(xh),q3),Hbe=Bge(G3,kb,Tr,Y3,hP),mP=sye(Age(w3),W3,_3,uye,wge,_ge,Sge,Ege,xge,cS,v3,Tb,F3),qbe=Fge(Rb,Hbe,mP,Rr,kb,Os,Jo,$b),Gbe=Yge(Rb,Qge,qs,Rr,Xye(aa,dP),Os,Jo,hP),Mb=Hye(Gs,K3),Ybe=Pbe(Rr,Mb),vP=abe(Tb,Ybe),Qbe=lbe(pP,kb,aa,Mb),gP=ube(pP,Jl,Qbe,B3,U3),Xbe=mbe(Jl,aa,fP,bbe(aa,Zl)),Jbe=Xge(mP,vP,gP,fP,Ys,Cbe,Jo,dP),Q3=new WeakMap,Zbe=Kye(Gbe,Jbe,z3,Jo,Q3,$b),X3=Vye(so),yP=Cye(so),J3=new WeakMap,e0e=Iye(J3,Zl),kR=X3?Tge(Jl,Ys,xye(so),yP,Oye(Pge),Os,e0e,Jo,Zf,new WeakMap,new WeakMap,ybe(Zf,Zl),so):void 0,t0e=Wye(Rb,cbe,Os,Jo),Z3=Dye(Q3),n0e=Ige(Z3),e4=vye(qs),r0e=wye(Z3),t4=Eye(qs),n4=new WeakMap,o0e=Aye(n4,Lr),i0e=ibe(e4,qs,Rr,vP,N3,gP,aa,fP,Ys,t4,yP,o0e,Mb),a0e=ebe(Rr,i0e,aa,Ys,Mb),s0e=hye(G3,e4,kb,vP,N3,gP,aa,r0e,t4,yP,Tr,Zf,Zl,Y3,hP,Xbe),u0e=kye(J3),l0e=vbe(n4),MR=X3?cye(n0e,Rb,mP,s0e,a0e,pn,u0e,Os,Jo,Zf,Obe,l0e,kbe,$b):void 0,c0e=zye(Rr,Ys,wbe,Zbe,Tb),r4="Missing AudioWorklet support. Maybe this is not running in a secure context.",f0e=async(e,t,n,r,o)=>{const{encoderId:i,port:a}=await p3(o,t.sampleRate);if(MR===void 0)throw new Error(r4);const s=new qbe(t,{buffer:e}),u=new t0e(t,{mediaStream:r}),l=vge(MR,t,{channelCount:n});return{audioBufferSourceNode:s,encoderId:i,mediaStreamAudioSourceNode:u,port:a,recorderAudioWorkletNode:l}},d0e=(e,t,n,r)=>(o,i,a)=>{var s;const u=(s=i.getAudioTracks()[0])===null||s===void 0?void 0:s.getSettings().sampleRate,l=new c0e({latencyHint:"playback",sampleRate:u}),c=Math.max(1024,Math.ceil(l.baseLatency*l.sampleRate)),f=new Kbe({length:c,sampleRate:l.sampleRate}),d=[],h=mge(P=>{if(kR===void 0)throw new Error(r4);return kR(l,P)});let m=null,p=null,b=null,v=null,y=!0;const w=P=>{o.dispatchEvent(e("dataavailable",{data:new Blob(P,{type:a})}))},_=async(P,O)=>{const T=await vv(P,O);b===null?d.push(...T):(w(T),v=_(P,O))},S=()=>(y=!0,l.resume()),E=()=>{b!==null&&(m!==null&&(i.removeEventListener("addtrack",m),i.removeEventListener("removetrack",m)),p!==null&&clearTimeout(p),b.then(async({encoderId:P,mediaStreamAudioSourceNode:O,recorderAudioWorkletNode:T})=>{v!==null&&(v.catch(()=>{}),v=null),await T.stop(),O.disconnect(T);const R=await vv(P,null);b===null&&await x(),w([...d,...R]),d.length=0,o.dispatchEvent(new Event("stop"))}),b=null)},x=()=>(y=!1,l.suspend());return x(),{get mimeType(){return a},get state(){return b===null?"inactive":y?"recording":"paused"},pause(){if(b===null)throw n();y&&(x(),o.dispatchEvent(new Event("pause")))},resume(){if(b===null)throw n();y||(S(),o.dispatchEvent(new Event("resume")))},start(P){var O;if(b!==null)throw n();if(i.getVideoTracks().length>0)throw r();o.dispatchEvent(new Event("start"));const T=i.getAudioTracks(),R=T.length===0?2:(O=T[0].getSettings().channelCount)!==null&&O!==void 0?O:2;b=Promise.all([S(),h.then(()=>f0e(f,l,R,i,a))]).then(async([,{audioBufferSourceNode:U,encoderId:$,mediaStreamAudioSourceNode:L,port:N,recorderAudioWorkletNode:V}])=>(L.connect(V),await new Promise(I=>{U.onended=I,U.connect(V),U.start(l.currentTime+c/l.sampleRate)}),U.disconnect(V),await V.record(N),P!==void 0&&(v=_($,P)),{encoderId:$,mediaStreamAudioSourceNode:L,recorderAudioWorkletNode:V}));const M=i.getTracks();m=()=>{E(),o.dispatchEvent(new ErrorEvent("error",{error:t()}))},i.addEventListener("addtrack",m),i.addEventListener("removetrack",m),p=setInterval(()=>{const U=i.getTracks();(U.length!==M.length||U.some(($,L)=>$!==M[L]))&&m!==null&&m()},1e3)},stop:E}};class Sw{constructor(t,n=0,r){if(n<0||r!==void 0&&r<0)throw new RangeError;const o=t.reduce((c,f)=>c+f.byteLength,0);if(n>o||r!==void 0&&n+r>o)throw new RangeError;const i=[],a=r===void 0?o-n:r,s=[];let u=0,l=n;for(const c of t)if(s.length===0)if(c.byteLength>l){u=c.byteLength-l;const f=u>a?a:u;i.push(new DataView(c,l,f)),s.push(c)}else l-=c.byteLength;else if(u<a){u+=c.byteLength;const f=u>a?c.byteLength-u+a:c.byteLength;i.push(new DataView(c,0,f)),s.push(c)}this._buffers=s,this._byteLength=a,this._byteOffset=l,this._dataViews=i,this._internalBuffer=new DataView(new ArrayBuffer(8))}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get byteOffset(){return this._byteOffset}getFloat32(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getFloat32(0,n)}getFloat64(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.setUint8(4,this.getUint8(t+4)),this._internalBuffer.setUint8(5,this.getUint8(t+5)),this._internalBuffer.setUint8(6,this.getUint8(t+6)),this._internalBuffer.setUint8(7,this.getUint8(t+7)),this._internalBuffer.getFloat64(0,n)}getInt16(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.getInt16(0,n)}getInt32(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getInt32(0,n)}getInt8(t){const[n,r]=this._findDataViewWithOffset(t);return n.getInt8(t-r)}getUint16(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.getUint16(0,n)}getUint32(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getUint32(0,n)}getUint8(t){const[n,r]=this._findDataViewWithOffset(t);return n.getUint8(t-r)}setFloat32(t,n,r){this._internalBuffer.setFloat32(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}setFloat64(t,n,r){this._internalBuffer.setFloat64(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3)),this.setUint8(t+4,this._internalBuffer.getUint8(4)),this.setUint8(t+5,this._internalBuffer.getUint8(5)),this.setUint8(t+6,this._internalBuffer.getUint8(6)),this.setUint8(t+7,this._internalBuffer.getUint8(7))}setInt16(t,n,r){this._internalBuffer.setInt16(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1))}setInt32(t,n,r){this._internalBuffer.setInt32(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}setInt8(t,n){const[r,o]=this._findDataViewWithOffset(t);r.setInt8(t-o,n)}setUint16(t,n,r){this._internalBuffer.setUint16(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1))}setUint32(t,n,r){this._internalBuffer.setUint32(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}setUint8(t,n){const[r,o]=this._findDataViewWithOffset(t);r.setUint8(t-o,n)}_findDataViewWithOffset(t){let n=0;for(const r of this._dataViews){const o=n+r.byteLength;if(t>=n&&t<o)return[r,n];n=o}throw new RangeError}}const h0e=(e,t,n)=>(r,o,i,a)=>{const s=[],u=new o(i,{mimeType:"audio/webm;codecs=pcm"});let l=null,c=()=>{};const f=m=>{r.dispatchEvent(e("dataavailable",{data:new Blob(m,{type:a})}))},d=async(m,p)=>{const b=await vv(m,p);u.state==="inactive"?s.push(...b):(f(b),l=d(m,p))},h=()=>{u.state!=="inactive"&&(l!==null&&(l.catch(()=>{}),l=null),c(),c=()=>{},u.stop())};return u.addEventListener("error",m=>{h(),r.dispatchEvent(new ErrorEvent("error",{error:m.error}))}),u.addEventListener("pause",()=>r.dispatchEvent(new Event("pause"))),u.addEventListener("resume",()=>r.dispatchEvent(new Event("resume"))),u.addEventListener("start",()=>r.dispatchEvent(new Event("start"))),{get mimeType(){return a},get state(){return u.state},pause(){return u.pause()},resume(){return u.resume()},start(m){const[p]=i.getAudioTracks();if(p!==void 0&&u.state==="inactive"){const{channelCount:b,sampleRate:v}=p.getSettings();if(b===void 0)throw new Error("The channelCount is not defined.");if(v===void 0)throw new Error("The sampleRate is not defined.");let y=!1,w=!1,_=0,S=p3(a,v);c=()=>{w=!0};const E=m3(u,"dataavailable")(({data:x})=>{_+=1;const P=x.arrayBuffer();S=S.then(async({dataView:O=null,elementType:T=null,encoderId:R,port:M})=>{const U=await P;_-=1;const $=O===null?new Sw([U]):new Sw([...O.buffers,U],O.byteOffset);if(!y&&u.state==="recording"&&!w){const A=n($,0);if(A===null)return{dataView:$,elementType:T,encoderId:R,port:M};const{value:D}=A;if(D!==172351395)return{dataView:O,elementType:T,encoderId:R,port:M};y=!0}const{currentElementType:L,offset:N,contents:V}=t($,T,b),I=N<$.byteLength?new Sw($.buffers,$.byteOffset+N):null;return V.forEach(A=>M.postMessage(A,A.map(({buffer:D})=>D))),_===0&&(u.state==="inactive"||w)&&(vv(R,null).then(A=>{f([...s,...A]),s.length=0,r.dispatchEvent(new Event("stop"))}),M.postMessage([]),M.close(),E()),{dataView:I,elementType:L,encoderId:R,port:M}})});m!==void 0&&S.then(({encoderId:x})=>l=d(x,m))}u.start(100)},stop:h}},p0e=()=>typeof window>"u"?null:window,o4=(e,t)=>{if(t>=e.byteLength)return null;const n=e.getUint8(t);if(n>127)return 1;if(n>63)return 2;if(n>31)return 3;if(n>15)return 4;if(n>7)return 5;if(n>3)return 6;if(n>1)return 7;if(n>0)return 8;const r=o4(e,t+1);return r===null?null:r+8},m0e=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof t=="function"?t.call(e,n):t.handleEvent.call(e,n)},i4=[],bP=p0e(),v0e=Jve(bP),a4=Kve(v0e),g0e=d0e(a4,Yve,Qve,lS),wP=rge(o4),y0e=tge(wP),b0e=nge(wP),w0e=Hve(y0e,b0e),_0e=h0e(a4,w0e,wP),S0e=Gve(bP),E0e=Zve(bP),x0e=Xve(ege(lS),lS,g0e,_0e,i4,qve(S0e,m0e),E0e),P0e=async e=>{i4.push(await zve(e))},C0e=d3({characterize:({call:e})=>()=>e("characterize"),encode:({call:e})=>(t,n)=>e("encode",{recordingId:t,timeslice:n}),record:({call:e})=>async(t,n,r)=>{await e("record",{recordingId:t,sampleRate:n,typedArrays:r},r.map(({buffer:o})=>o))}}),O0e=e=>{const t=new Worker(e);return C0e(t)},A0e=`(()=>{var e={312:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=2*s,o=function(e,t){return function(r){var o=t.get(r),i=void 0===o?r.size:o<a?o+1:0;if(!r.has(i))return e(r,i);if(r.size<s){for(;r.has(i);)i=Math.floor(Math.random()*a);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,l=r(i),c=o(l,i),u=t(c);e.addUniqueNumber=u,e.generateUniqueNumber=c}(t)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,s=(e,t)=>Object.assign(new Error(e),{status:t}),a=t=>s('The handler of the method called "'.concat(t,'" returned an unexpected result.'),e),o=(t,r)=>async o=>{let{data:{id:i,method:l,params:c}}=o;const u=r[l];try{if(void 0===u)throw(e=>s('The requested method called "'.concat(e,'" is not supported.'),n))(l);const r=void 0===c?u():u(c);if(void 0===r)throw(t=>s('The handler of the method called "'.concat(t,'" returned no required result.'),e))(l);const o=r instanceof Promise?await r:r;if(null===i){if(void 0!==o.result)throw a(l)}else{if(void 0===o.result)throw a(l);const{result:e,transferables:r=[]}=o;t.postMessage({id:i,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:i})}};var i=r(312);const l=new Map,c=(e,r,n)=>({...r,connect:t=>{let{port:n}=t;n.start();const s=e(n,r),a=(0,i.generateUniqueNumber)(l);return l.set(a,(()=>{s(),n.close(),l.delete(a)})),{result:a}},disconnect:e=>{let{portId:r}=e;const n=l.get(r);if(void 0===n)throw(e=>s('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),t))(r);return n(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),u=function(e,t){const r=c(u,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=o(e,r);return e.addEventListener("message",n),()=>e.removeEventListener("message",n)},d=e=>e.reduce(((e,t)=>e+t.length),0),h=(e,t)=>{const r=[];let n=0;e:for(;n<t;){const t=e.length;for(let s=0;s<t;s+=1){const t=e[s];void 0===r[s]&&(r[s]=[]);const a=t.shift();if(void 0===a)break e;r[s].push(a),0===s&&(n+=a.length)}}if(n>t){const s=n-t;r.forEach(((t,r)=>{const n=t.pop(),a=n.length-s;t.push(n.subarray(0,a)),e[r].unshift(n.subarray(a))}))}return r},f=new Map,m=(e=>(t,r,n)=>{const s=e.get(t);if(void 0===s){const s={channelDataArrays:n.map((e=>[e])),isComplete:!0,sampleRate:r};return e.set(t,s),s}return s.channelDataArrays.forEach(((e,t)=>e.push(n[t]))),s})(f),p=((e,t)=>(r,n,s,a)=>{const o=s>>3,i="subsequent"===n?0:44,l=r.length,c=e(r[0]),u=new ArrayBuffer(c*l*o+i),d=new DataView(u);return"subsequent"!==n&&t(d,s,l,"complete"===n?c:Number.POSITIVE_INFINITY,a),r.forEach(((e,t)=>{let r=i+t*o;e.forEach((e=>{const t=e.length;for(let n=0;n<t;n+=1){const t=e[n];d.setInt16(r,t<0?32768*Math.max(-1,t):32767*Math.min(1,t),!0),r+=l*o}}))})),[u]})(d,((e,t,r,n,s)=>{const a=t>>3,o=Math.min(n*r*a,4294967251);e.setUint32(0,1380533830),e.setUint32(4,o+36,!0),e.setUint32(8,1463899717),e.setUint32(12,1718449184),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,r,!0),e.setUint32(24,s,!0),e.setUint32(28,s*r*a,!0),e.setUint16(32,r*a,!0),e.setUint16(34,t,!0),e.setUint32(36,1684108385),e.setUint32(40,o,!0)})),v=new Map;u(self,{characterize:()=>({result:/^audio\\/wav$/}),encode:e=>{let{recordingId:t,timeslice:r}=e;const n=v.get(t);void 0!==n&&(v.delete(t),n.reject(new Error("Another request was made to initiate an encoding.")));const s=f.get(t);if(null!==r){if(void 0===s||d(s.channelDataArrays[0])*(1e3/s.sampleRate)<r)return new Promise(((e,n)=>{v.set(t,{reject:n,resolve:e,timeslice:r})}));const e=h(s.channelDataArrays,Math.ceil(r*(s.sampleRate/1e3))),n=p(e,s.isComplete?"initial":"subsequent",16,s.sampleRate);return s.isComplete=!1,{result:n,transferables:n}}if(void 0!==s){const e=p(s.channelDataArrays,s.isComplete?"complete":"subsequent",16,s.sampleRate);return f.delete(t),{result:e,transferables:e}}return{result:[],transferables:[]}},record:e=>{let{recordingId:t,sampleRate:r,typedArrays:n}=e;const s=m(t,r,n),a=v.get(t);if(void 0!==a&&d(s.channelDataArrays[0])*(1e3/r)>=a.timeslice){const e=h(s.channelDataArrays,Math.ceil(a.timeslice*(r/1e3))),n=p(e,s.isComplete?"initial":"subsequent",16,r);s.isComplete=!1,v.delete(t),a.resolve({result:n,transferables:n})}return{result:null}}})})()})();`,$0e=new Blob([A0e],{type:"application/javascript; charset=utf-8"}),s4=URL.createObjectURL($0e),T0e=O0e(s4),R0e=T0e.connect;URL.revokeObjectURL(s4);const k0e=(e,t=3e3)=>{const[n,r]=g.useState(!1),o=g.useRef(!1),i=g.useRef(null),a=g.useRef([]),s=g.useRef(null),u=g.useRef(0),l=g.useRef(null),c=()=>{var b;a.current=[],i.current=null,(((b=l.current)==null?void 0:b.getTracks())||[]).forEach(v=>{v.stop()}),l.current=null},f=async()=>{if(s.current)return m();u.current=Date.now(),o.current||(await P0e(await R0e()).catch(()=>({})),o.current=!0);const p=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(v=>console.error("Error accessing microphone:",v));if(!p){console.error("Can't initiate an audio stream");return}l.current=p;const b=new x0e(p,{mimeType:"audio/wav"});b.ondataavailable=v=>{a.current.push(v.data)},b.onstop=()=>{const v=new Blob(a.current);e(v),c()},i.current=b,b.start(),r(!0),s.current=setTimeout(()=>{m(),h()},t)},d=()=>{i.current&&(h(),i.current.ondataavailable=null,i.current.onstop=null,i.current.stop(),i.current=null,c(),r(!1))},h=()=>{s.current&&(clearTimeout(s.current),s.current=null)},m=()=>{var b,v;if(Date.now()-u.current<400)return d();h(),((b=i.current)==null?void 0:b.state)==="recording"&&((v=i.current)==null||v.stop(),r(!1))};return{isRecording:n,startRecording:f,stopRecording:m,cancelRecording:d}},M0e=({onAudioGenerated:e})=>{const{isRecording:t,cancelRecording:n,stopRecording:r,startRecording:o}=k0e(e),i=g.useRef(!1),a=g.useId(),{attributes:s,listeners:u,setNodeRef:l,transform:c,isDragging:f}=LL({id:a}),d=f&&t?{transform:`translateX(${c==null?void 0:c.x}px)`}:{};return bb({onDragMove(h){h.delta.x<=-60&&n(),h.delta.x>=60&&r()}}),C.jsxs("div",{className:jt("relative",t&&"scale-110 transition-[transform]"),children:[C.jsxs("div",{className:jt("absolute left-1/2 top-1/2 box-content flex h-full w-56 -translate-x-1/2 -translate-y-1/2 items-center justify-between gap-4 rounded-md bg-slate-100 p-2 dark:bg-slate-600",!t&&"hidden"),children:[t&&C.jsx("div",{className:"absolute left-0 z-0 flex h-full w-0 animate-[progress_3s_linear] justify-center rounded-md bg-slate-200 dark:bg-slate-700"}),C.jsx(zx,{className:"z-10 stroke-red-700",onClick:n}),C.jsx(BL,{className:"z-10 stroke-green-600",onClick:r})]}),C.jsx(ye,{ref:l,className:"relative touch-none select-none overflow-hidden",onMouseDown:()=>{i.current||o()},onMouseUp:()=>{i.current||r()},onTouchEnd:h=>{h.preventDefault(),r()},onTouchStart:()=>{i.current=!0,o()},style:d,type:"button",variant:"outline",...s,...u,children:C.jsx(ude,{className:"z-10"})})]})},I0e=e=>C.jsx(NL,{children:C.jsx(M0e,{...e})}),D0e=({settings:e,setIsLoading:t,onTextFetched:n})=>{const{user:r}=Cb(),o=l3(),{toast:i}=Fr(),a=!!e&&!!cR(e.learnLanguage.value)&&!!cR(e.learnLanguage.value);return!o||!(r!=null&&r.subscription)||!a?null:C.jsx(I0e,{onAudioGenerated:s=>{if(!e)return;const u=new File([s],"speech.wav",{type:"audio/wav"}),l=new FormData;l.append("file",u),l.append("languageA",e.nativeLanguage.value),l.append("languageB",e.learnLanguage.value),t(!0),Lt("/speech",{body:l,method:"POST",headers:{},bodyParse:c=>c.text()}).then(({data:c="",res:f})=>{const d=c.trim();if(!d)return i({variant:"destructive",title:f.status===403?"You have reached the subscription limit":"Can't process the audio. Please try again later."});n(d)}).finally(()=>t(!1))}})},j0e=(e,t,n,r)=>{const o=new EventSource(new URL(`example/sse?word=${t}&translation=${n}${r}&token=${localStorage.getItem(Yn)}`,"http://192.168.1.100:4000"));let i="";o.onmessage=({data:a})=>{i=`${i}${a}`,e==null||e.incrementalPatch({examples:i})},o.onerror=()=>o.close()},N0e=(e,t)=>e?t&&`Enter ${t.nativeLanguage.label} or ${t.learnLanguage.label} word`:t&&`Enter ${t.nativeLanguage.label} word`,L0e=(e,t)=>{var n;return(n=[e.learnLanguage,e.nativeLanguage].find(({value:r})=>r!==t))==null?void 0:n.label},F0e=(e,t,n)=>e?`Choose or enter ${n&&t?`${L0e(t,n)} `:""}translation`:t&&`Enter ${t.learnLanguage.label} word`,B0e=()=>{const e=Mr.useRxCollection("cards"),[t,n]=g.useState([]),[,r]=g.useTransition(),o=x=>r(()=>n(x)),i=g.useRef([]),[a,s]=g.useState(!1),{result:[u]}=Mr.useRxData("settings",x=>x.find({})),[l,c]=g.useState(!1),[f,d]=g.useState(!1),h=g.useRef(null),m=g.useRef(null),[p,b]=g.useState(),v=l3(),y=x=>{m.current&&(m.current.value=x,o([]),s(!1),E())},w=()=>{h.current&&(h.current.value=""),m.current&&(m.current.value="")},_=async()=>{var O;const x=(O=h.current)==null?void 0:O.value;if(!x||!u)return;c(!0);const{data:P}=await Lt(`translation?text=${x}&languageA=${u.nativeLanguage.value}&languageB=${u.learnLanguage.value}`);c(!1),P&&(o(P.translations),i.current=P.translations,P.from&&b(P.from))},S=()=>{navigator.clipboard.readText().then(x=>{var P;h.current&&(h.current.value=x,_(),(P=m.current)==null||P.focus())})},E=async()=>{var I,A,D;const x=(I=h.current)==null?void 0:I.value,P=(A=m.current)==null?void 0:A.value,O=p===(u==null?void 0:u.learnLanguage.value);b(void 0);const T=O?P:x,R=O?x:P;if(!R||!T)return;const M={id:Ave(),nativeText:T,learnText:R,createdAt:new Date().getTime()};w(),document.activeElement===m.current&&((D=h.current)==null||D.focus());const $=await(e==null?void 0:e.upsert(M));if(!mv()||!P||!$)return;const L=u==null?void 0:u.learnLanguage.label,N=L?`&language=${L}`:"";j0e($,R,T,N);const{data:V}=await Lt(`pronunciation?word=${R}${N}`,{bodyParse:F=>F.text()});await($==null?void 0:$.incrementalPatch({pronunciation:V}))};return C.jsx("div",{className:"flex h-fit items-end",children:C.jsxs("form",{className:"flex w-full flex-col gap-2",onSubmit:x=>{x.preventDefault(),E()},children:[C.jsx(on,{ref:h,"aria-label":"Input for either native or learn text",className:"grow",maxLength:100,onBlur:_,onFocus:()=>{o([]),b(void 0)},placeholder:N0e(v,u),required:!0}),C.jsxs("div",{className:"relative",children:[a&&!!t.length&&C.jsx($ve,{onSuggestionSelect:y,translations:t}),C.jsx(on,{ref:m,"aria-label":"Translation of the text from the input above",maxLength:100,onBlur:()=>s(!1),onChange:x=>o(i.current.filter(P=>P.toLowerCase().includes(x.currentTarget.value.toLowerCase()))),onFocus:()=>s(!0),placeholder:F0e(v,u,p),required:!0}),C.jsx(lR,{className:"mx-auto w-[98%]",isLoading:l})]}),C.jsxs("div",{className:"flex justify-center gap-2",children:[C.jsx(ye,{"aria-label":"paste text into the field button",onClick:S,type:"button",variant:"outline",children:C.jsx(ide,{})}),C.jsx(ye,{"aria-label":"submit adding an item",type:"submit",variant:"outline",children:C.jsx(cde,{})}),C.jsxs("div",{className:"relative",children:[C.jsx(D0e,{onTextFetched:x=>{h.current&&(h.current.value=x),o([]),_(),s(!0)},setIsLoading:d,settings:u}),C.jsx(lR,{className:"mx-auto w-[98%]",isLoading:f})]})]})]})})},u4="Collapsible",[U0e,BEe]=$l(u4),[V0e,_P]=U0e(u4),W0e=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:i,onOpenChange:a,...s}=e,[u=!1,l]=Xv({prop:r,defaultProp:o,onChange:a});return g.createElement(V0e,{scope:n,disabled:i,contentId:UL(),open:u,onOpenToggle:g.useCallback(()=>l(c=>!c),[l])},g.createElement(bt.div,Ne({"data-state":SP(u),"data-disabled":i?"":void 0},s,{ref:t})))}),z0e="CollapsibleTrigger",K0e=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=_P(z0e,n);return g.createElement(bt.button,Ne({type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":SP(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled},r,{ref:t,onClick:Pt(e.onClick,o.onOpenToggle)}))}),l4="CollapsibleContent",H0e=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=_P(l4,e.__scopeCollapsible);return g.createElement(cd,{present:n||o.open},({present:i})=>g.createElement(q0e,Ne({},r,{ref:t,present:i})))}),q0e=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...i}=e,a=_P(l4,n),[s,u]=g.useState(r),l=g.useRef(null),c=Rn(t,l),f=g.useRef(0),d=f.current,h=g.useRef(0),m=h.current,p=a.open||s,b=g.useRef(p),v=g.useRef();return g.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),Hi(()=>{const y=l.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,h.current=w.width,b.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),u(r)}},[a.open,r]),g.createElement(bt.div,Ne({"data-state":SP(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!p},i,{ref:c,style:{"--radix-collapsible-content-height":d?`${d}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...e.style}}),p&&o)});function SP(e){return e?"open":"closed"}const G0e=W0e,Y0e=G0e,Q0e=K0e,X0e=H0e,J0e=(e,t,n)=>{const r=n==="asc"?e.at(-1):e[0];g.useEffect(()=>{r!=null&&r.id&&t(r.id)},[r==null?void 0:r.id])},Z0e=({direction:e="asc"})=>{const{result:t}=Mr.useRxData("cards",r=>r.find({sort:[{createdAt:e}]})),n=r=>{const o=document.getElementById(r);o==null||o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})};return J0e(t,n,e),C.jsx("ul",{className:"flex grow gap-4 overflow-auto py-3 max-md:flex-col md:flex-wrap md:content-start",children:t==null?void 0:t.map(r=>C.jsx(Y0e,{asChild:!0,children:C.jsxs("li",{className:"h-fit rounded-lg bg-slate-200 shadow-md dark:bg-slate-800/70 max-md:first:mt-auto md:grow md:basis-2/5",id:r.id,children:[C.jsxs("div",{className:"flex gap-2 p-2",children:[C.jsxs("div",{className:"grow",children:[C.jsx(on,{"aria-label":"native text input",className:"mb-2",onChange:o=>r.incrementalPatch({nativeText:o.currentTarget.value}),value:r.nativeText}),C.jsx(on,{"aria-label":"learn text input",defaultValue:r.learnText,onChange:o=>r.incrementalPatch({learnText:o.currentTarget.value})})]}),C.jsxs("div",{className:"flex flex-col items-center justify-between",children:[C.jsx(ye,{"aria-label":"remove item button",className:"text-red-800 hover:text-red-600",onClick:r.remove,size:"icon",variant:"ghost",children:C.jsx(zx,{})}),C.jsx(ye,{"aria-label":"accordion toggle button",size:"icon",variant:"ghost",asChild:!0,children:C.jsx(Q0e,{className:"group w-full",children:C.jsx(rde,{className:"group-radix-state-open:rotate-180 transition"})})})]})]}),C.jsxs(X0e,{className:"radix-state-open:animate-collapsible-down radix-state-closed:animate-collapsible-up group overflow-hidden p-2",onAnimationEnd:()=>n(r.id),children:[C.jsx(on,{"aria-label":"pronunciation text input",className:"mb-2",defaultValue:r.pronunciation,onChange:o=>r.incrementalPatch({pronunciation:o.currentTarget.value}),placeholder:"Pronunciation"}),C.jsx(tP,{"aria-label":"Example text area input",onChange:o=>r.incrementalPatch({examples:o.currentTarget.value}),placeholder:"Example",rows:5,value:r.examples})]})]})},r.id))})},ewe=()=>C.jsxs(C.Fragment,{children:[C.jsx(Z0e,{}),C.jsx(B0e,{})]}),IR=()=>C.jsxs("main",{className:"flex h-screen flex-col items-center justify-center gap-4 px-4",children:[C.jsx("h3",{className:"text-lg",children:"Oops! Something went wrong."}),C.jsxs("p",{children:["We apologize for the inconvenience. ",C.jsx("br",{}),"You can"," ",C.jsx(Ye,{className:"text-blue-600 underline",to:"/settings/contact-us",children:"report"})," ","this issue to help us improve the application."]}),C.jsx(ye,{onClick:()=>window.location.reload(),children:"Refresh the page"})]}),twe=()=>{const e=ln(),[t]=IE(),n=t.get("token"),r=t.get("subscriptionId");return n&&localStorage.setItem(Yn,n),g.useEffect(()=>{if(r)return e("/cards",{replace:!0});e("/subscription",{replace:!0})},[r]),null},nwe=()=>{const e=ln();return g.useEffect(()=>{e("/upsert",{replace:!0})},[]),null},c4=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ib=g.createContext({}),EP=g.createContext(null),Db=typeof document<"u",rwe=Db?g.useLayoutEffect:g.useEffect,f4=g.createContext({strict:!1}),xP=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),owe="framerAppearId",d4="data-"+xP(owe);function iwe(e,t,n,r){const{visualElement:o}=g.useContext(Ib),i=g.useContext(f4),a=g.useContext(EP),s=g.useContext(c4).reducedMotion,u=g.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:s}));const l=u.current;g.useInsertionEffect(()=>{l&&l.update(n,a)});const c=g.useRef(!!(n[d4]&&!window.HandoffComplete));return rwe(()=>{l&&(l.render(),c.current&&l.animationState&&l.animationState.animateChanges())}),g.useEffect(()=>{l&&(l.updateFeatures(),!c.current&&l.animationState&&l.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),l}function Tu(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function awe(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Tu(n)&&(n.current=r))},[t])}function ed(e){return typeof e=="string"||Array.isArray(e)}function jb(e){return typeof e=="object"&&typeof e.start=="function"}const PP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CP=["initial",...PP];function Nb(e){return jb(e.animate)||CP.some(t=>ed(e[t]))}function h4(e){return!!(Nb(e)||e.variants)}function swe(e,t){if(Nb(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ed(n)?n:void 0,animate:ed(r)?r:void 0}}return e.inherit!==!1?t:{}}function uwe(e){const{initial:t,animate:n}=swe(e,g.useContext(Ib));return g.useMemo(()=>({initial:t,animate:n}),[DR(t),DR(n)])}function DR(e){return Array.isArray(e)?e.join(" "):e}const jR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},td={};for(const e in jR)td[e]={isEnabled:t=>jR[e].some(n=>!!t[n])};function lwe(e){for(const t in e)td[t]={...td[t],...e[t]}}const p4=g.createContext({}),m4=g.createContext({}),cwe=Symbol.for("motionComponentSymbol");function fwe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&lwe(e);function i(s,u){let l;const c={...g.useContext(c4),...s,layoutId:dwe(s)},{isStatic:f}=c,d=uwe(s),h=r(s,f);if(!f&&Db){d.visualElement=iwe(o,h,c,t);const m=g.useContext(m4),p=g.useContext(f4).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,p,e,m))}return g.createElement(Ib.Provider,{value:d},l&&d.visualElement?g.createElement(l,{visualElement:d.visualElement,...c}):null,n(o,s,awe(h,d.visualElement,u),h,f,d.visualElement))}const a=g.forwardRef(i);return a[cwe]=o,a}function dwe({layoutId:e}){const t=g.useContext(p4).id;return t&&e!==void 0?t+"-"+e:e}function hwe(e){function t(r,o={}){return fwe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const pwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function OP(e){return typeof e!="string"||e.includes("-")?!1:!!(pwe.indexOf(e)>-1||/[A-Z]/.test(e))}const xv={};function mwe(e){Object.assign(xv,e)}const Oh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qs=new Set(Oh);function v4(e,{layout:t,layoutId:n}){return Qs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xv[e]||e==="opacity")}const kn=e=>!!(e&&e.getVelocity),vwe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gwe=Oh.length;function ywe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let a=0;a<gwe;a++){const s=Oh[a];if(e[s]!==void 0){const u=vwe[s]||s;i+=`${u}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const g4=e=>t=>typeof t=="string"&&t.startsWith(e),y4=g4("--"),wS=g4("var(--"),bwe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,wwe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,sa=(e,t,n)=>Math.min(Math.max(n,e),t),Xs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},sf={...Xs,transform:e=>sa(0,1,e)},Sp={...Xs,default:1},uf=e=>Math.round(e*1e5)/1e5,Lb=/(-)?([\d]*\.?[\d])+/g,b4=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,_we=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ah(e){return typeof e=="string"}const $h=e=>({test:t=>Ah(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),mi=$h("deg"),oo=$h("%"),ce=$h("px"),Swe=$h("vh"),Ewe=$h("vw"),NR={...oo,parse:e=>oo.parse(e)/100,transform:e=>oo.transform(e*100)},LR={...Xs,transform:Math.round},w4={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,size:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,rotate:mi,rotateX:mi,rotateY:mi,rotateZ:mi,scale:Sp,scaleX:Sp,scaleY:Sp,scaleZ:Sp,skew:mi,skewX:mi,skewY:mi,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:sf,originX:NR,originY:NR,originZ:ce,zIndex:LR,fillOpacity:sf,strokeOpacity:sf,numOctaves:LR};function AP(e,t,n,r){const{style:o,vars:i,transform:a,transformOrigin:s}=e;let u=!1,l=!1,c=!0;for(const f in t){const d=t[f];if(y4(f)){i[f]=d;continue}const h=w4[f],m=wwe(d,h);if(Qs.has(f)){if(u=!0,a[f]=m,!c)continue;d!==(h.default||0)&&(c=!1)}else f.startsWith("origin")?(l=!0,s[f]=m):o[f]=m}if(t.transform||(u||r?o.transform=ywe(e.transform,n,c,r):o.transform&&(o.transform="none")),l){const{originX:f="50%",originY:d="50%",originZ:h=0}=s;o.transformOrigin=`${f} ${d} ${h}`}}const $P=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _4(e,t,n){for(const r in t)!kn(t[r])&&!v4(r,n)&&(e[r]=t[r])}function xwe({transformTemplate:e},t,n){return g.useMemo(()=>{const r=$P();return AP(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Pwe(e,t,n){const r=e.style||{},o={};return _4(o,r,e),Object.assign(o,xwe(e,t,n)),e.transformValues?e.transformValues(o):o}function Cwe(e,t,n){const r={},o=Pwe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const Owe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Pv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||Owe.has(e)}let S4=e=>!Pv(e);function Awe(e){e&&(S4=t=>t.startsWith("on")?!Pv(t):e(t))}try{Awe(require("@emotion/is-prop-valid").default)}catch{}function $we(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(S4(o)||n===!0&&Pv(o)||!t&&!Pv(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function FR(e,t,n){return typeof e=="string"?e:ce.transform(t+n*e)}function Twe(e,t,n){const r=FR(t,e.x,e.width),o=FR(n,e.y,e.height);return`${r} ${o}`}const Rwe={offset:"stroke-dashoffset",array:"stroke-dasharray"},kwe={offset:"strokeDashoffset",array:"strokeDasharray"};function Mwe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?Rwe:kwe;e[i.offset]=ce.transform(-r);const a=ce.transform(t),s=ce.transform(n);e[i.array]=`${a} ${s}`}function TP(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:a,pathSpacing:s=1,pathOffset:u=0,...l},c,f,d){if(AP(e,l,c,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:p}=e;h.transform&&(p&&(m.transform=h.transform),delete h.transform),p&&(o!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=Twe(p,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&Mwe(h,a,s,u,!1)}const E4=()=>({...$P(),attrs:{}}),RP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Iwe(e,t,n,r){const o=g.useMemo(()=>{const i=E4();return TP(i,t,{enableHardwareAcceleration:!1},RP(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};_4(i,e.style,e),o.style={...i,...o.style}}return o}function Dwe(e=!1){return(n,r,o,{latestValues:i},a)=>{const u=(OP(n)?Iwe:Cwe)(r,i,a,n),c={...$we(r,typeof n=="string",e),...u,ref:o},{children:f}=r,d=g.useMemo(()=>kn(f)?f.get():f,[f]);return g.createElement(n,{...c,children:d})}}function x4(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const P4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C4(e,t,n,r){x4(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(P4.has(o)?o:xP(o),t.attrs[o])}function kP(e,t){const{style:n}=e,r={};for(const o in n)(kn(n[o])||t.style&&kn(t.style[o])||v4(o,e))&&(r[o]=n[o]);return r}function O4(e,t){const n=kP(e,t);for(const r in e)if(kn(e[r])||kn(t[r])){const o=Oh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function MP(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function jwe(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const Cv=e=>Array.isArray(e),Nwe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Lwe=e=>Cv(e)?e[e.length-1]||0:e;function am(e){const t=kn(e)?e.get():e;return Nwe(t)?t.toValue():t}function Fwe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const a={latestValues:Bwe(r,o,i,e),renderState:t()};return n&&(a.mount=s=>n(r,s,a)),a}const A4=e=>(t,n)=>{const r=g.useContext(Ib),o=g.useContext(EP),i=()=>Fwe(e,t,r,o);return n?i():jwe(i)};function Bwe(e,t,n,r){const o={},i=r(e,{});for(const d in i)o[d]=am(i[d]);let{initial:a,animate:s}=e;const u=Nb(e),l=h4(e);t&&l&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),s===void 0&&(s=t.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const f=c?s:a;return f&&typeof f!="boolean"&&!jb(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const m=MP(e,h);if(!m)return;const{transitionEnd:p,transition:b,...v}=m;for(const y in v){let w=v[y];if(Array.isArray(w)){const _=c?w.length-1:0;w=w[_]}w!==null&&(o[y]=w)}for(const y in p)o[y]=p[y]}),o}const st=e=>e;class BR{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Uwe(e){let t=new BR,n=new BR,r=0,o=!1,i=!1;const a=new WeakSet,s={schedule:(u,l=!1,c=!1)=>{const f=c&&o,d=f?t:n;return l&&a.add(u),d.add(u)&&f&&o&&(r=t.order.length),u},cancel:u=>{n.remove(u),a.delete(u)},process:u=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let l=0;l<r;l++){const c=t.order[l];c(u),a.has(c)&&(s.schedule(c),e())}o=!1,i&&(i=!1,s.process(u))}};return s}const Ep=["prepare","read","update","preRender","render","postRender"],Vwe=40;function Wwe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=Ep.reduce((f,d)=>(f[d]=Uwe(()=>n=!0),f),{}),a=f=>i[f].process(o),s=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,Vwe),1),o.timestamp=f,o.isProcessing=!0,Ep.forEach(a),o.isProcessing=!1,n&&t&&(r=!1,e(s))},u=()=>{n=!0,r=!0,o.isProcessing||e(s)};return{schedule:Ep.reduce((f,d)=>{const h=i[d];return f[d]=(m,p=!1,b=!1)=>(n||u(),h.schedule(m,p,b)),f},{}),cancel:f=>Ep.forEach(d=>i[d].cancel(f)),state:o,steps:i}}const{schedule:Je,cancel:Zo,state:Xt,steps:Ew}=Wwe(typeof requestAnimationFrame<"u"?requestAnimationFrame:st,!0),zwe={useVisualState:A4({scrapeMotionValuesFromProps:O4,createRenderState:E4,onMount:(e,t,{renderState:n,latestValues:r})=>{Je.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Je.render(()=>{TP(n,r,{enableHardwareAcceleration:!1},RP(t.tagName),e.transformTemplate),C4(t,n)})}})},Kwe={useVisualState:A4({scrapeMotionValuesFromProps:kP,createRenderState:$P})};function Hwe(e,{forwardMotionProps:t=!1},n,r){return{...OP(e)?zwe:Kwe,preloadedFeatures:n,useRender:Dwe(t),createVisualElement:r,Component:e}}function Ao(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const $4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Fb(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const qwe=e=>t=>$4(t)&&e(t,Fb(t));function Do(e,t,n,r){return Ao(e,t,qwe(n),r)}const Gwe=(e,t)=>n=>t(e(n)),Ui=(...e)=>e.reduce(Gwe);function T4(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const UR=T4("dragHorizontal"),VR=T4("dragVertical");function R4(e){let t=!1;if(e==="y")t=VR();else if(e==="x")t=UR();else{const n=UR(),r=VR();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function k4(){const e=R4(!0);return e?(e(),!1):!0}class _a{constructor(t){this.isMounted=!1,this.node=t}update(){}}function WR(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,a)=>{if(i.type==="touch"||k4())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Je.update(()=>s[r](i,a))};return Do(e.current,n,o,{passive:!e.getProps()[r]})}class Ywe extends _a{mount(){this.unmount=Ui(WR(this.node,!0),WR(this.node,!1))}unmount(){}}class Qwe extends _a{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ui(Ao(this.node.current,"focus",()=>this.onFocus()),Ao(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const M4=(e,t)=>t?e===t?!0:M4(e,t.parentElement):!1;function xw(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Fb(n))}class Xwe extends _a{constructor(){super(...arguments),this.removeStartListeners=st,this.removeEndListeners=st,this.removeAccessibleListeners=st,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Do(window,"pointerup",(s,u)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c}=this.node.getProps();Je.update(()=>{M4(this.node.current,s.target)?l&&l(s,u):c&&c(s,u)})},{passive:!(r.onTap||r.onPointerUp)}),a=Do(window,"pointercancel",(s,u)=>this.cancelPress(s,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ui(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=s=>{s.key!=="Enter"||!this.checkPressEnd()||xw("up",(u,l)=>{const{onTap:c}=this.node.getProps();c&&Je.update(()=>c(u,l))})};this.removeEndListeners(),this.removeEndListeners=Ao(this.node.current,"keyup",a),xw("down",(s,u)=>{this.startPress(s,u)})},n=Ao(this.node.current,"keydown",t),r=()=>{this.isPressing&&xw("cancel",(i,a)=>this.cancelPress(i,a))},o=Ao(this.node.current,"blur",r);this.removeAccessibleListeners=Ui(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Je.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!k4()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Je.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Do(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Ao(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ui(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const _S=new WeakMap,Pw=new WeakMap,Jwe=e=>{const t=_S.get(e.target);t&&t(e)},Zwe=e=>{e.forEach(Jwe)};function e1e({root:e,...t}){const n=e||document;Pw.has(n)||Pw.set(n,{});const r=Pw.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(Zwe,{root:e,...t})),r[o]}function t1e(e,t,n){const r=e1e(t);return _S.set(e,n),r.observe(e),()=>{_S.delete(e),r.unobserve(e)}}const n1e={some:0,all:1};class r1e extends _a{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:n1e[o]},s=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=l?c:f;d&&d(u)};return t1e(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(o1e(t,n))&&this.startObserver()}unmount(){}}function o1e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const i1e={inView:{Feature:r1e},tap:{Feature:Xwe},focus:{Feature:Qwe},hover:{Feature:Ywe}};function I4(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function a1e(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function s1e(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Bb(e,t,n){const r=e.getProps();return MP(r,t,n!==void 0?n:r.custom,a1e(e),s1e(e))}let u1e=st,IP=st;const Vi=e=>e*1e3,jo=e=>e/1e3,l1e={current:!1},D4=e=>Array.isArray(e)&&typeof e[0]=="number";function j4(e){return!!(!e||typeof e=="string"&&N4[e]||D4(e)||Array.isArray(e)&&e.every(j4))}const kc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,N4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function L4(e){if(e)return D4(e)?kc(e):Array.isArray(e)?e.map(L4):N4[e]}function c1e(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:a="loop",ease:s,times:u}={}){const l={[t]:n};u&&(l.offset=u);const c=L4(s);return Array.isArray(c)&&(l.easing=c),e.animate(l,{delay:r,duration:o,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function f1e(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const F4=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,d1e=1e-7,h1e=12;function p1e(e,t,n,r,o){let i,a,s=0;do a=t+(n-t)/2,i=F4(a,r,o)-e,i>0?n=a:t=a;while(Math.abs(i)>d1e&&++s<h1e);return a}function Th(e,t,n,r){if(e===t&&n===r)return st;const o=i=>p1e(i,0,1,e,n);return i=>i===0||i===1?i:F4(o(i),t,r)}const m1e=Th(.42,0,1,1),v1e=Th(0,0,.58,1),B4=Th(.42,0,.58,1),g1e=e=>Array.isArray(e)&&typeof e[0]!="number",U4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,V4=e=>t=>1-e(1-t),DP=e=>1-Math.sin(Math.acos(e)),W4=V4(DP),y1e=U4(DP),z4=Th(.33,1.53,.69,.99),jP=V4(z4),b1e=U4(jP),w1e=e=>(e*=2)<1?.5*jP(e):.5*(2-Math.pow(2,-10*(e-1))),_1e={linear:st,easeIn:m1e,easeInOut:B4,easeOut:v1e,circIn:DP,circInOut:y1e,circOut:W4,backIn:jP,backInOut:b1e,backOut:z4,anticipate:w1e},zR=e=>{if(Array.isArray(e)){IP(e.length===4);const[t,n,r,o]=e;return Th(t,n,r,o)}else if(typeof e=="string")return _1e[e];return e},NP=(e,t)=>n=>!!(Ah(n)&&_we.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),K4=(e,t,n)=>r=>{if(!Ah(r))return r;const[o,i,a,s]=r.match(Lb);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},S1e=e=>sa(0,255,e),Cw={...Xs,transform:e=>Math.round(S1e(e))},Ha={test:NP("rgb","red"),parse:K4("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Cw.transform(e)+", "+Cw.transform(t)+", "+Cw.transform(n)+", "+uf(sf.transform(r))+")"};function E1e(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const SS={test:NP("#"),parse:E1e,transform:Ha.transform},Ru={test:NP("hsl","hue"),parse:K4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+oo.transform(uf(t))+", "+oo.transform(uf(n))+", "+uf(sf.transform(r))+")"},fn={test:e=>Ha.test(e)||SS.test(e)||Ru.test(e),parse:e=>Ha.test(e)?Ha.parse(e):Ru.test(e)?Ru.parse(e):SS.parse(e),transform:e=>Ah(e)?e:e.hasOwnProperty("red")?Ha.transform(e):Ru.transform(e)},rt=(e,t,n)=>-n*e+n*t+e;function Ow(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function x1e({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,a=0;if(!t)o=i=a=n;else{const s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;o=Ow(u,s,e+1/3),i=Ow(u,s,e),a=Ow(u,s,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const Aw=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},P1e=[SS,Ha,Ru],C1e=e=>P1e.find(t=>t.test(e));function KR(e){const t=C1e(e);let n=t.parse(e);return t===Ru&&(n=x1e(n)),n}const H4=(e,t)=>{const n=KR(e),r=KR(t),o={...n};return i=>(o.red=Aw(n.red,r.red,i),o.green=Aw(n.green,r.green,i),o.blue=Aw(n.blue,r.blue,i),o.alpha=rt(n.alpha,r.alpha,i),Ha.transform(o))};function O1e(e){var t,n;return isNaN(e)&&Ah(e)&&(((t=e.match(Lb))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(b4))===null||n===void 0?void 0:n.length)||0)>0}const q4={regex:bwe,countKey:"Vars",token:"${v}",parse:st},G4={regex:b4,countKey:"Colors",token:"${c}",parse:fn.parse},Y4={regex:Lb,countKey:"Numbers",token:"${n}",parse:Xs.parse};function $w(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function Ov(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&$w(n,q4),$w(n,G4),$w(n,Y4),n}function Q4(e){return Ov(e).values}function X4(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Ov(e),i=t.length;return a=>{let s=o;for(let u=0;u<i;u++)u<r?s=s.replace(q4.token,a[u]):u<r+n?s=s.replace(G4.token,fn.transform(a[u])):s=s.replace(Y4.token,uf(a[u]));return s}}const A1e=e=>typeof e=="number"?0:e;function $1e(e){const t=Q4(e);return X4(e)(t.map(A1e))}const ua={test:O1e,parse:Q4,createTransformer:X4,getAnimatableNone:$1e},J4=(e,t)=>n=>`${n>0?t:e}`;function Z4(e,t){return typeof e=="number"?n=>rt(e,t,n):fn.test(e)?H4(e,t):e.startsWith("var(")?J4(e,t):tB(e,t)}const eB=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,a)=>Z4(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=o[a](i);return n}},T1e=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Z4(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},tB=(e,t)=>{const n=ua.createTransformer(t),r=Ov(e),o=Ov(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Ui(eB(r.values,o.values),n):J4(e,t)},nd=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},HR=(e,t)=>n=>rt(e,t,n);function R1e(e){return typeof e=="number"?HR:typeof e=="string"?fn.test(e)?H4:tB:Array.isArray(e)?eB:typeof e=="object"?T1e:HR}function k1e(e,t,n){const r=[],o=n||R1e(e[0]),i=e.length-1;for(let a=0;a<i;a++){let s=o(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||st:t;s=Ui(u,s)}r.push(s)}return r}function nB(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(IP(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=k1e(t,r,o),s=a.length,u=l=>{let c=0;if(s>1)for(;c<e.length-2&&!(l<e[c+1]);c++);const f=nd(e[c],e[c+1],l);return a[c](f)};return n?l=>u(sa(e[0],e[i-1],l)):u}function M1e(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=nd(0,t,r);e.push(rt(n,1,o))}}function I1e(e){const t=[0];return M1e(t,e.length-1),t}function D1e(e,t){return e.map(n=>n*t)}function j1e(e,t){return e.map(()=>t||B4).splice(0,e.length-1)}function Av({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=g1e(r)?r.map(zR):zR(r),i={done:!1,value:t[0]},a=D1e(n&&n.length===t.length?n:I1e(t),e),s=nB(a,t,{ease:Array.isArray(o)?o:j1e(t,o)});return{calculatedDuration:e,next:u=>(i.value=s(u),i.done=u>=e,i)}}function rB(e,t){return t?e*(1e3/t):0}const N1e=5;function oB(e,t,n){const r=Math.max(t-N1e,0);return rB(n-e(r),t-r)}const Tw=.001,L1e=.01,qR=10,F1e=.05,B1e=1;function U1e({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;u1e(e<=Vi(qR));let a=1-t;a=sa(F1e,B1e,a),e=sa(L1e,qR,jo(e)),a<1?(o=l=>{const c=l*a,f=c*e,d=c-n,h=ES(l,a),m=Math.exp(-f);return Tw-d/h*m},i=l=>{const f=l*a*e,d=f*n+n,h=Math.pow(a,2)*Math.pow(l,2)*e,m=Math.exp(-f),p=ES(Math.pow(l,2),a);return(-o(l)+Tw>0?-1:1)*((d-h)*m)/p}):(o=l=>{const c=Math.exp(-l*e),f=(l-n)*e+1;return-Tw+c*f},i=l=>{const c=Math.exp(-l*e),f=(n-l)*(e*e);return c*f});const s=5/e,u=W1e(o,i,s);if(e=Vi(e),isNaN(u))return{stiffness:100,damping:10,duration:e};{const l=Math.pow(u,2)*r;return{stiffness:l,damping:a*2*Math.sqrt(r*l),duration:e}}}const V1e=12;function W1e(e,t,n){let r=n;for(let o=1;o<V1e;o++)r=r-e(r)/t(r);return r}function ES(e,t){return e*Math.sqrt(1-t*t)}const z1e=["duration","bounce"],K1e=["stiffness","damping","mass"];function GR(e,t){return t.some(n=>e[n]!==void 0)}function H1e(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!GR(e,K1e)&&GR(e,z1e)){const n=U1e(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function iB({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],a={done:!1,value:o},{stiffness:s,damping:u,mass:l,velocity:c,duration:f,isResolvedFromDuration:d}=H1e(r),h=c?-jo(c):0,m=u/(2*Math.sqrt(s*l)),p=i-o,b=jo(Math.sqrt(s/l)),v=Math.abs(p)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let y;if(m<1){const w=ES(b,m);y=_=>{const S=Math.exp(-m*b*_);return i-S*((h+m*b*p)/w*Math.sin(w*_)+p*Math.cos(w*_))}}else if(m===1)y=w=>i-Math.exp(-b*w)*(p+(h+b*p)*w);else{const w=b*Math.sqrt(m*m-1);y=_=>{const S=Math.exp(-m*b*_),E=Math.min(w*_,300);return i-S*((h+m*b*p)*Math.sinh(E)+w*p*Math.cosh(E))/w}}return{calculatedDuration:d&&f||null,next:w=>{const _=y(w);if(d)a.done=w>=f;else{let S=h;w!==0&&(m<1?S=oB(y,w,_):S=0);const E=Math.abs(S)<=n,x=Math.abs(i-_)<=t;a.done=E&&x}return a.value=a.done?i:_,a}}}function YR({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:a,min:s,max:u,restDelta:l=.5,restSpeed:c}){const f=e[0],d={done:!1,value:f},h=P=>s!==void 0&&P<s||u!==void 0&&P>u,m=P=>s===void 0?u:u===void 0||Math.abs(s-P)<Math.abs(u-P)?s:u;let p=n*t;const b=f+p,v=a===void 0?b:a(b);v!==b&&(p=v-f);const y=P=>-p*Math.exp(-P/r),w=P=>v+y(P),_=P=>{const O=y(P),T=w(P);d.done=Math.abs(O)<=l,d.value=d.done?v:T};let S,E;const x=P=>{h(d.value)&&(S=P,E=iB({keyframes:[d.value,m(d.value)],velocity:oB(w,P,d.value),damping:o,stiffness:i,restDelta:l,restSpeed:c}))};return x(0),{calculatedDuration:null,next:P=>{let O=!1;return!E&&S===void 0&&(O=!0,_(P),x(P)),S!==void 0&&P>S?E.next(P-S):(!O&&_(P),d)}}}const q1e=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Je.update(t,!0),stop:()=>Zo(t),now:()=>Xt.isProcessing?Xt.timestamp:performance.now()}},QR=2e4;function XR(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<QR;)t+=n,r=e.next(t);return t>=QR?1/0:t}const G1e={decay:YR,inertia:YR,tween:Av,keyframes:Av,spring:iB};function $v({autoplay:e=!0,delay:t=0,driver:n=q1e,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",onPlay:u,onStop:l,onComplete:c,onUpdate:f,...d}){let h=1,m=!1,p,b;const v=()=>{b=new Promise(F=>{p=F})};v();let y;const w=G1e[o]||Av;let _;w!==Av&&typeof r[0]!="number"&&(_=nB([0,100],r,{clamp:!1}),r=[0,100]);const S=w({...d,keyframes:r});let E;s==="mirror"&&(E=w({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let x="idle",P=null,O=null,T=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=XR(S));const{calculatedDuration:R}=S;let M=1/0,U=1/0;R!==null&&(M=R+a,U=M*(i+1)-a);let $=0;const L=F=>{if(O===null)return;h>0&&(O=Math.min(O,F)),h<0&&(O=Math.min(F-U/h,O)),P!==null?$=P:$=Math.round(F-O)*h;const W=$-t*(h>=0?1:-1),H=h>=0?W<0:W>U;$=Math.max(W,0),x==="finished"&&P===null&&($=U);let se=$,_e=S;if(i){const ht=$/M;let Be=Math.floor(ht),Ue=ht%1;!Ue&&ht>=1&&(Ue=1),Ue===1&&Be--,Be=Math.min(Be,i+1);const _t=!!(Be%2);_t&&(s==="reverse"?(Ue=1-Ue,a&&(Ue-=a/M)):s==="mirror"&&(_e=E));let jn=sa(0,1,Ue);$>U&&(jn=s==="reverse"&&_t?1:0),se=jn*M}const te=H?{done:!1,value:r[0]}:_e.next(se);_&&(te.value=_(te.value));let{done:de}=te;!H&&R!==null&&(de=h>=0?$>=U:$<=0);const wt=P===null&&(x==="finished"||x==="running"&&de);return f&&f(te.value),wt&&I(),te},N=()=>{y&&y.stop(),y=void 0},V=()=>{x="idle",N(),p(),v(),O=T=null},I=()=>{x="finished",c&&c(),N(),p()},A=()=>{if(m)return;y||(y=n(L));const F=y.now();u&&u(),P!==null?O=F-P:(!O||x==="finished")&&(O=F),x==="finished"&&v(),T=O,P=null,x="running",y.start()};e&&A();const D={then(F,W){return b.then(F,W)},get time(){return jo($)},set time(F){F=Vi(F),$=F,P!==null||!y||h===0?P=F:O=y.now()-F/h},get duration(){const F=S.calculatedDuration===null?XR(S):S.calculatedDuration;return jo(F)},get speed(){return h},set speed(F){F===h||!y||(h=F,D.time=jo($))},get state(){return x},play:A,pause:()=>{x="paused",P=$},stop:()=>{m=!0,x!=="idle"&&(x="idle",l&&l(),V())},cancel:()=>{T!==null&&L(T),V()},complete:()=>{x="finished"},sample:F=>(O=0,L(F))};return D}function Y1e(e){let t;return()=>(t===void 0&&(t=e()),t)}const Q1e=Y1e(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),X1e=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),xp=10,J1e=2e4,Z1e=(e,t)=>t.type==="spring"||e==="backgroundColor"||!j4(t.ease);function e_e(e,t,{onUpdate:n,onComplete:r,...o}){if(!(Q1e()&&X1e.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let a=!1,s,u;const l=()=>{u=new Promise(y=>{s=y})};l();let{keyframes:c,duration:f=300,ease:d,times:h}=o;if(Z1e(t,o)){const y=$v({...o,repeat:0,delay:0});let w={done:!1,value:c[0]};const _=[];let S=0;for(;!w.done&&S<J1e;)w=y.sample(S),_.push(w.value),S+=xp;h=void 0,c=_,f=S-xp,d="linear"}const m=c1e(e.owner.current,t,c,{...o,duration:f,ease:d,times:h}),p=()=>m.cancel(),b=()=>{Je.update(p),s(),l()};return m.onfinish=()=>{e.set(f1e(c,o)),r&&r(),b()},{then(y,w){return u.then(y,w)},attachTimeline(y){return m.timeline=y,m.onfinish=null,st},get time(){return jo(m.currentTime||0)},set time(y){m.currentTime=Vi(y)},get speed(){return m.playbackRate},set speed(y){m.playbackRate=y},get duration(){return jo(f)},play:()=>{a||(m.play(),Zo(p))},pause:()=>m.pause(),stop:()=>{if(a=!0,m.playState==="idle")return;const{currentTime:y}=m;if(y){const w=$v({...o,autoplay:!1});e.setWithVelocity(w.sample(y-xp).value,w.sample(y).value,xp)}b()},complete:()=>m.finish(),cancel:b}}function t_e({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:st,pause:st,stop:st,then:i=>(i(),Promise.resolve()),cancel:st,complete:st});return t?$v({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const n_e={type:"spring",stiffness:500,damping:25,restSpeed:10},r_e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),o_e={type:"keyframes",duration:.8},i_e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a_e=(e,{keyframes:t})=>t.length>2?o_e:Qs.has(e)?e.startsWith("scale")?r_e(t[1]):n_e:i_e,xS=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ua.test(t)||t==="0")&&!t.startsWith("url(")),s_e=new Set(["brightness","contrast","saturate","opacity"]);function u_e(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Lb)||[];if(!r)return e;const o=n.replace(r,"");let i=s_e.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const l_e=/([a-z-]*)\(.*?\)/g,PS={...ua,getAnimatableNone:e=>{const t=e.match(l_e);return t?t.map(u_e).join(" "):e}},c_e={...w4,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:PS,WebkitFilter:PS},LP=e=>c_e[e];function aB(e,t){let n=LP(e);return n!==PS&&(n=ua),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sB=e=>/^0[^.\s]+$/.test(e);function f_e(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||sB(e)}function d_e(e,t,n,r){const o=xS(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:e.get();let s;const u=[];for(let l=0;l<i.length;l++)i[l]===null&&(i[l]=l===0?a:i[l-1]),f_e(i[l])&&u.push(l),typeof i[l]=="string"&&i[l]!=="none"&&i[l]!=="0"&&(s=i[l]);if(o&&u.length&&s)for(let l=0;l<u.length;l++){const c=u[l];i[c]=aB(t,s)}return i}function h_e({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:a,repeatDelay:s,from:u,elapsed:l,...c}){return!!Object.keys(c).length}function FP(e,t){return e[t]||e.default||e}const BP=(e,t,n,r={})=>o=>{const i=FP(r,e)||{},a=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-Vi(a);const u=d_e(t,e,n,i),l=u[0],c=u[u.length-1],f=xS(e,l),d=xS(e,c);let h={keyframes:u,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:m=>{t.set(m),i.onUpdate&&i.onUpdate(m)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(h_e(i)||(h={...h,...a_e(e,h)}),h.duration&&(h.duration=Vi(h.duration)),h.repeatDelay&&(h.repeatDelay=Vi(h.repeatDelay)),!f||!d||l1e.current||i.type===!1)return t_e(h);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=e_e(t,e,h);if(m)return m}return $v(h)};function Tv(e){return!!(kn(e)&&e.add)}const uB=e=>/^\-?\d*\.?\d+$/.test(e);function UP(e,t){e.indexOf(t)===-1&&e.push(t)}function VP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class WP{constructor(){this.subscriptions=[]}add(t){return UP(this.subscriptions,t),()=>VP(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const p_e=e=>!isNaN(parseFloat(e));class m_e{constructor(t,n={}){this.version="10.16.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=Xt;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,Je.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Je.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=p_e(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new WP);const r=this.events[t].add(n);return t==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?rB(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xl(e,t){return new m_e(e,t)}const lB=e=>t=>t.test(e),v_e={test:e=>e==="auto",parse:e=>e},cB=[Xs,ce,oo,mi,Ewe,Swe,v_e],xc=e=>cB.find(lB(e)),g_e=[...cB,fn,ua],y_e=e=>g_e.find(lB(e));function b_e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xl(n))}function w_e(e,t){const n=Bb(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const s=Lwe(i[a]);b_e(e,a,s)}}function __e(e,t,n){var r,o;const i=Object.keys(t).filter(s=>!e.hasValue(s)),a=i.length;if(a)for(let s=0;s<a;s++){const u=i[s],l=t[u];let c=null;Array.isArray(l)&&(c=l[0]),c===null&&(c=(o=(r=n[u])!==null&&r!==void 0?r:e.readValue(u))!==null&&o!==void 0?o:t[u]),c!=null&&(typeof c=="string"&&(uB(c)||sB(c))?c=parseFloat(c):!y_e(c)&&ua.test(l)&&(c=aB(u,l)),e.addValue(u,xl(c,{owner:e})),n[u]===void 0&&(n[u]=c),c!==null&&e.setBaseTarget(u,c))}}function S_e(e,t){return t?(t[e]||t.default||t).from:void 0}function E_e(e,t,n){const r={};for(const o in e){const i=S_e(o,t);if(i!==void 0)r[o]=i;else{const a=n.getValue(o);a&&(r[o]=a.get())}}return r}function x_e({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function P_e(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function fB(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...s}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");r&&(i=r);const l=[],c=o&&e.animationState&&e.animationState.getState()[o];for(const f in s){const d=e.getValue(f),h=s[f];if(!d||h===void 0||c&&x_e(c,f))continue;const m={delay:n,elapsed:0,...FP(i||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[d4];if(v){const y=window.HandoffAppearAnimations(v,f,d,Je);y!==null&&(m.elapsed=y,m.isHandoff=!0)}}let p=!m.isHandoff&&!P_e(d,h);if(m.type==="spring"&&(d.getVelocity()||m.velocity)&&(p=!1),d.animation&&(p=!1),p)continue;d.start(BP(f,d,h,e.shouldReduceMotion&&Qs.has(f)?{type:!1}:m));const b=d.animation;Tv(u)&&(u.add(f),b.then(()=>u.remove(f))),l.push(b)}return a&&Promise.all(l).then(()=>{a&&w_e(e,a)}),l}function CS(e,t,n={}){const r=Bb(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(fB(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:l=0,staggerChildren:c,staggerDirection:f}=o;return C_e(e,t,l+u,c,f,n)}:()=>Promise.resolve(),{when:s}=o;if(s){const[u,l]=s==="beforeChildren"?[i,a]:[a,i];return u().then(()=>l())}else return Promise.all([i(),a(n.delay)])}function C_e(e,t,n=0,r=0,o=1,i){const a=[],s=(e.variantChildren.size-1)*r,u=o===1?(l=0)=>l*r:(l=0)=>s-l*r;return Array.from(e.variantChildren).sort(O_e).forEach((l,c)=>{l.notify("AnimationStart",t),a.push(CS(l,t,{...i,delay:n+u(c)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(a)}function O_e(e,t){return e.sortNodePosition(t)}function A_e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>CS(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=CS(e,t,n);else{const o=typeof t=="function"?Bb(e,t,n.custom):t;r=Promise.all(fB(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const $_e=[...PP].reverse(),T_e=PP.length;function R_e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>A_e(e,n,r)))}function k_e(e){let t=R_e(e);const n=I_e();let r=!0;const o=(u,l)=>{const c=Bb(e,l);if(c){const{transition:f,transitionEnd:d,...h}=c;u={...u,...h,...d}}return u};function i(u){t=u(e)}function a(u,l){const c=e.getProps(),f=e.getVariantContext(!0)||{},d=[],h=new Set;let m={},p=1/0;for(let v=0;v<T_e;v++){const y=$_e[v],w=n[y],_=c[y]!==void 0?c[y]:f[y],S=ed(_),E=y===l?w.isActive:null;E===!1&&(p=v);let x=_===f[y]&&_!==c[y]&&S;if(x&&r&&e.manuallyAnimateOnMount&&(x=!1),w.protectedKeys={...m},!w.isActive&&E===null||!_&&!w.prevProp||jb(_)||typeof _=="boolean")continue;const P=M_e(w.prevProp,_);let O=P||y===l&&w.isActive&&!x&&S||v>p&&S;const T=Array.isArray(_)?_:[_];let R=T.reduce(o,{});E===!1&&(R={});const{prevResolvedValues:M={}}=w,U={...M,...R},$=L=>{O=!0,h.delete(L),w.needsAnimating[L]=!0};for(const L in U){const N=R[L],V=M[L];m.hasOwnProperty(L)||(N!==V?Cv(N)&&Cv(V)?!I4(N,V)||P?$(L):w.protectedKeys[L]=!0:N!==void 0?$(L):h.add(L):N!==void 0&&h.has(L)?$(L):w.protectedKeys[L]=!0)}w.prevProp=_,w.prevResolvedValues=R,w.isActive&&(m={...m,...R}),r&&e.blockInitialAnimation&&(O=!1),O&&!x&&d.push(...T.map(L=>({animation:L,options:{type:y,...u}})))}if(h.size){const v={};h.forEach(y=>{const w=e.getBaseTarget(y);w!==void 0&&(v[y]=w)}),d.push({animation:v})}let b=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(d):Promise.resolve()}function s(u,l,c){var f;if(n[u].isActive===l)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(u,l)}),n[u].isActive=l;const d=a(c,u);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:s,setAnimateFunction:i,getState:()=>n}}function M_e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!I4(t,e):!1}function Ta(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function I_e(){return{animate:Ta(!0),whileInView:Ta(),whileHover:Ta(),whileTap:Ta(),whileDrag:Ta(),whileFocus:Ta(),exit:Ta()}}class D_e extends _a{constructor(t){super(t),t.animationState||(t.animationState=k_e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),jb(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let j_e=0;class N_e extends _a{constructor(){super(...arguments),this.id=j_e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const L_e={animation:{Feature:D_e},exit:{Feature:N_e}},JR=(e,t)=>Math.abs(e-t);function F_e(e,t){const n=JR(e.x,t.x),r=JR(e.y,t.y);return Math.sqrt(n**2+r**2)}class dB{constructor(t,n,{transformPagePoint:r,contextWindow:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=kw(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,d=F_e(c.offset,{x:0,y:0})>=3;if(!f&&!d)return;const{point:h}=c,{timestamp:m}=Xt;this.history.push({...h,timestamp:m});const{onStart:p,onMove:b}=this.handlers;f||(p&&p(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,c)},this.handlePointerMove=(c,f)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Rw(f,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(c,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:h}=this.handlers,m=kw(c.type==="pointercancel"?this.lastMoveEventInfo:Rw(f,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,m),h&&h(c,m)},!$4(t))return;this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=Fb(t),a=Rw(i,this.transformPagePoint),{point:s}=a,{timestamp:u}=Xt;this.history=[{...s,timestamp:u}];const{onSessionStart:l}=n;l&&l(t,kw(a,this.history)),this.removeListeners=Ui(Do(this.contextWindow,"pointermove",this.handlePointerMove),Do(this.contextWindow,"pointerup",this.handlePointerUp),Do(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zo(this.updatePoint)}}function Rw(e,t){return t?{point:t(e.point)}:e}function ZR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kw({point:e},t){return{point:e,delta:ZR(e,hB(t)),offset:ZR(e,B_e(t)),velocity:U_e(t,.1)}}function B_e(e){return e[0]}function hB(e){return e[e.length-1]}function U_e(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=hB(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Vi(t)));)n--;if(!r)return{x:0,y:0};const i=jo(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Qn(e){return e.max-e.min}function OS(e,t=0,n=.01){return Math.abs(e-t)<=n}function ek(e,t,n,r=.5){e.origin=r,e.originPoint=rt(t.min,t.max,e.origin),e.scale=Qn(n)/Qn(t),(OS(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=rt(n.min,n.max,e.origin)-e.originPoint,(OS(e.translate)||isNaN(e.translate))&&(e.translate=0)}function lf(e,t,n,r){ek(e.x,t.x,n.x,r?r.originX:void 0),ek(e.y,t.y,n.y,r?r.originY:void 0)}function tk(e,t,n){e.min=n.min+t.min,e.max=e.min+Qn(t)}function V_e(e,t,n){tk(e.x,t.x,n.x),tk(e.y,t.y,n.y)}function nk(e,t,n){e.min=t.min-n.min,e.max=e.min+Qn(t)}function cf(e,t,n){nk(e.x,t.x,n.x),nk(e.y,t.y,n.y)}function W_e(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?rt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?rt(n,e,r.max):Math.min(e,n)),e}function rk(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function z_e(e,{top:t,left:n,bottom:r,right:o}){return{x:rk(e.x,n,o),y:rk(e.y,t,r)}}function ok(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function K_e(e,t){return{x:ok(e.x,t.x),y:ok(e.y,t.y)}}function H_e(e,t){let n=.5;const r=Qn(e),o=Qn(t);return o>r?n=nd(t.min,t.max-r,e.min):r>o&&(n=nd(e.min,e.max-o,t.min)),sa(0,1,n)}function q_e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const AS=.35;function G_e(e=AS){return e===!1?e=0:e===!0&&(e=AS),{x:ik(e,"left","right"),y:ik(e,"top","bottom")}}function ik(e,t,n){return{min:ak(e,t),max:ak(e,n)}}function ak(e,t){return typeof e=="number"?e:e[t]||0}const sk=()=>({translate:0,scale:1,origin:0,originPoint:0}),ku=()=>({x:sk(),y:sk()}),uk=()=>({min:0,max:0}),pt=()=>({x:uk(),y:uk()});function Yr(e){return[e("x"),e("y")]}function pB({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Y_e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Q_e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Mw(e){return e===void 0||e===1}function $S({scale:e,scaleX:t,scaleY:n}){return!Mw(e)||!Mw(t)||!Mw(n)}function Da(e){return $S(e)||mB(e)||e.z||e.rotate||e.rotateX||e.rotateY}function mB(e){return lk(e.x)||lk(e.y)}function lk(e){return e&&e!=="0%"}function Rv(e,t,n){const r=e-n,o=t*r;return n+o}function ck(e,t,n,r,o){return o!==void 0&&(e=Rv(e,o,r)),Rv(e,n,r)+t}function TS(e,t=0,n=1,r,o){e.min=ck(e.min,t,n,r,o),e.max=ck(e.max,t,n,r,o)}function vB(e,{x:t,y:n}){TS(e.x,t.translate,t.scale,t.originPoint),TS(e.y,n.translate,n.scale,n.originPoint)}function X_e(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,a;for(let s=0;s<o;s++){i=n[s],a=i.projectionDelta;const u=i.instance;u&&u.style&&u.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,vB(e,a)),r&&Da(i.latestValues)&&Mu(e,i.latestValues))}t.x=fk(t.x),t.y=fk(t.y)}function fk(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Si(e,t){e.min=e.min+t,e.max=e.max+t}function dk(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,a=rt(e.min,e.max,i);TS(e,t[n],t[r],a,t.scale)}const J_e=["x","scaleX","originX"],Z_e=["y","scaleY","originY"];function Mu(e,t){dk(e.x,t,J_e),dk(e.y,t,Z_e)}function gB(e,t){return pB(Q_e(e.getBoundingClientRect(),t))}function eSe(e,t,n){const r=gB(e,n),{scroll:o}=t;return o&&(Si(r.x,o.offset.x),Si(r.y,o.offset.y)),r}const yB=({current:e})=>e?e.ownerDocument.defaultView:null,tSe=new WeakMap;class nSe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=u=>{this.stopAnimation(),n&&this.snapToCursor(Fb(u,"page").point)},i=(u,l)=>{const{drag:c,dragPropagation:f,onDragStart:d}=this.getProps();if(c&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=R4(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yr(m=>{let p=this.getAxisMotionValue(m).get()||0;if(oo.test(p)){const{projection:b}=this.visualElement;if(b&&b.layout){const v=b.layout.layoutBox[m];v&&(p=Qn(v)*(parseFloat(p)/100))}}this.originPoint[m]=p}),d&&Je.update(()=>d(u,l),!1,!0);const{animationState:h}=this.visualElement;h&&h.setActive("whileDrag",!0)},a=(u,l)=>{const{dragPropagation:c,dragDirectionLock:f,onDirectionLock:d,onDrag:h}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=l;if(f&&this.currentDirection===null){this.currentDirection=rSe(m),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",l.point,m),this.updateAxis("y",l.point,m),this.visualElement.render(),h&&h(u,l)},s=(u,l)=>this.stop(u,l);this.panSession=new dB(t,{onSessionStart:o,onStart:i,onMove:a,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:yB(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Je.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Pp(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=W_e(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Tu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=z_e(o.layoutBox,n):this.constraints=!1,this.elastic=G_e(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Yr(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=q_e(o.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Tu(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=eSe(r,o.root,this.visualElement.getTransformPagePoint());let a=K_e(o.layout.layoutBox,i);if(n){const s=n(Y_e(a));this.hasMutatedConstraints=!!s,s&&(a=pB(s))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),u=this.constraints||{},l=Yr(c=>{if(!Pp(c,n,this.currentDirection))return;let f=u&&u[c]||{};a&&(f={min:0,max:0});const d=o?200:1e6,h=o?40:1e7,m={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(c,m)});return Promise.all(l).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(BP(t,r,0,n))}stopAnimation(){Yr(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Yr(n=>{const{drag:r}=this.getProps();if(!Pp(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:a,max:s}=o.layout.layoutBox[n];i.set(t[n]-rt(a,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Tu(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Yr(a=>{const s=this.getAxisMotionValue(a);if(s){const u=s.get();o[a]=H_e({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yr(a=>{if(!Pp(a,t,null))return;const s=this.getAxisMotionValue(a),{min:u,max:l}=this.constraints[a];s.set(rt(u,l,o[a]))})}addListeners(){if(!this.visualElement.current)return;tSe.set(this.visualElement,this);const t=this.visualElement.current,n=Do(t,"pointerdown",u=>{const{drag:l,dragListener:c=!0}=this.getProps();l&&c&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Tu(u)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const a=Ao(window,"resize",()=>this.scalePositionWithinConstraints()),s=o.addEventListener("didUpdate",({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(Yr(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=u[c].translate,f.set(f.get()+u[c].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:a=AS,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:a,dragMomentum:s}}}function Pp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function rSe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class oSe extends _a{constructor(t){super(t),this.removeGroupControls=st,this.removeListeners=st,this.controls=new nSe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||st}unmount(){this.removeGroupControls(),this.removeListeners()}}const hk=e=>(t,n)=>{e&&Je.update(()=>e(t,n))};class iSe extends _a{constructor(){super(...arguments),this.removePointerDownListener=st}onPointerDown(t){this.session=new dB(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yB(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:hk(t),onStart:hk(n),onMove:r,onEnd:(i,a)=>{delete this.session,o&&Je.update(()=>o(i,a))}}}mount(){this.removePointerDownListener=Do(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function aSe(){const e=g.useContext(EP);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=g.useId();return g.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const sm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Pc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ce.test(e))e=parseFloat(e);else return e;const n=pk(e,t.target.x),r=pk(e,t.target.y);return`${n}% ${r}%`}},sSe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=ua.parse(e);if(o.length>5)return r;const i=ua.createTransformer(e),a=typeof o[0]!="number"?1:0,s=n.x.scale*t.x,u=n.y.scale*t.y;o[0+a]/=s,o[1+a]/=u;const l=rt(s,u,.5);return typeof o[2+a]=="number"&&(o[2+a]/=l),typeof o[3+a]=="number"&&(o[3+a]/=l),i(o)}};class uSe extends He.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;mwe(lSe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),sm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,o||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Je.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bB(e){const[t,n]=aSe(),r=g.useContext(p4);return He.createElement(uSe,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(m4),isPresent:t,safeToRemove:n})}const lSe={borderRadius:{...Pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pc,borderTopRightRadius:Pc,borderBottomLeftRadius:Pc,borderBottomRightRadius:Pc,boxShadow:sSe},wB=["TopLeft","TopRight","BottomLeft","BottomRight"],cSe=wB.length,mk=e=>typeof e=="string"?parseFloat(e):e,vk=e=>typeof e=="number"||ce.test(e);function fSe(e,t,n,r,o,i){o?(e.opacity=rt(0,n.opacity!==void 0?n.opacity:1,dSe(r)),e.opacityExit=rt(t.opacity!==void 0?t.opacity:1,0,hSe(r))):i&&(e.opacity=rt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<cSe;a++){const s=`border${wB[a]}Radius`;let u=gk(t,s),l=gk(n,s);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||vk(u)===vk(l)?(e[s]=Math.max(rt(mk(u),mk(l),r),0),(oo.test(l)||oo.test(u))&&(e[s]+="%")):e[s]=l}(t.rotate||n.rotate)&&(e.rotate=rt(t.rotate||0,n.rotate||0,r))}function gk(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const dSe=_B(0,.5,W4),hSe=_B(.5,.95,st);function _B(e,t,n){return r=>r<e?0:r>t?1:n(nd(e,t,r))}function yk(e,t){e.min=t.min,e.max=t.max}function rr(e,t){yk(e.x,t.x),yk(e.y,t.y)}function bk(e,t,n,r,o){return e-=t,e=Rv(e,1/n,r),o!==void 0&&(e=Rv(e,1/o,r)),e}function pSe(e,t=0,n=1,r=.5,o,i=e,a=e){if(oo.test(t)&&(t=parseFloat(t),t=rt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let s=rt(i.min,i.max,r);e===i&&(s-=t),e.min=bk(e.min,t,n,s,o),e.max=bk(e.max,t,n,s,o)}function wk(e,t,[n,r,o],i,a){pSe(e,t[n],t[r],t[o],t.scale,i,a)}const mSe=["x","scaleX","originX"],vSe=["y","scaleY","originY"];function _k(e,t,n,r){wk(e.x,t,mSe,n?n.x:void 0,r?r.x:void 0),wk(e.y,t,vSe,n?n.y:void 0,r?r.y:void 0)}function Sk(e){return e.translate===0&&e.scale===1}function SB(e){return Sk(e.x)&&Sk(e.y)}function gSe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function EB(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Ek(e){return Qn(e.x)/Qn(e.y)}class ySe{constructor(){this.members=[]}add(t){UP(this.members,t),t.scheduleRender()}remove(t){if(VP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xk(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:u,rotateX:l,rotateY:c}=n;u&&(r+=`rotate(${u}deg) `),l&&(r+=`rotateX(${l}deg) `),c&&(r+=`rotateY(${c}deg) `)}const a=e.x.scale*t.x,s=e.y.scale*t.y;return(a!==1||s!==1)&&(r+=`scale(${a}, ${s})`),r||"none"}const bSe=(e,t)=>e.depth-t.depth;class wSe{constructor(){this.children=[],this.isDirty=!1}add(t){UP(this.children,t),this.isDirty=!0}remove(t){VP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bSe),this.isDirty=!1,this.children.forEach(t)}}function _Se(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Zo(r),e(i-t))};return Je.read(r,!0),()=>Zo(r)}function SSe(e){window.MotionDebug&&window.MotionDebug.record(e)}function ESe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function xSe(e,t,n){const r=kn(e)?e:xl(e);return r.start(BP("",r,t,n)),r.animation}const Pk=["","X","Y","Z"],PSe={visibility:"hidden"},Ck=1e3;let CSe=0;const ja={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function xB({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(a={},s=t==null?void 0:t()){this.id=CSe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ja.totalNodes=ja.resolvedTargetDeltas=ja.recalculatedProjection=0,this.nodes.forEach($Se),this.nodes.forEach(ISe),this.nodes.forEach(DSe),this.nodes.forEach(TSe),SSe(ja)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new wSe)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new WP),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const u=this.eventHandlers.get(a);u&&u.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ESe(a),this.instance=a;const{layoutId:u,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(l||u)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=_Se(d,250),sm.hasAnimatedSinceResize&&(sm.hasAnimatedSinceResize=!1,this.nodes.forEach(Ak))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&c&&(u||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||BSe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!EB(this.targetLayout,m)||h,w=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const _={...FP(p,"layout"),onPlay:b,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else d||Ak(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jSe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:u}=this.options;if(s===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ok);return}this.isUpdating||this.nodes.forEach(kSe),this.isUpdating=!1,this.nodes.forEach(MSe),this.nodes.forEach(OSe),this.nodes.forEach(ASe),this.clearAllSnapshots();const s=performance.now();Xt.delta=sa(0,1e3/60,s-Xt.timestamp),Xt.timestamp=s,Xt.isProcessing=!0,Ew.update.process(Xt),Ew.preRender.process(Xt),Ew.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(RSe),this.sharedNodes.forEach(NSe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const a=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!SB(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;a&&(s||Da(this.latestValues)||c)&&(o(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let u=this.removeElementScroll(s);return a&&(u=this.removeTransform(u)),USe(u),{animationId:this.root.animationId,measuredBox:s,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return pt();const s=a.measureViewportBox(),{scroll:u}=this.root;return u&&(Si(s.x,u.offset.x),Si(s.y,u.offset.y)),s}removeElementScroll(a){const s=pt();rr(s,a);for(let u=0;u<this.path.length;u++){const l=this.path[u],{scroll:c,options:f}=l;if(l!==this.root&&c&&f.layoutScroll){if(c.isRoot){rr(s,a);const{scroll:d}=this.root;d&&(Si(s.x,-d.offset.x),Si(s.y,-d.offset.y))}Si(s.x,c.offset.x),Si(s.y,c.offset.y)}}return s}applyTransform(a,s=!1){const u=pt();rr(u,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Mu(u,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Da(c.latestValues)&&Mu(u,c.latestValues)}return Da(this.latestValues)&&Mu(u,this.latestValues),u}removeTransform(a){const s=pt();rr(s,a);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!Da(l.latestValues))continue;$S(l.latestValues)&&l.updateSnapshot();const c=pt(),f=l.measurePageBox();rr(c,f),_k(s,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Da(this.latestValues)&&_k(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var s;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==u;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),cf(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V_e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rr(this.target,this.layout.layoutBox),vB(this.target,this.targetDelta)):rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),cf(this.relativeTargetOrigin,this.target,h.target),rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ja.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$S(this.parent.latestValues)||mB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const s=this.getLead(),u=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(l=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;rr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;X_e(this.layoutCorrected,this.treeScale,this.path,u),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:m}=s;if(!m){this.projectionTransform&&(this.projectionDelta=ku(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ku(),this.projectionDeltaWithTransform=ku());const p=this.projectionTransform;lf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=xk(this.projectionDelta,this.treeScale),(this.projectionTransform!==p||this.treeScale.x!==d||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ja.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,s=!1){const u=this.snapshot,l=u?u.latestValues:{},c={...this.latestValues},f=ku();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const d=pt(),h=u?u.source:void 0,m=this.layout?this.layout.source:void 0,p=h!==m,b=this.getStack(),v=!b||b.members.length<=1,y=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(FSe));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const S=_/1e3;$k(f.x,a.x,S),$k(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cf(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LSe(this.relativeTarget,this.relativeTargetOrigin,d,S),w&&gSe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=pt()),rr(w,this.relativeTarget)),p&&(this.animationValues=c,fSe(c,l,this.latestValues,S,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{sm.hasAnimatedSinceResize=!0,this.currentAnimation=xSe(0,Ck,{...a,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ck),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:u,layout:l,latestValues:c}=a;if(!(!s||!u||!l)){if(this!==a&&this.layout&&l&&PB(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||pt();const f=Qn(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+f;const d=Qn(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+d}rr(s,u),Mu(s,c),lf(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ySe),this.sharedNodes.get(a).add(s);const l=s.options.initialPromotionConfig;s.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:u}=a;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(s=!0),!s)return;const l={};for(let c=0;c<Pk.length;c++){const f="rotate"+Pk[c];u[f]&&(l[f]=u[f],a.setStaticValue(f,0))}a.render();for(const c in l)a.setStaticValue(c,l[c]);a.scheduleRender()}getProjectionStyles(a){var s,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return PSe;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=am(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=am(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Da(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=xk(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:m}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,f.animationValues?l.opacity=f===this?(u=(s=d.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in xv){if(d[p]===void 0)continue;const{correct:b,applyTo:v}=xv[p],y=l.transform==="none"?d[p]:b(d[p],f);if(v){const w=v.length;for(let _=0;_<w;_++)l[v[_]]=y}else l[p]=y}return this.options.layoutId&&(l.pointerEvents=f===this?am(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(Ok),this.root.sharedNodes.clear()}}}function OSe(e){e.updateLayout()}function ASe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?Yr(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],h=Qn(d);d.min=r[f].min,d.max=d.min+h}):PB(i,n.layoutBox,r)&&Yr(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],h=Qn(r[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const s=ku();lf(s,r,n.layoutBox);const u=ku();a?lf(u,e.applyTransform(o,!0),n.measuredBox):lf(u,r,n.layoutBox);const l=!SB(s);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const m=pt();cf(m,n.layoutBox,d.layoutBox);const p=pt();cf(p,r,h.layoutBox),EB(m,p)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function $Se(e){ja.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function TSe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function RSe(e){e.clearSnapshot()}function Ok(e){e.clearMeasurements()}function kSe(e){e.isLayoutDirty=!1}function MSe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ak(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ISe(e){e.resolveTargetDelta()}function DSe(e){e.calcProjection()}function jSe(e){e.resetRotation()}function NSe(e){e.removeLeadSnapshot()}function $k(e,t,n){e.translate=rt(t.translate,0,n),e.scale=rt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Tk(e,t,n,r){e.min=rt(t.min,n.min,r),e.max=rt(t.max,n.max,r)}function LSe(e,t,n,r){Tk(e.x,t.x,n.x,r),Tk(e.y,t.y,n.y,r)}function FSe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const BSe={duration:.45,ease:[.4,0,.1,1]},Rk=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),kk=Rk("applewebkit/")&&!Rk("chrome/")?Math.round:st;function Mk(e){e.min=kk(e.min),e.max=kk(e.max)}function USe(e){Mk(e.x),Mk(e.y)}function PB(e,t,n){return e==="position"||e==="preserve-aspect"&&!OS(Ek(t),Ek(n),.2)}const VSe=xB({attachResizeListener:(e,t)=>Ao(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Iw={current:void 0},CB=xB({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Iw.current){const e=new VSe({});e.mount(window),e.setOptions({layoutScroll:!0}),Iw.current=e}return Iw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),WSe={pan:{Feature:iSe},drag:{Feature:oSe,ProjectionNode:CB,MeasureLayout:bB}},zSe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function KSe(e){const t=zSe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function RS(e,t,n=1){const[r,o]=KSe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return uB(a)?parseFloat(a):a}else return wS(o)?RS(o,t,n+1):o}function HSe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!wS(i))return;const a=RS(i,r);a&&o.set(a)});for(const o in t){const i=t[o];if(!wS(i))continue;const a=RS(i,r);a&&(t[o]=a,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const qSe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),OB=e=>qSe.has(e),GSe=e=>Object.keys(e).some(OB),Ik=e=>e===Xs||e===ce,Dk=(e,t)=>parseFloat(e.split(", ")[t]),jk=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Dk(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?Dk(i[1],e):0}},YSe=new Set(["x","y","z"]),QSe=Oh.filter(e=>!YSe.has(e));function XSe(e){const t=[];return QSe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Pl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:jk(4,13),y:jk(5,14)};Pl.translateX=Pl.x;Pl.translateY=Pl.y;const JSe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:a}=i,s={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(l=>{s[l]=Pl[l](r,i)}),t.render();const u=t.measureViewportBox();return n.forEach(l=>{const c=t.getValue(l);c&&c.jump(s[l]),e[l]=Pl[l](u,i)}),e},ZSe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(OB);let i=[],a=!1;const s=[];if(o.forEach(u=>{const l=e.getValue(u);if(!e.hasValue(u))return;let c=n[u],f=xc(c);const d=t[u];let h;if(Cv(d)){const m=d.length,p=d[0]===null?1:0;c=d[p],f=xc(c);for(let b=p;b<m&&d[b]!==null;b++)h?IP(xc(d[b])===h):h=xc(d[b])}else h=xc(d);if(f!==h)if(Ik(f)&&Ik(h)){const m=l.get();typeof m=="string"&&l.set(parseFloat(m)),typeof d=="string"?t[u]=parseFloat(d):Array.isArray(d)&&h===ce&&(t[u]=d.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(c===0||d===0)?c===0?l.set(h.transform(c)):t[u]=f.transform(d):(a||(i=XSe(e),a=!0),s.push(u),r[u]=r[u]!==void 0?r[u]:t[u],l.jump(d))}),s.length){const u=s.indexOf("height")>=0?window.pageYOffset:null,l=JSe(t,e,s);return i.length&&i.forEach(([c,f])=>{e.getValue(c).set(f)}),e.render(),Db&&u!==null&&window.scrollTo({top:u}),{target:l,transitionEnd:r}}else return{target:t,transitionEnd:r}};function eEe(e,t,n,r){return GSe(t)?ZSe(e,t,n,r):{target:t,transitionEnd:r}}const tEe=(e,t,n,r)=>{const o=HSe(e,t,r);return t=o.target,r=o.transitionEnd,eEe(e,t,n,r)},kS={current:null},AB={current:!1};function nEe(){if(AB.current=!0,!!Db)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kS.current=e.matches;e.addListener(t),t()}else kS.current=!1}function rEe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],a=n[o];if(kn(i))e.addValue(o,i),Tv(r)&&r.add(o);else if(kn(a))e.addValue(o,xl(i,{owner:e})),Tv(r)&&r.remove(o);else if(a!==i)if(e.hasValue(o)){const s=e.getValue(o);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(o);e.addValue(o,xl(s!==void 0?s:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const Nk=new WeakMap,$B=Object.keys(td),oEe=$B.length,Lk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],iEe=CP.length;class aEe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Je.render(this.render,!1,!0);const{latestValues:s,renderState:u}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.isControllingVariants=Nb(n),this.isVariantNode=h4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:l,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const d=c[f];s[f]!==void 0&&kn(d)&&(d.set(s[f],!1),Tv(l)&&l.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Nk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AB.current||nEe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Nk.delete(this.current),this.projection&&this.projection.unmount(),Zo(this.notifyUpdate),Zo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Qs.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Je.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let a,s;for(let u=0;u<oEe;u++){const l=$B[u],{isEnabled:c,Feature:f,ProjectionNode:d,MeasureLayout:h}=td[l];d&&(a=d),c(n)&&(!this.features[l]&&f&&(this.features[l]=new f(this)),h&&(s=h))}if(!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:l,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:h}=n;this.projection.setOptions({layoutId:u,layout:l,alwaysMeasureLayout:!!c||f&&Tu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:h})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Lk.length;r++){const o=Lk[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=rEe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<iEe;r++){const o=CP[r],i=this.props[o];(ed(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=xl(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=MP(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!kn(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new WP),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class TB extends aEe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let a=E_e(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),a&&(a=o(a))),i){__e(this,r,a);const s=tEe(this,r,a,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function sEe(e){return window.getComputedStyle(e)}class uEe extends TB{readValueFromInstance(t,n){if(Qs.has(n)){const r=LP(n);return r&&r.default||0}else{const r=sEe(t),o=(y4(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return gB(t,n)}build(t,n,r,o){AP(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return kP(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){x4(t,n,r,o)}}class lEe extends TB{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Qs.has(n)){const r=LP(n);return r&&r.default||0}return n=P4.has(n)?n:xP(n),t.getAttribute(n)}measureInstanceViewportBox(){return pt()}scrapeMotionValuesFromProps(t,n){return O4(t,n)}build(t,n,r,o){TP(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){C4(t,n,r,o)}mount(t){this.isSVGTag=RP(t.tagName),super.mount(t)}}const cEe=(e,t)=>OP(e)?new lEe(t,{enableHardwareAcceleration:!1}):new uEe(t,{enableHardwareAcceleration:!0}),fEe={layout:{ProjectionNode:CB,MeasureLayout:bB}},dEe={...L_e,...i1e,...WSe,...fEe},hEe=hwe((e,t)=>Hwe(e,t,dEe,cEe)),Fk=e=>Tue({collection:e,replicationIdentifier:"http://192.168.1.100:4000",live:!1,retryTime:5*1e3,waitForLeadership:!0,autoStart:!0,deletedField:"deleted",push:{async handler(t){const{data:n=[]}=await Lt("replication/push",{method:"POST",body:JSON.stringify({docs:t})});return n},batchSize:5},pull:{async handler(t,n){const r=(t==null?void 0:t.updatedAt)||0,{data:o=[]}=await Lt(`replication/pull?minUpdatedAt=${r}&limit=${n}`),i=o.at(-1),a=i?{id:i.id,updatedAt:i.updatedAt}:t||null;return{documents:o,checkpoint:a}},batchSize:10}}),pEe=e=>{const t=e.collections.cards,{user:{id:n}={}}=Cb();g.useEffect(()=>{t&&n&&Fk(t)},[t,n]),g.useEffect(()=>{if(!t||!n)return;const r=()=>document.visibilityState==="hidden"&&Fk(t);return document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)},[t,n])},mEe=()=>{const e=Mr.useRxDB();return pEe(e),null},Bk="lingo-cards-visited-before",vEe=()=>{const e=ln(),t=localStorage.getItem(Bk),n=!t&&!mv();return g.useEffect(()=>{if(t||localStorage.setItem(Bk,"true"),n)return e("/auth/login",{replace:!0})},[n]),n},gEe=()=>{const e=ln(),{result:t,isFetching:n}=Mr.useRxData("settings",o=>o.find({})),r=!t[0];g.useEffect(()=>{if(!n&&r)return e("/onboard",{replace:!0})},[n,r])},Dw=({Icon:e,label:t,to:n})=>C.jsx(NV,{className:"group flex w-0 grow flex-col items-center justify-center p-2 transition",to:n,children:({isActive:r})=>C.jsxs(C.Fragment,{children:[C.jsx(e,{className:r?"scale-125 stroke-black dark:stroke-white":"stroke-slate-500 font-medium transition group-hover:scale-125"}),C.jsx("span",{className:jt("text-xs",r?"font-bold":"text-slate-500"),children:t})]})}),yEe=()=>C.jsxs("nav",{className:"flex shrink-0 border-t border-t-slate-200 dark:border-slate-600",children:[C.jsx(Dw,{Icon:sde,label:"cards",to:"cards"}),C.jsx(Dw,{Icon:ade,label:"upsert",to:"upsert"}),C.jsx(Dw,{Icon:fde,label:"settings",to:"settings"})]}),bEe=({children:e})=>{const{pathname:t}=ha();return C.jsx(hEe.section,{animate:{opacity:1,y:0},className:"mx-auto flex w-full max-w-4xl grow flex-col justify-between gap-4 overflow-hidden p-2",initial:{opacity:0,y:10},children:e},t)},wEe=()=>{const e=vEe();return gEe(),e?null:C.jsxs(Xme,{children:[C.jsx(mEe,{}),C.jsxs("main",{className:"pb-safe flex flex-col justify-between gap-4 supports-[height:100cqh]:h-[100cqh] supports-[height:100svh]:h-[100svh]",children:[C.jsx(bEe,{children:C.jsx(ME,{})}),C.jsx(yEe,{})]})]})},_Ee=[{element:C.jsx(yce,{}),errorElement:C.jsx(IR,{}),children:[{element:C.jsx(fL,{}),children:[{path:"onboard",element:C.jsx(YF,{})},{path:"token-to-ls",element:C.jsx(twe,{})}]},{element:C.jsx(wEe,{}),children:[{errorElement:C.jsx(IR,{}),children:[{path:"cards",element:C.jsx(_de,{})},{path:"cards/finish",element:C.jsx(Sde,{})},{path:"upsert",element:C.jsx(ewe,{})},{path:"settings",...gve}]}]},{path:"auth",...jce},{path:"subscription",children:[{path:"",element:C.jsx(Eve,{})}]},{path:"privacy-policy",children:[{path:"",element:C.jsx(Ede,{})}]},{path:"*",element:C.jsx(nwe,{})}]}],SEe=OV(_Ee);jw.createRoot(document.getElementById("root")).render(C.jsx(g.StrictMode,{children:C.jsx(MV,{router:SEe})}));
